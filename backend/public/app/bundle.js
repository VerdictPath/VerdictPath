var __BUNDLE_START_TIME__=globalThis.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=globalThis.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(e){"use strict";e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(t.has(n))return;const i={dependencyMap:o,factory:e,hasError:!1,importedAll:r,importedDefault:r,isInitialized:!1,publicModule:{exports:{}}};t.set(n,i)},e.__c=o,e.__registerSegment=function(e,r,n){p[e]=r,n&&n.forEach(r=>{t.has(r)||h.has(r)||h.set(r,e)})};var t=o();const r={},{hasOwnProperty:n}={};function o(){return t=new Map}function i(e){const r=e,n=t.get(r);return n&&n.isInitialized?n.publicModule.exports:d(r,n)}function l(e){const n=e,o=t.get(n);if(o&&o.importedDefault!==r)return o.importedDefault;const l=i(n),u=l&&l.__esModule?l.default:l;return t.get(n).importedDefault=u}function u(e){const o=e,l=t.get(o);if(l&&l.importedAll!==r)return l.importedAll;const u=i(o);let c;if(u&&u.__esModule)c=u;else{if(c={},u)for(const e in u)n.call(u,e)&&(c[e]=u[e]);c.default=u}return t.get(o).importedAll=c}i.importDefault=l,i.importAll=u,i.context=function(){throw new Error("The experimental Metro feature `require.context` is not enabled in your project.")},i.resolveWeak=function(){throw new Error("require.resolveWeak cannot be called dynamically.")};let c=!1;function d(t,r){if(!c&&e.ErrorUtils){let n;c=!0;try{n=g(t,r)}catch(t){e.ErrorUtils.reportFatalError(t)}return c=!1,n}return g(t,r)}const a=16,s=65535;function f(e){return{segmentId:e>>>a,localId:e&s}}i.unpackModuleId=f,i.packModuleId=function(e){return(e.segmentId<<a)+e.localId};const p=[],h=new Map;function g(r,n){if(!n&&p.length>0){const e=h.get(r)??0,o=p[e];null!=o&&(o(r),n=t.get(r),h.delete(r))}const o=e.nativeRequire;if(!n&&o){const{segmentId:e,localId:i}=f(r);o(i,e),n=t.get(r)}if(!n)throw _(r);if(n.hasError)throw n.error;n.isInitialized=!0;const{factory:c,dependencyMap:d}=n;try{const t=n.publicModule;return t.id=r,c(e,i,l,u,t,t.exports,d),n.factory=void 0,n.dependencyMap=void 0,t.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}function _(e){return Error('Requiring unknown module "'+e+'".')}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(e){e.$$require_external=()=>null})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window;
!(function(r){let n=0,t=function(r,n){throw r};const l={setGlobalHandler(r){t=r},getGlobalHandler:()=>t,reportError(r){t&&t(r,!1)},reportFatalError(r){t&&t(r,!0)},applyWithGuard(r,t,e,o,a){try{return n++,r.apply(t,e)}catch(r){l.reportError(r)}finally{n--}return null},applyWithGuardIfNeeded:(r,n,t)=>l.inGuard()?r.apply(n,t):(l.applyWithGuard(r,n,t),null),inGuard:()=>!!n,guard(r,n,t){if('function'!=typeof r)return console.warn('A function must be passed to ErrorUtils.guard, got ',r),null;const e=n??r.name??'<generated guard>';return function(...n){return l.applyWithGuard(r,t??this,n,null,e)}}};r.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
__d(function(g,r,i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}var u=t(r(d[0])),e=t(r(d[1]));(0,u.default)(e.default)},0,[1,83]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}}),r(d[0]);var e,t=r(d[1]),n=(e=t)&&e.__esModule?e:{default:e};function o(e){let t=e;n.default.registerComponent('main',()=>t);{const e=document.getElementById('root');n.default.runApplication('main',{rootTag:e,hydrate:globalThis.__EXPO_ROUTER_HYDRATE__})}}r(d[2])},1,[2,3,82]);
__d(function(g,r,i,a,m,e,d){},2,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});t(r(d[0]));var e,n=t(r(d[1])),o=t(r(d[2])),p=r(d[3]),s=t(p),u={},l={},c=t=>t();class f{static getAppKeys(){return Object.keys(l)}static getApplication(t,e){return(0,n.default)(l[t]&&l[t].getApplication,"Application "+t+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),l[t].getApplication(e)}static registerComponent(t,n){return l[t]={getApplication:t=>(0,p.getApplication)(c(n),t?t.initialProps:u,e&&e(t)),run:t=>(0,s.default)(c(n),e&&e(t),t.callback,{hydrate:t.hydrate||!1,initialProps:t.initialProps||u,mode:t.mode||'concurrent',rootTag:t.rootTag})},t}static registerConfig(t){t.forEach(t=>{var e=t.appKey,o=t.component,p=t.run;p?f.registerRunnable(e,p):((0,n.default)(o,'No component provider passed in'),f.registerComponent(e,o))})}static registerRunnable(t,e){return l[t]={run:e},t}static runApplication(t,e){return(0,n.default)(l[t]&&l[t].run,"Application \""+t+"\" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),l[t].run(e)}static setComponentProviderInstrumentationHook(t){c=t}static setWrapperComponentProvider(t){e=t}static unmountApplicationComponentAtRootTag(t){(0,o.default)(t)}}},3,[4,9,10,17]);
__d(function(g,_r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}},4,[5]);
__d(function(g,_r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function u(e,t,u){return(t=(0,r.default)(t))in e?Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[t]=u,e}},5,[6]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1]));function n(e){var n=(0,u.default)(e,"string");return"symbol"==(0,t.default)(n)?n:n+""}},6,[7,8]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(o){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(o)}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},7,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return i}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function i(e,t){if("object"!=(0,r.default)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var u=i.call(e,t||"default");if("object"!=(0,r.default)(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},8,[7]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,o){for(var t=arguments.length,f=new Array(t>2?t-2:0),s=2;s<t;s++)f[s-2]=arguments[s];if(!n){var l;if(void 0===o)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;(l=new Error(o.replace(/%s/g,function(){return String(f[u++])}))).name='Invariant Violation'}throw l.framesToPop=1,l}}},9,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=r(d[0]).unmountComponentAtNode},10,[11]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function _(){if('undefined'!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&'function'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(_){console.error(_)}})(),m.exports=r(d[0])},11,[12]);
__d(function(_g,_r,i,_a,_m,_e,_d){
/**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
'use strict';var e=_r(_d[0]),n=_r(_d[1]);function t(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,l={};function a(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(l[e]=n,e=0;e<n.length;e++)r.add(n[e])}var o=!(void 0===window.document||void 0===window.document.createElement),s=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function p(e){return!!s.call(d,e)||!s.call(f,e)&&(c.test(e)?d[e]=!0:(f[e]=!0,!1))}function m(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function h(e,n,t,r){if(null==n||m(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function g(e,n,t,r,l,a,u){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=u}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];v[n]=new g(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,n,t,r){var l=v.hasOwnProperty(n)?v[n]:null;(null!==l?0!==l.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(h(n,t,l,r)&&(t=null),r||null===l?p(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):l.mustUseProperty?e[l.propertyName]=null===t?3!==l.type&&"":t:(n=l.attributeName,r=l.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(l=l.type)||4===l&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(y,b);v[n]=new g(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(y,b);v[n]=new g(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(y,b);v[n]=new g(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,U=Object.assign;function V(e){if(void 0===I)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||""}return"\n"+I+e}var A=!1;function B(e,n){if(!e||A)return"";A=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(n){if(n&&r&&"string"==typeof n.stack){for(var l=n.stack.split("\n"),a=r.stack.split("\n"),u=l.length-1,o=a.length-1;1<=u&&0<=o&&l[u]!==a[o];)o--;for(;1<=u&&0<=o;u--,o--)if(l[u]!==a[o]){if(1!==u||1!==o)do{if(u--,0>--o||l[u]!==a[o]){var s="\n"+l[u].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=u&&0<=o);break}}}finally{A=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?V(e):""}function H(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case z:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case _:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(n=e.displayName||null)?n:Q(e.type)||"Memo";case F:n=e._payload,e=e._init;try{return Q(e(n))}catch(e){}}return null}function W(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(n);case 8:return n===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function K(e){var n=$(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==t&&"function"==typeof t.get&&"function"==typeof t.set){var l=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function q(e){e._valueTracker||(e._valueTracker=K(e))}function Y(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function G(e,n){var t=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function Z(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=j(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function J(e,n){null!=(n=n.checked)&&k(e,"checked",n,!1)}function ee(e,n){J(e,n);var t=j(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?te(e,n.type,t):n.hasOwnProperty("defaultValue")&&te(e,n.type,j(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function ne(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function te(e,n,t){"number"===n&&X(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var re=Array.isArray;function le(e,n,t,r){if(e=e.options,n){n={};for(var l=0;l<t.length;l++)n["$"+t[l]]=!0;for(t=0;t<e.length;t++)l=n.hasOwnProperty("$"+e[t].value),e[t].selected!==l&&(e[t].selected=l),l&&r&&(e[t].defaultSelected=!0)}else{for(t=""+j(t),n=null,l=0;l<e.length;l++){if(e[l].value===t)return e[l].selected=!0,void(r&&(e[l].defaultSelected=!0));null!==n||e[l].disabled||(n=e[l])}null!==n&&(n.selected=!0)}}function ae(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(t(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,n){var r=n.value;if(null==r){if(r=n.children,n=n.defaultValue,null!=r){if(null!=n)throw Error(t(92));if(re(r)){if(1<r.length)throw Error(t(93));r=r[0]}n=r}null==n&&(n=""),r=n}e._wrapperState={initialValue:j(r)}}function oe(e,n){var t=j(n.value),r=j(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?se(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var fe,de,pe=(de=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction(function(){return de(e,n)})}:de);function me(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function ve(e,n,t){return null==n||"boolean"==typeof n||""===n?"":t||"number"!=typeof n||0===n||he.hasOwnProperty(e)&&he[e]?(""+n).trim():n+"px"}function ye(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),l=ve(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,l):e[t]=l}}Object.keys(he).forEach(function(e){ge.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),he[n]=he[e]})});var be=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,n){if(n){if(be[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(t(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(t(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(t(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(t(62))}}function we(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ce=null,ze=null;function Ne(e){if(e=Tl(e)){if("function"!=typeof Ee)throw Error(t(280));var n=e.stateNode;n&&(n=Fl(n),Ee(e.stateNode,e.type,n))}}function Pe(e){Ce?ze?ze.push(e):ze=[e]:Ce=e}function Le(){if(Ce){var e=Ce,n=ze;if(ze=Ce=null,Ne(e),n)for(e=0;e<n.length;e++)Ne(n[e])}}function Te(e,n){return e(n)}function Me(){}var Fe=!1;function Re(e,n,t){if(Fe)return e(n,t);Fe=!0;try{return Te(e,n,t)}finally{Fe=!1,(null!==Ce||null!==ze)&&(Me(),Le())}}function De(e,n){var r=e.stateNode;if(null===r)return null;var l=Fl(r);if(null===l)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(l=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!l;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(t(231,n,typeof r));return r}var Oe=!1;if(o)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Oe=!1}function Ue(e,n,t,r,l,a,u,o,s){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(e){this.onError(e)}}var Ve=!1,Ae=null,Be=!1,He=null,Qe={onError:function(e){Ve=!0,Ae=e}};function We(e,n,t,r,l,a,u,o,s){Ve=!1,Ae=null,Ue.apply(Qe,arguments)}function je(e,n,r,l,a,u,o,s,c){if(We.apply(this,arguments),Ve){if(!Ve)throw Error(t(198));var f=Ae;Ve=!1,Ae=null,Be||(Be=!0,He=f)}}function $e(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function Ke(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function qe(e){if($e(e)!==e)throw Error(t(188))}function Ye(e){var n=e.alternate;if(!n){if(null===(n=$e(e)))throw Error(t(188));return n!==e?null:e}for(var r=e,l=n;;){var a=r.return;if(null===a)break;var u=a.alternate;if(null===u){if(null!==(l=a.return)){r=l;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===r)return qe(a),e;if(u===l)return qe(a),n;u=u.sibling}throw Error(t(188))}if(r.return!==l.return)r=a,l=u;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,l=u;break}if(s===l){o=!0,l=a,r=u;break}s=s.sibling}if(!o){for(s=u.child;s;){if(s===r){o=!0,r=u,l=a;break}if(s===l){o=!0,l=u,r=a;break}s=s.sibling}if(!o)throw Error(t(189))}}if(r.alternate!==l)throw Error(t(190))}if(3!==r.tag)throw Error(t(188));return r.stateNode.current===r?e:n}function Xe(e){return null!==(e=Ye(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Ge(e);if(null!==n)return n;e=e.sibling}return null}var Ze=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,en=n.unstable_shouldYield,nn=n.unstable_requestPaint,tn=n.unstable_now,rn=n.unstable_getCurrentPriorityLevel,ln=n.unstable_ImmediatePriority,an=n.unstable_UserBlockingPriority,un=n.unstable_NormalPriority,on=n.unstable_LowPriority,sn=n.unstable_IdlePriority,cn=null,fn=null;function dn(e){if(fn&&"function"==typeof fn.onCommitFiberRoot)try{fn.onCommitFiberRoot(cn,e,void 0,!(128&~e.current.flags))}catch(e){}}var pn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(mn(e)/hn|0)|0},mn=Math.log,hn=Math.LN2;var gn=64,vn=4194304;function yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,u=268435455&t;if(0!==u){var o=u&~l;0!==o?r=yn(o):0!==(a&=u)&&(r=yn(a))}else 0!==(u=t&~l)?r=yn(u):0!==a&&(r=yn(a));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&l)&&((l=r&-r)>=(a=n&-n)||16===l&&4194240&a))return n;if(4&r&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)l=1<<(t=31-pn(n)),r|=e[t],n&=~l;return r}function kn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function wn(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-pn(a),o=1<<u,s=l[u];-1===s?0!==(o&t)&&0===(o&r)||(l[u]=kn(o,n)):s<=n&&(e.expiredLanes|=o),a&=~o}}function Sn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xn(){var e=gn;return!(4194240&(gn<<=1))&&(gn=64),e}function En(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Cn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-pn(n)]=t}function zn(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var l=31-pn(t),a=1<<l;n[l]=0,r[l]=-1,e[l]=-1,t&=~a}}function Nn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-pn(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}var Pn=0;function _n(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Ln,Tn,Mn,Fn,Rn,Dn=!1,On=[],In=null,Un=null,Vn=null,An=new Map,Bn=new Map,Hn=[],Qn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wn(e,n){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":An.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(n.pointerId)}}function jn(e,n,t,r,l,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},null!==n&&(null!==(n=Tl(n))&&Tn(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==l&&-1===n.indexOf(l)&&n.push(l),e)}function $n(e,n,t,r,l){switch(n){case"focusin":return In=jn(In,e,n,t,r,l),!0;case"dragenter":return Un=jn(Un,e,n,t,r,l),!0;case"mouseover":return Vn=jn(Vn,e,n,t,r,l),!0;case"pointerover":var a=l.pointerId;return An.set(a,jn(An.get(a)||null,e,n,t,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Bn.set(a,jn(Bn.get(a)||null,e,n,t,r,l)),!0}return!1}function Kn(e){var n=Ll(e.target);if(null!==n){var t=$e(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=Ke(t)))return e.blockedOn=n,void Rn(e.priority,function(){Mn(t)})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function qn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=at(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=Tl(t))&&Tn(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);Se=r,t.target.dispatchEvent(r),Se=null,n.shift()}return!0}function Yn(e,n,t){qn(e)&&t.delete(n)}function Xn(){Dn=!1,null!==In&&qn(In)&&(In=null),null!==Un&&qn(Un)&&(Un=null),null!==Vn&&qn(Vn)&&(Vn=null),An.forEach(Yn),Bn.forEach(Yn)}function Gn(e,t){e.blockedOn===t&&(e.blockedOn=null,Dn||(Dn=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Xn)))}function Zn(e){function n(n){return Gn(n,e)}if(0<On.length){Gn(On[0],e);for(var t=1;t<On.length;t++){var r=On[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==In&&Gn(In,e),null!==Un&&Gn(Un,e),null!==Vn&&Gn(Vn,e),An.forEach(n),Bn.forEach(n),t=0;t<Hn.length;t++)(r=Hn[t]).blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&null===(t=Hn[0]).blockedOn;)Kn(t),null===t.blockedOn&&Hn.shift()}var Jn=w.ReactCurrentBatchConfig,et=!0;function nt(e,n,t,r){var l=Pn,a=Jn.transition;Jn.transition=null;try{Pn=1,rt(e,n,t,r)}finally{Pn=l,Jn.transition=a}}function tt(e,n,t,r){var l=Pn,a=Jn.transition;Jn.transition=null;try{Pn=4,rt(e,n,t,r)}finally{Pn=l,Jn.transition=a}}function rt(e,n,t,r){if(et){var l=at(e,n,t,r);if(null===l)tl(e,n,r,lt,t),Wn(e,r);else if($n(l,e,n,t,r))r.stopPropagation();else if(Wn(e,r),4&n&&-1<Qn.indexOf(e)){for(;null!==l;){var a=Tl(l);if(null!==a&&Ln(a),null===(a=at(e,n,t,r))&&tl(e,n,r,lt,t),a===l)break;l=a}null!==l&&r.stopPropagation()}else tl(e,n,r,null,t)}}var lt=null;function at(e,n,t,r){if(lt=null,null!==(e=Ll(e=xe(r))))if(null===(n=$e(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=Ke(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return lt=e,null}function ut(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rn()){case ln:return 1;case an:return 4;case un:case on:return 16;case sn:return 536870912;default:return 16}default:return 16}}var ot=null,it=null,st=null;function ct(){if(st)return st;var e,n,t=it,r=t.length,l="value"in ot?ot.value:ot.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===l[a-n];n++);return st=l.slice(e,1<n?1-n:void 0)}function ft(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function dt(){return!0}function pt(){return!1}function mt(e){function n(n,t,r,l,a){for(var u in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=l,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?dt:pt,this.isPropagationStopped=pt,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dt)},persist:function(){},isPersistent:dt}),n}var ht,gt,vt,yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bt=mt(yt),kt=U({},yt,{view:0,detail:0}),wt=mt(kt),St=U({},kt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vt&&(vt&&"mousemove"===e.type?(ht=e.screenX-vt.screenX,gt=e.screenY-vt.screenY):gt=ht=0,vt=e),ht)},movementY:function(e){return"movementY"in e?e.movementY:gt}}),xt=mt(St),Et=mt(U({},St,{dataTransfer:0})),Ct=mt(U({},kt,{relatedTarget:0})),zt=mt(U({},yt,{animationName:0,elapsedTime:0,pseudoElement:0})),Nt=U({},yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pt=mt(Nt),_t=mt(U({},yt,{data:0})),Lt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ft(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=Mt[e])&&!!n[e]}function Rt(){return Ft}var Dt=U({},kt,{key:function(e){if(e.key){var n=Lt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=ft(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rt,charCode:function(e){return"keypress"===e.type?ft(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ft(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ot=mt(Dt),It=mt(U({},St,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ut=mt(U({},kt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rt})),Vt=mt(U({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0})),At=U({},St,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bt=mt(At),Ht=[9,13,27,32],Qt=o&&"CompositionEvent"in window,Wt=null;o&&"documentMode"in document&&(Wt=document.documentMode);var jt=o&&"TextEvent"in window&&!Wt,$t=o&&(!Qt||Wt&&8<Wt&&11>=Wt),Kt=String.fromCharCode(32),qt=!1;function Yt(e,n){switch(e){case"keyup":return-1!==Ht.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xt(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Gt=!1;function Zt(e,n){switch(e){case"compositionend":return Xt(n);case"keypress":return 32!==n.which?null:(qt=!0,Kt);case"textInput":return(e=n.data)===Kt&&qt?null:e;default:return null}}function Jt(e,n){if(Gt)return"compositionend"===e||!Qt&&Yt(e,n)?(e=ct(),st=it=ot=null,Gt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $t&&"ko"!==n.locale?null:n.data}}var er={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!er[e.type]:"textarea"===n}function tr(e,n,t,r){Pe(r),0<(n=ll(n,"onChange")).length&&(t=new bt("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var rr=null,lr=null;function ar(e){Xr(e,0)}function ur(e){if(Y(Ml(e)))return e}function or(e,n){if("change"===e)return n}var ir=!1;if(o){var sr;if(o){var cr="oninput"in document;if(!cr){var fr=document.createElement("div");fr.setAttribute("oninput","return;"),cr="function"==typeof fr.oninput}sr=cr}else sr=!1;ir=sr&&(!document.documentMode||9<document.documentMode)}function dr(){rr&&(rr.detachEvent("onpropertychange",pr),lr=rr=null)}function pr(e){if("value"===e.propertyName&&ur(lr)){var n=[];tr(n,lr,e,xe(e)),Re(ar,n)}}function mr(e,n,t){"focusin"===e?(dr(),lr=t,(rr=n).attachEvent("onpropertychange",pr)):"focusout"===e&&dr()}function hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ur(lr)}function gr(e,n){if("click"===e)return ur(n)}function vr(e,n){if("input"===e||"change"===e)return ur(n)}var yr="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function br(e,n){if(yr(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var l=t[r];if(!s.call(n,l)||!yr(e[l],n[l]))return!1}return!0}function kr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wr(e,n){var t,r=kr(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kr(r)}}function Sr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?Sr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function xr(){for(var e=window,n=X();n instanceof e.HTMLIFrameElement;){try{var t="string"==typeof n.contentWindow.location.href}catch(e){t=!1}if(!t)break;n=X((e=n.contentWindow).document)}return n}function Er(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function Cr(e){var n=xr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Sr(t.ownerDocument.documentElement,t)){if(null!==r&&Er(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var l=t.textContent.length,a=Math.min(r.start,l);r=void 0===r.end?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=wr(t,a);var u=wr(t,r);l&&u&&(1!==e.rangeCount||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&((n=n.createRange()).setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(n),e.extend(u.node,u.offset)):(n.setEnd(u.node,u.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zr=o&&"documentMode"in document&&11>=document.documentMode,Nr=null,Pr=null,Lr=null,Tr=!1;function Mr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;Tr||null==Nr||Nr!==X(r)||("selectionStart"in(r=Nr)&&Er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Lr&&br(Lr,r)||(Lr=r,0<(r=ll(Pr,"onSelect")).length&&(n=new bt("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Nr)))}function Fr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Rr={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionend:Fr("Transition","TransitionEnd")},Dr={},Or={};function Ir(e){if(Dr[e])return Dr[e];if(!Rr[e])return e;var n,t=Rr[e];for(n in t)if(t.hasOwnProperty(n)&&n in Or)return Dr[e]=t[n];return e}o&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);var Ur=Ir("animationend"),Vr=Ir("animationiteration"),Ar=Ir("animationstart"),Br=Ir("transitionend"),Hr=new Map,Qr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,n){Hr.set(e,n),a(n,[e])}for(var jr=0;jr<Qr.length;jr++){var $r=Qr[jr];Wr($r.toLowerCase(),"on"+($r[0].toUpperCase()+$r.slice(1)))}Wr(Ur,"onAnimationEnd"),Wr(Vr,"onAnimationIteration"),Wr(Ar,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(Br,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function Yr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,je(r,n,void 0,e),e.currentTarget=null}function Xr(e,n){n=!!(4&n);for(var t=0;t<e.length;t++){var r=e[t],l=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var u=r.length-1;0<=u;u--){var o=r[u],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==a&&l.isPropagationStopped())break e;Yr(l,o,c),a=s}else for(u=0;u<r.length;u++){if(s=(o=r[u]).instance,c=o.currentTarget,o=o.listener,s!==a&&l.isPropagationStopped())break e;Yr(l,o,c),a=s}}}if(Be)throw e=He,Be=!1,He=null,e}function Gr(e,n){var t=n[Nl];void 0===t&&(t=n[Nl]=new Set);var r=e+"__bubble";t.has(r)||(nl(n,e,2,!1),t.add(r))}function Zr(e,n,t){var r=0;n&&(r|=4),nl(t,e,r,n)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[Jr]){e[Jr]=!0,r.forEach(function(n){"selectionchange"!==n&&(qr.has(n)||Zr(n,!1,e),Zr(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Jr]||(n[Jr]=!0,Zr("selectionchange",!1,n))}}function nl(e,n,t,r){switch(ut(n)){case 1:var l=nt;break;case 4:l=tt;break;default:l=rt}t=l.bind(null,n,t,e),l=void 0,!Oe||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(l=!0),r?void 0!==l?e.addEventListener(n,t,{capture:!0,passive:l}):e.addEventListener(n,t,!0):void 0!==l?e.addEventListener(n,t,{passive:l}):e.addEventListener(n,t,!1)}function tl(e,n,t,r,l){var a=r;if(!(1&n||2&n||null===r))e:for(;;){if(null===r)return;var u=r.tag;if(3===u||4===u){var o=r.stateNode.containerInfo;if(o===l||8===o.nodeType&&o.parentNode===l)break;if(4===u)for(u=r.return;null!==u;){var s=u.tag;if((3===s||4===s)&&((s=u.stateNode.containerInfo)===l||8===s.nodeType&&s.parentNode===l))return;u=u.return}for(;null!==o;){if(null===(u=Ll(o)))return;if(5===(s=u.tag)||6===s){r=a=u;continue e}o=o.parentNode}}r=r.return}Re(function(){var r=a,l=xe(t),u=[];e:{var o=Hr.get(e);if(void 0!==o){var s=bt,c=e;switch(e){case"keypress":if(0===ft(t))break e;case"keydown":case"keyup":s=Ot;break;case"focusin":c="focus",s=Ct;break;case"focusout":c="blur",s=Ct;break;case"beforeblur":case"afterblur":s=Ct;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=Et;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Ut;break;case Ur:case Vr:case Ar:s=zt;break;case Br:s=Vt;break;case"scroll":s=wt;break;case"wheel":s=Bt;break;case"copy":case"cut":case"paste":s=Pt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=It}var f=!!(4&n),d=!f&&"scroll"===e,p=f?null!==o?o+"Capture":null:o;f=[];for(var m,h=r;null!==h;){var g=(m=h).stateNode;if(5===m.tag&&null!==g&&(m=g,null!==p&&(null!=(g=De(h,p))&&f.push(rl(h,g,m)))),d)break;h=h.return}0<f.length&&(o=new s(o,c,null,t,l),u.push({event:o,listeners:f}))}}if(!(7&n)){if(s="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||t===Se||!(c=t.relatedTarget||t.fromElement)||!Ll(c)&&!c[zl])&&(s||o)&&(o=l.window===l?l:(o=l.ownerDocument)?o.defaultView||o.parentWindow:window,s?(s=r,null!==(c=(c=t.relatedTarget||t.toElement)?Ll(c):null)&&(c!==(d=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(f=xt,g="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(f=It,g="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==s?o:Ml(s),m=null==c?o:Ml(c),(o=new f(g,h+"leave",s,t,l)).target=d,o.relatedTarget=m,g=null,Ll(l)===r&&((f=new f(p,h+"enter",c,t,l)).target=m,f.relatedTarget=d,g=f),d=g,s&&c)e:{for(p=c,h=0,m=f=s;m;m=al(m))h++;for(m=0,g=p;g;g=al(g))m++;for(;0<h-m;)f=al(f),h--;for(;0<m-h;)p=al(p),m--;for(;h--;){if(f===p||null!==p&&f===p.alternate)break e;f=al(f),p=al(p)}f=null}else f=null;null!==s&&ul(u,o,s,f,!1),null!==c&&null!==d&&ul(u,d,c,f,!0)}if("select"===(s=(o=r?Ml(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===s&&"file"===o.type)var v=or;else if(nr(o))if(ir)v=vr;else{v=hr;var y=mr}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=gr);switch(v&&(v=v(e,r))?tr(u,v,t,l):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&te(o,"number",o.value)),y=r?Ml(r):window,e){case"focusin":(nr(y)||"true"===y.contentEditable)&&(Nr=y,Pr=r,Lr=null);break;case"focusout":Lr=Pr=Nr=null;break;case"mousedown":Tr=!0;break;case"contextmenu":case"mouseup":case"dragend":Tr=!1,Mr(u,t,l);break;case"selectionchange":if(zr)break;case"keydown":case"keyup":Mr(u,t,l)}var b;if(Qt)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gt?Yt(e,t)&&(k="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(k="onCompositionStart");k&&($t&&"ko"!==t.locale&&(Gt||"onCompositionStart"!==k?"onCompositionEnd"===k&&Gt&&(b=ct()):(it="value"in(ot=l)?ot.value:ot.textContent,Gt=!0)),0<(y=ll(r,k)).length&&(k=new _t(k,e,null,t,l),u.push({event:k,listeners:y}),b?k.data=b:null!==(b=Xt(t))&&(k.data=b))),(b=jt?Zt(e,t):Jt(e,t))&&(0<(r=ll(r,"onBeforeInput")).length&&(l=new _t("onBeforeInput","beforeinput",null,t,l),u.push({event:l,listeners:r}),l.data=b))}Xr(u,n)})}function rl(e,n,t){return{instance:e,listener:n,currentTarget:t}}function ll(e,n){for(var t=n+"Capture",r=[];null!==e;){var l=e,a=l.stateNode;5===l.tag&&null!==a&&(l=a,null!=(a=De(e,t))&&r.unshift(rl(e,a,l)),null!=(a=De(e,n))&&r.push(rl(e,a,l))),e=e.return}return r}function al(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ul(e,n,t,r,l){for(var a=n._reactName,u=[];null!==t&&t!==r;){var o=t,s=o.alternate,c=o.stateNode;if(null!==s&&s===r)break;5===o.tag&&null!==c&&(o=c,l?null!=(s=De(t,a))&&u.unshift(rl(t,s,o)):l||null!=(s=De(t,a))&&u.push(rl(t,s,o))),t=t.return}0!==u.length&&e.push({event:n,listeners:u})}var ol=/\r\n?/g,il=/\u0000|\uFFFD/g;function sl(e){return("string"==typeof e?e:""+e).replace(ol,"\n").replace(il,"")}function cl(e,n,r){if(n=sl(n),sl(e)!==n&&r)throw Error(t(425))}function fl(){}var dl=null,pl=null;function ml(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var hl="function"==typeof setTimeout?setTimeout:void 0,gl="function"==typeof clearTimeout?clearTimeout:void 0,vl="function"==typeof Promise?Promise:void 0,yl="function"==typeof queueMicrotask?queueMicrotask:void 0!==vl?function(e){return vl.resolve(null).then(e).catch(bl)}:hl;function bl(e){setTimeout(function(){throw e})}function kl(e,n){var t=n,r=0;do{var l=t.nextSibling;if(e.removeChild(t),l&&8===l.nodeType)if("/$"===(t=l.data)){if(0===r)return e.removeChild(l),void Zn(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=l}while(t);Zn(n)}function wl(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function Sl(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var xl=Math.random().toString(36).slice(2),El="__reactFiber$"+xl,Cl="__reactProps$"+xl,zl="__reactContainer$"+xl,Nl="__reactEvents$"+xl,Pl="__reactListeners$"+xl,_l="__reactHandles$"+xl;function Ll(e){var n=e[El];if(n)return n;for(var t=e.parentNode;t;){if(n=t[zl]||t[El]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=Sl(e);null!==e;){if(t=e[El])return t;e=Sl(e)}return n}t=(e=t).parentNode}return null}function Tl(e){return!(e=e[El]||e[zl])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ml(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(t(33))}function Fl(e){return e[Cl]||null}var Rl=[],Dl=-1;function Ol(e){return{current:e}}function Il(e){0>Dl||(e.current=Rl[Dl],Rl[Dl]=null,Dl--)}function Ul(e,n){Dl++,Rl[Dl]=e.current,e.current=n}var Vl={},Al=Ol(Vl),Bl=Ol(!1),Hl=Vl;function Ql(e,n){var t=e.type.contextTypes;if(!t)return Vl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in t)a[l]=n[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wl(e){return null!=(e=e.childContextTypes)}function jl(){Il(Bl),Il(Al)}function $l(e,n,r){if(Al.current!==Vl)throw Error(t(168));Ul(Al,n),Ul(Bl,r)}function Kl(e,n,r){var l=e.stateNode;if(n=n.childContextTypes,"function"!=typeof l.getChildContext)return r;for(var a in l=l.getChildContext())if(!(a in n))throw Error(t(108,W(e)||"Unknown",a));return U({},r,l)}function ql(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vl,Hl=Al.current,Ul(Al,e),Ul(Bl,Bl.current),!0}function Yl(e,n,r){var l=e.stateNode;if(!l)throw Error(t(169));r?(e=Kl(e,n,Hl),l.__reactInternalMemoizedMergedChildContext=e,Il(Bl),Il(Al),Ul(Al,e)):Il(Bl),Ul(Bl,r)}var Xl=null,Gl=!1,Zl=!1;function Jl(e){null===Xl?Xl=[e]:Xl.push(e)}function ea(e){Gl=!0,Jl(e)}function na(){if(!Zl&&null!==Xl){Zl=!0;var e=0,n=Pn;try{var t=Xl;for(Pn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}Xl=null,Gl=!1}catch(n){throw null!==Xl&&(Xl=Xl.slice(e+1)),Ze(ln,na),n}finally{Pn=n,Zl=!1}}return null}var ta=[],ra=0,la=null,aa=0,ua=[],oa=0,ia=null,sa=1,ca="";function fa(e,n){ta[ra++]=aa,ta[ra++]=la,la=e,aa=n}function da(e,n,t){ua[oa++]=sa,ua[oa++]=ca,ua[oa++]=ia,ia=e;var r=sa;e=ca;var l=32-pn(r)-1;r&=~(1<<l),t+=1;var a=32-pn(n)+l;if(30<a){var u=l-l%5;a=(r&(1<<u)-1).toString(32),r>>=u,l-=u,sa=1<<32-pn(n)+l|t<<l|r,ca=a+e}else sa=1<<a|t<<l|r,ca=e}function pa(e){null!==e.return&&(fa(e,1),da(e,1,0))}function ma(e){for(;e===la;)la=ta[--ra],ta[ra]=null,aa=ta[--ra],ta[ra]=null;for(;e===ia;)ia=ua[--oa],ua[oa]=null,ca=ua[--oa],ua[oa]=null,sa=ua[--oa],ua[oa]=null}var ha=null,ga=null,va=!1,ya=null;function ba(e,n){var t=Xs(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function ka(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ha=e,ga=wl(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ha=e,ga=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==ia?{id:sa,overflow:ca}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Xs(18,null,null,0)).stateNode=n,t.return=e,e.child=t,ha=e,ga=null,!0);default:return!1}}function wa(e){return!(!(1&e.mode)||128&e.flags)}function Sa(e){if(va){var n=ga;if(n){var r=n;if(!ka(e,n)){if(wa(e))throw Error(t(418));n=wl(r.nextSibling);var l=ha;n&&ka(e,n)?ba(l,r):(e.flags=-4097&e.flags|2,va=!1,ha=e)}}else{if(wa(e))throw Error(t(418));e.flags=-4097&e.flags|2,va=!1,ha=e}}}function xa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ha=e}function Ea(e){if(e!==ha)return!1;if(!va)return xa(e),va=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!ml(e.type,e.memoizedProps)),n&&(n=ga)){if(wa(e))throw Ca(),Error(t(418));for(;n;)ba(e,n),n=wl(n.nextSibling)}if(xa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(t(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===n){ga=wl(e.nextSibling);break e}n--}else"$"!==r&&"$!"!==r&&"$?"!==r||n++}e=e.nextSibling}ga=null}}else ga=ha?wl(e.stateNode.nextSibling):null;return!0}function Ca(){for(var e=ga;e;)e=wl(e.nextSibling)}function za(){ga=ha=null,va=!1}function Na(e){null===ya?ya=[e]:ya.push(e)}var Pa=w.ReactCurrentBatchConfig;function La(e,n,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(t(309));var l=r.stateNode}if(!l)throw Error(t(147,e));var a=l,u=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===u?n.ref:(n=function(e){var n=a.refs;null===e?delete n[u]:n[u]=e},n._stringRef=u,n)}if("string"!=typeof e)throw Error(t(284));if(!r._owner)throw Error(t(290,e))}return e}function Ta(e,n){throw e=Object.prototype.toString.call(n),Error(t(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ma(e){return(0,e._init)(e._payload)}function Fa(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function r(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function l(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function a(e,n){return(e=Js(e,n)).index=0,e.sibling=null,e}function u(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function o(n){return e&&null===n.alternate&&(n.flags|=2),n}function s(e,n,t,r){return null===n||6!==n.tag?((n=rc(t,e.mode,r)).return=e,n):((n=a(n,t)).return=e,n)}function c(e,n,t,r){var l=t.type;return l===E?d(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===F&&Ma(l)===n.type)?((r=a(n,t.props)).ref=La(e,n,t),r.return=e,r):((r=ec(t.type,t.key,t.props,null,e.mode,r)).ref=La(e,n,t),r.return=e,r)}function f(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=lc(t,e.mode,r)).return=e,n):((n=a(n,t.children||[])).return=e,n)}function d(e,n,t,r,l){return null===n||7!==n.tag?((n=nc(t,e.mode,r,l)).return=e,n):((n=a(n,t)).return=e,n)}function p(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=rc(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return(t=ec(n.type,n.key,n.props,null,e.mode,t)).ref=La(e,null,n),t.return=e,t;case x:return(n=lc(n,e.mode,t)).return=e,n;case F:return p(e,(0,n._init)(n._payload),t)}if(re(n)||O(n))return(n=nc(n,e.mode,t,null)).return=e,n;Ta(e,n)}return null}function m(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t)return null!==l?null:s(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return t.key===l?c(e,n,t,r):null;case x:return t.key===l?f(e,n,t,r):null;case F:return m(e,n,(l=t._init)(t._payload),r)}if(re(t)||O(t))return null!==l?null:d(e,n,t,r,null);Ta(e,t)}return null}function h(e,n,t,r,l){if("string"==typeof r&&""!==r||"number"==typeof r)return s(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return c(n,e=e.get(null===r.key?t:r.key)||null,r,l);case x:return f(n,e=e.get(null===r.key?t:r.key)||null,r,l);case F:return h(e,n,t,(0,r._init)(r._payload),l)}if(re(r)||O(r))return d(n,e=e.get(t)||null,r,l,null);Ta(n,r)}return null}function g(t,a,o,s){for(var c=null,f=null,d=a,g=a=0,v=null;null!==d&&g<o.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var y=m(t,d,o[g],s);if(null===y){null===d&&(d=v);break}e&&d&&null===y.alternate&&n(t,d),a=u(y,a,g),null===f?c=y:f.sibling=y,f=y,d=v}if(g===o.length)return r(t,d),va&&fa(t,g),c;if(null===d){for(;g<o.length;g++)null!==(d=p(t,o[g],s))&&(a=u(d,a,g),null===f?c=d:f.sibling=d,f=d);return va&&fa(t,g),c}for(d=l(t,d);g<o.length;g++)null!==(v=h(d,t,g,o[g],s))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),a=u(v,a,g),null===f?c=v:f.sibling=v,f=v);return e&&d.forEach(function(e){return n(t,e)}),va&&fa(t,g),c}function v(a,o,s,c){var f=O(s);if("function"!=typeof f)throw Error(t(150));if(null==(s=f.call(s)))throw Error(t(151));for(var d=f=null,g=o,v=o=0,y=null,b=s.next();null!==g&&!b.done;v++,b=s.next()){g.index>v?(y=g,g=null):y=g.sibling;var k=m(a,g,b.value,c);if(null===k){null===g&&(g=y);break}e&&g&&null===k.alternate&&n(a,g),o=u(k,o,v),null===d?f=k:d.sibling=k,d=k,g=y}if(b.done)return r(a,g),va&&fa(a,v),f;if(null===g){for(;!b.done;v++,b=s.next())null!==(b=p(a,b.value,c))&&(o=u(b,o,v),null===d?f=b:d.sibling=b,d=b);return va&&fa(a,v),f}for(g=l(a,g);!b.done;v++,b=s.next())null!==(b=h(g,a,v,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?v:b.key),o=u(b,o,v),null===d?f=b:d.sibling=b,d=b);return e&&g.forEach(function(e){return n(a,e)}),va&&fa(a,v),f}return function e(t,l,u,s){if("object"==typeof u&&null!==u&&u.type===E&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case S:e:{for(var c=u.key,f=l;null!==f;){if(f.key===c){if((c=u.type)===E){if(7===f.tag){r(t,f.sibling),(l=a(f,u.props.children)).return=t,t=l;break e}}else if(f.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===F&&Ma(c)===f.type){r(t,f.sibling),(l=a(f,u.props)).ref=La(t,f,u),l.return=t,t=l;break e}r(t,f);break}n(t,f),f=f.sibling}u.type===E?((l=nc(u.props.children,t.mode,s,u.key)).return=t,t=l):((s=ec(u.type,u.key,u.props,null,t.mode,s)).ref=La(t,l,u),s.return=t,t=s)}return o(t);case x:e:{for(f=u.key;null!==l;){if(l.key===f){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){r(t,l.sibling),(l=a(l,u.children||[])).return=t,t=l;break e}r(t,l);break}n(t,l),l=l.sibling}(l=lc(u,t.mode,s)).return=t,t=l}return o(t);case F:return e(t,l,(f=u._init)(u._payload),s)}if(re(u))return g(t,l,u,s);if(O(u))return v(t,l,u,s);Ta(t,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==l&&6===l.tag?(r(t,l.sibling),(l=a(l,u)).return=t,t=l):(r(t,l),(l=rc(u,t.mode,s)).return=t,t=l),o(t)):r(t,l)}}var Ra=Fa(!0),Da=Fa(!1),Oa=Ol(null),Ia=null,Ua=null,Va=null;function Aa(){Va=Ua=Ia=null}function Ba(e){var n=Oa.current;Il(Oa),e._currentValue=n}function Ha(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Qa(e,n){Ia=e,Va=Ua=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(Fo=!0),e.firstContext=null)}function Wa(e){var n=e._currentValue;if(Va!==e)if(e={context:e,memoizedValue:n,next:null},null===Ua){if(null===Ia)throw Error(t(308));Ua=e,Ia.dependencies={lanes:0,firstContext:e}}else Ua=Ua.next=e;return n}var ja=null;function $a(e){null===ja?ja=[e]:ja.push(e)}function Ka(e,n,t,r){var l=n.interleaved;return null===l?(t.next=t,$a(n)):(t.next=l.next,l.next=t),n.interleaved=t,qa(e,r)}function qa(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Ya=!1;function Xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ga(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Za(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ja(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ji){var l=r.pending;return null===l?n.next=n:(n.next=l.next,l.next=n),r.pending=n,qa(e,t)}return null===(l=r.interleaved)?(n.next=n,$a(r)):(n.next=l.next,l.next=n),r.interleaved=n,qa(e,t)}function eu(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Nn(e,t)}}function nu(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var u={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?l=a=u:a=a.next=u,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function tu(e,n,t,r){var l=e.updateQueue;Ya=!1;var a=l.firstBaseUpdate,u=l.lastBaseUpdate,o=l.shared.pending;if(null!==o){l.shared.pending=null;var s=o,c=s.next;s.next=null,null===u?a=c:u.next=c,u=s;var f=e.alternate;null!==f&&((o=(f=f.updateQueue).lastBaseUpdate)!==u&&(null===o?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=s))}if(null!==a){var d=l.baseState;for(u=0,f=c=s=null,o=a;;){var p=o.lane,m=o.eventTime;if((r&p)===p){null!==f&&(f=f.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,g=o;switch(p=n,m=t,g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(m,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=g.payload)?h.call(m,d,p):h))break e;d=U({},d,p);break e;case 2:Ya=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=l.effects)?l.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=m,s=d):f=f.next=m,u|=p;if(null===(o=o.next)){if(null===(o=l.shared.pending))break;o=(p=o).next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}if(null===f&&(s=d),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=f,null!==(n=l.shared.interleaved)){l=n;do{u|=l.lane,l=l.next}while(l!==n)}else null===a&&(l.shared.lanes=0);Ji|=u,e.lanes=u,e.memoizedState=d}}function ru(e,n,r){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(null!==a){if(l.callback=null,l=r,"function"!=typeof a)throw Error(t(191,a));a.call(l)}}}var lu={},au=Ol(lu),uu=Ol(lu),ou=Ol(lu);function iu(e){if(e===lu)throw Error(t(174));return e}function su(e,n){switch(Ul(ou,n),Ul(uu,e),Ul(au,lu),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ce(null,"");break;default:n=ce(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Il(au),Ul(au,n)}function cu(){Il(au),Il(uu),Il(ou)}function fu(e){iu(ou.current);var n=iu(au.current),t=ce(n,e.type);n!==t&&(Ul(uu,e),Ul(au,t))}function du(e){uu.current===e&&(Il(au),Il(uu))}var pu=Ol(0);function mu(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hu=[];function gu(){for(var e=0;e<hu.length;e++)hu[e]._workInProgressVersionPrimary=null;hu.length=0}var vu=w.ReactCurrentDispatcher,yu=w.ReactCurrentBatchConfig,bu=0,ku=null,wu=null,Su=null,xu=!1,Eu=!1,Cu=0,zu=0;function Nu(){throw Error(t(321))}function Pu(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!yr(e[t],n[t]))return!1;return!0}function _u(e,n,r,l,a,u){if(bu=u,ku=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,vu.current=null===e||null===e.memoizedState?po:mo,e=r(l,a),Eu){u=0;do{if(Eu=!1,Cu=0,25<=u)throw Error(t(301));u+=1,Su=wu=null,n.updateQueue=null,vu.current=ho,e=r(l,a)}while(Eu)}if(vu.current=fo,n=null!==wu&&null!==wu.next,bu=0,Su=wu=ku=null,xu=!1,n)throw Error(t(300));return e}function Lu(){var e=0!==Cu;return Cu=0,e}function Tu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Su?ku.memoizedState=Su=e:Su=Su.next=e,Su}function Mu(){if(null===wu){var e=ku.alternate;e=null!==e?e.memoizedState:null}else e=wu.next;var n=null===Su?ku.memoizedState:Su.next;if(null!==n)Su=n,wu=e;else{if(null===e)throw Error(t(310));e={memoizedState:(wu=e).memoizedState,baseState:wu.baseState,baseQueue:wu.baseQueue,queue:wu.queue,next:null},null===Su?ku.memoizedState=Su=e:Su=Su.next=e}return Su}function Fu(e,n){return"function"==typeof n?n(e):n}function Ru(e){var n=Mu(),r=n.queue;if(null===r)throw Error(t(311));r.lastRenderedReducer=e;var l=wu,a=l.baseQueue,u=r.pending;if(null!==u){if(null!==a){var o=a.next;a.next=u.next,u.next=o}l.baseQueue=a=u,r.pending=null}if(null!==a){u=a.next,l=l.baseState;var s=o=null,c=null,f=u;do{var d=f.lane;if((bu&d)===d)null!==c&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),l=f.hasEagerState?f.eagerState:e(l,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};null===c?(s=c=p,o=l):c=c.next=p,ku.lanes|=d,Ji|=d}f=f.next}while(null!==f&&f!==u);null===c?o=l:c.next=s,yr(l,n.memoizedState)||(Fo=!0),n.memoizedState=l,n.baseState=o,n.baseQueue=c,r.lastRenderedState=l}if(null!==(e=r.interleaved)){a=e;do{u=a.lane,ku.lanes|=u,Ji|=u,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Du(e){var n=Mu(),r=n.queue;if(null===r)throw Error(t(311));r.lastRenderedReducer=e;var l=r.dispatch,a=r.pending,u=n.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{u=e(u,o.action),o=o.next}while(o!==a);yr(u,n.memoizedState)||(Fo=!0),n.memoizedState=u,null===n.baseQueue&&(n.baseState=u),r.lastRenderedState=u}return[u,l]}function Ou(){}function Iu(e,n){var r=ku,l=Mu(),a=n(),u=!yr(l.memoizedState,a);if(u&&(l.memoizedState=a,Fo=!0),l=l.queue,Yu(Au.bind(null,r,l,e),[e]),l.getSnapshot!==n||u||null!==Su&&1&Su.memoizedState.tag){if(r.flags|=2048,Wu(9,Vu.bind(null,r,l,a,n),void 0,null),null===$i)throw Error(t(349));30&bu||Uu(r,n,a)}return a}function Uu(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=ku.updateQueue)?(n={lastEffect:null,stores:null},ku.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Vu(e,n,t,r){n.value=t,n.getSnapshot=r,Bu(n)&&Hu(e)}function Au(e,n,t){return t(function(){Bu(n)&&Hu(e)})}function Bu(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!yr(e,t)}catch(e){return!0}}function Hu(e){var n=qa(e,1);null!==n&&bs(n,e,1,-1)}function Qu(e){var n=Tu();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:e},n.queue=e,e=e.dispatch=oo.bind(null,ku,e),[n.memoizedState,e]}function Wu(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=ku.updateQueue)?(n={lastEffect:null,stores:null},ku.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function ju(){return Mu().memoizedState}function $u(e,n,t,r){var l=Tu();ku.flags|=e,l.memoizedState=Wu(1|n,t,void 0,void 0===r?null:r)}function Ku(e,n,t,r){var l=Mu();r=void 0===r?null:r;var a=void 0;if(null!==wu){var u=wu.memoizedState;if(a=u.destroy,null!==r&&Pu(r,u.deps))return void(l.memoizedState=Wu(n,t,a,r))}ku.flags|=e,l.memoizedState=Wu(1|n,t,a,r)}function qu(e,n){return $u(8390656,8,e,n)}function Yu(e,n){return Ku(2048,8,e,n)}function Xu(e,n){return Ku(4,2,e,n)}function Gu(e,n){return Ku(4,4,e,n)}function Zu(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Ju(e,n,t){return t=null!=t?t.concat([e]):null,Ku(4,4,Zu.bind(null,n,e),t)}function eo(){}function no(e,n){var t=Mu();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Pu(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function to(e,n){var t=Mu();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Pu(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function ro(e,n,t){return 21&bu?(yr(t,n)||(t=xn(),ku.lanes|=t,Ji|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Fo=!0),e.memoizedState=t)}function lo(e,n){var t=Pn;Pn=0!==t&&4>t?t:4,e(!0);var r=yu.transition;yu.transition={};try{e(!1),n()}finally{Pn=t,yu.transition=r}}function ao(){return Mu().memoizedState}function uo(e,n,t){var r=ys(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},io(e))so(n,t);else if(null!==(t=Ka(e,n,t,r))){bs(t,e,r,vs()),co(t,n,r)}}function oo(e,n,t){var r=ys(e),l={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(io(e))so(n,l);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var u=n.lastRenderedState,o=a(u,t);if(l.hasEagerState=!0,l.eagerState=o,yr(o,u)){var s=n.interleaved;return null===s?(l.next=l,$a(n)):(l.next=s.next,s.next=l),void(n.interleaved=l)}}catch(e){}null!==(t=Ka(e,n,l,r))&&(bs(t,e,r,l=vs()),co(t,n,r))}}function io(e){var n=e.alternate;return e===ku||null!==n&&n===ku}function so(e,n){Eu=xu=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function co(e,n,t){if(4194240&t){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Nn(e,t)}}var fo={readContext:Wa,useCallback:Nu,useContext:Nu,useEffect:Nu,useImperativeHandle:Nu,useInsertionEffect:Nu,useLayoutEffect:Nu,useMemo:Nu,useReducer:Nu,useRef:Nu,useState:Nu,useDebugValue:Nu,useDeferredValue:Nu,useTransition:Nu,useMutableSource:Nu,useSyncExternalStore:Nu,useId:Nu,unstable_isNewReconciler:!1},po={readContext:Wa,useCallback:function(e,n){return Tu().memoizedState=[e,void 0===n?null:n],e},useContext:Wa,useEffect:qu,useImperativeHandle:function(e,n,t){return t=null!=t?t.concat([e]):null,$u(4194308,4,Zu.bind(null,n,e),t)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){return $u(4,2,e,n)},useMemo:function(e,n){var t=Tu();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Tu();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=uo.bind(null,ku,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Tu().memoizedState=e},useState:Qu,useDebugValue:eo,useDeferredValue:function(e){return Tu().memoizedState=e},useTransition:function(){var e=Qu(!1),n=e[0];return e=lo.bind(null,e[1]),Tu().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var l=ku,a=Tu();if(va){if(void 0===r)throw Error(t(407));r=r()}else{if(r=n(),null===$i)throw Error(t(349));30&bu||Uu(l,n,r)}a.memoizedState=r;var u={value:r,getSnapshot:n};return a.queue=u,qu(Au.bind(null,l,u,e),[e]),l.flags|=2048,Wu(9,Vu.bind(null,l,u,r,n),void 0,null),r},useId:function(){var e=Tu(),n=$i.identifierPrefix;if(va){var t=ca;n=":"+n+"R"+(t=(sa&~(1<<32-pn(sa)-1)).toString(32)+t),0<(t=Cu++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=zu++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},mo={readContext:Wa,useCallback:no,useContext:Wa,useEffect:Yu,useImperativeHandle:Ju,useInsertionEffect:Xu,useLayoutEffect:Gu,useMemo:to,useReducer:Ru,useRef:ju,useState:function(){return Ru(Fu)},useDebugValue:eo,useDeferredValue:function(e){return ro(Mu(),wu.memoizedState,e)},useTransition:function(){return[Ru(Fu)[0],Mu().memoizedState]},useMutableSource:Ou,useSyncExternalStore:Iu,useId:ao,unstable_isNewReconciler:!1},ho={readContext:Wa,useCallback:no,useContext:Wa,useEffect:Yu,useImperativeHandle:Ju,useInsertionEffect:Xu,useLayoutEffect:Gu,useMemo:to,useReducer:Du,useRef:ju,useState:function(){return Du(Fu)},useDebugValue:eo,useDeferredValue:function(e){var n=Mu();return null===wu?n.memoizedState=e:ro(n,wu.memoizedState,e)},useTransition:function(){return[Du(Fu)[0],Mu().memoizedState]},useMutableSource:Ou,useSyncExternalStore:Iu,useId:ao,unstable_isNewReconciler:!1};function go(e,n){if(e&&e.defaultProps){for(var t in n=U({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}function vo(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:U({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=vs(),l=ys(e),a=Za(r,l);a.payload=n,null!=t&&(a.callback=t),null!==(n=Ja(e,a,l))&&(bs(n,e,l,r),eu(n,e,l))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=vs(),l=ys(e),a=Za(r,l);a.tag=1,a.payload=n,null!=t&&(a.callback=t),null!==(n=Ja(e,a,l))&&(bs(n,e,l,r),eu(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=vs(),r=ys(e),l=Za(t,r);l.tag=2,null!=n&&(l.callback=n),null!==(n=Ja(e,l,r))&&(bs(n,e,r,t),eu(n,e,r))}};function bo(e,n,t,r,l,a,u){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,u):!n.prototype||!n.prototype.isPureReactComponent||(!br(t,r)||!br(l,a))}function ko(e,n,t){var r=!1,l=Vl,a=n.contextType;return"object"==typeof a&&null!==a?a=Wa(a):(l=Wl(n)?Hl:Al.current,a=(r=null!=(r=n.contextTypes))?Ql(e,l):Vl),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=yo,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),n}function wo(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&yo.enqueueReplaceState(n,n.state,null)}function So(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs={},Xa(e);var a=n.contextType;"object"==typeof a&&null!==a?l.context=Wa(a):(a=Wl(n)?Hl:Al.current,l.context=Ql(e,a)),l.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(vo(e,n,a,t),l.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(n=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),n!==l.state&&yo.enqueueReplaceState(l,l.state,null),tu(e,t,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4194308)}function xo(e,n){try{var t="",r=n;do{t+=H(r),r=r.return}while(r);var l=t}catch(e){l="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:l,digest:null}}function Eo(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function Co(e,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var zo="function"==typeof WeakMap?WeakMap:Map;function No(e,n,t){(t=Za(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){os||(os=!0,is=r),Co(0,n)},t}function Po(e,n,t){(t=Za(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=n.value;t.payload=function(){return r(l)},t.callback=function(){Co(0,n)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(t.callback=function(){Co(0,n),"function"!=typeof r&&(null===ss?ss=new Set([this]):ss.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function _o(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new zo;var l=new Set;r.set(n,l)}else void 0===(l=r.get(n))&&(l=new Set,r.set(n,l));l.has(t)||(l.add(t),e=Ws.bind(null,e,n,t),n.then(e,e))}function Lo(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function To(e,n,t,r,l){return 1&e.mode?(e.flags|=65536,e.lanes=l,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=Za(-1,1)).tag=2,Ja(t,n,1))),t.lanes|=1),e)}var Mo=w.ReactCurrentOwner,Fo=!1;function Ro(e,n,t,r){n.child=null===e?Da(n,null,t,r):Ra(n,e.child,t,r)}function Do(e,n,t,r,l){t=t.render;var a=n.ref;return Qa(n,l),r=_u(e,n,t,r,a,l),t=Lu(),null===e||Fo?(va&&t&&pa(n),n.flags|=1,Ro(e,n,r,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,ai(e,n,l))}function Oo(e,n,t,r,l){if(null===e){var a=t.type;return"function"!=typeof a||Gs(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=ec(t.type,null,r,n,n.mode,l)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,Io(e,n,a,r,l))}if(a=e.child,0===(e.lanes&l)){var u=a.memoizedProps;if((t=null!==(t=t.compare)?t:br)(u,r)&&e.ref===n.ref)return ai(e,n,l)}return n.flags|=1,(e=Js(a,r)).ref=n.ref,e.return=n,n.child=e}function Io(e,n,t,r,l){if(null!==e){var a=e.memoizedProps;if(br(a,r)&&e.ref===n.ref){if(Fo=!1,n.pendingProps=r=a,0===(e.lanes&l))return n.lanes=e.lanes,ai(e,n,l);131072&e.flags&&(Fo=!0)}}return Ao(e,n,t,r,l)}function Uo(e,n,t){var r=n.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&n.mode){if(!(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ul(Xi,Yi),Yi|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:t,Ul(Xi,Yi),Yi|=r}else n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ul(Xi,Yi),Yi|=t;else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,Ul(Xi,Yi),Yi|=r;return Ro(e,n,l,t),n.child}function Vo(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Ao(e,n,t,r,l){var a=Wl(t)?Hl:Al.current;return a=Ql(n,a),Qa(n,l),t=_u(e,n,t,r,a,l),r=Lu(),null===e||Fo?(va&&r&&pa(n),n.flags|=1,Ro(e,n,t,l),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,ai(e,n,l))}function Bo(e,n,t,r,l){if(Wl(t)){var a=!0;ql(n)}else a=!1;if(Qa(n,l),null===n.stateNode)li(e,n),ko(n,t,r),So(n,t,r,l),r=!0;else if(null===e){var u=n.stateNode,o=n.memoizedProps;u.props=o;var s=u.context,c=t.contextType;"object"==typeof c&&null!==c?c=Wa(c):c=Ql(n,c=Wl(t)?Hl:Al.current);var f=t.getDerivedStateFromProps,d="function"==typeof f||"function"==typeof u.getSnapshotBeforeUpdate;d||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(o!==r||s!==c)&&wo(n,u,r,c),Ya=!1;var p=n.memoizedState;u.state=p,tu(n,r,u,l),s=n.memoizedState,o!==r||p!==s||Bl.current||Ya?("function"==typeof f&&(vo(n,t,f,r),s=n.memoizedState),(o=Ya||bo(n,t,o,r,p,s,c))?(d||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||("function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"==typeof u.componentDidMount&&(n.flags|=4194308)):("function"==typeof u.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=s),u.props=r,u.state=s,u.context=c,r=o):("function"==typeof u.componentDidMount&&(n.flags|=4194308),r=!1)}else{u=n.stateNode,Ga(e,n),o=n.memoizedProps,c=n.type===n.elementType?o:go(n.type,o),u.props=c,d=n.pendingProps,p=u.context,"object"==typeof(s=t.contextType)&&null!==s?s=Wa(s):s=Ql(n,s=Wl(t)?Hl:Al.current);var m=t.getDerivedStateFromProps;(f="function"==typeof m||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(o!==d||p!==s)&&wo(n,u,r,s),Ya=!1,p=n.memoizedState,u.state=p,tu(n,r,u,l);var h=n.memoizedState;o!==d||p!==h||Bl.current||Ya?("function"==typeof m&&(vo(n,t,m,r),h=n.memoizedState),(c=Ya||bo(n,t,c,r,p,h,s)||!1)?(f||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(r,h,s),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(r,h,s)),"function"==typeof u.componentDidUpdate&&(n.flags|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof u.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),u.props=r,u.state=h,u.context=s,r=c):("function"!=typeof u.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return Ho(e,n,t,r,a,l)}function Ho(e,n,t,r,l,a){Vo(e,n);var u=!!(128&n.flags);if(!r&&!u)return l&&Yl(n,t,!1),ai(e,n,a);r=n.stateNode,Mo.current=n;var o=u&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&u?(n.child=Ra(n,e.child,null,a),n.child=Ra(n,null,o,a)):Ro(e,n,o,a),n.memoizedState=r.state,l&&Yl(n,t,!0),n.child}function Qo(e){var n=e.stateNode;n.pendingContext?$l(0,n.pendingContext,n.pendingContext!==n.context):n.context&&$l(0,n.context,!1),su(e,n.containerInfo)}function Wo(e,n,t,r,l){return za(),Na(l),n.flags|=256,Ro(e,n,t,r),n.child}var jo,$o,Ko,qo,Yo={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Go(e,n,t){var r,l=n.pendingProps,a=pu.current,u=!1,o=!!(128&n.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(u=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ul(pu,1&a),null===e)return Sa(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(1&n.mode?"$!"===e.data?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(o=l.children,e=l.fallback,u?(l=n.mode,u=n.child,o={mode:"hidden",children:o},1&l||null===u?u=tc(o,l,0,null):(u.childLanes=0,u.pendingProps=o),e=nc(e,l,t,null),u.return=n,e.return=n,u.sibling=e,n.child=u,n.child.memoizedState=Xo(t),n.memoizedState=Yo,e):Zo(n,o));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return ei(e,n,o,l,r,a,t);if(u){u=l.fallback,o=n.mode,r=(a=e.child).sibling;var s={mode:"hidden",children:l.children};return 1&o||n.child===a?(l=Js(a,s)).subtreeFlags=14680064&a.subtreeFlags:((l=n.child).childLanes=0,l.pendingProps=s,n.deletions=null),null!==r?u=Js(r,u):(u=nc(u,o,t,null)).flags|=2,u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,o=null===(o=e.child.memoizedState)?Xo(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},u.memoizedState=o,u.childLanes=e.childLanes&~t,n.memoizedState=Yo,l}return e=(u=e.child).sibling,l=Js(u,{mode:"visible",children:l.children}),!(1&n.mode)&&(l.lanes=t),l.return=n,l.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=l,n.memoizedState=null,l}function Zo(e,n){return(n=tc({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Jo(e,n,t,r){return null!==r&&Na(r),Ra(n,e.child,null,t),(e=Zo(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function ei(e,n,r,l,a,u,o){if(r)return 256&n.flags?(n.flags&=-257,Jo(e,n,o,l=Eo(Error(t(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(u=l.fallback,a=n.mode,l=tc({mode:"visible",children:l.children},a,0,null),(u=nc(u,a,o,null)).flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,1&n.mode&&Ra(n,e.child,null,o),n.child.memoizedState=Xo(o),n.memoizedState=Yo,u);if(!(1&n.mode))return Jo(e,n,o,null);if("$!"===a.data){if(l=a.nextSibling&&a.nextSibling.dataset)var s=l.dgst;return l=s,Jo(e,n,o,l=Eo(u=Error(t(419)),l,void 0))}if(s=0!==(o&e.childLanes),Fo||s){if(null!==(l=$i)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(l.suspendedLanes|o))?0:a)&&a!==u.retryLane&&(u.retryLane=a,qa(e,a),bs(l,e,a,-1))}return Fs(),Jo(e,n,o,l=Eo(Error(t(421))))}return"$?"===a.data?(n.flags|=128,n.child=e.child,n=$s.bind(null,e),a._reactRetry=n,null):(e=u.treeContext,ga=wl(a.nextSibling),ha=n,va=!0,ya=null,null!==e&&(ua[oa++]=sa,ua[oa++]=ca,ua[oa++]=ia,sa=e.id,ca=e.overflow,ia=n),(n=Zo(n,l.children)).flags|=4096,n)}function ni(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Ha(e.return,n,t)}function ti(e,n,t,r,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=l)}function ri(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(Ro(e,n,r.children,t),2&(r=pu.current))r=1&r|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ni(e,t,n);else if(19===e.tag)ni(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ul(pu,r),1&n.mode)switch(l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===mu(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),ti(n,!1,l,t,a);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===mu(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}ti(n,!0,t,null,a);break;case"together":ti(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function li(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ai(e,n,r){if(null!==e&&(n.dependencies=e.dependencies),Ji|=n.lanes,0===(r&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(t(153));if(null!==n.child){for(r=Js(e=n.child,e.pendingProps),n.child=r,r.return=n;null!==e.sibling;)e=e.sibling,(r=r.sibling=Js(e,e.pendingProps)).return=n;r.sibling=null}return n.child}function ui(e,n,t){switch(n.tag){case 3:Qo(n),za();break;case 5:fu(n);break;case 1:Wl(n.type)&&ql(n);break;case 4:su(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,l=n.memoizedProps.value;Ul(Oa,r._currentValue),r._currentValue=l;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(Ul(pu,1&pu.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Go(e,n,t):(Ul(pu,1&pu.current),null!==(e=ai(e,n,t))?e.sibling:null);Ul(pu,1&pu.current);break;case 19:if(r=0!==(t&n.childLanes),128&e.flags){if(r)return ri(e,n,t);n.flags|=128}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ul(pu,pu.current),r)break;return null;case 22:case 23:return n.lanes=0,Uo(e,n,t)}return ai(e,n,t)}function oi(e,n){if(!va)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ii(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=14680064&l.subtreeFlags,r|=14680064&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function si(e,n,r){var a=n.pendingProps;switch(ma(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(n),null;case 1:case 17:return Wl(n.type)&&jl(),ii(n),null;case 3:return a=n.stateNode,cu(),Il(Bl),Il(Al),gu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(Ea(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==ya&&(xs(ya),ya=null))),$o(e,n),ii(n),null;case 5:du(n);var u=iu(ou.current);if(r=n.type,null!==e&&null!=n.stateNode)Ko(e,n,r,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(null===n.stateNode)throw Error(t(166));return ii(n),null}if(e=iu(au.current),Ea(n)){a=n.stateNode,r=n.type;var o=n.memoizedProps;switch(a[El]=n,a[Cl]=o,e=!!(1&n.mode),r){case"dialog":Gr("cancel",a),Gr("close",a);break;case"iframe":case"object":case"embed":Gr("load",a);break;case"video":case"audio":for(u=0;u<Kr.length;u++)Gr(Kr[u],a);break;case"source":Gr("error",a);break;case"img":case"image":case"link":Gr("error",a),Gr("load",a);break;case"details":Gr("toggle",a);break;case"input":Z(a,o),Gr("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},Gr("invalid",a);break;case"textarea":ue(a,o),Gr("invalid",a)}for(var s in ke(r,o),u=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"==typeof c?a.textContent!==c&&(!0!==o.suppressHydrationWarning&&cl(a.textContent,c,e),u=["children",c]):"number"==typeof c&&a.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&cl(a.textContent,c,e),u=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Gr("scroll",a)}switch(r){case"input":q(a),ne(a,o,!0);break;case"textarea":q(a),ie(a);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(a.onclick=fl)}a=u,n.updateQueue=a,null!==a&&(n.flags|=4)}else{s=9===u.nodeType?u:u.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=s.createElement(r,{is:a.is}):(e=s.createElement(r),"select"===r&&(s=e,a.multiple?s.multiple=!0:a.size&&(s.size=a.size))):e=s.createElementNS(e,r),e[El]=n,e[Cl]=a,jo(e,n,!1,!1),n.stateNode=e;e:{switch(s=we(r,a),r){case"dialog":Gr("cancel",e),Gr("close",e),u=a;break;case"iframe":case"object":case"embed":Gr("load",e),u=a;break;case"video":case"audio":for(u=0;u<Kr.length;u++)Gr(Kr[u],e);u=a;break;case"source":Gr("error",e),u=a;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),u=a;break;case"details":Gr("toggle",e),u=a;break;case"input":Z(e,a),u=G(e,a),Gr("invalid",e);break;case"option":default:u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=U({},a,{value:void 0}),Gr("invalid",e);break;case"textarea":ue(e,a),u=ae(e,a),Gr("invalid",e)}for(o in ke(r,u),c=u)if(c.hasOwnProperty(o)){var f=c[o];"style"===o?ye(e,f):"dangerouslySetInnerHTML"===o?null!=(f=f?f.__html:void 0)&&pe(e,f):"children"===o?"string"==typeof f?("textarea"!==r||""!==f)&&me(e,f):"number"==typeof f&&me(e,""+f):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=f&&"onScroll"===o&&Gr("scroll",e):null!=f&&k(e,o,f,s))}switch(r){case"input":q(e),ne(e,a,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+j(a.value));break;case"select":e.multiple=!!a.multiple,null!=(o=a.value)?le(e,!!a.multiple,o,!1):null!=a.defaultValue&&le(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=fl)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return ii(n),null;case 6:if(e&&null!=n.stateNode)qo(e,n,e.memoizedProps,a);else{if("string"!=typeof a&&null===n.stateNode)throw Error(t(166));if(r=iu(ou.current),iu(au.current),Ea(n)){if(a=n.stateNode,r=n.memoizedProps,a[El]=n,(o=a.nodeValue!==r)&&null!==(e=ha))switch(e.tag){case 3:cl(a.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&cl(a.nodeValue,r,!!(1&e.mode))}o&&(n.flags|=4)}else(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[El]=n,n.stateNode=a}return ii(n),null;case 13:if(Il(pu),a=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(va&&null!==ga&&1&n.mode&&!(128&n.flags))Ca(),za(),n.flags|=98560,o=!1;else if(o=Ea(n),null!==a&&null!==a.dehydrated){if(null===e){if(!o)throw Error(t(318));if(!(o=null!==(o=n.memoizedState)?o.dehydrated:null))throw Error(t(317));o[El]=n}else za(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;ii(n),o=!1}else null!==ya&&(xs(ya),ya=null),o=!0;if(!o)return 65536&n.flags?n:null}return 128&n.flags?(n.lanes=r,n):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(n.child.flags|=8192,1&n.mode&&(null===e||1&pu.current?0===Gi&&(Gi=3):Fs())),null!==n.updateQueue&&(n.flags|=4),ii(n),null);case 4:return cu(),$o(e,n),null===e&&el(n.stateNode.containerInfo),ii(n),null;case 10:return Ba(n.type._context),ii(n),null;case 19:if(Il(pu),null===(o=n.memoizedState))return ii(n),null;if(a=!!(128&n.flags),null===(s=o.rendering))if(a)oi(o,!1);else{if(0!==Gi||null!==e&&128&e.flags)for(e=n.child;null!==e;){if(null!==(s=mu(e))){for(n.flags|=128,oi(o,!1),null!==(a=s.updateQueue)&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=r,r=n.child;null!==r;)e=a,(o=r).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ul(pu,1&pu.current|2),n.child}e=e.sibling}null!==o.tail&&tn()>as&&(n.flags|=128,a=!0,oi(o,!1),n.lanes=4194304)}else{if(!a)if(null!==(e=mu(s))){if(n.flags|=128,a=!0,null!==(r=e.updateQueue)&&(n.updateQueue=r,n.flags|=4),oi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!va)return ii(n),null}else 2*tn()-o.renderingStartTime>as&&1073741824!==r&&(n.flags|=128,a=!0,oi(o,!1),n.lanes=4194304);o.isBackwards?(s.sibling=n.child,n.child=s):(null!==(r=o.last)?r.sibling=s:n.child=s,o.last=s)}return null!==o.tail?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=tn(),n.sibling=null,r=pu.current,Ul(pu,a?1&r|2:1&r),n):(ii(n),null);case 22:case 23:return _s(),a=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==a&&(n.flags|=8192),a&&1&n.mode?!!(1073741824&Yi)&&(ii(n),6&n.subtreeFlags&&(n.flags|=8192)):ii(n),null;case 24:case 25:return null}throw Error(t(156,n.tag))}function ci(e,n){switch(ma(n),n.tag){case 1:return Wl(n.type)&&jl(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return cu(),Il(Bl),Il(Al),gu(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 5:return du(n),null;case 13:if(Il(pu),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(t(340));za()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Il(pu),null;case 4:return cu(),null;case 10:return Ba(n.type._context),null;case 22:case 23:return _s(),null;default:return null}}jo=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},$o=function(){},Ko=function(e,n,t,r){var a=e.memoizedProps;if(a!==r){e=n.stateNode,iu(au.current);var u,o=null;switch(t){case"input":a=G(e,a),r=G(e,r),o=[];break;case"select":a=U({},a,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":a=ae(e,a),r=ae(e,r),o=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=fl)}for(f in ke(t,r),t=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var s=a[f];for(u in s)s.hasOwnProperty(u)&&(t||(t={}),t[u]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(s=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&c!==s&&(null!=c||null!=s))if("style"===f)if(s){for(u in s)!s.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(t||(t={}),t[u]="");for(u in c)c.hasOwnProperty(u)&&s[u]!==c[u]&&(t||(t={}),t[u]=c[u])}else t||(o||(o=[]),o.push(f,t)),t=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(f,c)):"children"===f?"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Gr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(f,c))}t&&(o=o||[]).push("style",t);var f=o;(n.updateQueue=f)&&(n.flags|=4)}},qo=function(e,n,t,r){t!==r&&(n.flags|=4)};var fi=!1,di=!1,pi="function"==typeof WeakSet?WeakSet:Set,mi=null;function hi(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Qs(e,n,t)}else t.current=null}function gi(e,n,t){try{t()}catch(t){Qs(e,n,t)}}var vi=!1;function yi(e,n){if(dl=et,Er(e=xr())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var l=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(l&&0!==l.rangeCount){r=l.anchorNode;var a=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{r.nodeType,u.nodeType}catch(e){r=null;break e}var o=0,s=-1,c=-1,f=0,d=0,p=e,m=null;n:for(;;){for(var h;p!==r||0!==a&&3!==p.nodeType||(s=o+a),p!==u||0!==l&&3!==p.nodeType||(c=o+l),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break n;if(m===r&&++f===a&&(s=o),m===u&&++d===l&&(c=o),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}r=-1===s||-1===c?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pl={focusedElem:e,selectionRange:r},et=!1,mi=n;null!==mi;)if(e=(n=mi).child,1028&n.subtreeFlags&&null!==e)e.return=n,mi=e;else for(;null!==mi;){n=mi;try{var g=n.alternate;if(1024&n.flags)switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,y=g.memoizedState,b=n.stateNode,k=b.getSnapshotBeforeUpdate(n.elementType===n.type?v:go(n.type,v),y);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=n.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(t(163))}}catch(e){Qs(n,n.return,e)}if(null!==(e=n.sibling)){e.return=n.return,mi=e;break}mi=n.return}return g=vi,vi=!1,g}function bi(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,void 0!==a&&gi(n,t,a)}l=l.next}while(l!==r)}}function ki(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function wi(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"==typeof n?n(e):n.current=e}}function Si(e){var n=e.alternate;null!==n&&(e.alternate=null,Si(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&(delete n[El],delete n[Cl],delete n[Nl],delete n[Pl],delete n[_l])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xi(e){return 5===e.tag||3===e.tag||4===e.tag}function Ei(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ci(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!=(t=t._reactRootContainer)||null!==n.onclick||(n.onclick=fl));else if(4!==r&&null!==(e=e.child))for(Ci(e,n,t),e=e.sibling;null!==e;)Ci(e,n,t),e=e.sibling}function zi(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(zi(e,n,t),e=e.sibling;null!==e;)zi(e,n,t),e=e.sibling}var Ni=null,Pi=!1;function _i(e,n,t){for(t=t.child;null!==t;)Li(e,n,t),t=t.sibling}function Li(e,n,t){if(fn&&"function"==typeof fn.onCommitFiberUnmount)try{fn.onCommitFiberUnmount(cn,t)}catch(e){}switch(t.tag){case 5:di||hi(t,n);case 6:var r=Ni,l=Pi;Ni=null,_i(e,n,t),Pi=l,null!==(Ni=r)&&(Pi?(e=Ni,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):Ni.removeChild(t.stateNode));break;case 18:null!==Ni&&(Pi?(e=Ni,t=t.stateNode,8===e.nodeType?kl(e.parentNode,t):1===e.nodeType&&kl(e,t),Zn(e)):kl(Ni,t.stateNode));break;case 4:r=Ni,l=Pi,Ni=t.stateNode.containerInfo,Pi=!0,_i(e,n,t),Ni=r,Pi=l;break;case 0:case 11:case 14:case 15:if(!di&&(null!==(r=t.updateQueue)&&null!==(r=r.lastEffect))){l=r=r.next;do{var a=l,u=a.destroy;a=a.tag,void 0!==u&&(2&a||4&a)&&gi(t,n,u),l=l.next}while(l!==r)}_i(e,n,t);break;case 1:if(!di&&(hi(t,n),"function"==typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(e){Qs(t,n,e)}_i(e,n,t);break;case 21:_i(e,n,t);break;case 22:1&t.mode?(di=(r=di)||null!==t.memoizedState,_i(e,n,t),di=r):_i(e,n,t);break;default:_i(e,n,t)}}function Ti(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new pi),n.forEach(function(n){var r=Ks.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function Mi(e,n){var r=n.deletions;if(null!==r)for(var l=0;l<r.length;l++){var a=r[l];try{var u=e,o=n,s=o;e:for(;null!==s;){switch(s.tag){case 5:Ni=s.stateNode,Pi=!1;break e;case 3:case 4:Ni=s.stateNode.containerInfo,Pi=!0;break e}s=s.return}if(null===Ni)throw Error(t(160));Li(u,o,a),Ni=null,Pi=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(e){Qs(a,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)Fi(n,e),n=n.sibling}function Fi(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mi(n,e),Ri(e),4&l){try{bi(3,e,e.return),ki(3,e)}catch(n){Qs(e,e.return,n)}try{bi(5,e,e.return)}catch(n){Qs(e,e.return,n)}}break;case 1:Mi(n,e),Ri(e),512&l&&null!==r&&hi(r,r.return);break;case 5:if(Mi(n,e),Ri(e),512&l&&null!==r&&hi(r,r.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(n){Qs(e,e.return,n)}}if(4&l&&null!=(a=e.stateNode)){var u=e.memoizedProps,o=null!==r?r.memoizedProps:u,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===u.type&&null!=u.name&&J(a,u),we(s,o);var f=we(s,u);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];"style"===d?ye(a,p):"dangerouslySetInnerHTML"===d?pe(a,p):"children"===d?me(a,p):k(a,d,p,f)}switch(s){case"input":ee(a,u);break;case"textarea":oe(a,u);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var h=u.value;null!=h?le(a,!!u.multiple,h,!1):m!==!!u.multiple&&(null!=u.defaultValue?le(a,!!u.multiple,u.defaultValue,!0):le(a,!!u.multiple,u.multiple?[]:"",!1))}a[Cl]=u}catch(n){Qs(e,e.return,n)}}break;case 6:if(Mi(n,e),Ri(e),4&l){if(null===e.stateNode)throw Error(t(162));a=e.stateNode,u=e.memoizedProps;try{a.nodeValue=u}catch(n){Qs(e,e.return,n)}}break;case 3:if(Mi(n,e),Ri(e),4&l&&null!==r&&r.memoizedState.isDehydrated)try{Zn(n.containerInfo)}catch(n){Qs(e,e.return,n)}break;case 4:default:Mi(n,e),Ri(e);break;case 13:Mi(n,e),Ri(e),8192&(a=e.child).flags&&(u=null!==a.memoizedState,a.stateNode.isHidden=u,!u||null!==a.alternate&&null!==a.alternate.memoizedState||(ls=tn())),4&l&&Ti(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(di=(f=di)||d,Mi(n,e),di=f):Mi(n,e),Ri(e),8192&l){if(f=null!==e.memoizedState,(e.stateNode.isHidden=f)&&!d&&1&e.mode)for(mi=e,d=e.child;null!==d;){for(p=mi=d;null!==mi;){switch(h=(m=mi).child,m.tag){case 0:case 11:case 14:case 15:bi(4,m,m.return);break;case 1:hi(m,m.return);var g=m.stateNode;if("function"==typeof g.componentWillUnmount){l=m,r=m.return;try{n=l,g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(e){Qs(l,r,e)}}break;case 5:hi(m,m.return);break;case 22:if(null!==m.memoizedState){Ui(p);continue}}null!==h?(h.return=m,mi=h):Ui(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,f?"function"==typeof(u=a.style).setProperty?u.setProperty("display","none","important"):u.display="none":(s=p.stateNode,o=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",o))}catch(n){Qs(e,e.return,n)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(n){Qs(e,e.return,n)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Mi(n,e),Ri(e),4&l&&Ti(e);case 21:}}function Ri(e){var n=e.flags;if(2&n){try{e:{for(var r=e.return;null!==r;){if(xi(r)){var l=r;break e}r=r.return}throw Error(t(160))}switch(l.tag){case 5:var a=l.stateNode;32&l.flags&&(me(a,""),l.flags&=-33),zi(e,Ei(e),a);break;case 3:case 4:var u=l.stateNode.containerInfo;Ci(e,Ei(e),u);break;default:throw Error(t(161))}}catch(n){Qs(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function Di(e,n,t){mi=e,Oi(e,n,t)}function Oi(e,n,t){for(var r=!!(1&e.mode);null!==mi;){var l=mi,a=l.child;if(22===l.tag&&r){var u=null!==l.memoizedState||fi;if(!u){var o=l.alternate,s=null!==o&&null!==o.memoizedState||di;o=fi;var c=di;if(fi=u,(di=s)&&!c)for(mi=l;null!==mi;)s=(u=mi).child,22===u.tag&&null!==u.memoizedState?Vi(l):null!==s?(s.return=u,mi=s):Vi(l);for(;null!==a;)mi=a,Oi(a,n,t),a=a.sibling;mi=l,fi=o,di=c}Ii(e)}else 8772&l.subtreeFlags&&null!==a?(a.return=l,mi=a):Ii(e)}}function Ii(e){for(;null!==mi;){var n=mi;if(8772&n.flags){var r=n.alternate;try{if(8772&n.flags)switch(n.tag){case 0:case 11:case 15:di||ki(5,n);break;case 1:var l=n.stateNode;if(4&n.flags&&!di)if(null===r)l.componentDidMount();else{var a=n.elementType===n.type?r.memoizedProps:go(n.type,r.memoizedProps);l.componentDidUpdate(a,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;null!==u&&ru(n,u,l);break;case 3:var o=n.updateQueue;if(null!==o){if(r=null,null!==n.child)switch(n.child.tag){case 5:case 1:r=n.child.stateNode}ru(n,o,r)}break;case 5:var s=n.stateNode;if(null===r&&4&n.flags){r=s;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var f=n.alternate;if(null!==f){var d=f.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Zn(p)}}}break;default:throw Error(t(163))}di||512&n.flags&&wi(n)}catch(e){Qs(n,n.return,e)}}if(n===e){mi=null;break}if(null!==(r=n.sibling)){r.return=n.return,mi=r;break}mi=n.return}}function Ui(e){for(;null!==mi;){var n=mi;if(n===e){mi=null;break}var t=n.sibling;if(null!==t){t.return=n.return,mi=t;break}mi=n.return}}function Vi(e){for(;null!==mi;){var n=mi;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{ki(4,n)}catch(e){Qs(n,t,e)}break;case 1:var r=n.stateNode;if("function"==typeof r.componentDidMount){var l=n.return;try{r.componentDidMount()}catch(e){Qs(n,l,e)}}var a=n.return;try{wi(n)}catch(e){Qs(n,a,e)}break;case 5:var u=n.return;try{wi(n)}catch(e){Qs(n,u,e)}}}catch(e){Qs(n,n.return,e)}if(n===e){mi=null;break}var o=n.sibling;if(null!==o){o.return=n.return,mi=o;break}mi=n.return}}var Ai,Bi=Math.ceil,Hi=w.ReactCurrentDispatcher,Qi=w.ReactCurrentOwner,Wi=w.ReactCurrentBatchConfig,ji=0,$i=null,Ki=null,qi=0,Yi=0,Xi=Ol(0),Gi=0,Zi=null,Ji=0,es=0,ns=0,ts=null,rs=null,ls=0,as=1/0,us=null,os=!1,is=null,ss=null,cs=!1,fs=null,ds=0,ps=0,ms=null,hs=-1,gs=0;function vs(){return 6&ji?tn():-1!==hs?hs:hs=tn()}function ys(e){return 1&e.mode?2&ji&&0!==qi?qi&-qi:null!==Pa.transition?(0===gs&&(gs=xn()),gs):0!==(e=Pn)?e:e=void 0===(e=window.event)?16:ut(e.type):1}function bs(e,n,r,l){if(50<ps)throw ps=0,ms=null,Error(t(185));Cn(e,r,l),2&ji&&e===$i||(e===$i&&(!(2&ji)&&(es|=r),4===Gi&&Cs(e,qi)),ks(e,l),1===r&&0===ji&&!(1&n.mode)&&(as=tn()+500,Gl&&na()))}function ks(e,n){var t=e.callbackNode;wn(e,n);var r=bn(e,e===$i?qi:0);if(0===r)null!==t&&Je(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&Je(t),1===n)0===e.tag?ea(zs.bind(null,e)):Jl(zs.bind(null,e)),yl(function(){!(6&ji)&&na()}),t=null;else{switch(_n(r)){case 1:t=ln;break;case 4:t=an;break;case 16:default:t=un;break;case 536870912:t=sn}t=qs(t,ws.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function ws(e,n){if(hs=-1,gs=0,6&ji)throw Error(t(327));var r=e.callbackNode;if(Bs()&&e.callbackNode!==r)return null;var l=bn(e,e===$i?qi:0);if(0===l)return null;if(30&l||0!==(l&e.expiredLanes)||n)n=Rs(e,l);else{n=l;var a=ji;ji|=2;var u=Ms();for($i===e&&qi===n||(us=null,as=tn()+500,Ls(e,n));;)try{Os();break}catch(n){Ts(e,n)}Aa(),Hi.current=u,ji=a,null!==Ki?n=0:($i=null,qi=0,n=Gi)}if(0!==n){if(2===n&&(0!==(a=Sn(e))&&(l=a,n=Ss(e,a))),1===n)throw r=Zi,Ls(e,0),Cs(e,l),ks(e,tn()),r;if(6===n)Cs(e,l);else{if(a=e.current.alternate,!(30&l||Es(a)||(n=Rs(e,l),2===n&&(u=Sn(e),0!==u&&(l=u,n=Ss(e,u))),1!==n)))throw r=Zi,Ls(e,0),Cs(e,l),ks(e,tn()),r;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(t(345));case 2:case 5:Vs(e,rs,us);break;case 3:if(Cs(e,l),(130023424&l)===l&&10<(n=ls+500-tn())){if(0!==bn(e,0))break;if(((a=e.suspendedLanes)&l)!==l){vs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=hl(Vs.bind(null,e,rs,us),n);break}Vs(e,rs,us);break;case 4:if(Cs(e,l),(4194240&l)===l)break;for(n=e.eventTimes,a=-1;0<l;){var o=31-pn(l);u=1<<o,(o=n[o])>a&&(a=o),l&=~u}if(l=a,10<(l=(120>(l=tn()-l)?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Bi(l/1960))-l)){e.timeoutHandle=hl(Vs.bind(null,e,rs,us),l);break}Vs(e,rs,us);break;default:throw Error(t(329))}}}return ks(e,tn()),e.callbackNode===r?ws.bind(null,e):null}function Ss(e,n){var t=ts;return e.current.memoizedState.isDehydrated&&(Ls(e,n).flags|=256),2!==(e=Rs(e,n))&&(n=rs,rs=t,null!==n&&xs(n)),e}function xs(e){null===rs?rs=e:rs.push.apply(rs,e)}function Es(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var l=t[r],a=l.getSnapshot;l=l.value;try{if(!yr(a(),l))return!1}catch(e){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n){for(n&=~ns,n&=~es,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-pn(n),r=1<<t;e[t]=-1,n&=~r}}function zs(e){if(6&ji)throw Error(t(327));Bs();var n=bn(e,0);if(!(1&n))return ks(e,tn()),null;var r=Rs(e,n);if(0!==e.tag&&2===r){var l=Sn(e);0!==l&&(n=l,r=Ss(e,l))}if(1===r)throw r=Zi,Ls(e,0),Cs(e,n),ks(e,tn()),r;if(6===r)throw Error(t(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Vs(e,rs,us),ks(e,tn()),null}function Ns(e,n){var t=ji;ji|=1;try{return e(n)}finally{0===(ji=t)&&(as=tn()+500,Gl&&na())}}function Ps(e){null!==fs&&0===fs.tag&&!(6&ji)&&Bs();var n=ji;ji|=1;var t=Wi.transition,r=Pn;try{if(Wi.transition=null,Pn=1,e)return e()}finally{Pn=r,Wi.transition=t,!(6&(ji=n))&&na()}}function _s(){Yi=Xi.current,Il(Xi)}function Ls(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,gl(t)),null!==Ki)for(t=Ki.return;null!==t;){var r=t;switch(ma(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&jl();break;case 3:cu(),Il(Bl),Il(Al),gu();break;case 5:du(r);break;case 4:cu();break;case 13:case 19:Il(pu);break;case 10:Ba(r.type._context);break;case 22:case 23:_s()}t=t.return}if($i=e,Ki=e=Js(e.current,null),qi=Yi=n,Gi=0,Zi=null,ns=es=Ji=0,rs=ts=null,null!==ja){for(n=0;n<ja.length;n++)if(null!==(r=(t=ja[n]).interleaved)){t.interleaved=null;var l=r.next,a=t.pending;if(null!==a){var u=a.next;a.next=l,r.next=u}t.pending=r}ja=null}return e}function Ts(e,n){for(;;){var r=Ki;try{if(Aa(),vu.current=fo,xu){for(var l=ku.memoizedState;null!==l;){var a=l.queue;null!==a&&(a.pending=null),l=l.next}xu=!1}if(bu=0,Su=wu=ku=null,Eu=!1,Cu=0,Qi.current=null,null===r||null===r.return){Gi=1,Zi=n,Ki=null;break}e:{var u=e,o=r.return,s=r,c=n;if(n=qi,s.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var f=c,d=s,p=d.tag;if(!(1&d.mode||0!==p&&11!==p&&15!==p)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Lo(o);if(null!==h){h.flags&=-257,To(h,o,s,0,n),1&h.mode&&_o(u,f,n),c=f;var g=(n=h).updateQueue;if(null===g){var v=new Set;v.add(c),n.updateQueue=v}else g.add(c);break e}if(!(1&n)){_o(u,f,n),Fs();break e}c=Error(t(426))}else if(va&&1&s.mode){var y=Lo(o);if(null!==y){!(65536&y.flags)&&(y.flags|=256),To(y,o,s,0,n),Na(xo(c,s));break e}}u=c=xo(c,s),4!==Gi&&(Gi=2),null===ts?ts=[u]:ts.push(u),u=o;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n,nu(u,No(0,c,n));break e;case 1:s=c;var b=u.type,k=u.stateNode;if(!(128&u.flags||"function"!=typeof b.getDerivedStateFromError&&(null===k||"function"!=typeof k.componentDidCatch||null!==ss&&ss.has(k)))){u.flags|=65536,n&=-n,u.lanes|=n,nu(u,Po(u,s,n));break e}}u=u.return}while(null!==u)}Us(r)}catch(e){n=e,Ki===r&&null!==r&&(Ki=r=r.return);continue}break}}function Ms(){var e=Hi.current;return Hi.current=fo,null===e?fo:e}function Fs(){0!==Gi&&3!==Gi&&2!==Gi||(Gi=4),null===$i||!(268435455&Ji)&&!(268435455&es)||Cs($i,qi)}function Rs(e,n){var r=ji;ji|=2;var l=Ms();for($i===e&&qi===n||(us=null,Ls(e,n));;)try{Ds();break}catch(n){Ts(e,n)}if(Aa(),ji=r,Hi.current=l,null!==Ki)throw Error(t(261));return $i=null,qi=0,Gi}function Ds(){for(;null!==Ki;)Is(Ki)}function Os(){for(;null!==Ki&&!en();)Is(Ki)}function Is(e){var n=Ai(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,null===n?Us(e):Ki=n,Qi.current=null}function Us(e){var n=e;do{var t=n.alternate;if(e=n.return,32768&n.flags){if(null!==(t=ci(t,n)))return t.flags&=32767,void(Ki=t);if(null===e)return Gi=6,void(Ki=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(t=si(t,n,Yi)))return void(Ki=t);if(null!==(n=n.sibling))return void(Ki=n);Ki=n=e}while(null!==n);0===Gi&&(Gi=5)}function Vs(e,n,t){var r=Pn,l=Wi.transition;try{Wi.transition=null,Pn=1,As(e,n,t,r)}finally{Wi.transition=l,Pn=r}return null}function As(e,n,r,l){do{Bs()}while(null!==fs);if(6&ji)throw Error(t(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(t(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(zn(e,u),e===$i&&(Ki=$i=null,qi=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||cs||(cs=!0,qs(un,function(){return Bs(),null})),u=!!(15990&r.flags),15990&r.subtreeFlags||u){u=Wi.transition,Wi.transition=null;var o=Pn;Pn=1;var s=ji;ji|=4,Qi.current=null,yi(e,r),Fi(r,e),Cr(pl),et=!!dl,pl=dl=null,e.current=r,Di(r,e,a),nn(),ji=s,Pn=o,Wi.transition=u}else e.current=r;if(cs&&(cs=!1,fs=e,ds=a),0===(u=e.pendingLanes)&&(ss=null),dn(r.stateNode),ks(e,tn()),null!==n)for(l=e.onRecoverableError,r=0;r<n.length;r++)l((a=n[r]).value,{componentStack:a.stack,digest:a.digest});if(os)throw os=!1,e=is,is=null,e;return 1&ds&&0!==e.tag&&Bs(),1&(u=e.pendingLanes)?e===ms?ps++:(ps=0,ms=e):ps=0,na(),null}function Bs(){if(null!==fs){var e=_n(ds),n=Wi.transition,r=Pn;try{if(Wi.transition=null,Pn=16>e?16:e,null===fs)var l=!1;else{if(e=fs,fs=null,ds=0,6&ji)throw Error(t(331));var a=ji;for(ji|=4,mi=e.current;null!==mi;){var u=mi,o=u.child;if(16&mi.flags){var s=u.deletions;if(null!==s){for(var c=0;c<s.length;c++){var f=s[c];for(mi=f;null!==mi;){var d=mi;switch(d.tag){case 0:case 11:case 15:bi(8,d,u)}var p=d.child;if(null!==p)p.return=d,mi=p;else for(;null!==mi;){var m=(d=mi).sibling,h=d.return;if(Si(d),d===f){mi=null;break}if(null!==m){m.return=h,mi=m;break}mi=h}}}var g=u.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}mi=u}}if(2064&u.subtreeFlags&&null!==o)o.return=u,mi=o;else e:for(;null!==mi;){if(2048&(u=mi).flags)switch(u.tag){case 0:case 11:case 15:bi(9,u,u.return)}var b=u.sibling;if(null!==b){b.return=u.return,mi=b;break e}mi=u.return}}var k=e.current;for(mi=k;null!==mi;){var w=(o=mi).child;if(2064&o.subtreeFlags&&null!==w)w.return=o,mi=w;else e:for(o=k;null!==mi;){if(2048&(s=mi).flags)try{switch(s.tag){case 0:case 11:case 15:ki(9,s)}}catch(e){Qs(s,s.return,e)}if(s===o){mi=null;break e}var S=s.sibling;if(null!==S){S.return=s.return,mi=S;break e}mi=s.return}}if(ji=a,na(),fn&&"function"==typeof fn.onPostCommitFiberRoot)try{fn.onPostCommitFiberRoot(cn,e)}catch(e){}l=!0}return l}finally{Pn=r,Wi.transition=n}}return!1}function Hs(e,n,t){e=Ja(e,n=No(0,n=xo(t,n),1),1),n=vs(),null!==e&&(Cn(e,1,n),ks(e,n))}function Qs(e,n,t){if(3===e.tag)Hs(e,e,t);else for(;null!==n;){if(3===n.tag){Hs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ss||!ss.has(r))){n=Ja(n,e=Po(n,e=xo(t,e),1),1),e=vs(),null!==n&&(Cn(n,1,e),ks(n,e));break}}n=n.return}}function Ws(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=vs(),e.pingedLanes|=e.suspendedLanes&t,$i===e&&(qi&t)===t&&(4===Gi||3===Gi&&(130023424&qi)===qi&&500>tn()-ls?Ls(e,0):ns|=t),ks(e,n)}function js(e,n){0===n&&(1&e.mode?(n=vn,!(130023424&(vn<<=1))&&(vn=4194304)):n=1);var t=vs();null!==(e=qa(e,n))&&(Cn(e,n,t),ks(e,t))}function $s(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),js(e,t)}function Ks(e,n){var r=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(t(314))}null!==l&&l.delete(n),js(e,r)}function qs(e,n){return Ze(e,n)}function Ys(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(e,n,t,r){return new Ys(e,n,t,r)}function Gs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zs(e){if("function"==typeof e)return Gs(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===M)return 14}return 2}function Js(e,n){var t=e.alternate;return null===t?((t=Xs(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function ec(e,n,r,l,a,u){var o=2;if(l=e,"function"==typeof e)Gs(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case E:return nc(r.children,a,u,n);case C:o=8,a|=8;break;case z:return(e=Xs(12,r,n,2|a)).elementType=z,e.lanes=u,e;case L:return(e=Xs(13,r,n,a)).elementType=L,e.lanes=u,e;case T:return(e=Xs(19,r,n,a)).elementType=T,e.lanes=u,e;case R:return tc(r,a,u,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case P:o=9;break e;case _:o=11;break e;case M:o=14;break e;case F:o=16,l=null;break e}throw Error(t(130,null==e?e:typeof e,""))}return(n=Xs(o,r,n,a)).elementType=e,n.type=l,n.lanes=u,n}function nc(e,n,t,r){return(e=Xs(7,e,r,n)).lanes=t,e}function tc(e,n,t,r){return(e=Xs(22,e,r,n)).elementType=R,e.lanes=t,e.stateNode={isHidden:!1},e}function rc(e,n,t){return(e=Xs(6,e,null,n)).lanes=t,e}function lc(e,n,t){return(n=Xs(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ac(e,n,t,r,l){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=En(0),this.expirationTimes=En(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=En(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function uc(e,n,t,r,l,a,u,o,s){return e=new ac(e,n,t,o,s),1===n?(n=1,!0===a&&(n|=8)):n=0,a=Xs(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(a),e}function oc(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function ic(e){if(!e)return Vl;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(t(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Wl(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(t(171))}if(1===e.tag){var r=e.type;if(Wl(r))return Kl(e,r,n)}return n}function sc(e,n,t,r,l,a,u,o,s){return(e=uc(t,r,!0,e,0,a,0,o,s)).context=ic(null),t=e.current,(a=Za(r=vs(),l=ys(t))).callback=null!=n?n:null,Ja(t,a,l),e.current.lanes=l,Cn(e,l,r),ks(e,r),e}function cc(e,n,t,r){var l=n.current,a=vs(),u=ys(l);return t=ic(t),null===n.context?n.context=t:n.pendingContext=t,(n=Za(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Ja(l,n,u))&&(bs(e,l,u,a),eu(e,l,u)),u}function fc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function dc(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function pc(e,n){dc(e,n),(e=e.alternate)&&dc(e,n)}Ai=function(e,n,r){if(null!==e)if(e.memoizedProps!==n.pendingProps||Bl.current)Fo=!0;else{if(0===(e.lanes&r)&&!(128&n.flags))return Fo=!1,ui(e,n,r);Fo=!!(131072&e.flags)}else Fo=!1,va&&1048576&n.flags&&da(n,aa,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;li(e,n),e=n.pendingProps;var a=Ql(n,Al.current);Qa(n,r),a=_u(null,n,l,e,a,r);var u=Lu();return n.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Wl(l)?(u=!0,ql(n)):u=!1,n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Xa(n),a.updater=yo,n.stateNode=a,a._reactInternals=n,So(n,l,e,r),n=Ho(null,n,l,!0,u,r)):(n.tag=0,va&&u&&pa(n),Ro(null,n,a,r),n=n.child),n;case 16:l=n.elementType;e:{switch(li(e,n),e=n.pendingProps,l=(a=l._init)(l._payload),n.type=l,a=n.tag=Zs(l),e=go(l,e),a){case 0:n=Ao(null,n,l,e,r);break e;case 1:n=Bo(null,n,l,e,r);break e;case 11:n=Do(null,n,l,e,r);break e;case 14:n=Oo(null,n,l,go(l.type,e),r);break e}throw Error(t(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,Ao(e,n,l,a=n.elementType===l?a:go(l,a),r);case 1:return l=n.type,a=n.pendingProps,Bo(e,n,l,a=n.elementType===l?a:go(l,a),r);case 3:e:{if(Qo(n),null===e)throw Error(t(387));l=n.pendingProps,a=(u=n.memoizedState).element,Ga(e,n),tu(n,l,null,r);var o=n.memoizedState;if(l=o.element,u.isDehydrated){if(u={element:l,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},n.updateQueue.baseState=u,n.memoizedState=u,256&n.flags){n=Wo(e,n,l,r,a=xo(Error(t(423)),n));break e}if(l!==a){n=Wo(e,n,l,r,a=xo(Error(t(424)),n));break e}for(ga=wl(n.stateNode.containerInfo.firstChild),ha=n,va=!0,ya=null,r=Da(n,null,l,r),n.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(za(),l===a){n=ai(e,n,r);break e}Ro(e,n,l,r)}n=n.child}return n;case 5:return fu(n),null===e&&Sa(n),l=n.type,a=n.pendingProps,u=null!==e?e.memoizedProps:null,o=a.children,ml(l,a)?o=null:null!==u&&ml(l,u)&&(n.flags|=32),Vo(e,n),Ro(e,n,o,r),n.child;case 6:return null===e&&Sa(n),null;case 13:return Go(e,n,r);case 4:return su(n,n.stateNode.containerInfo),l=n.pendingProps,null===e?n.child=Ra(n,null,l,r):Ro(e,n,l,r),n.child;case 11:return l=n.type,a=n.pendingProps,Do(e,n,l,a=n.elementType===l?a:go(l,a),r);case 7:return Ro(e,n,n.pendingProps,r),n.child;case 8:case 12:return Ro(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,u=n.memoizedProps,o=a.value,Ul(Oa,l._currentValue),l._currentValue=o,null!==u)if(yr(u.value,o)){if(u.children===a.children&&!Bl.current){n=ai(e,n,r);break e}}else for(null!==(u=n.child)&&(u.return=n);null!==u;){var s=u.dependencies;if(null!==s){o=u.child;for(var c=s.firstContext;null!==c;){if(c.context===l){if(1===u.tag){(c=Za(-1,r&-r)).tag=2;var f=u.updateQueue;if(null!==f){var d=(f=f.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}u.lanes|=r,null!==(c=u.alternate)&&(c.lanes|=r),Ha(u.return,r,n),s.lanes|=r;break}c=c.next}}else if(10===u.tag)o=u.type===n.type?null:u.child;else if(18===u.tag){if(null===(o=u.return))throw Error(t(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),Ha(o,r,n),o=u.sibling}else o=u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===n){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}Ro(e,n,a.children,r),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,Qa(n,r),l=l(a=Wa(a)),n.flags|=1,Ro(e,n,l,r),n.child;case 14:return a=go(l=n.type,n.pendingProps),Oo(e,n,l,a=go(l.type,a),r);case 15:return Io(e,n,n.type,n.pendingProps,r);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:go(l,a),li(e,n),n.tag=1,Wl(l)?(e=!0,ql(n)):e=!1,Qa(n,r),ko(n,l,a),So(n,l,a,r),Ho(null,n,l,!0,e,r);case 19:return ri(e,n,r);case 22:return Uo(e,n,r)}throw Error(t(156,n.tag))};var mc="function"==typeof reportError?reportError:function(e){console.error(e)};function hc(e){this._internalRoot=e}function gc(e){this._internalRoot=e}function vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function bc(){}function kc(e,n,t,r,l){if(l){if("function"==typeof r){var a=r;r=function(){var e=fc(u);a.call(e)}}var u=sc(n,r,e,0,null,!1,0,"",bc);return e._reactRootContainer=u,e[zl]=u.current,el(8===e.nodeType?e.parentNode:e),Ps(),u}for(;l=e.lastChild;)e.removeChild(l);if("function"==typeof r){var o=r;r=function(){var e=fc(s);o.call(e)}}var s=uc(e,0,!1,null,0,!1,0,"",bc);return e._reactRootContainer=s,e[zl]=s.current,el(8===e.nodeType?e.parentNode:e),Ps(function(){cc(n,s,t,r)}),s}function wc(e,n,t,r,l){var a=t._reactRootContainer;if(a){var u=a;if("function"==typeof l){var o=l;l=function(){var e=fc(u);o.call(e)}}cc(n,u,e,l)}else u=kc(t,n,e,l,r);return fc(u)}gc.prototype.render=hc.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(t(409));cc(e,n,null,null)},gc.prototype.unmount=hc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;Ps(function(){cc(null,e,null,null)}),n[zl]=null}},gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fn();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Hn.length&&0!==n&&n<Hn[t].priority;t++);Hn.splice(t,0,e),0===t&&Kn(e)}},Ln=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=yn(n.pendingLanes);0!==t&&(Nn(n,1|t),ks(n,tn()),!(6&ji)&&(as=tn()+500,na()))}break;case 13:Ps(function(){var n=qa(e,1);if(null!==n){var t=vs();bs(n,e,1,t)}}),pc(e,1)}},Tn=function(e){if(13===e.tag){var n=qa(e,134217728);if(null!==n)bs(n,e,134217728,vs());pc(e,134217728)}},Mn=function(e){if(13===e.tag){var n=ys(e),t=qa(e,n);if(null!==t)bs(t,e,n,vs());pc(e,n)}},Fn=function(){return Pn},Rn=function(e,n){var t=Pn;try{return Pn=e,n()}finally{Pn=t}},Ee=function(e,n,r){switch(n){case"input":if(ee(e,r),n=r.name,"radio"===r.type&&null!=n){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var a=Fl(l);if(!a)throw Error(t(90));Y(l),ee(l,a)}}}break;case"textarea":oe(e,r);break;case"select":null!=(n=r.value)&&le(e,!!r.multiple,n,!1)}},Te=Ns,Me=Ps;var Sc={usingClientEntryPoint:!1,Events:[Tl,Ml,Fl,Pe,Le,Ns]},xc={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ec={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{cn=Cc.inject(Ec),fn=Cc}catch(de){}}_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sc,_e.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!vc(n))throw Error(t(200));return oc(e,n,null,r)},_e.createRoot=function(e,n){if(!vc(e))throw Error(t(299));var r=!1,l="",a=mc;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),n=uc(e,1,!1,null,0,r,0,l,a),e[zl]=n.current,el(8===e.nodeType?e.parentNode:e),new hc(n)},_e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(t(188));throw e=Object.keys(e).join(","),Error(t(268,e))}return e=null===(e=Xe(n))?null:e.stateNode},_e.flushSync=function(e){return Ps(e)},_e.hydrate=function(e,n,r){if(!yc(n))throw Error(t(200));return wc(null,e,n,!0,r)},_e.hydrateRoot=function(e,n,r){if(!vc(e))throw Error(t(405));var l=null!=r&&r.hydratedSources||null,a=!1,u="",o=mc;if(null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(u=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),n=sc(n,null,e,1,null!=r?r:null,a,0,u,o),e[zl]=n.current,el(e),l)for(e=0;e<l.length;e++)a=(a=(r=l[e])._getVersion)(r._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[r,a]:n.mutableSourceEagerHydrationData.push(r,a);return new gc(n)},_e.render=function(e,n,r){if(!yc(n))throw Error(t(200));return wc(null,e,n,!1,r)},_e.unmountComponentAtNode=function(e){if(!yc(e))throw Error(t(40));return!!e._reactRootContainer&&(Ps(function(){wc(null,null,e,!1,function(){e._reactRootContainer=null,e[zl]=null})}),!0)},_e.unstable_batchedUpdates=Ns,_e.unstable_renderSubtreeIntoContainer=function(e,n,r,l){if(!yc(r))throw Error(t(200));if(null==e||void 0===e._reactInternals)throw Error(t(38));return wc(e,n,r,!1,l)},_e.version="18.3.1-next-f1338f8080-20240426"},12,[13,15]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},13,[14]);
__d(function(_g,_r,i,_a,_m,_e,_d){
/**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
'use strict';var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),p=Symbol.iterator;function y(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,h={};function m(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||d}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var S=b.prototype=new v;S.constructor=b,_(S,m.prototype),S.isPureReactComponent=!0;var E=Array.isArray,$=Object.prototype.hasOwnProperty,w={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function k(t,r,n){var o,u={},c=null,a=null;if(null!=r)for(o in void 0!==r.ref&&(a=r.ref),void 0!==r.key&&(c=""+r.key),r)$.call(r,o)&&!R.hasOwnProperty(o)&&(u[o]=r[o]);var f=arguments.length-2;if(1===f)u.children=n;else if(1<f){for(var l=Array(f),s=0;s<f;s++)l[s]=arguments[s+2];u.children=l}if(t&&t.defaultProps)for(o in f=t.defaultProps)void 0===u[o]&&(u[o]=f[o]);return{$$typeof:e,type:t,key:c,ref:a,props:u,_owner:w.current}}function C(t,r){return{$$typeof:e,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function g(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}function j(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var O=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?j(""+e.key):t.toString(36)}function x(r,n,o,u,c){var a=typeof r;"undefined"!==a&&"boolean"!==a||(r=null);var f=!1;if(null===r)f=!0;else switch(a){case"string":case"number":f=!0;break;case"object":switch(r.$$typeof){case e:case t:f=!0}}if(f)return c=c(f=r),r=""===u?"."+P(f,0):u,E(c)?(o="",null!=r&&(o=r.replace(O,"$&/")+"/"),x(c,n,o,"",function(e){return e})):null!=c&&(g(c)&&(c=C(c,o+(!c.key||f&&f.key===c.key?"":(""+c.key).replace(O,"$&/")+"/")+r)),n.push(c)),1;if(f=0,u=""===u?".":u+":",E(r))for(var l=0;l<r.length;l++){var s=u+P(a=r[l],l);f+=x(a,n,o,s,c)}else if("function"==typeof(s=y(r)))for(r=s.call(r),l=0;!(a=r.next()).done;)f+=x(a=a.value,n,o,s=u+P(a,l++),c);else if("object"===a)throw n=String(r),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function I(e,t,r){if(null==e)return e;var n=[],o=0;return x(e,n,"","",function(e){return t.call(r,e,o++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var V={current:null},A={transition:null},D={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:A,ReactCurrentOwner:w};function U(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:I,forEach:function(e,t,r){I(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},_e.Component=m,_e.Fragment=r,_e.Profiler=o,_e.PureComponent=b,_e.StrictMode=n,_e.Suspense=f,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,_e.act=U,_e.cloneElement=function(t,r,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=_({},t.props),u=t.key,c=t.ref,a=t._owner;if(null!=r){if(void 0!==r.ref&&(c=r.ref,a=w.current),void 0!==r.key&&(u=""+r.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(l in r)$.call(r,l)&&!R.hasOwnProperty(l)&&(o[l]=void 0===r[l]&&void 0!==f?f[l]:r[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){f=Array(l);for(var s=0;s<l;s++)f[s]=arguments[s+2];o.children=f}return{$$typeof:e,type:t.type,key:u,ref:c,props:o,_owner:a}},_e.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},_e.createElement=k,_e.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},_e.createRef=function(){return{current:null}},_e.forwardRef=function(e){return{$$typeof:a,render:e}},_e.isValidElement=g,_e.lazy=function(e){return{$$typeof:s,_payload:{_status:-1,_result:e},_init:T}},_e.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},_e.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},_e.unstable_act=U,_e.useCallback=function(e,t){return V.current.useCallback(e,t)},_e.useContext=function(e){return V.current.useContext(e)},_e.useDebugValue=function(){},_e.useDeferredValue=function(e){return V.current.useDeferredValue(e)},_e.useEffect=function(e,t){return V.current.useEffect(e,t)},_e.useId=function(){return V.current.useId()},_e.useImperativeHandle=function(e,t,r){return V.current.useImperativeHandle(e,t,r)},_e.useInsertionEffect=function(e,t){return V.current.useInsertionEffect(e,t)},_e.useLayoutEffect=function(e,t){return V.current.useLayoutEffect(e,t)},_e.useMemo=function(e,t){return V.current.useMemo(e,t)},_e.useReducer=function(e,t,r){return V.current.useReducer(e,t,r)},_e.useRef=function(e){return V.current.useRef(e)},_e.useState=function(e){return V.current.useState(e)},_e.useSyncExternalStore=function(e,t,r){return V.current.useSyncExternalStore(e,t,r)},_e.useTransition=function(){return V.current.useTransition()},_e.version="18.3.1"},14,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},15,[16]);
__d(function(_g,_r,i,_a,_m,_e,_d){
/**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
'use strict';function n(n,e){var t=n.length;n.push(e);n:for(;0<t;){var r=t-1>>>1,l=n[r];if(!(0<a(l,e)))break n;n[r]=e,n[t]=l,t=r}}function e(n){return 0===n.length?null:n[0]}function t(n){if(0===n.length)return null;var e=n[0],t=n.pop();if(t!==e){n[0]=t;n:for(var r=0,l=n.length,u=l>>>1;r<u;){var o=2*(r+1)-1,s=n[o],c=o+1,f=n[c];if(0>a(s,t))c<l&&0>a(f,s)?(n[r]=f,n[c]=t,r=c):(n[r]=s,n[o]=t,r=o);else{if(!(c<l&&0>a(f,t)))break n;n[r]=f,n[c]=t,r=c}}}return e}function a(n,e){var t=n.sortIndex-e.sortIndex;return 0!==t?t:n.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var r=performance;_e.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();_e.unstable_now=function(){return l.now()-u}}var o=[],s=[],c=1,f=null,b=3,d=!1,v=!1,p=!1,y="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function g(a){for(var r=e(s);null!==r;){if(null===r.callback)t(s);else{if(!(r.startTime<=a))break;t(s),r.sortIndex=r.expirationTime,n(o,r)}r=e(s)}}function h(n){if(p=!1,g(n),!v)if(null!==e(o))v=!0,E(k);else{var t=e(s);null!==t&&N(h,t.startTime-n)}}function k(n,a){v=!1,p&&(p=!1,m(T),T=-1),d=!0;var r=b;try{for(g(a),f=e(o);null!==f&&(!(f.expirationTime>a)||n&&!L());){var l=f.callback;if("function"==typeof l){f.callback=null,b=f.priorityLevel;var u=l(f.expirationTime<=a);a=_e.unstable_now(),"function"==typeof u?f.callback=u:f===e(o)&&t(o),g(a)}else t(o);f=e(o)}if(null!==f)var c=!0;else{var y=e(s);null!==y&&N(h,y.startTime-a),c=!1}return c}finally{f=null,b=r,d=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,x=!1,I=null,T=-1,P=5,C=-1;function L(){return!(_e.unstable_now()-C<P)}function M(){if(null!==I){var n=_e.unstable_now();C=n;var e=!0;try{e=I(!0,n)}finally{e?w():(x=!1,I=null)}}else x=!1}if("function"==typeof _)w=function(){_(M)};else if("undefined"!=typeof MessageChannel){var F=new MessageChannel,j=F.port2;F.port1.onmessage=M,w=function(){j.postMessage(null)}}else w=function(){y(M,0)};function E(n){I=n,x||(x=!0,w())}function N(n,e){T=y(function(){n(_e.unstable_now())},e)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(n){n.callback=null},_e.unstable_continueExecution=function(){v||d||(v=!0,E(k))},_e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<n?Math.floor(1e3/n):5},_e.unstable_getCurrentPriorityLevel=function(){return b},_e.unstable_getFirstCallbackNode=function(){return e(o)},_e.unstable_next=function(n){switch(b){case 1:case 2:case 3:var e=3;break;default:e=b}var t=b;b=e;try{return n()}finally{b=t}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=b;b=n;try{return e()}finally{b=t}},_e.unstable_scheduleCallback=function(t,a,r){var l=_e.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?l+r:l:r=l,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:c++,callback:a,priorityLevel:t,startTime:r,expirationTime:u=r+u,sortIndex:-1},r>l?(t.sortIndex=r,n(s,t),null===e(o)&&t===e(s)&&(p?(m(T),T=-1):p=!0,N(h,r-l))):(t.sortIndex=u,n(o,t),v||d||(v=!0,E(k))),t},_e.unstable_shouldYield=L,_e.unstable_wrapCallback=function(n){var e=b;return function(){var t=b;b=e;try{return n.apply(this,arguments)}finally{b=t}}}},16,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}}),_e.getApplication=function(e,l,u){return{element:c.default.createElement(n.default,{WrapperComponent:u,rootTag:{}},c.default.createElement(e,l)),getStyleElement:e=>{var n=f.default.getSheet();return c.default.createElement("style",(0,t.default)({},e,{dangerouslySetInnerHTML:{__html:n.textContent},id:n.id}))}}};var t=e(r(d[0])),n=e(r(d[1])),l=e(r(d[2])),u=r(d[3]),o=e(u),f=e(r(d[4])),c=e(r(d[5]));function p(e,t,f,p){var y=p.hydrate,s=p.initialProps,_=p.mode,E=p.rootTag,h=y?'concurrent'===_?u.hydrate:u.hydrateLegacy:'concurrent'===_?u.render:o.default;return(0,l.default)(E,'Expect to have a valid rootTag, instead got ',E),h(c.default.createElement(n.default,{WrapperComponent:t,ref:f,rootTag:E},c.default.createElement(e,s)),E)}},17,[18,19,9,20,26,13]);
__d(function(g,_r,i,a,m,_e,d){"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},e.apply(null,arguments)}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}})},18,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=function({children:t}){return t}},19,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}}),_e.hydrate=function(e,t){return(0,c.createSheet)(t),(0,n.hydrateRoot)(t,e)},_e.render=function(e,t){(0,c.createSheet)(t);var u=(0,n.createRoot)(t);return u.render(e),u},_e.hydrateLegacy=function(e,n,u){return(0,c.createSheet)(n),(0,t.hydrate)(e,n,u),{unmount:function(){return(0,o.default)(n)}}};var e,t=r(d[0]),n=r(d[1]),u=r(d[2]),o=(e=u)&&e.__esModule?e:{default:e},c=r(d[3]);function f(e,n,u){return(0,c.createSheet)(n),(0,t.render)(e,n,u),{unmount:function(){return(0,o.default)(n)}}}},20,[11,21,10,22]);
__d(function(g,r,i,a,_m,e,d){'use strict';var t=r(d[0]);e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot},21,[11]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.createSheet=function(e,f){void 0===f&&(f=s);var h;if(t.default){var b=null!=e?e.getRootNode():document;if(0===l.length)h=(0,u.default)((0,n.default)(f)),c.forEach(e=>{h.insert(e,0)}),o.set(b,l.length),l.push(h);else{var p=o.get(b);if(null==p){var v=l[0],k=null!=v?v.getTextContent():'';h=(0,u.default)((0,n.default)(f,b,k)),o.set(b,l.length),l.push(h)}else h=l[p]}}else 0===l.length?(h=(0,u.default)((0,n.default)(f)),c.forEach(e=>{h.insert(e,0)}),l.push(h)):h=l[0];return{getTextContent:()=>h.getTextContent(),id:f,insert(e,t){l.forEach(n=>{n.insert(e,t)})}}};var t=e(r(d[0])),n=e(r(d[1])),u=e(r(d[2])),s='react-native-stylesheet',o=new WeakMap,l=[],c=['html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}','body{margin:0;}','button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}','input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}']},22,[23,24,25]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=!(!window.document||!window.document.createElement)},23,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e};function u(e,t,u){if(n.default){var l=null!=t?t:document,o=l.getElementById(e);if(null==o)if((o=document.createElement('style')).setAttribute('id',e),'string'==typeof u&&o.appendChild(document.createTextNode(u)),l instanceof ShadowRoot)l.insertBefore(o,l.firstChild);else{var f=l.head;f&&f.insertBefore(o,f.firstChild)}return o.sheet}return null}},24,[23]);
__d(function(g,r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}});var t=Array.prototype.slice;function e(e){var u,a={},c={};null!=e&&t.call(e.cssRules).forEach((t,e)=>{var n=t.cssText;if(n.indexOf('stylesheet-group')>-1)u=l(t),a[u]={start:e,rules:[n]};else{var s=i(n);null!=s&&(c[s]=!0,a[u].rules.push(n))}});function f(t,e,n){var u=s(a),l=u.indexOf(e)+1,i=u[l],c=null!=i&&null!=a[i].start?a[i].start:t.cssRules.length,f=o(t,n,c);if(f){null==a[e].start&&(a[e].start=c);for(var v=l;v<u.length;v+=1){var p=u[v],h=a[p].start||0;a[p].start=h+1}}return f}var v={getTextContent:()=>s(a).map(t=>{var e=a[t].rules,n=e.shift();return e.sort(),e.unshift(n),e.join('\n')}).join('\n'),insert(t,u){var l=Number(u);if(null==a[l]){var s=n(l);a[l]={start:null,rules:[s]},null!=e&&f(e,l,s)}var o=i(t);null!=o&&null==c[o]&&(c[o]=!0,a[l].rules.push(t),null!=e&&(f(e,l,t)||a[l].rules.pop()))}};return v}function n(t){return"[stylesheet-group=\""+t+"\"]{}"}var u=/["']/g;function l(t){return Number(t.selectorText.split(u)[1])}function s(t){return Object.keys(t).map(Number).sort((t,e)=>t>e?1:-1)}var a=/\s*([,])\s*/g;function i(t){var e=t.split('{')[0].trim();return''!==e?e.replace(a,'$1'):null}function o(t,e,n){try{return t.insertRule(e,n),!0}catch(t){return!1}}},25,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var e=t(r(d[0])),n=t(r(d[1])),i=r(d[2]),o=r(d[3]),l=r(d[4]),u=r(d[5]),c=r(d[6]),f=(r(d[7]),t(r(d[8]))),s=["writingDirection"],_=new WeakMap,v=(0,o.createSheet)(),O={shadow:!0,textShadow:!0};function w(t,i){void 0===i&&(i={});var o=i,f=o.writingDirection,v=(0,n.default)(o,s),w='rtl'===f;return c.styleq.factory({transform(t){var n=_.get(t);return null!=n?(0,l.localizeStyle)(n,w):(0,u.preprocess)(t,(0,e.default)((0,e.default)({},O),v))}})(t)}function h(t){t.forEach(t=>{var e=t[0],n=t[1];null!=v&&e.forEach(t=>{v.insert(t,n)})})}function p(t,e){var n=(0,i.classic)(t,e),o=n[0];return h(n[1]),o}var b={position:'absolute',left:0,right:0,top:0,bottom:0},y=A({x:(0,e.default)({},b)}).x;function A(t){return Object.keys(t).forEach(e=>{var n,o,l,c,f=t[e];null!=f&&!0!==f.$$css&&(e.indexOf('$raw')>-1?n=p(f,e.split('$raw')[0]):(o=f,l=(0,i.atomic)((0,u.preprocess)(o,O)),c=l[0],h(l[1]),n=c),_.set(f,n))}),t}function E(t,e){void 0===e&&(e={});var n='rtl'===e.writingDirection,o=w(t,e);return Array.isArray(o)&&null!=o[1]&&(o[1]=(0,i.inline)(o[1],n)),o}E.absoluteFill=y,E.absoluteFillObject=b,E.create=A,E.compose=function(t,e){return[t,e]},E.flatten=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=e.flat(1/0),o={},l=0;l<i.length;l++){var u=i[l];null!=u&&'object'==typeof u&&Object.assign(o,u)}return o},E.getSheet=function(){return{id:v.id,textContent:v.getTextContent()}},E.hairlineWidth=1,f.default&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=E.flatten);var S=E},26,[4,27,28,22,71,73,75,76,23]);
__d(function(g,_r,i,a,m,_e,d){"use strict";function e(e,n){if(null==e)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==n.indexOf(t))continue;r[t]=e[t]}return r}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}})},27,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function n(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.atomic=function(n){var e={$$css:!0},t=[];function i(n,e,i){var o,l=J(i,e),s=e+l,u=c.get(s);if(null!=u)o=u[0],t.push(u[1]);else{o=T('r',n,n!==e?s:l);var f=v[n]||h,p=[K(o,e,i),f];t.push(p),c.set(s,[o,p])}return o}return Object.keys(n).sort().forEach(t=>{var o=n[t];if(null!=o){var l;if(P.indexOf(t)>-1){var s=i(t,t,'left'),u=i(t,t,'right');'start'===o?l=[s,u]:'end'===o&&(l=[u,s])}var f=N[t];if(null!=f){var c=i(t,f,o),p=i(t,_[f],o);l=[c,p]}if('transitionProperty'===t){for(var b=Array.isArray(o)?o:[o],h=[],v=0;v<b.length;v++){var y=b[v];'string'==typeof y&&null!=N[y]&&h.push(v)}if(h.length>0){var S=[...b],E=[...b];h.forEach(n=>{var e=S[n];if('string'==typeof e){var o=N[e],s=_[o];S[n]=o,E[n]=s;var u=i(t,t,S),f=i(t,t,E);l=[u,f]}})}}null==l?l=i(t,t,o):e.$$css$localize=!0,e[t]=l}}),[e,t]},_e.classic=function(n,i){var o,l={$$css:!0},s=[],u=n.animationKeyframes,c=(0,t.default)(n,f),p=T('css',i,JSON.stringify(n)),h="."+p;if(null!=u){var v=V(u),y=v[0],S=v[1];o=y.join(','),s.push(...S)}var E=M((0,e.default)((0,e.default)({},c),{},{animationName:o}));return s.push(""+h+E),l[p]=p,[l,[[s,b]]]},_e.inline=function(n,e){var t=n||p,o={},l={},s=function(){var n=t[u],i=u,s=n;if(!Object.prototype.hasOwnProperty.call(t,u)||null==n)return"continue";P.indexOf(u)>-1&&('start'===n?s=e?'right':'left':'end'===n&&(s=e?'left':'right'));var f=N[u];if(null!=f&&(i=e?_[f]:f),'transitionProperty'===u){var c=Array.isArray(n)?n:[n];c.forEach((n,t)=>{if('string'==typeof n){var i=N[n];null!=i&&(c[t]=e?_[i]:i,s=c.join(' '))}})}o[i]||(l[i]=s),i===u&&(o[i]=!0)};for(var u in t)s();return(0,i.default)(l,!0)},_e.stringifyValueWithProperty=J;var e=n(r(d[0])),t=n(r(d[1])),i=n(r(d[2])),o=n(r(d[3])),l=n(r(d[4])),s=n(r(d[5])),u=n(r(d[6])),f=["animationKeyframes"],c=new Map,p={},b=1,h=3,v={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},y='borderTopLeftRadius',S='borderTopRightRadius',E='borderBottomLeftRadius',I='borderBottomRightRadius',k='borderLeftColor',R='borderLeftStyle',B='borderLeftWidth',W='borderRightColor',j='borderRightStyle',C='borderRightWidth',O='right',w='marginLeft',x='marginRight',A='paddingLeft',L='paddingRight',$='left',_={[y]:S,[S]:y,[E]:I,[I]:E,[k]:W,[R]:j,[B]:C,[W]:k,[j]:R,[C]:B,[$]:O,[w]:x,[x]:w,[A]:L,[L]:A,[O]:$},N={borderStartStartRadius:y,borderStartEndRadius:S,borderEndStartRadius:E,borderEndEndRadius:I,borderInlineStartColor:k,borderInlineStartStyle:R,borderInlineStartWidth:B,borderInlineEndColor:W,borderInlineEndStyle:j,borderInlineEndWidth:C,insetInlineEnd:O,insetInlineStart:$,marginInlineStart:w,marginInlineEnd:x,paddingInlineStart:A,paddingInlineEnd:L},P=['clear','float','textAlign'];function J(n,e){var t=(0,s.default)(n,e);return'string'!=typeof t?JSON.stringify(t||''):t}function K(n,e,t){var i=[],o="."+n;switch(e){case'animationKeyframes':var l=V(t),s=l[0],u=l[1],f=M({animationName:s.join(',')});i.push(""+o+f,...u);break;case'placeholderTextColor':var c=M({color:t,opacity:1});i.push(o+"::-webkit-input-placeholder"+c,o+"::-moz-placeholder"+c,o+":-ms-input-placeholder"+c,o+"::placeholder"+c);break;case'pointerEvents':var p=t;if('auto'===t||'box-only'===t){if(p='auto!important','box-only'===t){var b=M({pointerEvents:'none'});i.push(o+">*"+b)}}else if(('none'===t||'box-none'===t)&&(p='none!important','box-none'===t)){var h=M({pointerEvents:'auto'});i.push(o+">*"+h)}var v=M({pointerEvents:p});i.push(""+o+v);break;case'scrollbarWidth':'none'===t&&i.push(o+"::-webkit-scrollbar{display:none}");var y=M({scrollbarWidth:t});i.push(""+o+y);break;default:var S=M({[e]:t});i.push(""+o+S)}return i}function M(n){var e=(0,u.default)((0,i.default)(n));return"{"+Object.keys(e).map(n=>{var t=e[n],i=(0,l.default)(n);return Array.isArray(t)?t.map(n=>i+":"+n).join(';'):i+":"+t}).sort().join(';')+";}"}function T(n,e,t){return n+"-"+(0,o.default)(e+t)}function z(n){var e=T('r','animation',JSON.stringify(n)),t='{'+Object.keys(n).map(e=>""+e+M(n[e])).join('')+'}',i=['-webkit-',''].map(n=>"@"+n+"keyframes "+e+t);return[e,i]}function V(n){if('number'==typeof n)throw new Error("Invalid CSS keyframes type: "+typeof n);var e=[],t=[];return(Array.isArray(n)?n:[n]).forEach(n=>{if('string'==typeof n)e.push(n);else{var i=z(n),o=i[0],l=i[1];e.push(o),t.push(...l)}}),[e,t]}},28,[4,27,29,36,37,30,38]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function o(o){return o&&o.__esModule?o:{default:o}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var e=o(r(d[0])),t=o(r(d[1])),i={},n=!t.default||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports('text-decoration-line','none')||window.CSS.supports('-webkit-text-decoration-line','none')),l='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',b={borderColor:['borderTopColor','borderRightColor','borderBottomColor','borderLeftColor'],borderBlockColor:['borderTopColor','borderBottomColor'],borderInlineColor:['borderRightColor','borderLeftColor'],borderRadius:['borderTopLeftRadius','borderTopRightRadius','borderBottomRightRadius','borderBottomLeftRadius'],borderStyle:['borderTopStyle','borderRightStyle','borderBottomStyle','borderLeftStyle'],borderBlockStyle:['borderTopStyle','borderBottomStyle'],borderInlineStyle:['borderRightStyle','borderLeftStyle'],borderWidth:['borderTopWidth','borderRightWidth','borderBottomWidth','borderLeftWidth'],borderBlockWidth:['borderTopWidth','borderBottomWidth'],borderInlineWidth:['borderRightWidth','borderLeftWidth'],insetBlock:['top','bottom'],insetInline:['left','right'],marginBlock:['marginTop','marginBottom'],marginInline:['marginRight','marginLeft'],paddingBlock:['paddingTop','paddingBottom'],paddingInline:['paddingRight','paddingLeft'],overflow:['overflowX','overflowY'],overscrollBehavior:['overscrollBehaviorX','overscrollBehaviorY'],borderBlockStartColor:['borderTopColor'],borderBlockStartStyle:['borderTopStyle'],borderBlockStartWidth:['borderTopWidth'],borderBlockEndColor:['borderBottomColor'],borderBlockEndStyle:['borderBottomStyle'],borderBlockEndWidth:['borderBottomWidth'],borderEndStartRadius:['borderBottomLeftRadius'],borderEndEndRadius:['borderBottomRightRadius'],borderStartStartRadius:['borderTopLeftRadius'],borderStartEndRadius:['borderTopRightRadius'],insetBlockEnd:['bottom'],insetBlockStart:['top'],marginBlockStart:['marginTop'],marginBlockEnd:['marginBottom'],paddingBlockStart:['paddingTop'],paddingBlockEnd:['paddingBottom']},p=(o,t)=>{if(!o)return i;var p={},s=function(){var i=o[f];if(null==i)return"continue";if('backgroundClip'===f)'text'===i&&(p.backgroundClip=i,p.WebkitBackgroundClip=i);else if('flex'===f)-1===i?(p.flexGrow=0,p.flexShrink=1,p.flexBasis='auto'):p.flex=i;else if('font'===f)p[f]=i.replace('System',l);else if('fontFamily'===f)if(i.indexOf('System')>-1){var s=i.split(/,\s*/);s[s.indexOf('System')]=l,p[f]=s.join(',')}else p[f]='monospace'===i?"monospace,monospace":i;else if('textDecorationLine'===f)n?p.textDecorationLine=i:p.textDecoration=i;else if('writingDirection'===f)p.direction=i;else{var c=(0,e.default)(o[f],f),u=b[f];t&&'inset'===f?(null==o.insetInline&&(p.left=c,p.right=c),null==o.insetBlock&&(p.top=c,p.bottom=c)):t&&'margin'===f?(null==o.marginInline&&(p.marginLeft=c,p.marginRight=c),null==o.marginBlock&&(p.marginTop=c,p.marginBottom=c)):t&&'padding'===f?(null==o.paddingInline&&(p.paddingLeft=c,p.paddingRight=c),null==o.paddingBlock&&(p.paddingTop=c,p.paddingBottom=c)):u?u.forEach((e,t)=>{null==o[e]&&(p[e]=c)}):p[f]=c}};for(var f in o)s();return p}},29,[30,23]);
__d(function(g,r,i,a,m,_e,d){"use strict";function o(o){return o&&o.__esModule?o:{default:o}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e=o(r(d[0])),t=o(r(d[1])),l={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function u(o,u){var n=o;return null!=u&&e.default[u]||'number'!=typeof o?null!=u&&l[u]&&(n=(0,t.default)(o)):n=o+"px",n}},30,[31,32]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},o=['ms','Moz','O','Webkit'],l=(t,o)=>t+o.charAt(0).toUpperCase()+o.substring(1);Object.keys(t).forEach(n=>{o.forEach(o=>{t[l(o,n)]=t[n]})});var n=t},31,[]);
__d(function(_g,_r,i,_a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(_r(d[0])),u=e(_r(d[1])),n=function(e,n){if(void 0===n&&(n=1),null!=e){if('string'==typeof e&&(0,t.default)(e))return e;var r=(0,u.default)(e);if(null!=r)return"rgba("+(r>>16&255)+","+(r>>8&255)+","+(255&r)+","+((r>>24&255)/255*n).toFixed(2)+")"}}},32,[33,34]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=t=>'currentcolor'===t||'currentColor'===t||'inherit'===t||0===t.indexOf('var(')},33,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e},n=e=>{if(null==e)return e;var t=(0,u.default)(e);return null!=t?t=(t<<24|t>>>8)>>>0:void 0}},34,[35]);
__d(function(_g,_r,i,a,m,e,d){'use strict';function r(r,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?r+6*(n-r)*t:t<.5?n:t<.6666666666666666?r+(n-r)*(.6666666666666666-t)*6:r}function n(n,t,s){const u=s<.5?s*(1+t):s+t-s*t,c=2*s-u,l=r(c,u,n+.3333333333333333),o=r(c,u,n),g=r(c,u,n-.3333333333333333);return Math.round(255*l)<<24|Math.round(255*o)<<16|Math.round(255*g)<<8}function t(n,t,s){if(t+s>=1){const r=Math.round(255*t/(t+s));return r<<24|r<<16|r<<8}const u=r(0,1,n+.3333333333333333)*(1-t-s)+t,c=r(0,1,n)*(1-t-s)+t,l=r(0,1,n-.3333333333333333)*(1-t-s)+t;return Math.round(255*u)<<24|Math.round(255*c)<<16|Math.round(255*l)<<8}const s='[-+]?\\d*\\.?\\d+',u="[-+]?\\d*\\.?\\d+%";function c(...r){return'\\(\\s*('+r.join(')\\s*,?\\s*(')+')\\s*\\)'}function l(...r){return'\\(\\s*('+r.slice(0,r.length-1).join(')\\s*,?\\s*(')+')\\s*/\\s*('+r[r.length-1]+')\\s*\\)'}function o(...r){return'\\(\\s*('+r.join(')\\s*,\\s*(')+')\\s*\\)'}let g;function h(){return void 0===g&&(g={rgb:new RegExp('rgb'+c(s,s,s)),rgba:new RegExp('rgba('+o(s,s,s,s)+'|'+l(s,s,s,s)+')'),hsl:new RegExp('hsl'+c(s,u,u)),hsla:new RegExp('hsla('+o(s,u,u,s)+'|'+l(s,u,u,s)+')'),hwb:new RegExp('hwb'+c(s,u,u)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),g}function b(r){const n=parseInt(r,10);return n<0?0:n>255?255:n}function p(r){return(parseFloat(r)%360+360)%360/360}function f(r){const n=parseFloat(r);return n<0?0:n>1?255:Math.round(255*n)}function y(r){const n=parseFloat(r);return n<0?0:n>100?1:n/100}function k(r){switch(r){case'transparent':return 0;case'aliceblue':return 4042850303;case'antiquewhite':return 4209760255;case'aqua':case'cyan':return 16777215;case'aquamarine':return 2147472639;case'azure':return 4043309055;case'beige':return 4126530815;case'bisque':return 4293182719;case'black':return 255;case'blanchedalmond':return 4293643775;case'blue':return 65535;case'blueviolet':return 2318131967;case'brown':return 2771004159;case'burlywood':return 3736635391;case'burntsienna':return 3934150143;case'cadetblue':return 1604231423;case'chartreuse':return 2147418367;case'chocolate':return 3530104575;case'coral':return 4286533887;case'cornflowerblue':return 1687547391;case'cornsilk':return 4294499583;case'crimson':return 3692313855;case'darkblue':return 35839;case'darkcyan':return 9145343;case'darkgoldenrod':return 3095792639;case'darkgray':case'darkgrey':return 2846468607;case'darkgreen':return 6553855;case'darkkhaki':return 3182914559;case'darkmagenta':return 2332068863;case'darkolivegreen':return 1433087999;case'darkorange':return 4287365375;case'darkorchid':return 2570243327;case'darkred':return 2332033279;case'darksalmon':return 3918953215;case'darkseagreen':return 2411499519;case'darkslateblue':return 1211993087;case'darkslategray':case'darkslategrey':return 793726975;case'darkturquoise':return 13554175;case'darkviolet':return 2483082239;case'deeppink':return 4279538687;case'deepskyblue':return 12582911;case'dimgray':case'dimgrey':return 1768516095;case'dodgerblue':return 512819199;case'firebrick':return 2988581631;case'floralwhite':return 4294635775;case'forestgreen':return 579543807;case'fuchsia':case'magenta':return 4278255615;case'gainsboro':return 3705462015;case'ghostwhite':return 4177068031;case'gold':return 4292280575;case'goldenrod':return 3668254975;case'gray':case'grey':return 2155905279;case'green':return 8388863;case'greenyellow':return 2919182335;case'honeydew':return 4043305215;case'hotpink':return 4285117695;case'indianred':return 3445382399;case'indigo':return 1258324735;case'ivory':return 4294963455;case'khaki':return 4041641215;case'lavender':return 3873897215;case'lavenderblush':return 4293981695;case'lawngreen':return 2096890111;case'lemonchiffon':return 4294626815;case'lightblue':return 2916673279;case'lightcoral':return 4034953471;case'lightcyan':return 3774873599;case'lightgoldenrodyellow':return 4210742015;case'lightgray':case'lightgrey':return 3553874943;case'lightgreen':return 2431553791;case'lightpink':return 4290167295;case'lightsalmon':return 4288707327;case'lightseagreen':return 548580095;case'lightskyblue':return 2278488831;case'lightslategray':case'lightslategrey':return 2005441023;case'lightsteelblue':return 2965692159;case'lightyellow':return 4294959359;case'lime':return 16711935;case'limegreen':return 852308735;case'linen':return 4210091775;case'maroon':return 2147483903;case'mediumaquamarine':return 1724754687;case'mediumblue':return 52735;case'mediumorchid':return 3126187007;case'mediumpurple':return 2473647103;case'mediumseagreen':return 1018393087;case'mediumslateblue':return 2070474495;case'mediumspringgreen':return 16423679;case'mediumturquoise':return 1221709055;case'mediumvioletred':return 3340076543;case'midnightblue':return 421097727;case'mintcream':return 4127193855;case'mistyrose':return 4293190143;case'moccasin':return 4293178879;case'navajowhite':return 4292783615;case'navy':return 33023;case'oldlace':return 4260751103;case'olive':return 2155872511;case'olivedrab':return 1804477439;case'orange':return 4289003775;case'orangered':return 4282712319;case'orchid':return 3664828159;case'palegoldenrod':return 4008225535;case'palegreen':return 2566625535;case'paleturquoise':return 2951671551;case'palevioletred':return 3681588223;case'papayawhip':return 4293907967;case'peachpuff':return 4292524543;case'peru':return 3448061951;case'pink':return 4290825215;case'plum':return 3718307327;case'powderblue':return 2967529215;case'purple':return 2147516671;case'rebeccapurple':return 1714657791;case'red':return 4278190335;case'rosybrown':return 3163525119;case'royalblue':return 1097458175;case'saddlebrown':return 2336560127;case'salmon':return 4202722047;case'sandybrown':return 4104413439;case'seagreen':return 780883967;case'seashell':return 4294307583;case'sienna':return 2689740287;case'silver':return 3233857791;case'skyblue':return 2278484991;case'slateblue':return 1784335871;case'slategray':case'slategrey':return 1887473919;case'snow':return 4294638335;case'springgreen':return 16744447;case'steelblue':return 1182971135;case'tan':return 3535047935;case'teal':return 8421631;case'thistle':return 3636451583;case'tomato':return 4284696575;case'turquoise':return 1088475391;case'violet':return 4001558271;case'wheat':return 4125012991;case'white':return 4294967295;case'whitesmoke':return 4126537215;case'yellow':return 4294902015;case'yellowgreen':return 2597139199}return null}m.exports=function(r){if('number'==typeof r)return r>>>0===r&&r>=0&&r<=4294967295?r:null;if('string'!=typeof r)return null;const s=h();let u;if(u=s.hex6.exec(r))return parseInt(u[1]+'ff',16)>>>0;const c=k(r);return null!=c?c:(u=s.rgb.exec(r))?(b(u[1])<<24|b(u[2])<<16|b(u[3])<<8|255)>>>0:(u=s.rgba.exec(r))?void 0!==u[6]?(b(u[6])<<24|b(u[7])<<16|b(u[8])<<8|f(u[9]))>>>0:(b(u[2])<<24|b(u[3])<<16|b(u[4])<<8|f(u[5]))>>>0:(u=s.hex3.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+'ff',16)>>>0:(u=s.hex8.exec(r))?parseInt(u[1],16)>>>0:(u=s.hex4.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+u[4]+u[4],16)>>>0:(u=s.hsl.exec(r))?(255|n(p(u[1]),y(u[2]),y(u[3])))>>>0:(u=s.hsla.exec(r))?void 0!==u[6]?(n(p(u[6]),y(u[7]),y(u[8]))|f(u[9]))>>>0:(n(p(u[2]),y(u[3]),y(u[4]))|f(u[5]))>>>0:(u=s.hwb.exec(r))?(255|t(p(u[1]),y(u[2]),y(u[3])))>>>0:null}},35,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t,c){for(var o,n=t.length,u=c^n,h=0;n>=4;)o=1540483477*(65535&(o=255&t.charCodeAt(h)|(255&t.charCodeAt(++h))<<8|(255&t.charCodeAt(++h))<<16|(255&t.charCodeAt(++h))<<24))+((1540483477*(o>>>16)&65535)<<16),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),n-=4,++h;switch(n){case 3:u^=(255&t.charCodeAt(h+2))<<16;case 2:u^=(255&t.charCodeAt(h+1))<<8;case 1:u=1540483477*(65535&(u^=255&t.charCodeAt(h)))+((1540483477*(u>>>16)&65535)<<16)}return u=1540483477*(65535&(u^=u>>>13))+((1540483477*(u>>>16)&65535)<<16),(u^=u>>>15)>>>0}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return c}});var c=c=>t(c,1).toString(36)},36,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return c}});var t=/[A-Z]/g,n=/^ms-/,u={};function o(t){return'-'+t.toLowerCase()}var c=function(c){if(c in u)return u[c];var f=c.replace(t,o);return u[c]=n.test(f)?'-'+f:f}},37,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1])),n=(0,t.default)(u.default)},38,[39,45]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){var i=l.prefixMap,o=l.plugins;return function l(s){for(var v in s){var c=s[v];if((0,n.default)(c))s[v]=l(c);else if(Array.isArray(c)){for(var _=[],p=0,y=c.length;p<y;++p){var M=(0,u.default)(o,v,c[p],s,i);(0,f.default)(_,M||c[p])}_.length>0&&(s[v]=_)}else{var h=(0,u.default)(o,v,c,s,i);h&&(s[v]=h),s=(0,t.default)(i,v,s)}}return s}};var t=l(r(d[0])),u=l(r(d[1])),f=l(r(d[2])),n=l(r(d[3]));function l(t){return t&&t.__esModule?t:{default:t}}},39,[40,42,43,44]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u,n){var l=t[u];if(l&&n.hasOwnProperty(u))for(var o=(0,f.default)(u),_=0;_<l.length;++_){var i=l[_]+o;n[i]||(n[i]=n[u])}return n};var t,u=r(d[0]),f=(t=u)&&t.__esModule?t:{default:t}},40,[41]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},41,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,u,f,i){for(var o=0,c=t.length;o<c;++o){var l=t[o](n,u,f,i);if(l)return l}}},42,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function n(n,t){-1===n.indexOf(t)&&n.push(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,f){if(Array.isArray(f))for(var i=0,u=f.length;i<u;++i)n(t,f[i]);else n(t,f)}},43,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t instanceof Object&&!Array.isArray(t)}},44,[]);
__d(function(g,r,i,a,_m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}});var t=e(r(d[0])),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),u=e(r(d[5])),m=e(r(d[6])),c=e(r(d[7])),k=e(r(d[8])),f=['Webkit'],p=['Webkit','ms'],b={plugins:[t.default,o.default,l.default,n.default,s.default,u.default,m.default,c.default,k.default],prefixMap:{appearance:['Webkit','Moz','ms'],userSelect:['Webkit','Moz'],textEmphasisPosition:p,textEmphasis:p,textEmphasisStyle:p,textEmphasisColor:p,boxDecorationBreak:p,clipPath:f,maskImage:p,maskMode:p,maskRepeat:p,maskPosition:p,maskClip:p,maskOrigin:p,maskSize:p,maskComposite:p,mask:p,maskBorderSource:p,maskBorderMode:p,maskBorderSlice:p,maskBorderWidth:p,maskBorderOutset:p,maskBorderRepeat:p,maskBorder:p,maskType:p,textDecorationStyle:f,textDecorationSkip:f,textDecorationLine:f,textDecorationColor:f,filter:f,breakAfter:f,breakBefore:f,breakInside:f,columnCount:f,columnFill:f,columnGap:f,columnRule:f,columnRuleColor:f,columnRuleStyle:f,columnRuleWidth:f,columns:f,columnSpan:f,columnWidth:f,backdropFilter:f,hyphens:f,flowInto:f,flowFrom:f,regionFragment:f,textOrientation:f,tabSize:['Moz'],fontKerning:f,textSizeAdjust:f}}},45,[46,47,62,63,64,66,67,68,69]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return null}},46,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,u){if('string'==typeof u&&!(0,t.isPrefixedValue)(u)&&-1!==u.indexOf('cross-fade('))return n.map(function(t){return u.replace(f,t+'cross-fade(')})};var t=r(d[0]),f=/cross-fade\(/g,n=['-webkit-','']},47,[48]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"assignStyle",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(_e,"camelCaseProperty",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(_e,"cssifyDeclaration",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(_e,"cssifyObject",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(_e,"hyphenateProperty",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"isPrefixedProperty",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(_e,"isPrefixedValue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(_e,"isUnitlessProperty",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(_e,"normalizeProperty",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(_e,"resolveArrayValue",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(_e,"unprefixProperty",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(_e,"unprefixValue",{enumerable:!0,get:function(){return s.default}});var t=e(r(d[0])),n=e(r(d[1])),u=e(r(d[2])),f=e(r(d[3])),o=e(r(d[4])),l=e(r(d[5])),c=e(r(d[6])),b=e(r(d[7])),y=e(r(d[8])),p=e(r(d[9])),P=e(r(d[10])),s=e(r(d[11]))},48,[49,50,51,54,52,55,56,57,58,60,59,61]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t){return f(t)||u(t)||i(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function u(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return c(t)}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,i=new Array(n);o<n;o++)i[o]=t[o];return i}function y(t){return t.filter(function(n,o){return t.lastIndexOf(n)===o})}function l(o){for(var i=0,u=arguments.length<=1?0:arguments.length-1;i<u;++i){var f=i+1<1||arguments.length<=i+1?void 0:arguments[i+1];for(var c in f){var b=f[c],s=o[c];if(s&&b){if(Array.isArray(s)){o[c]=y(s.concat(b));continue}if(Array.isArray(b)){o[c]=y([s].concat(n(b)));continue}if('object'===t(b)){o[c]=l({},s,b);continue}}o[c]=b}}return o}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return l}})},49,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=/-([a-z])/g,n=/^Ms/g,u={};function c(t){return t[1].toUpperCase()}function o(o){if(u.hasOwnProperty(o))return u[o];var f=o.replace(t,c).replace(n,'ms');return u[o]=f,f}},50,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e,t){return(0,u.default)(e)+':'+t}},51,[52]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e){return(0,u.default)(e)}},52,[53]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return c}});var t=/[A-Z]/g,n=/^ms-/,u={};function o(t){return'-'+t.toLowerCase()}var c=function(c){if(u.hasOwnProperty(c))return u[c];var f=c.replace(t,o);return u[c]=n.test(f)?'-'+f:f}},53,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e};function u(e){var t='';for(var u in e){var f=e[u];'string'!=typeof f&&'number'!=typeof f||(t&&(t+=';'),t+=(0,n.default)(u,f))}return t}},54,[51]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/^(Webkit|Moz|O|ms)/;function n(n){return t.test(n)}},55,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/-webkit-|-moz-|-ms-/;function n(n){return'string'==typeof n&&t.test(n)}},56,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}});var e,t=r(d[0]),o=(e=t)&&e.__esModule?e:{default:e},i={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n=['animationIterationCount','boxFlex','boxFlexGroup','boxOrdinalGroup','columnCount','flex','flexGrow','flexPositive','flexShrink','flexNegative','flexOrder','gridColumn','gridColumnEnd','gridColumnStart','gridRow','gridRowEnd','gridRowStart','lineClamp','order'],l=['Webkit','ms','Moz','O'];function u(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}for(var f=0,s=n.length;f<s;++f){var c=n[f];i[c]=!0;for(var p=0,h=l.length;p<h;++p)i[u(l[p],c)]=!0}for(var x in i)i[(0,o.default)(x)]=!0;function b(e){return i.hasOwnProperty(e)}},57,[52]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1]));function n(e){return(0,u.default)((0,t.default)(e))}},58,[50,59]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/^(ms|Webkit|Moz|O)/;function n(n){var u=n.replace(t,'');return u.charAt(0).toLowerCase()+u.slice(1)}},59,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e,t){return t.join(';'+(0,u.default)(e)+':')}},60,[52]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/(-ms-|-webkit-|-moz-|-o-)/g;function n(n){return'string'==typeof n?n.replace(t,''):n}},61,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u){if('cursor'===n&&t.hasOwnProperty(u))return o.map(function(o){return o+u})};var o=['-webkit-','-moz-',''],t={'zoom-in':!0,'zoom-out':!0,grab:!0,grabbing:!0}},62,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,l){if('string'==typeof l&&!(0,t.isPrefixedValue)(l)&&-1!==l.indexOf('filter('))return n.map(function(t){return l.replace(f,t+'filter(')})};var t=r(d[0]),f=/filter\(/g,n=['-webkit-','']},63,[48]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){if('string'==typeof u&&!(0,n.default)(u)&&u.indexOf('image-set(')>-1)return f.map(function(t){return u.replace(/image-set\(/g,t+'image-set(')})};var t,u=r(d[0]),n=(t=u)&&t.__esModule?t:{default:t};var f=['-webkit-','']},64,[65]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return'string'==typeof n&&t.test(n)};var t=/-webkit-|-moz-|-ms-/},65,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,n,i){if(Object.prototype.hasOwnProperty.call(t,o))for(var l=t[o],b=0,B=l.length;b<B;++b)i[l[b]]=n};var t={marginBlockStart:['WebkitMarginBefore'],marginBlockEnd:['WebkitMarginAfter'],marginInlineStart:['WebkitMarginStart','MozMarginStart'],marginInlineEnd:['WebkitMarginEnd','MozMarginEnd'],paddingBlockStart:['WebkitPaddingBefore'],paddingBlockEnd:['WebkitPaddingAfter'],paddingInlineStart:['WebkitPaddingStart','MozPaddingStart'],paddingInlineEnd:['WebkitPaddingEnd','MozPaddingEnd'],borderBlockStart:['WebkitBorderBefore'],borderBlockStartColor:['WebkitBorderBeforeColor'],borderBlockStartStyle:['WebkitBorderBeforeStyle'],borderBlockStartWidth:['WebkitBorderBeforeWidth'],borderBlockEnd:['WebkitBorderAfter'],borderBlockEndColor:['WebkitBorderAfterColor'],borderBlockEndStyle:['WebkitBorderAfterStyle'],borderBlockEndWidth:['WebkitBorderAfterWidth'],borderInlineStart:['WebkitBorderStart','MozBorderStart'],borderInlineStartColor:['WebkitBorderStartColor','MozBorderStartColor'],borderInlineStartStyle:['WebkitBorderStartStyle','MozBorderStartStyle'],borderInlineStartWidth:['WebkitBorderStartWidth','MozBorderStartWidth'],borderInlineEnd:['WebkitBorderEnd','MozBorderEnd'],borderInlineEndColor:['WebkitBorderEndColor','MozBorderEndColor'],borderInlineEndStyle:['WebkitBorderEndStyle','MozBorderEndStyle'],borderInlineEndWidth:['WebkitBorderEndWidth','MozBorderEndWidth']}},66,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,c){if('position'===t&&'sticky'===c)return['-webkit-sticky','sticky']}},67,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,h){if(n.hasOwnProperty(c)&&o.hasOwnProperty(h))return t.map(function(t){return t+h})};var t=['-webkit-','-moz-',''],n={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={'min-content':!0,'max-content':!0,'fill-available':!0,'fit-content':!0,'contain-floats':!0}},68,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,i,o,u){if('string'==typeof i&&f.hasOwnProperty(t)){var l=s(i,u),p=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-moz-|-ms-/.test(t)}).join(',');if(t.indexOf('Webkit')>-1)return p;var v=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-webkit-|-ms-/.test(t)}).join(',');return t.indexOf('Moz')>-1?v:(o['Webkit'+(0,n.default)(t)]=p,o['Moz'+(0,n.default)(t)]=v,l)}};var t=o(r(d[0])),i=o(r(d[1])),n=o(r(d[2]));function o(t){return t&&t.__esModule?t:{default:t}}var f={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:'-webkit-',Moz:'-moz-',ms:'-ms-'};function s(n,o){if((0,i.default)(n))return n;for(var f=n.split(/,(?![^()]*(?:\([^()]*\))?\))/g),s=0,l=f.length;s<l;++s){var p=f[s],v=[p];for(var c in o){var b=(0,t.default)(c);if(p.indexOf(b)>-1&&'order'!==b)for(var k=o[c],z=0,M=k.length;z<M;++z)v.unshift(p.replace(b,u[k[z]]+b))}f[s]=v.join(',')}return f.join(',')}},69,[70,65,41]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,f.default)(t)};var t,u=r(d[0]),f=(t=u)&&t.__esModule?t:{default:t}},70,[53]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},71,[72]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.localizeStyle=function(l,s){if(null!=l[t]){var c=s?1:0;if(n.has(l)){var f=n.get(l),o=f[c];return null==o&&(o=u(l,s),f[c]=o,n.set(l,f)),o}var v=u(l,s),y=new Array(2);return y[c]=v,n.set(l,y),v}return l};var n=new WeakMap,t='$$css$localize';function u(n,u){var l={};for(var s in n)if(s!==t){var c=n[s];Array.isArray(c)?l[s]=u?c[1]:c[0]:l[s]=c}return l}},72,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,"createBoxShadowValue",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,"createTextShadowValue",{enumerable:!0,get:function(){return h}}),Object.defineProperty(_e,"createTransformValue",{enumerable:!0,get:function(){return S}}),Object.defineProperty(_e,"preprocess",{enumerable:!0,get:function(){return c}});var t=e(r(d[0])),n=e(r(d[1])),o=r(d[2]),l={},u={height:0,width:0},s=e=>{var o=e.shadowColor,l=e.shadowOffset,s=e.shadowOpacity,h=e.shadowRadius,f=l||u,S=f.height,w=f.width,b=(0,n.default)(w),c=(0,n.default)(S),p=(0,n.default)(h||0),x=(0,t.default)(o||'black',s);if(null!=x&&null!=b&&null!=c&&null!=p)return b+" "+c+" "+p+" "+x},h=e=>{var t=e.textShadowColor,o=e.textShadowOffset,l=e.textShadowRadius,s=o||u,h=s.height,f=s.width,S=l||0,w=(0,n.default)(f),b=(0,n.default)(h),c=(0,n.default)(S),p=(0,n.default)(t,'textShadowColor');if(p&&(0!==h||0!==f||0!==S)&&null!=w&&null!=b&&null!=c)return w+" "+b+" "+c+" "+p},f=e=>{var t=Object.keys(e)[0],o=e[t];return'matrix'===t||'matrix3d'===t?t+"("+o.join(',')+")":t+"("+(0,n.default)(o,t)+")"},S=e=>e.map(f).join(' '),w={borderBottomEndRadius:'borderEndEndRadius',borderBottomStartRadius:'borderEndStartRadius',borderTopEndRadius:'borderStartEndRadius',borderTopStartRadius:'borderStartStartRadius',borderEndColor:'borderInlineEndColor',borderEndStyle:'borderInlineEndStyle',borderEndWidth:'borderInlineEndWidth',borderStartColor:'borderInlineStartColor',borderStartStyle:'borderInlineStartStyle',borderStartWidth:'borderInlineStartWidth',end:'insetInlineEnd',marginEnd:'marginInlineEnd',marginHorizontal:'marginInline',marginStart:'marginInlineStart',marginVertical:'marginBlock',paddingEnd:'paddingInlineEnd',paddingHorizontal:'paddingInline',paddingStart:'paddingInlineStart',paddingVertical:'paddingBlock',start:'insetInlineStart'},b={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},c=function(e,t){void 0===t&&(t={});var n=e||l,u={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,o.warnOnce)('shadowStyles',"\"shadow*\" style props are deprecated. Use \"boxShadow\".");var f=s(n);if(null!=f&&null==u.boxShadow){var c=n.boxShadow,p=c?c+", "+f:f;u.boxShadow=p}}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,o.warnOnce)('textShadowStyles',"\"textShadow*\" style props are deprecated. Use \"textShadow\".");var x=h(n);if(null!=x&&null==u.textShadow){var y=n.textShadow,O=y?y+", "+x:x;u.textShadow=O}}for(var v in n)if(null==b[v]&&'shadowColor'!==v&&'shadowOffset'!==v&&'shadowOpacity'!==v&&'shadowRadius'!==v&&'textShadowColor'!==v&&'textShadowOffset'!==v&&'textShadowRadius'!==v){var E=n[v],R=w[v]||v,I=E;!Object.prototype.hasOwnProperty.call(n,v)||R!==v&&null!=n[R]||('aspectRatio'===R&&'number'==typeof I?u[R]=I.toString():'fontVariant'===R?(Array.isArray(I)&&I.length>0&&(I=I.join(' ')),u[R]=I):'textAlignVertical'===R?null==n.verticalAlign&&(u.verticalAlign='center'===I?'middle':I):'transform'===R?(Array.isArray(I)&&(I=S(I)),u.transform=I):u[R]=I)}return u},p=c},73,[32,30,74]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.warnOnce=function(n,t){}},74,[]);
__d(function(g,r,_i2,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.styleq=void 0;var l=new WeakMap;function n(n){var s,u,t;return null!=n&&(s=!0===n.disableCache,u=!0===n.disableMix,t=n.transform),function(){for(var n=[],i='',o=null,f=s?null:l,v=new Array(arguments.length),c=0;c<arguments.length;c++)v[c]=arguments[c];for(;v.length>0;){var p=v.pop();if(null!=p&&!1!==p)if(Array.isArray(p))for(var y=0;y<p.length;y++)v.push(p[y]);else{var h=null!=t?t(p):p;if(h.$$css){var b='';if(null!=f&&f.has(h)){var M=f.get(h);null!=M&&(b=M[0],n.push.apply(n,M[1]),f=M[2])}else{var $=[];for(var _ in h){var j=h[_];"$$css"!==_&&('string'==typeof j||null===j?n.includes(_)||(n.push(_),null!=f&&$.push(_),'string'==typeof j&&(b+=b?' '+j:j)):console.error("styleq: ".concat(_," typeof ").concat(String(j)," is not \"string\" or \"null\".")))}if(null!=f){var q=new WeakMap;f.set(h,[b,$,q]),f=q}}b&&(i=i?b+' '+i:b)}else if(u)null==o&&(o={}),o=Object.assign({},h,o);else{var w=null;for(var A in h){var O=h[A];void 0!==O&&(n.includes(A)||(null!=O&&(null==o&&(o={}),null==w&&(w={}),w[A]=O),n.push(A),f=null))}null!=w&&(o=Object.assign(w,o))}}}return[i,o]}}var s=n();e.styleq=s,s.factory=n},75,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.validate=function(e){for(var n in e){var u=n.trim(),c=e[u],f=!1;if(null!==c){if('string'==typeof c&&c.indexOf('!important')>-1)s("Invalid style declaration \""+u+":"+c+"\". Values cannot include \"!important\""),f=!0;else{var p='';'animation'===u||'animationName'===u?(p='Did you mean "animationKeyframes"?',f=!0):'direction'===u?(p='Did you mean "writingDirection"?',f=!0):t[u]?(p='Please use long-form properties.',f=!0):l[u]&&'string'==typeof c&&(0,o.default)(c).nodes.length>1&&(p="Value is \""+c+"\" but only single values are supported.",f=!0),''!==p&&s("Invalid style property of \""+u+"\". "+p)}f&&delete e[n]}}};var e,n=r(d[0]),o=(e=n)&&e.__esModule?e:{default:e},t={background:!0,borderBottom:!0,borderLeft:!0,borderRight:!0,borderTop:!0,font:!0,grid:!0,outline:!0,textDecoration:!0},l={flex:!0,margin:!0,padding:!0,borderColor:!0,borderRadius:!0,borderStyle:!0,borderWidth:!0,inset:!0,insetBlock:!0,insetInline:!0,marginBlock:!0,marginInline:!0,marginHorizontal:!0,marginVertical:!0,paddingBlock:!0,paddingInline:!0,paddingHorizontal:!0,paddingVertical:!0,overflow:!0,overscrollBehavior:!0,backgroundPosition:!0};function s(e){console.error(e)}},76,[77]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=r(d[2]);function s(n){return this instanceof s?(this.nodes=t(n),this):new s(n)}s.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},s.prototype.walk=function(t,o){return n(this.nodes,t,o),this},s.unit=r(d[3]),s.walk=n,s.stringify=o,m.exports=s},77,[78,79,80,81]);
__d(function(g,r,i,a,m,e,d){var o="(".charCodeAt(0),n=")".charCodeAt(0),c="'".charCodeAt(0),t='"'.charCodeAt(0),s="\\".charCodeAt(0),u="/".charCodeAt(0),l=",".charCodeAt(0),h=":".charCodeAt(0),f="*".charCodeAt(0),p="u".charCodeAt(0),x="U".charCodeAt(0),A="+".charCodeAt(0),C=/^[a-f0-9?-]+$/i;m.exports=function(I){for(var v,E,y,w,O,b,_,q,U,$=[],j=I,k=0,z=j.charCodeAt(k),B=j.length,D=[{nodes:$}],F=0,G="",H="",J="";k<B;)if(z<=32){v=k;do{v+=1,z=j.charCodeAt(v)}while(z<=32);w=j.slice(k,v),y=$[$.length-1],z===n&&F?J=w:y&&"div"===y.type?(y.after=w,y.sourceEndIndex+=w.length):z===l||z===h||z===u&&j.charCodeAt(v+1)!==f&&(!U||U&&"function"===U.type&&"calc"!==U.value)?H=w:$.push({type:"space",sourceIndex:k,sourceEndIndex:v,value:w}),k=v}else if(z===c||z===t){v=k,w={type:"string",sourceIndex:k,quote:E=z===c?"'":'"'};do{if(O=!1,~(v=j.indexOf(E,v+1)))for(b=v;j.charCodeAt(b-1)===s;)b-=1,O=!O;else v=(j+=E).length-1,w.unclosed=!0}while(O);w.value=j.slice(k+1,v),w.sourceEndIndex=w.unclosed?v:v+1,$.push(w),k=v+1,z=j.charCodeAt(k)}else if(z===u&&j.charCodeAt(k+1)===f)w={type:"comment",sourceIndex:k,sourceEndIndex:(v=j.indexOf("*/",k))+2},-1===v&&(w.unclosed=!0,v=j.length,w.sourceEndIndex=v),w.value=j.slice(k+2,v),$.push(w),k=v+2,z=j.charCodeAt(k);else if(z!==u&&z!==f||!U||"function"!==U.type||"calc"!==U.value)if(z===u||z===l||z===h)w=j[k],$.push({type:"div",sourceIndex:k-H.length,sourceEndIndex:k+w.length,value:w,before:H,after:""}),H="",k+=1,z=j.charCodeAt(k);else if(o===z){v=k;do{v+=1,z=j.charCodeAt(v)}while(z<=32);if(q=k,w={type:"function",sourceIndex:k-G.length,value:G,before:j.slice(q+1,v)},k=v,"url"===G&&z!==c&&z!==t){v-=1;do{if(O=!1,~(v=j.indexOf(")",v+1)))for(b=v;j.charCodeAt(b-1)===s;)b-=1,O=!O;else v=(j+=")").length-1,w.unclosed=!0}while(O);_=v;do{_-=1,z=j.charCodeAt(_)}while(z<=32);q<_?(w.nodes=k!==_+1?[{type:"word",sourceIndex:k,sourceEndIndex:_+1,value:j.slice(k,_+1)}]:[],w.unclosed&&_+1!==v?(w.after="",w.nodes.push({type:"space",sourceIndex:_+1,sourceEndIndex:v,value:j.slice(_+1,v)})):(w.after=j.slice(_+1,v),w.sourceEndIndex=v)):(w.after="",w.nodes=[]),k=v+1,w.sourceEndIndex=w.unclosed?v:k,z=j.charCodeAt(k),$.push(w)}else F+=1,w.after="",w.sourceEndIndex=k+1,$.push(w),D.push(w),$=w.nodes=[],U=w;G=""}else if(n===z&&F)k+=1,z=j.charCodeAt(k),U.after=J,U.sourceEndIndex+=J.length,J="",F-=1,D[D.length-1].sourceEndIndex=k,D.pop(),$=(U=D[F]).nodes;else{v=k;do{z===s&&(v+=1),v+=1,z=j.charCodeAt(v)}while(v<B&&!(z<=32||z===c||z===t||z===l||z===h||z===u||z===o||z===f&&U&&"function"===U.type&&"calc"===U.value||z===u&&"function"===U.type&&"calc"===U.value||z===n&&F));w=j.slice(k,v),o===z?G=w:p!==w.charCodeAt(0)&&x!==w.charCodeAt(0)||A!==w.charCodeAt(1)||!C.test(w.slice(2))?$.push({type:"word",sourceIndex:k,sourceEndIndex:v,value:w}):$.push({type:"unicode-range",sourceIndex:k,sourceEndIndex:v,value:w}),k=v}else w=j[k],$.push({type:"word",sourceIndex:k-H.length,sourceEndIndex:k+w.length,value:w}),k+=1,z=j.charCodeAt(k);for(k=D.length-1;k;k-=1)D[k].unclosed=!0,D[k].sourceEndIndex=j.length;return D[0].nodes}},78,[]);
__d(function(g,r,_i,a,m,e,d){m.exports=function n(o,t,f){var i,s,c,u;for(i=0,s=o.length;i<s;i+=1)c=o[i],f||(u=t(c,i,o)),!1!==u&&"function"===c.type&&Array.isArray(c.nodes)&&n(c.nodes,t,f),f&&t(c,i,o)}},79,[]);
__d(function(g,r,_i,a,m,e,d){function n(n,t){var u,f,i=n.type,s=n.value;return t&&void 0!==(f=t(n))?f:"word"===i||"space"===i?s:"string"===i?(u=n.quote||"")+s+(n.unclosed?"":u):"comment"===i?"/*"+s+(n.unclosed?"":"*/"):"div"===i?(n.before||"")+s+(n.after||""):Array.isArray(n.nodes)?(u=o(n.nodes,t),"function"!==i?u:s+"("+(n.before||"")+u+(n.after||"")+(n.unclosed?"":")")):s}function o(o,t){var u,f;if(Array.isArray(o)){for(u="",f=o.length-1;~f;f-=1)u=n(o[f],t)+u;return u}return n(o,t)}m.exports=o},80,[]);
__d(function(g,r,i,a,m,e,d){var t="-".charCodeAt(0),o="+".charCodeAt(0),c=".".charCodeAt(0),h="e".charCodeAt(0),A="E".charCodeAt(0);function C(h){var A,C=h.charCodeAt(0);if(C===o||C===t){if((A=h.charCodeAt(1))>=48&&A<=57)return!0;var n=h.charCodeAt(2);return A===c&&n>=48&&n<=57}return C===c?(A=h.charCodeAt(1))>=48&&A<=57:C>=48&&C<=57}m.exports=function(n){var f,u,v,l=0,s=n.length;if(0===s||!C(n))return!1;for((f=n.charCodeAt(l))!==o&&f!==t||l++;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;if(f=n.charCodeAt(l),u=n.charCodeAt(l+1),f===c&&u>=48&&u<=57)for(l+=2;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;if(f=n.charCodeAt(l),u=n.charCodeAt(l+1),v=n.charCodeAt(l+2),(f===h||f===A)&&(u>=48&&u<=57||(u===o||u===t)&&v>=48&&v<=57))for(l+=u===o||u===t?3:2;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;return{number:n.slice(0,l),unit:n.slice(l)}}},81,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t={OS:'web',select:t=>'web'in t?t.web:t.default,get isTesting(){return!1}}},82,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return Ie}});var t=r(d[0]),s=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3]));r(d[4]);var l=r(d[5]),c=e(r(d[6])),u=r(d[7]),p=r(d[8]),f=r(d[9]),v=r(d[10]),S=r(d[11]),h=r(d[12]),N=e(r(d[13])),y=e(r(d[14]));r(d[15]);var b=e(r(d[16])),E=e(r(d[17])),I=e(r(d[18])),T=e(r(d[19])),P=e(r(d[20])),w=e(r(d[21])),R=e(r(d[22])),k=e(r(d[23])),C=e(r(d[24])),A=e(r(d[25])),O=e(r(d[26])),j=e(r(d[27])),_=e(r(d[28])),x=e(r(d[29])),U=e(r(d[30])),D=e(r(d[31])),L=e(r(d[32])),B=e(r(d[33])),F=e(r(d[34])),Y=e(r(d[35])),M=e(r(d[36])),V=e(r(d[37])),$=e(r(d[38])),G=e(r(d[39])),q=e(r(d[40])),J=e(r(d[41])),W=e(r(d[42])),H=e(r(d[43])),z=e(r(d[44])),K=e(r(d[45])),Q=e(r(d[46])),X=e(r(d[47])),Z=e(r(d[48])),ee=e(r(d[49])),ae=e(r(d[50])),te=e(r(d[51])),re=e(r(d[52])),ie=e(r(d[53])),se=e(r(d[54])),oe=e(r(d[55])),ne=e(r(d[56])),de=e(r(d[57])),le=e(r(d[58])),ce=e(r(d[59])),ue=e(r(d[60])),me=e(r(d[61])),pe=e(r(d[62])),fe=e(r(d[63])),ge=e(r(d[64])),ve=e(r(d[65])),Se=e(r(d[66])),he=e(r(d[67])),Ne=e(r(d[68])),ye=e(r(d[69])),be=r(d[70]);const Ee=({user:e,setUser:l,currentScreen:Ee,setCurrentScreen:Ie})=>{const Te=(0,h.useNotifications)(),[Pe,we]=(0,t.useState)(f.USER_TYPES.INDIVIDUAL),[Re,ke]=(0,t.useState)(!1),[Ce,Ae]=(0,t.useState)(0),[Oe,je]=(0,t.useState)(0),[xe,Ue]=(0,t.useState)(''),[De,Le]=(0,t.useState)(''),[Be,Fe]=(0,t.useState)(''),[Ye,Me]=(0,t.useState)(''),[Ve,$e]=(0,t.useState)(''),[Ge,qe]=(0,t.useState)(''),[Je,We]=(0,t.useState)(''),[He,ze]=(0,t.useState)(''),[Ke,Qe]=(0,t.useState)(''),[Xe,Ze]=(0,t.useState)(''),[ea,aa]=(0,t.useState)(!1),[ta,ra]=(0,t.useState)('free'),[ia,sa]=(0,t.useState)('small'),[oa,na]=(0,t.useState)(f.LITIGATION_STAGES),[da,la]=(0,t.useState)(null),[ca,ua]=(0,t.useState)({medicalBills:[],medicalRecords:[]}),[ma,pa]=(0,t.useState)(null),[fa,ga]=(0,t.useState)(null),[va,Sa]=(0,t.useState)(null),[ha,Na]=(0,t.useState)(null),[ya,ba]=(0,t.useState)(null),[Ea,Ia]=(0,t.useState)(0),[Ta,Pa]=(0,t.useState)('clients'),[wa,Ra]=(0,t.useState)('patients'),[ka,Ca]=(0,t.useState)(null),[Aa,Oa]=(0,t.useState)(null),[ja,_a]=(0,t.useState)(null),[xa,Ua]=(0,t.useState)(null),[Da,La]=(0,t.useState)(null),[Ba,Fa]=(0,t.useState)(null),[Ya,Ma]=(0,t.useState)(0),Va=e?.token||null,$a=(0,t.useRef)(null),Ga=(0,t.useRef)(Ee),[qa,Ja]=(0,t.useState)(0),[Wa,Ha]=(0,t.useState)(!1),[za,Ka]=(0,t.useState)({message:'',coinsEarned:0});(0,t.useEffect)(()=>{'treasure-chest'!==Ga.current&&'treasure-chest'===Ee&&(console.log('[TreasureChest] Navigating to treasure-chest from',Ga.current),console.log('[TreasureChest] Incrementing refreshKey to trigger coin balance fetch'),Ja(e=>(console.log('[TreasureChest] RefreshKey:',e,'\u2192',e+1),e+1))),Ga.current=Ee},[Ee]);const Qa=async()=>{if(e&&e.token&&e.type===f.USER_TYPES.INDIVIDUAL)try{console.log('[App] Loading user litigation progress...');const t=await(0,S.apiRequest)(S.API_ENDPOINTS.LITIGATION.PROGRESS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});console.log('[App] Progress loaded:',t);const s=at(t);na(s),console.log('[App] Litigation stages updated with user progress')}catch(e){console.error('[App] Error loading litigation progress:',e)}};(0,t.useEffect)(()=>{Qa()},[e?.token,e?.id]),(0,t.useEffect)(()=>((async()=>{try{const t=await N.default.registerForPushNotifications();if(t&&console.log('Push token obtained:',t),e?.token&&e?.id){if(await N.default.registerDeviceWithBackend(e.token,e.id)){console.log('Device registered with backend successfully');const t=await N.default.fetchUnreadCount(e.token);await N.default.setBadgeCount(t)}}const s=N.default.setupNotificationListeners(async t=>{if(e?.token){const t=await N.default.fetchUnreadCount(e.token);await N.default.setBadgeCount(t)}Te?.refreshNotifications&&Te.refreshNotifications()},async t=>{const{notificationId:s,actionUrl:o,type:n,taskId:l}=t.notification.request.content.data||{};if(s&&e?.token){await N.default.markNotificationAsRead(s,e.token),await N.default.markNotificationAsClicked(s,e.token);const t=await N.default.fetchUnreadCount(e.token);await N.default.setBadgeCount(t)}'task_assigned'===n&&l?Ie('actions'):o?Xa(o):Ie('notifications'),Te?.refreshNotifications&&Te.refreshNotifications()});$a.current=s}catch(e){console.error('Error initializing notifications:',e)}})(),()=>{$a.current&&$a.current()}),[e?.token,e?.id]);const Xa=e=>{console.log('Deep link:',e),'string'==typeof e&&(e.includes('roadmap')?Ie('roadmap'):e.includes('task')||e.includes('action')?Ie('actions'):e.includes('notification')?Ie('notifications'):e.includes('medical')?Ie('medical'):e.includes('video')?Ie('notifications'):e.includes('dashboard')&&Ie('dashboard'))},Za=async()=>{try{e?.token&&e?.id&&await N.default.unregisterDeviceFromBackend(e.token,e.id),await Te.logout()}catch(e){console.error('Error logging out:',e)}ke(!1),l(null),Ie('landing')},et=(e,t=0)=>{console.log('[App] Triggering action video:',e,t),Ka({message:e,coinsEarned:t}),Ha(!0)},at=e=>{if(!e||!e.completedSubstages)return JSON.parse(JSON.stringify(f.LITIGATION_STAGES));const t=new Set(e.completedSubstages.map(e=>e.substage_id));return JSON.parse(JSON.stringify(f.LITIGATION_STAGES)).map(e=>{const s=e.subStages?.map(e=>Object.assign({},e,{completed:t.has(e.id)}))||[],o=s.length>0&&s.every(e=>e.completed);return Object.assign({},e,{completed:o,subStages:s})})},tt=(e,t)=>{'client-roadmap'===e&&t&&(pa(t.clientId),ga(t.clientData)),Ie(e)},rt=(e=null)=>{pa(null),Pa(e||'clients'),Ie('lawfirm-dashboard')},it=(e=null)=>{Sa(null),Ra(e||'patients'),Ie('medicalprovider-dashboard')};return(0,be.jsxs)(s.default,{style:u.commonStyles.safeArea,children:[(0,be.jsx)(o.default,{barStyle:"dark-content",backgroundColor:p.theme.colors.background,translucent:!1}),'landing'===Ee&&(0,be.jsx)(b.default,{onNavigate:tt}),'view-pricing'===Ee&&(0,be.jsx)(P.default,{userType:null,viewOnly:!0,onSelectSubscription:()=>{Ie('register')},onNavigate:tt,onBack:()=>Ie('landing')}),'register'===Ee&&(0,be.jsx)(I.default,{email:xe,setEmail:Ue,password:De,setPassword:Le,confirmPassword:Be,setConfirmPassword:Fe,firstName:Ye,setFirstName:Me,lastName:Ve,setLastName:$e,phoneNumber:Ge,setPhoneNumber:qe,firmName:Je,setFirmName:We,providerName:He,setProviderName:ze,userType:Pe,setUserType:we,firmCode:Ke,setFirmCode:Qe,inviteCode:Xe,setInviteCode:Ze,privacyAccepted:ea,setPrivacyAccepted:aa,onRegister:()=>{if(console.log('[Registration] Button clicked - Starting registration...'),console.log('[Registration] Email:',xe),console.log('[Registration] Password exists:',!!De),console.log('[Registration] Confirm password exists:',!!Be),console.log('[Registration] User type:',Pe),!(Pe!==f.USER_TYPES.INDIVIDUAL||Ye&&Ve))return void alert('Error: Please enter your first and last name');if(Pe===f.USER_TYPES.INDIVIDUAL&&!Ge)return void alert('Error: Please enter your cell phone number');if(Pe===f.USER_TYPES.LAW_FIRM&&!Je)return void alert('Error: Please enter your law firm name');if(Pe===f.USER_TYPES.MEDICAL_PROVIDER&&!He)return void alert('Error: Please enter your medical provider/practice name');if(!xe||!De)return console.log('[Registration] ERROR: Missing email or password'),void alert('Error: Please fill in all required fields');return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(xe)?De!==Be?(console.log('[Registration] ERROR: Passwords do not match'),void alert('Error: Passwords do not match')):De.length<6?(console.log('[Registration] ERROR: Password too short'),void alert('Error: Password must be at least 6 characters long')):(console.log('[Registration] \u2713 Validation passed! Navigating to subscription screen...'),void Ie('subscription')):(console.log('[Registration] ERROR: Invalid email format'),void alert('Error: Please enter a valid email address'))},onNavigate:tt}),'privacy-acceptance'===Ee&&(0,be.jsx)(T.default,{onAccept:()=>{console.log('[Privacy Acceptance] User accepted legal documents'),aa(!0),Ie('subscription')},onDecline:()=>{console.log('[Privacy Acceptance] User declined - returning to register'),aa(!1),Ie('register')},onNavigate:tt}),'privacy-policy'===Ee&&(0,be.jsx)(re.default,{onBack:()=>Ie('privacy-acceptance'),onNavigate:tt}),'terms-of-service'===Ee&&(0,be.jsx)(ie.default,{onBack:()=>Ie('privacy-acceptance'),onNavigate:tt}),'eula'===Ee&&(0,be.jsx)(se.default,{onBack:()=>Ie('privacy-acceptance'),onNavigate:tt}),'subscription'===Ee&&(0,be.jsx)(P.default,{userType:Pe,onSelectSubscription:async(e,t)=>{if(console.log('[SUBSCRIPTION] Privacy Accepted value:',ea),console.log('[SUBSCRIPTION] User type:',Pe),ra(e),sa(t),'free'===e)try{let s,o,n='';if(Pe===f.USER_TYPES.LAW_FIRM)s=await(0,S.apiRequest)(S.API_ENDPOINTS.AUTH.REGISTER_LAWFIRM,{method:'POST',body:JSON.stringify({firmName:Je,email:xe,password:De,subscriptionTier:e,firmSize:t||null,privacyAccepted:ea})}),o={id:s.lawFirm.id,email:s.lawFirm.email,type:f.USER_TYPES.LAW_FIRM,firmName:s.lawFirm.firmName,firmCode:s.lawFirm.firmCode,token:s.token,subscription:e,coins:0,streak:0},Ie('lawfirm-dashboard');else if(Pe===f.USER_TYPES.MEDICAL_PROVIDER){if(console.log('Registering medical provider:',{email:xe}),s=await(0,S.apiRequest)(S.API_ENDPOINTS.AUTH.REGISTER_MEDICALPROVIDER,{method:'POST',body:JSON.stringify({providerName:He,email:xe,password:De,subscriptionTier:e,providerSize:t||null,privacyAccepted:ea})}),console.log('Medical provider registration response:',s),!s||!s.medicalProvider)throw new Error('Invalid response from server. Please try again.');o={id:s.medicalProvider.id,email:s.medicalProvider.email,type:f.USER_TYPES.MEDICAL_PROVIDER,providerName:s.medicalProvider.providerName,providerCode:s.medicalProvider.providerCode,token:s.token,subscription:e,coins:0,streak:0},Ie('medicalprovider-dashboard')}else{if(console.log('[INDIVIDUAL] Sending registration with privacyAccepted:',ea),s=await(0,S.apiRequest)(S.API_ENDPOINTS.AUTH.REGISTER_CLIENT,{method:'POST',body:JSON.stringify({firstName:Ye,lastName:Ve,phoneNumber:Ge,email:xe,password:De,lawFirmCode:Ke||null,avatarType:'captain',subscriptionTier:e,subscriptionPrice:0,privacyAccepted:ea})}),o={id:s.user.id,email:s.user.email,type:f.USER_TYPES.INDIVIDUAL,firstName:s.user.firstName,lastName:s.user.lastName,token:s.token,subscription:e,coins:0,streak:0},Xe&&Xe.trim())try{const e=await(0,S.apiRequest)(S.API_ENDPOINTS.INVITES.PROCESS,{method:'POST',body:JSON.stringify({inviteCode:Xe.trim(),newUserId:s.user.id})});e.success&&(console.log('\u2705 Invite processed:',e.message),n='\n\n\ud83c\udf89 Invite code applied! Your friend earned 500 coins for inviting you!')}catch(e){console.error('Error processing invite:',e),alert('\u26a0\ufe0f Invalid invite code: '+(e.message||'The invite code you entered was not found. Your account was still created successfully.'))}Ie('dashboard')}l(o),Ae(0),je(0),ke(!0),aa(!1);let c='Your free account has been created successfully!';Pe===f.USER_TYPES.LAW_FIRM&&o.firmCode?c+=`\n\nYour unique Law Firm Code:\n${o.firmCode}\n\nShare this code with your clients so they can connect to your firm.`:Pe===f.USER_TYPES.MEDICAL_PROVIDER&&o.providerCode&&(c+=`\n\nYour unique Provider Code:\n${o.providerCode}\n\nShare this code with your patients so they can connect to your practice.`),n&&(c+=n),alert('\ud83c\udf89 Welcome to Verdict Path!\n\n'+c)}catch(e){console.error('Registration Error Details:',e);const t=e.message||e.toString()||'Failed to create account. Please try again.';alert('Registration Error: '+t)}else try{let s,o;Pe===f.USER_TYPES.LAW_FIRM?(s=await(0,S.apiRequest)(S.API_ENDPOINTS.AUTH.REGISTER_LAWFIRM,{method:'POST',body:JSON.stringify({firmName:Je,email:xe,password:De,subscriptionTier:e,firmSize:t||null,privacyAccepted:ea})}),o={id:s.lawFirm.id,email:s.lawFirm.email,type:f.USER_TYPES.LAW_FIRM,firmName:s.lawFirm.firmName,firmCode:s.lawFirm.firmCode,token:s.token,subscription:e,coins:0,streak:0},Ie('lawfirm-dashboard')):Pe===f.USER_TYPES.MEDICAL_PROVIDER?(s=await(0,S.apiRequest)(S.API_ENDPOINTS.AUTH.REGISTER_MEDICALPROVIDER,{method:'POST',body:JSON.stringify({providerName:He,email:xe,password:De,subscriptionTier:e,providerSize:t||null,privacyAccepted:ea})}),o={id:s.medicalProvider.id,email:s.medicalProvider.email,type:f.USER_TYPES.MEDICAL_PROVIDER,providerName:s.medicalProvider.providerName,providerCode:s.medicalProvider.providerCode,token:s.token,subscription:e,coins:0,streak:0},Ie('medicalprovider-dashboard')):(s=await(0,S.apiRequest)(S.API_ENDPOINTS.AUTH.REGISTER_CLIENT,{method:'POST',body:JSON.stringify({firstName:Ye,lastName:Ve,phoneNumber:Ge,email:xe,password:De,lawFirmCode:Ke||null,avatarType:'captain',subscriptionTier:e,subscriptionPrice:'basic'===e?9.99:19.99})}),o={id:s.user.id,email:s.user.email,type:f.USER_TYPES.INDIVIDUAL,firstName:s.user.firstName,lastName:s.user.lastName,token:s.token,subscription:e,coins:0,streak:0},Ie('dashboard')),l(o),Ae(0),je(0),ke(!0),aa(!1),n.default.alert('\ud83c\udf89 Welcome to Verdict Path!',`Your ${e} account has been created! In a production app, payment processing would occur here. You're now on a free trial.`,[{text:'Get Started!',onPress:()=>{}}])}catch(e){console.error('Paid Registration Error:',e),n.default.alert('Registration Error',e.message||'Failed to create account. Please try again.')}},onNavigate:tt}),'login'===Ee&&(0,be.jsx)(E.default,{email:xe,setEmail:Ue,password:De,setPassword:Le,onLogin:async()=>{if(xe&&De){console.log('[Login] Attempting login with userType:',Pe);try{let e,t,s,o;Pe===f.USER_TYPES.LAW_FIRM?(e='lawfirm',t='lawfirm-dashboard',s=S.API_ENDPOINTS.AUTH.LOGIN_LAWFIRM_USER,o={email:xe,password:De}):Pe===f.USER_TYPES.MEDICAL_PROVIDER?(e='medical_provider',t='medicalprovider-dashboard',s=S.API_ENDPOINTS.AUTH.LOGIN_MEDICALPROVIDER_USER,o={email:xe,password:De}):(e='individual',t='dashboard',s=S.API_ENDPOINTS.AUTH.LOGIN,o={email:xe,password:De,userType:e}),console.log('[Login] API userType:',e,'Target screen:',t,'Endpoint:',s);const n=await(0,S.apiRequest)(s,{method:'POST',body:JSON.stringify(o)});if(console.log('[Login] Login successful, response:',n),n.mustChangePassword)return console.log('[Login] User must change password before accessing account'),La({changePasswordToken:n.changePasswordToken,email:n.user.email,firstName:n.user.firstName,lastName:n.user.lastName,userType:e}),void Ie('change-password');let c;c=Pe===f.USER_TYPES.LAW_FIRM?{id:n.user.id,email:n.user.email,type:f.USER_TYPES.LAW_FIRM,userType:'lawfirm',firmName:n.user.firmName,firmCode:n.user.firmCode,token:n.token,coins:150,streak:3}:Pe===f.USER_TYPES.MEDICAL_PROVIDER?{id:n.user.id,email:n.user.email,type:f.USER_TYPES.MEDICAL_PROVIDER,userType:'medical_provider',providerName:n.user.providerName,providerCode:n.user.providerCode,token:n.token,coins:0,streak:0}:{id:n.user.id,email:n.user.email,type:f.USER_TYPES.INDIVIDUAL,userType:'individual',firstName:n.user.firstName,lastName:n.user.lastName,token:n.token,subscription:ta,coins:0,streak:0},console.log('[Login] Setting user data:',c),console.log('[Login] Navigating to:',t),l(c),Ae(c.coins),je(c.streak),ke(!0),Ie(t)}catch(e){console.error('[Login] Login error:',e),n.default.alert('Error',e.message||'Login failed. Please check your credentials.')}}else n.default.alert('Error','Please enter email and password')},onNavigate:tt,userType:Pe,setUserType:we,firmCode:Ke,setFirmCode:Qe}),'change-password'===Ee&&Da&&(0,be.jsx)(ue.default,{route:{params:{changePasswordToken:Da.changePasswordToken,email:Da.email,firstName:Da.firstName,lastName:Da.lastName,userType:Da.userType}},navigation:{reset:({routes:e})=>{Ie(e[0].name.toLowerCase()),La(null)}}}),'dashboard'===Ee&&(0,be.jsx)(w.default,{user:e,coins:Ce,loginStreak:Oe,onClaimBonus:async()=>{if(e&&e.token)try{const t=await(0,S.apiRequest)(S.API_ENDPOINTS.COINS.CLAIM_DAILY,{method:'POST',headers:{Authorization:`Bearer ${e.token}`}});if(t.success){const e=t.totalCoins-Ce;Ae(t.totalCoins),je(t.newStreak),et(`Daily Bonus Claimed! \ud83c\udf89\nDay ${t.newStreak} Streak`,e)}else n.default.alert('Error',t.message||'Failed to claim daily reward')}catch(e){e.message&&e.message.includes('already claimed')?n.default.alert('Already Claimed','You have already claimed your daily reward today. Come back tomorrow!'):(console.error('Error claiming daily bonus:',e),n.default.alert('Error',e.message||'Failed to claim daily reward'))}else n.default.alert('Error','You must be logged in to claim daily rewards')},onConvertCoins:async()=>{const t=(0,v.calculateCreditsFromCoins)(Ce),s=(0,v.calculateCoinsNeeded)(t);0!==t?n.default.alert('Convert Coins to Credits',`Convert ${s} coins to $${t}?\n\n\u26a0\ufe0f Lifetime cap: $5 per account`,[{text:'Cancel',style:'cancel'},{text:'Convert',onPress:async()=>{if(e&&e.token)try{const t=await(0,S.apiRequest)(S.API_ENDPOINTS.COINS.CONVERT,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify({coinsToConvert:s})});Ae(t.totalCoins-t.coinsSpent);const o=t.remainingLifetimeCredits>0?`\n\nRemaining lifetime conversions: $${t.remainingLifetimeCredits.toFixed(2)}`:'\n\n\ud83c\udfaf You\'ve reached your $5 lifetime cap!';n.default.alert('\u2705 Success!',`$${t.creditAmount} added to your account!\n\nCoins converted: ${t.coinsConverted}${o}`)}catch(e){console.error('Failed to convert coins:',e),e.message&&e.message.includes('lifetime cap')?n.default.alert('\ud83d\udcb0 Lifetime Cap Reached',e.message):e.message&&e.message.includes('exceed your lifetime cap')?n.default.alert('\u26a0\ufe0f Conversion Limit',e.message):n.default.alert('Error',e.message||'Failed to convert coins. Please try again.')}else Ae(Ce-s),n.default.alert('Success!',`$${t} added to your account credits!`)}}]):n.default.alert('Not Enough Coins','You need at least 5,000 coins to convert to credits.\n\n(5,000 coins = $1)')},onNavigate:tt,onLogout:Za}),'roadmap'===Ee&&(0,be.jsx)(R.default,{litigationStages:oa,onCompleteStage:async(t,s)=>{if(!e||!e.token)return na(e=>e.map(e=>e.id!==t||e.completed?e:Object.assign({},e,{completed:!0}))),Ae(e=>e+s),console.log('[TreasureChest] Stage completed (offline), incrementing refreshKey to update coin balance'),Ja(e=>e+1),void et('Stage Complete! \ud83c\udfc6',s);try{const o=oa.find(e=>e.id===t),l=await(0,S.apiRequest)(S.API_ENDPOINTS.LITIGATION.COMPLETE_STAGE,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify({stageId:t,stageName:o?.name||`Stage ${t}`,coinsEarned:s,allSubstagesCompleted:!0})});na(e=>e.map(e=>e.id!==t||e.completed?e:Object.assign({},e,{completed:!0})));const c=l.coinsEarned||0;Ae(e=>e+c),console.log('[TreasureChest] Stage completed, incrementing refreshKey to update coin balance'),Ja(e=>(console.log('[TreasureChest] RefreshKey after stage completion:',e,'\u2192',e+1),e+1)),c>0?et('Stage Complete! \ud83c\udfc6',c):n.default.alert('\ud83c\udf89 Stage Completed!',"Stage marked complete! (Coins were already earned previously)")}catch(e){console.error('Failed to complete stage:',e),n.default.alert('Error',e.message||'Failed to complete stage. Please try again.')}},onUncompleteStage:async(t,s)=>{const o=oa.find(e=>e.id===t);if(o&&o.completed)if(console.log('[Revert] Reverting stage:',t,'Current stage:',o),e&&e.token)try{const s={stageId:t};console.log('[Revert] Request body:',JSON.stringify(s));await(0,S.apiRequest)(S.API_ENDPOINTS.LITIGATION.REVERT_STAGE,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify(s)});try{await Qa()}catch(e){console.error('Failed to refresh progress after revert:',e),na(e=>e.map(e=>{if(e.id===t&&e.completed){const t=e.subStages?.map(e=>Object.assign({},e,{completed:!1,uploaded:!1,uploadedFiles:[],enteredData:null}))||[];return Object.assign({},e,{completed:!1,subStages:t})}return e}))}n.default.alert('Stage Reverted','This stage is now marked as incomplete.\n\n\ud83d\udcb0 Note: Previously earned coins are preserved and cannot be earned again when you re-complete this stage.')}catch(e){console.error('Failed to revert stage:',e),n.default.alert('Error',e.message||'Failed to revert stage. Please try again.')}else na(e=>e.map(e=>{if(e.id===t&&e.completed){const t=e.subStages?.map(e=>Object.assign({},e,{completed:!1,uploaded:!1,uploadedFiles:[],enteredData:null}))||[];return Object.assign({},e,{completed:!1,subStages:t})}return e})),n.default.alert('Stage Reverted','This stage is now marked as incomplete (offline mode).')},onNavigate:tt,selectedAvatar:da,onSelectAvatar:la,onCompleteSubStage:(e,t,s)=>{na(o=>o.map(o=>{if(o.id===e){const e=o.subStages.map(e=>e.id!==t||e.completed?e:(Ae(e=>e+s),console.log('[TreasureChest] Substage completed, incrementing refreshKey to update coin balance'),Ja(e=>(console.log('[TreasureChest] RefreshKey after substage completion:',e,'\u2192',e+1),e+1)),s>0&&et('Substage Complete! \ud83c\udfaf',s),Object.assign({},e,{completed:!0}))),n=e.every(e=>e.completed);return Object.assign({},o,{subStages:e,completed:!!n||o.completed})}return o}))},onPurchaseVideo:e=>{n.default.alert(`${e.title}`,`Duration: ${e.duration}\nPrice: $${e.price}\n\nPurchase this tutorial video?`,[{text:'Cancel',style:'cancel'},{text:'Purchase',onPress:()=>n.default.alert('Success!','Video added to your library! You can watch it anytime in the Videos section.')}])},onUploadFile:(e,t,s)=>{na(o=>o.map(o=>{if(o.id===e){const e=o.subStages.map(e=>{if(e.id===t){const t=[...e.uploadedFiles||[],s];return Object.assign({},e,{uploaded:!0,uploadedFiles:t})}return e});return Object.assign({},o,{subStages:e})}return o}))},onDataEntry:(e,t,s)=>{na(o=>o.map(o=>{if(o.id===e){const e=o.subStages.map(e=>e.id===t?Object.assign({},e,{enteredData:s}):e);return Object.assign({},o,{subStages:e})}return o}))},authToken:Va,medicalHubUploads:ca}),'medical'===Ee&&(0,be.jsx)(k.default,{onNavigate:tt,onUploadMedicalDocument:(e,t)=>{ua(s=>Object.assign({},s,{[e]:[...s[e],t]}))},medicalHubUploads:ca,authToken:Va}),'actions'===Ee&&(0,be.jsx)(V.default,{user:e,onNavigate:tt,onSelectTask:e=>{Fa(e),Ie('task-detail')}},Ya),'task-detail'===Ee&&Ba&&(0,be.jsx)(Se.default,{user:e,task:Ba,onNavigate:tt,onTaskUpdated:()=>{Fa(null),Ma(e=>e+1)}}),'profile'===Ee&&(0,be.jsx)(pe.default,{user:e,onBack:()=>Ie('dashboard')}),'calendar'===Ee&&(0,be.jsx)($.default,{user:e,onBack:()=>Ie('dashboard')}),'achievements'===Ee&&(0,be.jsx)(G.default,{user:e,onBack:()=>Ie('dashboard'),onViewBadges:()=>Ie('badges')}),'badges'===Ee&&(0,be.jsx)(q.default,{user:e,onBack:()=>Ie('achievements')}),'event-requests'===Ee&&(0,be.jsx)(ae.default,{user:e,onBack:()=>Ie('dashboard')}),'hipaaForms'===Ee&&(0,be.jsx)(C.default,{onNavigate:tt,user:e}),'lawfirm-dashboard'===Ee&&(0,be.jsx)(A.default,{user:e,onNavigateToClient:e=>{pa(e),Ie('lawfirm-client-details')},onNavigate:tt,onLogout:Za}),'lawfirm-client-details'===Ee&&(0,be.jsx)(O.default,{user:e,clientId:ma,onBack:rt,onNavigate:tt}),'lawfirm-send-notification'===Ee&&(0,be.jsx)(F.default,{user:e,onBack:rt}),'lawfirm-notification-analytics'===Ee&&(0,be.jsx)(Y.default,{user:e,onBack:rt}),'lawfirm-event-requests'===Ee&&(0,be.jsx)(J.default,{user:e,onBack:rt}),'lawfirm-negotiations'===Ee&&(0,be.jsx)(le.default,{user:e,onBack:rt}),'lawfirm-disbursements'===Ee&&(0,be.jsx)(j.default,{user:e,onBack:rt,onNavigate:tt}),'lawfirm-user-management'===Ee&&(0,be.jsx)(W.default,{user:ka||e,onBack:()=>Ie('lawfirm-dashboard')}),'lawfirm-settings'===Ee&&(0,be.jsx)(me.default,{user:e,onBack:()=>Ie('lawfirm-dashboard')}),'lawfirm-activity-dashboard'===Ee&&(0,be.jsx)(H.default,{user:ka||e,onBack:()=>Ie('lawfirm-dashboard'),onNavigateToUser:e=>{Oa(e),Ie('lawfirm-user-timeline')}}),'lawfirm-user-timeline'===Ee&&(0,be.jsx)(z.default,{user:ka||e,targetUserId:Aa,onBack:()=>Ie('lawfirm-activity-dashboard')}),'lawfirm-messages'===Ee&&(0,be.jsx)(fe.default,{user:e,onNavigateToConversation:e=>{ba(e),Ie('lawfirm-chat-conversation')},onNavigateToNewChat:()=>{Ie('lawfirm-new-chat')}}),'lawfirm-chat-conversation'===Ee&&(0,be.jsx)(ge.default,{user:e,conversationId:ya,onBack:()=>Ie('lawfirm-messages')}),'lawfirm-new-chat'===Ee&&(0,be.jsx)(ve.default,{user:e,onBack:()=>Ie('lawfirm-messages'),onChatStarted:e=>{ba(e),Ie('lawfirm-chat-conversation')}}),'medicalprovider-user-management'===Ee&&(0,be.jsx)(K.default,{user:ja||e,onBack:()=>Ie('medicalprovider-dashboard')}),'medicalprovider-settings'===Ee&&(0,be.jsx)(me.default,{user:e,onBack:()=>Ie('medicalprovider-dashboard')}),'medicalprovider-activity-dashboard'===Ee&&(0,be.jsx)(Q.default,{user:ja||e,onBack:()=>Ie('medicalprovider-dashboard'),onNavigateToUser:e=>{Ua(e),Ie('medicalprovider-user-timeline')},onNavigateToHIPAAReport:()=>{Ie('medicalprovider-hipaa-dashboard')}}),'medicalprovider-hipaa-dashboard'===Ee&&(0,be.jsx)(X.default,{user:ja||e,onBack:()=>Ie('medicalprovider-activity-dashboard')}),'medicalprovider-messages'===Ee&&(0,be.jsx)(fe.default,{user:e,onNavigateToConversation:e=>{ba(e),Ie('medicalprovider-chat-conversation')},onNavigateToNewChat:()=>{Ie('medicalprovider-new-chat')}}),'medicalprovider-chat-conversation'===Ee&&(0,be.jsx)(ge.default,{user:e,conversationId:ya,onBack:()=>Ie('medicalprovider-messages')}),'medicalprovider-new-chat'===Ee&&(0,be.jsx)(ve.default,{user:e,onBack:()=>Ie('medicalprovider-messages'),onChatStarted:e=>{ba(e),Ie('medicalprovider-chat-conversation')}}),'medicalprovider-user-timeline'===Ee&&(0,be.jsx)(Z.default,{user:ja||e,targetUserId:xa,onBack:()=>Ie('medicalprovider-activity-dashboard')}),'disbursement-dashboard'===Ee&&(0,be.jsx)(j.default,{user:e,onBack:rt,onNavigate:tt}),'medicalprovider-disbursements'===Ee&&(0,be.jsx)(_.default,{user:e,userType:"medical_provider",onBack:it}),'individual-disbursements'===Ee&&(0,be.jsx)(_.default,{user:e,userType:"individual",onBack:()=>Ie('dashboard')}),'StripeConnectOnboarding'===Ee&&(0,be.jsx)(x.default,{user:e,onBack:()=>Ie('lawfirm-disbursements')}),'client-roadmap'===Ee&&(0,be.jsx)(R.default,{litigationStages:at(fa),onNavigate:tt,selectedAvatar:da,onSelectAvatar:la,onCompleteStage:()=>{},onUncompleteStage:()=>{},onCompleteSubStage:()=>{},onPurchaseVideo:()=>{},onUploadFile:()=>{},onDataEntry:()=>{},authToken:Va,medicalHubUploads:ca,readOnly:!0,clientId:ma,clientRoadmapData:fa,user:e}),'medicalprovider-dashboard'===Ee&&(0,be.jsx)(U.default,{user:e,initialTab:wa,onNavigateToPatient:e=>{Sa(e),Ie('medicalprovider-patient-details')},onNavigate:(e,t)=>{t&&Ra(t),tt(e)},onLogout:Za}),'medicalprovider-patient-details'===Ee&&(0,be.jsx)(D.default,{user:e,patientId:va,onBack:()=>{Sa(null),Ie('medicalprovider-dashboard')}}),'medicalprovider-send-notification'===Ee&&(0,be.jsx)(M.default,{user:e,onBack:()=>it(wa)}),'medicalprovider-notification-analytics'===Ee&&(0,be.jsx)(Y.default,{user:e,onBack:()=>it(wa)}),'medicalprovider-event-requests'===Ee&&(0,be.jsx)(ee.default,{user:e,onBack:()=>it(wa)}),'medicalprovider-negotiations'===Ee&&(0,be.jsx)(le.default,{user:e,onBack:()=>it(wa)}),'medicalprovider-payment-setup'===Ee&&(0,be.jsx)(x.default,{user:e,onBack:it}),'individual-payment-setup'===Ee&&(0,be.jsx)(x.default,{user:e,onBack:()=>Ie('dashboard')}),'notifications'===Ee&&(0,be.jsx)(L.default,{user:e,onNavigate:tt,onNotificationPress:e=>{Na(e),Ie('notification-detail')}}),'notification-detail'===Ee&&(0,be.jsx)(B.default,{user:e,notificationId:ha,onBack:()=>{Na(null),Ie('notifications')},onNavigate:tt}),'chat-list'===Ee&&(0,be.jsx)(fe.default,{user:e,onNavigateToConversation:e=>{ba(e),Ie('chat-conversation')},onNavigateToNewChat:()=>{Ie('new-chat')}}),'new-chat'===Ee&&(0,be.jsx)(ve.default,{user:e,onBack:()=>{Ie('chat-list')},onSelectConnection:e=>{ba(e),Ie('chat-conversation')}}),'chat-conversation'===Ee&&(0,be.jsx)(ge.default,{user:e,conversationId:ya,onBack:()=>{ba(null),Ie('chat-list')}}),'treasure-chest'===Ee&&(0,be.jsx)(te.default,{user:e,onBack:()=>Ie('dashboard'),setCoins:Ae,refreshKey:qa}),'manage-subscription'===Ee&&(0,be.jsx)(oe.default,{user:e,onNavigate:tt,onSubscriptionChanged:async()=>{if(e&&e.token&&e.type===f.USER_TYPES.INDIVIDUAL)try{console.log('[RefreshProfile] Fetching latest subscription data...');const t=await(0,S.apiRequest)(S.API_ENDPOINTS.SUBSCRIPTION.INDIVIDUAL_CURRENT,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});if(t.subscription){const s=Object.assign({},e,{subscription:t.subscription.tier});console.log('[RefreshProfile] Updated subscription from',e.subscription,'to',t.subscription.tier),l(s),await c.default.setItem('user',JSON.stringify(s))}}catch(e){console.error('[RefreshProfile] Error refreshing user profile:',e)}else console.log('[RefreshProfile] Skipping refresh - not an individual user')}}),'LawFirmSubscription'===Ee&&(0,be.jsx)(ne.default,{token:e?.token,onBack:()=>Ie('lawfirm-dashboard')}),'MedicalProviderSubscription'===Ee&&(0,be.jsx)(de.default,{token:e?.token,onBack:()=>Ie('medicalprovider-dashboard')}),'avatar-selection'===Ee&&'individual'===e?.userType&&(0,be.jsx)(ce.default,{user:e,onBack:()=>Ie('dashboard'),onAvatarSelected:async t=>{const s=Object.assign({},e,{avatarType:t});l(s),await c.default.setItem('user',JSON.stringify(s))}}),['dashboard','roadmap','medical','hipaaForms','notifications','chat-list','chat-conversation','actions','task-detail','profile'].includes(Ee)&&(0,be.jsx)(he.default,{currentScreen:Ee,onNavigate:tt,chatUnreadCount:Ea}),(()=>{const e=['lawfirm-dashboard','lawfirm-send-notification','lawfirm-user-management','lawfirm-messages','lawfirm-disbursements','lawfirm-negotiations','lawfirm-activity-dashboard'].includes(Ee);return console.log('[App.js] Law Firm Nav Check - Current screen:',Ee,'Should show:',e),e})()&&(0,be.jsx)(Ne.default,{currentScreen:Ee,onNavigate:tt,notificationCount:0}),(()=>{const e=['medicalprovider-dashboard','medicalprovider-send-notification','medicalprovider-user-management','medicalprovider-messages','medicalprovider-hipaa-dashboard','medicalprovider-activity-dashboard','medicalprovider-disbursements','medicalprovider-negotiations'].includes(Ee);return console.log('[App.js] Medical Provider Nav Check - Current screen:',Ee,'Should show:',e),e})()&&(0,be.jsx)(ye.default,{currentScreen:Ee,onNavigate:tt,notificationCount:0}),e&&'individual'===e.userType&&e.avatarType&&(0,be.jsx)(y.default,{visible:Wa,onClose:()=>Ha(!1),avatarType:e.avatarType,message:za.message,coinsEarned:za.coinsEarned})]})};var Ie=()=>{const[e,s]=(0,t.useState)(null),[o,n]=(0,t.useState)('landing'),c=(0,be.jsx)(l.SafeAreaProvider,{children:(0,be.jsx)(h.NotificationProvider,{user:e,onNavigate:e=>{n(e)},children:(0,be.jsx)(Ee,{user:e,setUser:s,currentScreen:o,setCurrentScreen:n})})});return c}},83,[13,84,115,116,82,117,125,131,132,133,134,135,136,137,155,318,331,339,342,344,345,348,368,402,404,405,417,418,419,420,422,424,425,427,428,429,430,431,432,435,437,438,407,413,414,439,442,444,445,446,447,448,450,451,452,453,406,423,454,455,456,415,457,458,459,461,462,463,464,465,153]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var t=e(r(_d[0])),n=e(r(_d[1])),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),f=e(r(_d[3])),u=e(r(_d[4])),d=e(r(_d[5])),s=["style"],l=d.default&&window.CSS&&window.CSS.supports&&window.CSS.supports('top: constant(safe-area-inset-top)')?'constant':'env',c=o.forwardRef((e,f)=>{var d=e.style,l=(0,n.default)(e,s);return o.createElement(u.default,(0,t.default)({},l,{ref:f,style:[p.root,d]}))});c.displayName='SafeAreaView';var p=f.default.create({root:{paddingTop:l+"(safe-area-inset-top)",paddingRight:l+"(safe-area-inset-right)",paddingBottom:l+"(safe-area-inset-bottom)",paddingLeft:l+"(safe-area-inset-left)"}}),w=c},84,[18,27,13,26,85,23]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var o={};return e&&Object.keys(e).forEach(function(n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(o,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}),o.default=e,o}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return P}});var n=e(r(_d[0])),t=o(r(_d[1])),d=e(r(_d[2])),l=o(r(_d[3])),s=e(r(_d[4])),u=e(r(_d[5])),p=e(r(_d[6])),S=e(r(_d[7])),R=e(r(_d[8])),c=e(r(_d[9])),h=e(r(_d[10])),f=r(_d[11]),v=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],C=Object.assign({},l.defaultProps,l.accessibilityProps,l.clickProps,l.focusProps,l.keyboardProps,l.mouseProps,l.touchProps,l.styleProps,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),y=e=>(0,s.default)(e,C),b=t.forwardRef((e,o)=>{var l=e.hrefAttrs,s=e.onLayout,c=e.onMoveShouldSetResponder,C=e.onMoveShouldSetResponderCapture,b=e.onResponderEnd,P=e.onResponderGrant,x=e.onResponderMove,w=e.onResponderReject,_=e.onResponderRelease,j=e.onResponderStart,O=e.onResponderTerminate,k=e.onResponderTerminationRequest,T=e.onScrollShouldSetResponder,D=e.onScrollShouldSetResponderCapture,E=e.onSelectionChangeShouldSetResponder,L=e.onSelectionChangeShouldSetResponderCapture,q=e.onStartShouldSetResponder,A=e.onStartShouldSetResponderCapture,G=(0,n.default)(e,v),z=t.useContext(h.default),I=t.useRef(null),W=(0,f.useLocaleContext)().direction;(0,u.default)(I,s),(0,R.default)(I,{onMoveShouldSetResponder:c,onMoveShouldSetResponderCapture:C,onResponderEnd:b,onResponderGrant:P,onResponderMove:x,onResponderReject:w,onResponderRelease:_,onResponderStart:j,onResponderTerminate:O,onResponderTerminationRequest:k,onScrollShouldSetResponder:T,onScrollShouldSetResponderCapture:D,onSelectionChangeShouldSetResponder:E,onSelectionChangeShouldSetResponderCapture:L,onStartShouldSetResponder:q,onStartShouldSetResponderCapture:A});var $='div',B=null!=e.lang?(0,f.getLocaleDirection)(e.lang):null,H=e.dir||B,N=H||W,V=y(G);if(V.dir=H,V.style=[M.view$raw,z&&M.inline,e.style],null!=e.href&&($='a',null!=l)){var F=l.download,J=l.rel,K=l.target;null!=F&&(V.download=F),null!=J&&(V.rel=J),'string'==typeof K&&(V.target='_'!==K.charAt(0)?'_'+K:K)}var Q=(0,S.default)(V),U=(0,p.default)(I,Q,o);return V.ref=U,(0,d.default)($,V,{writingDirection:N})});b.displayName='View';var M=c.default.create({view$raw:{alignItems:'stretch',backgroundColor:'transparent',border:'0 solid black',boxSizing:'border-box',display:'flex',flexBasis:'auto',flexDirection:'column',flexShrink:0,listStyle:'none',margin:0,minHeight:0,minWidth:0,padding:0,position:'relative',textDecoration:'none',zIndex:0},inline:{display:'inline-flex'}}),P=b},85,[27,13,86,94,95,96,103,105,107,26,114,92]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t=e(r(d[0])),n=e(r(d[1])),l=e(r(d[2])),u=r(d[3]),o=(e,o,c)=>{var f;e&&e.constructor===String&&(f=t.default.propsToAccessibilityComponent(o));var s=f||e,_=(0,n.default)(s,o,c),p=l.default.createElement(s,_);return _.dir?l.default.createElement(u.LocaleProvider,{children:p,direction:_.dir,locale:_.lang}):p}},86,[87,91,13,92]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1])),o=e(r(d[2])),n={isDisabled:t.default,propsToAccessibilityComponent:u.default,propsToAriaRole:o.default}},87,[88,89,90]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=t=>t.disabled||Array.isArray(t.accessibilityStates)&&t.accessibilityStates.indexOf('disabled')>-1},88,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},o={article:'article',banner:'header',blockquote:'blockquote',button:'button',code:'code',complementary:'aside',contentinfo:'footer',deletion:'del',emphasis:'em',figure:'figure',insertion:'ins',form:'form',list:'ul',listitem:'li',main:'main',navigation:'nav',paragraph:'p',region:'section',strong:'strong'},l={},u=function(e){if(void 0===e&&(e=l),'label'===(e.role||e.accessibilityRole))return'label';var t=(0,n.default)(e);if(t){if('heading'===t){var u=e.accessibilityLevel||e['aria-level'];return null!=u?"h"+u:'h1'}return o[t]}}},89,[90]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var n={adjustable:'slider',button:'button',header:'heading',image:'img',imagebutton:null,keyboardkey:null,label:null,link:'link',none:'presentation',search:'search',summary:'region',text:null},t=t=>{var l=t.accessibilityRole,u=t.role||l;if(u){var o=n[u];if(null!==o)return o||u}}},90,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return h}});var l=e(r(d[0])),t=e(r(d[1])),s=e(r(d[2])),n=e(r(d[3])),c=r(d[4]),u=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],o={},b=Object.prototype.hasOwnProperty,y=Array.isArray,v=/[A-Z]/g;function p(e){return'-'+e.toLowerCase()}function x(e){return e.replace(v,p)}function w(e){return y(e)?e.join(' '):e}var f=n.default.create({auto:{pointerEvents:'auto'},'box-none':{pointerEvents:'box-none'},'box-only':{pointerEvents:'box-only'},none:{pointerEvents:'none'}}),h=(e,y,v)=>{y||(y=o);var p=y,h=p['aria-activedescendant'],S=p.accessibilityActiveDescendant,C=p['aria-atomic'],I=p.accessibilityAtomic,R=p['aria-autocomplete'],D=p.accessibilityAutoComplete,M=p['aria-busy'],E=p.accessibilityBusy,O=p['aria-checked'],P=p.accessibilityChecked,k=p['aria-colcount'],A=p.accessibilityColumnCount,L=p['aria-colindex'],V=p.accessibilityColumnIndex,q=p['aria-colspan'],B=p.accessibilityColumnSpan,_=p['aria-controls'],z=p.accessibilityControls,T=p['aria-current'],j=p.accessibilityCurrent,H=p['aria-describedby'],N=p.accessibilityDescribedBy,F=p['aria-details'],K=p.accessibilityDetails,U=p['aria-disabled'],Z=p.accessibilityDisabled,G=p['aria-errormessage'],J=p.accessibilityErrorMessage,Q=p['aria-expanded'],W=p.accessibilityExpanded,X=p['aria-flowto'],Y=p.accessibilityFlowTo,$=p['aria-haspopup'],aa=p.accessibilityHasPopup,ia=p['aria-hidden'],ea=p.accessibilityHidden,la=p['aria-invalid'],ra=p.accessibilityInvalid,ta=p['aria-keyshortcuts'],sa=p.accessibilityKeyShortcuts,na=p['aria-label'],ca=p.accessibilityLabel,ua=p['aria-labelledby'],oa=p.accessibilityLabelledBy,ba=p['aria-level'],da=p.accessibilityLevel,ya=p['aria-live'],va=p.accessibilityLiveRegion,pa=p['aria-modal'],xa=p.accessibilityModal,ma=p['aria-multiline'],wa=p.accessibilityMultiline,fa=p['aria-multiselectable'],ha=p.accessibilityMultiSelectable,Sa=p['aria-orientation'],Ca=p.accessibilityOrientation,Ia=p['aria-owns'],Ra=p.accessibilityOwns,Da=p['aria-placeholder'],Ma=p.accessibilityPlaceholder,Ea=p['aria-posinset'],Oa=p.accessibilityPosInSet,Pa=p['aria-pressed'],ga=p.accessibilityPressed,ka=p['aria-readonly'],Aa=p.accessibilityReadOnly,La=p['aria-required'],Va=p.accessibilityRequired,qa=(p.role,p.accessibilityRole,p['aria-roledescription']),Ba=p.accessibilityRoleDescription,_a=p['aria-rowcount'],za=p.accessibilityRowCount,Ta=p['aria-rowindex'],ja=p.accessibilityRowIndex,Ha=p['aria-rowspan'],Na=p.accessibilityRowSpan,Fa=p['aria-selected'],Ka=p.accessibilitySelected,Ua=p['aria-setsize'],Za=p.accessibilitySetSize,Ga=p['aria-sort'],Ja=p.accessibilitySort,Qa=p['aria-valuemax'],Wa=p.accessibilityValueMax,Xa=p['aria-valuemin'],Ya=p.accessibilityValueMin,$a=p['aria-valuenow'],ai=p.accessibilityValueNow,ii=p['aria-valuetext'],ei=p.accessibilityValueText,li=p.dataSet,ri=p.focusable,ti=p.id,si=p.nativeID,ni=p.pointerEvents,ci=p.style,ui=p.tabIndex,oi=p.testID,bi=(0,t.default)(p,u),di=U||Z,yi=s.default.propsToAriaRole(y),vi=null!=h?h:S;null!=vi&&(bi['aria-activedescendant']=vi);var pi=null!=C?h:I;null!=pi&&(bi['aria-atomic']=pi);var xi=null!=R?R:D;null!=xi&&(bi['aria-autocomplete']=xi);var mi=null!=M?M:E;null!=mi&&(bi['aria-busy']=mi);var wi=null!=O?O:P;null!=wi&&(bi['aria-checked']=wi);var fi=null!=k?k:A;null!=fi&&(bi['aria-colcount']=fi);var hi=null!=L?L:V;null!=hi&&(bi['aria-colindex']=hi);var Si=null!=q?q:B;null!=Si&&(bi['aria-colspan']=Si);var Ci=null!=_?_:z;null!=Ci&&(bi['aria-controls']=w(Ci));var Ii=null!=T?T:j;null!=Ii&&(bi['aria-current']=Ii);var Ri=null!=H?H:N;null!=Ri&&(bi['aria-describedby']=w(Ri));var Di=null!=F?F:K;null!=Di&&(bi['aria-details']=Di),!0===di&&(bi['aria-disabled']=!0,'button'!==e&&'form'!==e&&'input'!==e&&'select'!==e&&'textarea'!==e||(bi.disabled=!0));var Mi=null!=G?G:J;null!=Mi&&(bi['aria-errormessage']=Mi);var Ei=null!=Q?Q:W;null!=Ei&&(bi['aria-expanded']=Ei);var Oi=null!=X?X:Y;null!=Oi&&(bi['aria-flowto']=w(Oi));var Pi=null!=$?$:aa;null!=Pi&&(bi['aria-haspopup']=Pi);var gi=null!=ia?ia:ea;!0===gi&&(bi['aria-hidden']=gi);var ki=null!=la?la:ra;null!=ki&&(bi['aria-invalid']=ki);var Ai=null!=ta?ta:sa;null!=Ai&&(bi['aria-keyshortcuts']=w(Ai));var Li=null!=na?na:ca;null!=Li&&(bi['aria-label']=Li);var Vi=null!=ua?ua:oa;null!=Vi&&(bi['aria-labelledby']=w(Vi));var qi=null!=ba?ba:da;null!=qi&&(bi['aria-level']=qi);var Bi=null!=ya?ya:va;null!=Bi&&(bi['aria-live']='none'===Bi?'off':Bi);var _i=null!=pa?pa:xa;null!=_i&&(bi['aria-modal']=_i);var zi=null!=ma?ma:wa;null!=zi&&(bi['aria-multiline']=zi);var Ti=null!=fa?fa:ha;null!=Ti&&(bi['aria-multiselectable']=Ti);var ji=null!=Sa?Sa:Ca;null!=ji&&(bi['aria-orientation']=ji);var Hi=null!=Ia?Ia:Ra;null!=Hi&&(bi['aria-owns']=w(Hi));var Ni=null!=Da?Da:Ma;null!=Ni&&(bi['aria-placeholder']=Ni);var Fi=null!=Ea?Ea:Oa;null!=Fi&&(bi['aria-posinset']=Fi);var Ki=null!=Pa?Pa:ga;null!=Ki&&(bi['aria-pressed']=Ki);var Ui=null!=ka?ka:Aa;null!=Ui&&(bi['aria-readonly']=Ui,'input'!==e&&'select'!==e&&'textarea'!==e||(bi.readOnly=!0));var Zi=null!=La?La:Va;null!=Zi&&(bi['aria-required']=Zi,'input'!==e&&'select'!==e&&'textarea'!==e||(bi.required=Va)),null!=yi&&(bi.role='none'===yi?'presentation':yi);var Gi=null!=qa?qa:Ba;null!=Gi&&(bi['aria-roledescription']=Gi);var Ji=null!=_a?_a:za;null!=Ji&&(bi['aria-rowcount']=Ji);var Qi=null!=Ta?Ta:ja;null!=Qi&&(bi['aria-rowindex']=Qi);var Wi=null!=Ha?Ha:Na;null!=Wi&&(bi['aria-rowspan']=Wi);var Xi=null!=Fa?Fa:Ka;null!=Xi&&(bi['aria-selected']=Xi);var Yi=null!=Ua?Ua:Za;null!=Yi&&(bi['aria-setsize']=Yi);var $i=null!=Ga?Ga:Ja;null!=$i&&(bi['aria-sort']=$i);var ae=null!=Qa?Qa:Wa;null!=ae&&(bi['aria-valuemax']=ae);var ie=null!=Xa?Xa:Ya;null!=ie&&(bi['aria-valuemin']=ie);var ee=null!=$a?$a:ai;null!=ee&&(bi['aria-valuenow']=ee);var le=null!=ii?ii:ei;if(null!=le&&(bi['aria-valuetext']=le),null!=li)for(var re in li)if(b.call(li,re)){var te=x(re),se=li[re];null!=se&&(bi["data-"+te]=se)}0===ui||'0'===ui||-1===ui||'-1'===ui?bi.tabIndex=ui:(!1===ri&&(bi.tabIndex='-1'),'a'===e||'button'===e||'input'===e||'select'===e||'textarea'===e?!1!==ri&&!0!==Z||(bi.tabIndex='-1'):'button'===yi||'checkbox'===yi||'link'===yi||'radio'===yi||'textbox'===yi||'switch'===yi?!1!==ri&&(bi.tabIndex='0'):!0===ri&&(bi.tabIndex='0')),null!=ni&&(0,c.warnOnce)('pointerEvents',"props.pointerEvents is deprecated. Use style.pointerEvents");var ne=(0,n.default)([ci,ni&&f[ni]],(0,l.default)({writingDirection:'ltr'},v)),ce=ne[0],ue=ne[1];ce&&(bi.className=ce),ue&&(bi.style=ue);var oe=null!=ti?ti:si;return null!=oe&&(bi.id=oe),null!=oi&&(bi['data-testid']=oi),null==bi.type&&'button'===e&&(bi.type='button'),bi}},91,[4,27,87,26,74]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.getLocaleDirection=u,_e.LocaleProvider=function(e){var t=e.direction,o=e.locale,l=e.children;return t||o?n.default.createElement(c.Provider,{children:l,value:{direction:o?u(o):t,locale:o}}):l},_e.useLocaleContext=function(){return(0,t.useContext)(c)};var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},o=r(d[1]),l={direction:'ltr',locale:'en-US'},c=(0,t.createContext)(l);function u(e){return(0,o.isLocaleRTL)(e)?'rtl':'ltr'}},92,[13,93]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isLocaleRTL=function(s){var l=c.get(s);if(l)return l;var o=!1;if(Intl.Locale)try{var u=new Intl.Locale(s).maximize().script;o=t.has(u)}catch(t){var h=s.split('-')[0];o=n.has(h)}else{var v=s.split('-')[0];o=n.has(v)}return c.set(s,o),o};var t=new Set(['Arab','Syrc','Samr','Mand','Thaa','Mend','Nkoo','Adlm','Rohg','Hebr']),n=new Set(['ae','ar','arc','bcc','bqi','ckb','dv','fa','far','glk','he','iw','khw','ks','ku','mzn','nqo','pnb','ps','sd','ug','ur','yi']),c=new Map},93,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"defaultProps",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"accessibilityProps",{enumerable:!0,get:function(){return c}}),Object.defineProperty(e,"clickProps",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"focusProps",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"keyboardProps",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"mouseProps",{enumerable:!0,get:function(){return l}}),Object.defineProperty(e,"touchProps",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"styleProps",{enumerable:!0,get:function(){return b}});var t={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},c={'aria-activedescendant':!0,'aria-atomic':!0,'aria-autocomplete':!0,'aria-busy':!0,'aria-checked':!0,'aria-colcount':!0,'aria-colindex':!0,'aria-colspan':!0,'aria-controls':!0,'aria-current':!0,'aria-describedby':!0,'aria-details':!0,'aria-disabled':!0,'aria-errormessage':!0,'aria-expanded':!0,'aria-flowto':!0,'aria-haspopup':!0,'aria-hidden':!0,'aria-invalid':!0,'aria-keyshortcuts':!0,'aria-label':!0,'aria-labelledby':!0,'aria-level':!0,'aria-live':!0,'aria-modal':!0,'aria-multiline':!0,'aria-multiselectable':!0,'aria-orientation':!0,'aria-owns':!0,'aria-placeholder':!0,'aria-posinset':!0,'aria-pressed':!0,'aria-readonly':!0,'aria-required':!0,role:!0,'aria-roledescription':!0,'aria-rowcount':!0,'aria-rowindex':!0,'aria-rowspan':!0,'aria-selected':!0,'aria-setsize':!0,'aria-sort':!0,'aria-valuemax':!0,'aria-valuemin':!0,'aria-valuenow':!0,'aria-valuetext':!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},o={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},s={onBlur:!0,onFocus:!0},n={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},l={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},u={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},b={style:!0}},94,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){var u={};for(var o in t)t.hasOwnProperty(o)&&!0===n[o]&&(u[o]=t[o]);return u}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},95,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var t=e(r(d[0])),n=e(r(d[1])),u=e(r(d[2])),l='__reactLayoutHandler',o=(u.default,null);function f(e,f){var v=(u.default&&void 0!==window.ResizeObserver&&null==o&&(o=new window.ResizeObserver(function(e){e.forEach(e=>{var t=e.target,u=t[l];'function'==typeof u&&n.default.measure(t,(t,n,l,o,f,v)=>{var c={nativeEvent:{layout:{x:t,y:n,width:l,height:o,left:f,top:v}},timeStamp:Date.now()};Object.defineProperty(c.nativeEvent,'target',{enumerable:!0,get:()=>e.target}),u(c)})})})),o);(0,t.default)(()=>{var t=e.current;null!=t&&(t[l]=f)},[e,f]),(0,t.default)(()=>{var t=e.current;return null!=t&&null!=v&&('function'==typeof t[l]?v.observe(t):v.unobserve(t)),()=>{null!=t&&null!=v&&v.unobserve(t)}},[e,v])}},96,[97,98,23]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),u=r(d[1]),f=((e=u)&&e.__esModule?e:{default:e}).default?t.useLayoutEffect:t.useEffect},97,[13,23]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var t=e(r(d[0])),o=e(r(d[1])),s=e=>{var t=e.offsetHeight,o=e.offsetWidth,s=e.offsetLeft,n=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)s+=e.offsetLeft+e.clientLeft-e.scrollLeft,n+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:o,height:t,top:n-=window.scrollY,left:s-=window.scrollX}},n=(e,t,o)=>{var n=t||e&&e.parentNode;e&&n&&setTimeout(()=>{if(e.isConnected&&n.isConnected){var t=s(n),l=s(e),f=l.height,u=l.left,c=l.top,b=l.width,p=u-t.left,h=c-t.top;o(p,h,b,f,u,c)}},0)},l={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},f={blur(e){try{e.blur()}catch(e){}},focus(e){try{var t=e.nodeName;null==e.getAttribute('tabIndex')&&!0!==e.isContentEditable&&null==l[t]&&e.setAttribute('tabIndex','-1'),e.focus()}catch(e){}},measure(e,t){n(e,null,t)},measureInWindow(e,o){e&&setTimeout(()=>{var s=(0,t.default)(e),n=s.height,l=s.left,f=s.top,u=s.width;o(l,f,u,n)},0)},measureLayout(e,t,o,s){n(e,t,s)},updateView(e,t){for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=t[s];switch(s){case'style':(0,o.default)(e,n);break;case'class':case'className':e.setAttribute('class',n);break;case'text':case'value':e.value=n;break;default:e.setAttribute(s,n)}}},configureNextLayoutAnimation(e,t){t()},setLayoutAnimationEnabledExperimental(){}}},98,[99,100]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=t=>{if(null!=t&&(1===t.nodeType&&'function'==typeof t.getBoundingClientRect))return t.getBoundingClientRect()}},99,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e};var f=function(e,t){var f=e.style;for(var o in t)if(t.hasOwnProperty(o)){var u=0===o.indexOf('--'),l=(0,n.default)(o,t[o],u);'float'===o&&(o='cssFloat'),u?f.setProperty(o,l):f[o]=l}}},100,[101]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};var n=function(e,t,n){return null==t||'boolean'==typeof t||''===t?'':n||'number'!=typeof t||0===t||u.default.hasOwnProperty(e)&&u.default[e]?(''+t).trim():t+'px'}},101,[102]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},o=['ms','Moz','O','Webkit'],l=(t,o)=>t+o.charAt(0).toUpperCase()+o.substring(1);Object.keys(t).forEach(n=>{o.forEach(o=>{t[l(o,n)]=t[n]})});var n=t},102,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e,t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=r(_d[1]),u=(e=n)&&e.__esModule?e:{default:e};function o(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.useMemo(()=>(0,u.default)(...n),[...n])}},103,[13,104]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return function(n){t.forEach(t=>{null!=t&&('function'!=typeof t?'object'!=typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=n:t(n))})}}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}}),r(d[0])},104,[13]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var u=e(r(d[0])),t=e(r(d[1]));function n(e){e.pointerEvents,e.style;return(0,t.default)(()=>e=>{null!=e&&(e.measure=t=>u.default.measure(e,t),e.measureLayout=(t,n,l)=>u.default.measureLayout(e,t,l,n),e.measureInWindow=t=>u.default.measureInWindow(e,t))})}},105,[98,106]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),t='function'==typeof Symbol&&'symbol'==typeof Symbol()?Symbol():Object.freeze({});function n(n){var u=e.useRef(t);return u.current===t&&(u.current=n()),u.current}},106,[13]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var u=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,u.get?u:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var n=e(r(_d[0])),t=e(r(_d[1])),u={},o=0;function l(e,l){void 0===l&&(l=u);var d,c,s=(d=()=>o++,null==(c=n.useRef(null)).current&&(c.current=d()),c.current),S=n.useRef(!1);n.useEffect(()=>(t.attachListeners(),()=>{t.removeNode(s)}),[s]),n.useEffect(()=>{var n=l,u=n.onMoveShouldSetResponder,o=n.onMoveShouldSetResponderCapture,d=n.onScrollShouldSetResponder,c=n.onScrollShouldSetResponderCapture,f=n.onSelectionChangeShouldSetResponder,p=n.onSelectionChangeShouldSetResponderCapture,h=n.onStartShouldSetResponder,R=n.onStartShouldSetResponderCapture,v=null!=u||null!=o||null!=d||null!=c||null!=f||null!=p||null!=h||null!=R,b=e.current;v?(t.addNode(s,b,l),S.current=!0):S.current&&(t.removeNode(s),S.current=!1)},[l,e,s]),n.useDebugValue({isResponder:e.current===t.getResponderNode()}),n.useDebugValue(l)}},107,[13,108]);
__d(function(g,r,_i2,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.attachListeners=function(){s.default&&null==window.__reactResponderSystemActive&&(window.addEventListener('blur',P),E.forEach(e=>{document.addEventListener(e,P)}),_.forEach(e=>{document.addEventListener(e,P,!0)}),window.__reactResponderSystemActive=!0)},_e.addNode=function(e,n,t){(0,o.setResponderId)(n,e),f.set(e,t)},_e.removeNode=function(e){S.id===e&&M();f.has(e)&&f.delete(e)},_e.terminateResponder=M,_e.getResponderNode=function(){return S.node};var n=e(r(d[0])),t=r(d[1]),o=r(d[2]),i=r(d[3]),s=e(r(d[4])),l={},u=['onStartShouldSetResponderCapture','onStartShouldSetResponder',{bubbles:!0}],c=['onMoveShouldSetResponderCapture','onMoveShouldSetResponder',{bubbles:!0}],p={touchstart:u,mousedown:u,touchmove:c,mousemove:c,scroll:['onScrollShouldSetResponderCapture','onScrollShouldSetResponder',{bubbles:!1}]},h={id:null,idPath:null,node:null},f=new Map,v=!1,R=0,S={id:null,node:null,idPath:null},b=new i.ResponderTouchHistoryStore;function T(e){S=e}function C(e){var n=f.get(e);return null!=n?n:l}function P(e){var i=e.type,s=e.target;if('touchstart'===i&&(v=!0),('touchmove'===i||R>1)&&(v=!1),!('mousedown'===i&&v||'mousemove'===i&&v||'mousemove'===i&&R<1))if(v&&'mouseup'===i)0===R&&(v=!1);else{var l=(0,t.isStartish)(i)&&(0,o.isPrimaryPointerDown)(e),u=(0,t.isMoveish)(i),c=(0,t.isEndish)(i),p=(0,t.isScroll)(i),f=(0,t.isSelectionChange)(i),P=(0,n.default)(e,b);(l||u||c)&&(e.touches?R=e.touches.length:l?R=1:c&&(R=0),b.recordTouchTrack(i,P.nativeEvent));var _,E=(0,o.getResponderPaths)(e),M=!1;if(l||u||p&&R>0){var y=S.idPath,x=E.idPath;if(null!=y&&null!=x){var L=(0,o.getLowestCommonAncestor)(y,x);if(null!=L){var q=x.indexOf(L)+(L===S.id?1:0);E={idPath:x.slice(q),nodePath:E.nodePath.slice(q)}}else E=null}null!=E&&null!=(_=w(E,e,P))&&(N(P,_),M=!0)}if(null!=S.id&&null!=S.node){var j=S,A=j.id,G=j.node,O=C(A),k=O.onResponderStart,D=O.onResponderMove,H=O.onResponderEnd,I=O.onResponderRelease,V=O.onResponderTerminate,z=O.onResponderTerminationRequest;if(P.bubbles=!1,P.cancelable=!1,P.currentTarget=G,l)null!=k&&(P.dispatchConfig.registrationName='onResponderStart',k(P));else if(u)null!=D&&(P.dispatchConfig.registrationName='onResponderMove',D(P));else{var B=(0,t.isCancelish)(i)||'contextmenu'===i||'blur'===i&&s===window||'blur'===i&&s.contains(G)&&e.relatedTarget!==G||p&&0===R||p&&s.contains(G)&&s!==G||f&&(0,o.hasValidSelection)(e),F=c&&!B&&!(0,o.hasTargetTouches)(G,e.touches);if(c&&null!=H&&(P.dispatchConfig.registrationName='onResponderEnd',H(P)),F&&(null!=I&&(P.dispatchConfig.registrationName='onResponderRelease',I(P)),T(h)),B){var J=!0;'contextmenu'!==i&&'scroll'!==i&&'selectionchange'!==i||(M?J=!1:null!=z&&(P.dispatchConfig.registrationName='onResponderTerminationRequest',!1===z(P)&&(J=!1))),J&&(null!=V&&(P.dispatchConfig.registrationName='onResponderTerminate',V(P)),T(h),v=!1,R=0)}}}}}function w(e,n,t){var o=p[n.type];if(null!=o){for(var i=e.idPath,s=e.nodePath,l=o[0],u=o[1],c=o[2].bubbles,h=function(e,n,o){var s=C(e)[o];if(null!=s&&(t.currentTarget=n,!0===s(t)))return{id:e,node:n,idPath:i.slice(i.indexOf(e))}},f=i.length-1;f>=0;f--){var v=h(i[f],s[f],l);if(null!=v)return v;if(!0===t.isPropagationStopped())return}if(c)for(var R=0;R<i.length;R++){var S=h(i[R],s[R],u);if(null!=S)return S;if(!0===t.isPropagationStopped())return}else{var b=i[0],T=s[0];if(n.target===T)return h(b,T,u)}}}function N(e,n){var t=S,o=t.id,i=t.node,s=n.id,l=n.node,u=C(s),c=u.onResponderGrant,p=u.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=l,null==o)null!=c&&(e.currentTarget=l,e.dispatchConfig.registrationName='onResponderGrant',c(e)),T(n);else{var h=C(o),f=h.onResponderTerminate,v=h.onResponderTerminationRequest,R=!0;null!=v&&(e.currentTarget=i,e.dispatchConfig.registrationName='onResponderTerminationRequest',!1===v(e)&&(R=!1)),R?(null!=f&&(e.currentTarget=i,e.dispatchConfig.registrationName='onResponderTerminate',f(e)),null!=c&&(e.currentTarget=l,e.dispatchConfig.registrationName='onResponderGrant',c(e)),T(n)):null!=p&&(e.currentTarget=l,e.dispatchConfig.registrationName='onResponderReject',p(e))}}var _=['blur','scroll'],E=['mousedown','mousemove','mouseup','dragstart','touchstart','touchmove','touchend','touchcancel','contextmenu','select','selectionchange'];function M(){var e=S,t=e.id,o=e.node;if(null!=t&&null!=o){var i=C(t).onResponderTerminate;if(null!=i){var s=(0,n.default)({},b);s.currentTarget=o,i(s)}T(h)}v=!1,R=0}},108,[109,110,111,113,23]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},u=()=>{},o={},c=[];function l(e){return e>20?e%20:e}function f(e,t){var f,p,s,v=!1,y=e.changedTouches,h=e.type,X=!0===e.metaKey,Y=!0===e.shiftKey,P=y&&y[0].force||0,b=l(y&&y[0].identifier||0),T=y&&y[0].clientX||e.clientX,K=y&&y[0].clientY||e.clientY,_=y&&y[0].pageX||e.pageX,D=y&&y[0].pageY||e.pageY,S='function'==typeof e.preventDefault?e.preventDefault.bind(e):u,j=e.timeStamp;function H(e){return Array.prototype.slice.call(e).map(e=>({force:e.force,identifier:l(e.identifier),get locationX(){return A(e.clientX)},get locationY(){return C(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:j}))}if(null!=y)p=H(y),s=H(e.touches);else{var M=[{force:P,identifier:b,get locationX(){return A(T)},get locationY(){return C(K)},pageX:_,pageY:D,target:e.target,timestamp:j}];p=M,s='mouseup'===h||'dragstart'===h?c:M}var O={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:o,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>v,isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:X,shiftKey:Y,changedTouches:p,force:P,identifier:b,get locationX(){return A(T)},get locationY(){return C(K)},pageX:_,pageY:D,target:e.target,timestamp:j,touches:s,type:h},persist:u,preventDefault:S,stopPropagation(){v=!0},target:e.target,timeStamp:j,touchHistory:t.touchHistory};function A(e){if(f=f||(0,n.default)(O.currentTarget))return e-f.left}function C(e){if(f=f||(0,n.default)(O.currentTarget))return e-f.top}return O}},109,[99]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"BLUR",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"CONTEXT_MENU",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"FOCUS_OUT",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"MOUSE_DOWN",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"MOUSE_MOVE",{enumerable:!0,get:function(){return c}}),Object.defineProperty(e,"MOUSE_UP",{enumerable:!0,get:function(){return f}}),Object.defineProperty(e,"MOUSE_CANCEL",{enumerable:!0,get:function(){return O}}),Object.defineProperty(e,"TOUCH_START",{enumerable:!0,get:function(){return b}}),Object.defineProperty(e,"TOUCH_MOVE",{enumerable:!0,get:function(){return l}}),Object.defineProperty(e,"TOUCH_END",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"TOUCH_CANCEL",{enumerable:!0,get:function(){return E}}),Object.defineProperty(e,"SCROLL",{enumerable:!0,get:function(){return p}}),Object.defineProperty(e,"SELECT",{enumerable:!0,get:function(){return C}}),Object.defineProperty(e,"SELECTION_CHANGE",{enumerable:!0,get:function(){return P}}),e.isStartish=function(t){return t===b||t===o},e.isMoveish=function(t){return t===l||t===c},e.isEndish=function(t){return t===s||t===f||j(t)},e.isCancelish=j,e.isScroll=function(t){return t===p},e.isSelectionChange=function(t){return t===C||t===P};var t='blur',n='contextmenu',u='focusout',o='mousedown',c='mousemove',f='mouseup',O='dragstart',b='touchstart',l='touchmove',s='touchend',E='touchcancel',p='scroll',C='select',P='selectionchange';function j(t){return t===E||t===O}},110,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.setResponderId=function(e,t){null!=e&&(e[o]=t)},_e.getResponderPaths=function(e){for(var t=[],n=[],o=u(e),l=0;l<o.length;l++){var i=o[l],s=c(i);null!=s&&(t.push(s),n.push(i))}return{idPath:t,nodePath:n}},_e.getLowestCommonAncestor=function(e,t){var n=e.length,o=t.length;if(0===n||0===o||e[n-1]!==t[o-1])return null;var u=e[0],l=0,c=t[0],i=0;n-o>0&&(u=e[l=n-o],n=o);o-n>0&&(c=t[i=o-n],o=n);var s=n;for(;s--;){if(u===c)return u;u=e[l++],c=t[i++]}return null},_e.hasTargetTouches=function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var o=t[n].target;if(null!=o&&e.contains(o))return!0}return!1},_e.hasValidSelection=function(e){if('selectionchange'===e.type)return(0,n.default)();return'select'===e.type},_e.isPrimaryPointerDown=function(e){var t=e.altKey,n=e.button,o=e.buttons,u=e.ctrlKey,l=e.type,c='mousedown'===l&&(0===n||1===o),i='mousemove'===l&&1===o,s=!1===t&&!1===u;if('touchstart'===l||'touchmove'===l||c&&s||i&&s)return!0;return!1};var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},o='__reactResponderId';function u(e){return'selectionchange'===e.type?l(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():l(e.target)}function l(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function c(e){return null!=e?e[o]:null}},111,[112]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(){var n=window.getSelection(),o=n.toString(),t=n.anchorNode,u=n.focusNode,c=t&&t.nodeType===window.Node.TEXT_NODE||u&&u.nodeType===window.Node.TEXT_NODE;return o.length>=1&&'\n'!==o&&c}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}})},112,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"ResponderTouchHistoryStore",{enumerable:!0,get:function(){return T}});var t=r(d[0]);function n(t){return t.timeStamp||t.timestamp}function i(t){return{touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:n(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:n(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:n(t)}}function c(t,i){t.touchActive=!0,t.startPageX=i.pageX,t.startPageY=i.pageY,t.startTimeStamp=n(i),t.currentPageX=i.pageX,t.currentPageY=i.pageY,t.currentTimeStamp=n(i),t.previousPageX=i.pageX,t.previousPageY=i.pageY,t.previousTimeStamp=n(i)}function o(t){var n=t.identifier;return null==n&&console.error('Touch object is missing identifier.'),n}function u(t,u){var s=o(t),h=u.touchBank[s];h?c(h,t):u.touchBank[s]=i(t),u.mostRecentTimeStamp=n(t)}function s(t,i){var c=i.touchBank[o(t)];c?(c.touchActive=!0,c.previousPageX=c.currentPageX,c.previousPageY=c.currentPageY,c.previousTimeStamp=c.currentTimeStamp,c.currentPageX=t.pageX,c.currentPageY=t.pageY,c.currentTimeStamp=n(t),i.mostRecentTimeStamp=n(t)):console.warn('Cannot record touch move without a touch start.\n',"Touch Move: "+p(t)+"\n","Touch Bank: "+v(i))}function h(t,i){var c=i.touchBank[o(t)];c?(c.touchActive=!1,c.previousPageX=c.currentPageX,c.previousPageY=c.currentPageY,c.previousTimeStamp=c.currentTimeStamp,c.currentPageX=t.pageX,c.currentPageY=t.pageY,c.currentTimeStamp=n(t),i.mostRecentTimeStamp=n(t)):console.warn('Cannot record touch end without a touch start.\n',"Touch End: "+p(t)+"\n","Touch Bank: "+v(i))}function p(t){return JSON.stringify({identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,timestamp:n(t)})}function v(t){var n=t.touchBank,i=JSON.stringify(n.slice(0,20));return n.length>20&&(i+=' (original size: '+n.length+')'),i}class T{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(n,i){var c=this._touchHistory;if((0,t.isMoveish)(n))i.changedTouches.forEach(t=>s(t,c));else if((0,t.isStartish)(n))i.changedTouches.forEach(t=>u(t,c)),c.numberActiveTouches=i.touches.length,1===c.numberActiveTouches&&(c.indexOfSingleActiveTouch=i.touches[0].identifier);else if((0,t.isEndish)(n)&&(i.changedTouches.forEach(t=>h(t,c)),c.numberActiveTouches=i.touches.length,1===c.numberActiveTouches))for(var o=c.touchBank,p=0;p<o.length;p++){var v=o[p];if(null!=v&&v.touchActive){c.indexOfSingleActiveTouch=p;break}}}get touchHistory(){return this._touchHistory}}},113,[110]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=(0,r(d[0]).createContext)(!1)},114,[13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return u}});var t=()=>{};function n(){return null}n.setBackgroundColor=t,n.setBarStyle=t,n.setHidden=t,n.setNetworkActivityIndicatorVisible=t,n.setTranslucent=t;var u=n},115,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=class{static alert(){}}},116,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var c=r(d[2]);Object.keys(c).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var o=r(d[3]);Object.keys(o).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})},117,[118,122,123,124]);
__d(function(g,_r,i,a,m,_e,_d){"use strict";const e=["children","initialMetrics","initialSafeAreaInsets","style"];function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"SafeAreaInsetsContext",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,"SafeAreaFrameContext",{enumerable:!0,get:function(){return c}}),_e.SafeAreaProvider=function(t){let{children:u,initialMetrics:h,initialSafeAreaInsets:b,style:v}=t,y=(0,n.default)(t,e);const p=r.useContext(s),w=r.useContext(c),[S,x]=r.useState(h?.insets??b??p??null),[A,C]=r.useState(h?.frame??w??{x:0,y:0,width:o.default.get('window').width,height:o.default.get('window').height}),P=r.useCallback(e=>{const{nativeEvent:{frame:t,insets:n}}=e;C(e=>!t||t.height===e.height&&t.width===e.width&&t.x===e.x&&t.y===e.y?e:t),x(e=>e&&n.bottom===e.bottom&&n.left===e.left&&n.right===e.right&&n.top===e.top?e:n)},[]);return r.createElement(l.NativeSafeAreaProvider,f({style:[d.fill,v],onInsetsChange:P},y),null!=S?r.createElement(c.Provider,{value:A},r.createElement(s.Provider,{value:S},u)):null)},_e.useSafeAreaInsets=b,_e.useSafeAreaFrame=function(){const e=r.useContext(c);if(null==e)throw new Error(h);return e},_e.withSafeAreaInsets=function(e){return r.forwardRef((t,n)=>{const o=b();return r.createElement(e,f({},t,{insets:o,ref:n}))})},_e.useSafeArea=function(){return b()},Object.defineProperty(_e,"SafeAreaConsumer",{enumerable:!0,get:function(){return v}}),Object.defineProperty(_e,"SafeAreaContext",{enumerable:!0,get:function(){return y}});var n=t(_r(_d[0])),r=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(_r(_d[1])),o=t(_r(_d[2])),u=t(_r(_d[3])),l=_r(_d[4]);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}const s=r.createContext(null),c=r.createContext(null);const d=u.default.create({fill:{flex:1}});const h='No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.';function b(){const e=r.useContext(s);if(null==e)throw new Error(h);return e}const v=s.Consumer,y=s},118,[119,13,120,26,121]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(r,e){if(null==r)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(-1!==e.indexOf(t))continue;n[t]=r[t]}return n},m.exports.__esModule=!0,m.exports.default=m.exports},119,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var t=e(r(d[0])),n=e(r(d[1])),s={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},o={},c=n.default;function l(){if(n.default){var e,t,o=window;if(o.visualViewport){var c=o.visualViewport;e=Math.round(c.height*c.scale),t=Math.round(c.width*c.scale)}else{var l=o.document.documentElement;e=l.clientHeight,t=l.clientWidth}s.window={fontScale:1,height:e,scale:o.devicePixelRatio||1,width:t},s.screen={fontScale:1,height:o.screen.height,scale:o.devicePixelRatio||1,width:o.screen.width}}}function u(){l(),Array.isArray(o.change)&&o.change.forEach(e=>e(s))}class w{static get(e){return c&&(c=!1,l()),(0,t.default)(s[e],"No dimension set for key "+e),s[e]}static set(e){e&&(n.default?(0,t.default)(!1,'Dimensions cannot be set in the browser'):(null!=e.screen&&(s.screen=e.screen),null!=e.window&&(s.window=e.window)))}static addEventListener(e,t){return o[e]=o[e]||[],o[e].push(t),{remove:()=>{this.removeEventListener(e,t)}}}static removeEventListener(e,t){Array.isArray(o[e])&&(o[e]=o[e].filter(e=>e!==t))}}n.default&&(window.visualViewport?window.visualViewport.addEventListener('resize',u,!1):window.addEventListener('resize',u,!1))},120,[9,23]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.NativeSafeAreaProvider=function({children:t,style:n,onInsetsChange:d}){return e.useEffect(()=>{if('undefined'==typeof document)return;const t=p();document.body.appendChild(t);const e=()=>{const{paddingTop:e,paddingBottom:n,paddingLeft:o,paddingRight:s}=window.getComputedStyle(t),u={top:e?parseInt(e,10):0,bottom:n?parseInt(n,10):0,left:o?parseInt(o,10):0,right:s?parseInt(s,10):0},c={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};d({nativeEvent:{insets:u,frame:c}})};return t.addEventListener(u(),e),e(),()=>{document.body.removeChild(t),t.removeEventListener(u(),e)}},[d]),e.createElement(o.default,{style:n},t)};var t,e=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),e.default=t,e})(r(_d[0])),n=r(_d[1]),o=(t=n)&&t.__esModule?t:{default:t};const d={WebkitTransition:'webkitTransitionEnd',Transition:'transitionEnd',MozTransition:'transitionend',MSTransition:'msTransitionEnd',OTransition:'oTransitionEnd'};let s=null;function u(){if(null!=s)return s;const t=document.createElement('invalidtype');s=d.Transition;for(const e in d)if(void 0!==t.style[e]){s=d[e];break}return s}let c=null;function f(){if(null!==c)return c;const{CSS:t}=window;return c=t&&t.supports&&t.supports('top: constant(safe-area-inset-top)')?'constant':'env',c}function l(t){return`${f()}(safe-area-inset-${t})`}function p(){const t=document.createElement('div'),{style:e}=t;return e.position='fixed',e.left='0',e.top='0',e.width='0',e.height='0',e.zIndex='-1',e.overflow='hidden',e.visibility='hidden',e.transitionDuration='0.05s',e.transitionProperty='padding',e.transitionDelay='0s',e.paddingTop=l('top'),e.paddingBottom=l('bottom'),e.paddingLeft=l('left'),e.paddingRight=l('right'),t}},121,[13,85]);
__d(function(g,_r,i,a,m,_e,_d){"use strict";const t=["style","mode","edges"];function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"SafeAreaView",{enumerable:!0,get:function(){return s}});var r=e(_r(_d[0])),n=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e.default=t,e})(_r(_d[1])),o=e(_r(_d[2])),d=e(_r(_d[3])),f=_r(_d[4]);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(null,arguments)}const l={top:'additive',left:'additive',bottom:'additive',right:'additive'};function c(t,e,r){switch(r){case'off':return e;case'maximum':return Math.max(e,t);default:return e+t}}const s=n.forwardRef((e,s)=>{let{style:p={},mode:b,edges:h}=e,v=(0,r.default)(e,t);const y=(0,f.useSafeAreaInsets)(),O=n.useMemo(()=>null==h?l:Array.isArray(h)?h.reduce((t,e)=>(t[e]='additive',t),{}):h,[h]),_=n.useMemo(()=>{const t=o.default.flatten(p);if('margin'===b){const{margin:e=0,marginVertical:r=e,marginHorizontal:n=e,marginTop:o=r,marginRight:d=n,marginBottom:f=r,marginLeft:u=n}=t,l={marginTop:c(y.top,o,O.top),marginRight:c(y.right,d,O.right),marginBottom:c(y.bottom,f,O.bottom),marginLeft:c(y.left,u,O.left)};return[p,l]}{const{padding:e=0,paddingVertical:r=e,paddingHorizontal:n=e,paddingTop:o=r,paddingRight:d=n,paddingBottom:f=r,paddingLeft:u=n}=t,l={paddingTop:c(y.top,o,O.top),paddingRight:c(y.right,d,O.right),paddingBottom:c(y.bottom,f,O.bottom),paddingLeft:c(y.left,u,O.left)};return[p,l]}},[O.bottom,O.left,O.right,O.top,y.bottom,y.left,y.right,y.top,b,p]);return n.createElement(d.default,u({style:_},v,{ref:s}))})},122,[119,13,26,85,118]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"initialWindowMetrics",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"initialWindowSafeAreaInsets",{enumerable:!0,get:function(){return t}});const n=null,t=null},123,[]);
__d(function(g,r,i,a,m,e,d){},124,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"useAsyncStorage",{enumerable:!0,get:function(){return n.useAsyncStorage}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e},n=r(d[1]),o=u.default},125,[126,130]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return i}});var e,t=r(d[0]);const o=((e=t)&&e.__esModule?e:{default:e}).default.bind({concatArrays:!0,ignoreUndefined:!0});function l(e,t){const l=window.localStorage.getItem(e);if(l){const n=JSON.parse(l),u=JSON.parse(t),c=JSON.stringify(o(n,u));window.localStorage.setItem(e,c)}else window.localStorage.setItem(e,t)}function n(e,t){return new Promise((o,l)=>{try{const l=e();null==t||t(null,l),o(l)}catch(e){null==t||t(e),l(e)}})}function u(e,t,o){return Promise.all(e).then(e=>{const l=(null==o?void 0:o(e))??null;return null==t||t(null,l),Promise.resolve(l)},e=>(null==t||t(e),Promise.reject(e)))}const c={getItem:(e,t)=>n(()=>window.localStorage.getItem(e),t),setItem:(e,t,o)=>n(()=>window.localStorage.setItem(e,t),o),removeItem:(e,t)=>n(()=>window.localStorage.removeItem(e),t),mergeItem:(e,t,o)=>n(()=>l(e,t),o),clear:e=>n(()=>window.localStorage.clear(),e),getAllKeys:e=>n(()=>{const e=window.localStorage.length,t=[];for(let o=0;o<e;o+=1){const e=window.localStorage.key(o)||"";t.push(e)}return t},e),flushGetRequests:()=>{},multiGet:(e,t)=>u(e.map(e=>c.getItem(e)),t,t=>t.map((t,o)=>[e[o],t])),multiSet:(e,t)=>u(e.map(e=>c.setItem(e[0],e[1])),t),multiRemove:(e,t)=>u(e.map(e=>c.removeItem(e)),t),multiMerge:(e,t)=>u(e.map(e=>c.mergeItem(e[0],e[1])),t)};var i=c},126,[127]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},127,[128]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),{hasOwnProperty:n}=Object.prototype,{propertyIsEnumerable:o}=Object,c=(t,n,o)=>Object.defineProperty(t,n,{value:o,writable:!0,enumerable:!0,configurable:!0}),s=this,f={concatArrays:!1,ignoreUndefined:!1},l=t=>{const c=[];for(const o in t)n.call(t,o)&&c.push(o);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(t);for(const s of n)o.call(t,s)&&c.push(s)}return c};function u(n){return Array.isArray(n)?y(n):t(n)?p(n):n}function y(t){const n=t.slice(0,0);return l(t).forEach(o=>{c(n,o,u(t[o]))}),n}function p(t){const n=null===Object.getPrototypeOf(t)?Object.create(null):{};return l(t).forEach(o=>{c(n,o,u(t[o]))}),n}const b=(t,n,o,s)=>(o.forEach(o=>{void 0===n[o]&&s.ignoreUndefined||(o in t&&t[o]!==Object.getPrototypeOf(t)?c(t,o,h(t[o],n[o],s)):c(t,o,u(n[o])))}),t),O=(t,o,s)=>{let f=t.slice(0,0),y=0;return[t,o].forEach(o=>{const p=[];for(let s=0;s<o.length;s++)n.call(o,s)&&(p.push(String(s)),c(f,y++,o===t?o[s]:u(o[s])));f=b(f,o,l(o).filter(t=>!p.includes(t)),s)}),f};function h(n,o,c){return c.concatArrays&&Array.isArray(n)&&Array.isArray(o)?O(n,o,c):t(o)&&t(n)?b(n,o,l(o),c):u(o)}m.exports=function(...n){const o=h(u(f),this!==s&&this||{},f);let c={_:{}};for(const s of n)if(void 0!==s){if(!t(s))throw new TypeError('`'+s+'` is not an Option Object');c=h(c,{_:s},o)}return c._}},128,[129]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=t=>{if('[object Object]'!==Object.prototype.toString.call(t))return!1;const o=Object.getPrototypeOf(t);return null===o||o===Object.prototype}},129,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.useAsyncStorage=function(e){return{getItem:(...t)=>u.default.getItem(e,...t),setItem:(...t)=>u.default.setItem(e,...t),mergeItem:(...t)=>u.default.mergeItem(e,...t),removeItem:(...t)=>u.default.removeItem(e,...t)}};var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},130,[126]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"commonStyles",{enumerable:!0,get:function(){return c}});var o,e=r(d[0]),t=(o=e)&&o.__esModule?o:{default:o},n=r(d[1]);const c=t.default.create({safeArea:{flex:1,backgroundColor:n.theme.colors.background},container:{flex:1,backgroundColor:n.theme.colors.background},containerWithNav:{flex:1,backgroundColor:n.theme.colors.background,paddingBottom:80},primaryButton:{backgroundColor:n.theme.colors.primary,padding:18,borderRadius:12,alignItems:'center',marginBottom:15},buttonText:{color:n.theme.colors.white,fontSize:18,fontWeight:'600'},secondaryButton:{backgroundColor:n.theme.colors.surface,padding:18,borderRadius:12,alignItems:'center',borderWidth:2,borderColor:n.theme.colors.primary},secondaryButtonText:{color:n.theme.colors.primary,fontSize:18,fontWeight:'600'},input:{backgroundColor:'rgba(255, 255, 255, 0.15)',padding:15,borderRadius:8,borderWidth:2,borderColor:'rgba(255, 255, 255, 0.4)',marginBottom:15,fontSize:16,color:'#FFFFFF'},linkText:{color:n.theme.colors.primary,textAlign:'center',marginTop:15,fontSize:16},header:{backgroundColor:n.theme.colors.surface,padding:20,borderBottomWidth:1,borderBottomColor:n.theme.colors.secondary},backButton:{fontSize:18,color:n.theme.colors.primary,marginBottom:10},headerTitle:{fontSize:24,fontWeight:'bold',color:n.theme.colors.text}})},131,[26,132]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"theme",{enumerable:!0,get:function(){return t}});const t={bottomNavHeight:80,colors:{sand:'#F4E8D8',cream:'#F8F1E7',lightCream:'#FBF7F1',mahogany:'#8B6F47',darkMahogany:'#6B4423',navy:'#2C3E50',warmGray:'#A0826D',darkWarmGray:'#8B7355',gold:'#C9A961',warmGold:'#D4AF37',brightGold:'#D4AF37',deepMaroon:'#8C3B2A',charcoal:'#2B2216',white:'#FFFFFF',warmBrown:'#8B4513',lightBrown:'#A0522D',darkBrown:'#654321',paleGold:'#FFD700',darkGold:'#B8860B',lightGold:'#FFFACD',warmOrange:'#D2691E',lightOrange:'#E9967A',warmRed:'#A0522D',warmPurple:'#8B7355',warmBlue:'#6B8E99',warmGreen:'#8B7355',successGreen:'#5FAD56',lightGreen:'#7BC67E',primary:'#8B6F47',primaryDark:'#6B4423',secondary:'#C9A961',background:'#F4E8D8',surface:'#F8F1E7',surfaceLight:'#FBF7F1',text:'#2C3E50',textSecondary:'#A0826D',textLight:'#8B7355',border:'#C9A961',accent:'#D4AF37',error:'#8C3B2A'}}},132,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"CASE_PHASES",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"PHASE_TRANSITION_TASKS",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"LITIGATION_STAGES",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"VIDEOS",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"USER_TYPES",{enumerable:!0,get:function(){return c}}),Object.defineProperty(e,"DAILY_BONUSES",{enumerable:!0,get:function(){return p}}),Object.defineProperty(e,"MAX_LIFETIME_CREDITS",{enumerable:!0,get:function(){return l}}),Object.defineProperty(e,"COINS_PER_CREDIT",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"AVATARS",{enumerable:!0,get:function(){return f}});const t={PRE_LITIGATION:{id:'pre_litigation',name:'Pre-Litigation',color:'#3498db',icon:'\ud83d\udccb',description:'Gathering documentation and preparing your case'},LITIGATION:{id:'litigation',name:'Litigation',color:'#f39c12',icon:'\u2696\ufe0f',description:'Active lawsuit with court proceedings'},TRIAL:{id:'trial',name:'Trial',color:'#e74c3c',icon:'\ud83c\udfdb\ufe0f',description:'Case proceeding to or in trial'}},o={LITIGATION_START:'cf-2',TRIAL_START:'trial-1'},n=[{id:1,name:'Pre-Litigation',coins:100,completed:!1,description:'Gather all necessary documentation before filing your case',expanded:!1,position:{top:'8%',left:'15%'},phase:t.PRE_LITIGATION.id,subStages:[{id:'pre-1',name:'Police Report',coins:10,completed:!1,icon:'\ud83d\ude94',description:'Upload the official police accident report',acceptedFormats:'PDF, JPG, PNG',uploaded:!1,uploadedFiles:[]},{id:'pre-2',name:'Body Cam Footage',coins:10,completed:!1,icon:'\ud83d\udcf9',description:'Upload body camera footage if available',acceptedFormats:'MP4, MOV, AVI',uploaded:!1,uploadedFiles:[]},{id:'pre-3',name:'Dash Cam Footage',coins:10,completed:!1,icon:'\ud83c\udfa5',description:'Upload dash camera recordings',acceptedFormats:'MP4, MOV, AVI',uploaded:!1,uploadedFiles:[]},{id:'pre-4',name:'Pictures',coins:5,completed:!1,icon:'\ud83d\udcf8',description:'Upload photos of accident scene, vehicle damage, and injuries',acceptedFormats:'JPG, PNG, HEIC',uploaded:!1,uploadedFiles:[]},{id:'pre-5',name:'Health Insurance Card',coins:5,completed:!1,icon:'\ud83d\udcb3',description:'Upload copy of health insurance card (front and back)',acceptedFormats:'PDF, JPG, PNG',uploaded:!1,uploadedFiles:[]},{id:'pre-6',name:'Auto Insurance Company',coins:5,completed:!1,icon:'\ud83c\udfe2',description:'Enter your auto insurance provider name',isDataEntry:!0,enteredData:''},{id:'pre-7',name:'Auto Insurance Policy Number',coins:5,completed:!1,icon:'\ud83d\udd22',description:'Enter your auto insurance policy number',isDataEntry:!0,enteredData:''},{id:'pre-8',name:'Medical Bills',coins:15,completed:!1,icon:'\ud83d\udcb5',description:'Upload all medical treatment bills',acceptedFormats:'PDF, JPG, PNG',uploaded:!1,uploadedFiles:[],linkToMedicalHub:!0},{id:'pre-9',name:'Medical Records',coins:35,completed:!1,icon:'\ud83d\udccb',description:'Upload complete medical records and reports',acceptedFormats:'PDF, JPG, PNG',uploaded:!1,uploadedFiles:[],linkToMedicalHub:!0},{id:'pre-10',name:'Demand Sent',coins:15,completed:!1,icon:'\ud83d\udcee',description:'Upload the demand letter sent to the opposing party or insurance company',acceptedFormats:'PDF, DOC, DOCX',uploaded:!1,uploadedFiles:[]},{id:'pre-11',name:'Demand Rejected',coins:10,completed:!1,icon:'\u274c',description:'Upload the rejection response to your demand letter',acceptedFormats:'PDF, DOC, DOCX',uploaded:!1,uploadedFiles:[]}],videos:[{id:'v1',title:'Pre-Litigation Essentials',price:2.99,duration:'15 min',tier:'basic'},{id:'v2',title:'Document Collection Guide',price:3.99,duration:'20 min',tier:'basic'}]},{id:2,name:'Complaint Filed',coins:32,completed:!1,description:'Your lawsuit is officially filed with the court',expanded:!1,position:{top:'8%',left:'60%'},phase:t.LITIGATION.id,subStages:[{id:'cf-1',name:'Draft Complaint',coins:8,completed:!1,icon:'\ud83d\udcdd',description:'Prepare the legal complaint document'},{id:'cf-2',name:'File with Court',coins:10,completed:!1,icon:'\u2696\ufe0f',description:'Submit complaint to the court',triggersPhaseTransition:'litigation'},{id:'cf-3',name:'Serve Defendant',coins:7,completed:!1,icon:'\ud83d\udcec',description:'Deliver complaint to the defendant'},{id:'cf-4',name:'Answer Filed (within 30 days)',coins:7,completed:!1,icon:'\ud83d\udcc4',description:'Defendant files their answer to the complaint'}],videos:[{id:'v3',title:'Filing Your Complaint',price:4.99,duration:'18 min',tier:'premium'}]},{id:3,name:'Discovery Begins',coins:50,completed:!1,description:'Exchange information with the opposing party',expanded:!1,position:{top:'25%',left:'35%'},phase:t.LITIGATION.id,subStages:[{id:'disc-1',name:'Interrogatories',coins:10,completed:!1,icon:'\u2753',description:'Written questions for the other party'},{id:'disc-2',name:'Request for Production of Documents',coins:10,completed:!1,icon:'\ud83d\udcc4',description:'Request relevant documents from the opposing party'},{id:'disc-3',name:'Request for Admissions',coins:10,completed:!1,icon:'\u2705',description:'Facts to be admitted or denied by the opposing party'},{id:'disc-4',name:'Entry Upon Land for Inspection',coins:10,completed:!1,icon:'\ud83c\udfd8\ufe0f',description:'Request to inspect property or land related to the case'},{id:'disc-5',name:'Experts',coins:10,completed:!1,icon:'\ud83d\udc68\u200d\u2695\ufe0f',description:'Identify and disclose expert witnesses'}],videos:[{id:'v4',title:'Understanding Discovery',price:3.99,duration:'22 min',tier:'free'},{id:'v5',title:'Discovery Response Strategies',price:4.99,duration:'25 min',tier:'premium'}]},{id:4,name:'Depositions',coins:100,completed:!1,description:'Sworn testimony is recorded under oath',expanded:!1,position:{top:'42%',left:'65%'},phase:t.LITIGATION.id,subStages:[{id:'dep-1',name:'Deposition Preparation',coins:25,completed:!1,icon:'\ud83d\udcd6',description:'Prepare for your testimony'},{id:'dep-2',name:'Your Deposition',coins:25,completed:!1,icon:'\ud83c\udfa4',description:'Give sworn testimony'},{id:'dep-3',name:'Opposing Party Deposition',coins:25,completed:!1,icon:'\ud83d\udc65',description:'Attend opponent depositions'},{id:'dep-4',name:'Expert Deposition',coins:25,completed:!1,icon:'\ud83d\udc68\u200d\u2695\ufe0f',description:'Expert witness sworn testimony'}],videos:[{id:'v6',title:'Deposition Deep Dive',price:4.99,duration:'30 min',tier:'premium'},{id:'v7',title:'How to Testify Effectively',price:5.99,duration:'28 min',tier:'premium'}]},{id:5,name:'Mediation',coins:50,completed:!1,description:'Attempt to settle the case with a neutral mediator',expanded:!1,position:{top:'58%',left:'20%'},phase:t.LITIGATION.id,subStages:[{id:'med-1',name:'Mediation Prep',coins:15,completed:!1,icon:'\ud83d\udccb',description:'Prepare settlement strategy'},{id:'med-2',name:'Mediation Session',coins:25,completed:!1,icon:'\ud83e\udd1d',description:'Attend mediation meeting'},{id:'med-3',name:'Settlement Negotiation',coins:10,completed:!1,icon:'\ud83d\udcbc',description:'Negotiate settlement terms'}],videos:[{id:'v8',title:'Mediation Mastery',price:4.99,duration:'24 min',tier:'premium'}]},{id:6,name:'Trial Prep',coins:100,completed:!1,description:'Prepare your case for trial presentation',expanded:!1,position:{top:'58%',left:'70%'},phase:t.LITIGATION.id,subStages:[{id:'tp-1',name:'Prepare your Testimony',coins:25,completed:!1,icon:'\ud83d\udcd6',description:'Prepare what you will say on the stand'},{id:'tp-2',name:'Confirm Exhibits and Evidence with your Attorney',coins:20,completed:!1,icon:'\ud83d\uddc2\ufe0f',description:'Review all exhibits and evidence with your lawyer'},{id:'tp-3',name:'Arrange to miss work',coins:15,completed:!1,icon:'\ud83d\udcc5',description:'Schedule time off for trial dates'},{id:'tp-4',name:'Arrange Transportation',coins:15,completed:!1,icon:'\ud83d\ude97',description:'Plan how to get to the courthouse'},{id:'tp-5',name:'Discuss Trial Strategy',coins:25,completed:!1,icon:'\ud83c\udfaf',description:'Review courtroom strategy with your attorney'}],videos:[{id:'v9',title:'Trial Preparation Guide',price:5.99,duration:'35 min',tier:'premium'},{id:'v10',title:'Courtroom Procedures',price:4.99,duration:'28 min',tier:'premium'}]},{id:7,name:'Trial',coins:100,completed:!1,description:'Present your case in court',expanded:!1,position:{top:'74%',left:'35%'},phase:t.TRIAL.id,subStages:[{id:'trial-1',name:'PreTrial motions',coins:10,completed:!1,icon:'\ud83d\udccb',description:'File pretrial motions with the court',triggersPhaseTransition:'trial'},{id:'trial-2',name:'Jury selection / voir dire',coins:10,completed:!1,icon:'\ud83d\udc65',description:'Select jury through voir dire process'},{id:'trial-3',name:'Opening statements',coins:15,completed:!1,icon:'\ud83d\udde3\ufe0f',description:'Present opening arguments to the jury'},{id:'trial-4',name:"Plaintiff's witness testimony (direct and cross examination)",coins:15,completed:!1,icon:'\ud83d\udc68\u200d\u2696\ufe0f',description:'Plaintiff presents witness testimony'},{id:'trial-5',name:"Plaintiff's evidence (pictures, documents, records, affidavits)",coins:15,completed:!1,icon:'\ud83d\udcca',description:'Plaintiff introduces evidence'},{id:'trial-6',name:'Plaintiff rests',coins:5,completed:!1,icon:'\u2705',description:'Plaintiff concludes their case'},{id:'trial-7',name:'Motions',coins:5,completed:!1,icon:'\ud83d\udcc4',description:'Motions after plaintiff rests'},{id:'trial-8',name:"Defense's witness testimony (direct and cross examination)",coins:15,completed:!1,icon:'\ud83d\udc68\u200d\ud83d\udcbc',description:'Defense presents witness testimony'},{id:'trial-9',name:"Defense's evidence (pictures, documents, records, affidavits)",coins:15,completed:!1,icon:'\ud83d\udcd1',description:'Defense introduces evidence'},{id:'trial-10',name:'Defense rests',coins:5,completed:!1,icon:'\u2705',description:'Defense concludes their case'},{id:'trial-11',name:'Motions',coins:5,completed:!1,icon:'\ud83d\udcc4',description:'Motions after defense rests'},{id:'trial-12',name:'Closing arguments',coins:15,completed:!1,icon:'\u26a1',description:'Deliver closing statements to the jury'},{id:'trial-13',name:'Jury instructions (from judge)',coins:10,completed:!1,icon:'\u2696\ufe0f',description:'Judge instructs the jury on the law'},{id:'trial-14',name:'Jury deliberations',coins:10,completed:!1,icon:'\ud83d\udcad',description:'Jury discusses the case privately'},{id:'trial-15',name:'Jury questions',coins:5,completed:!1,icon:'\u2753',description:'Jury asks questions to the judge'},{id:'trial-16',name:'Verdict',coins:20,completed:!1,icon:'\ud83c\udfc6',description:'Jury delivers their verdict'}],videos:[{id:'v11',title:'Trial Tactics',price:6.99,duration:'40 min',tier:'premium'}]},{id:8,name:'Settlement',coins:75,completed:!1,description:'Reach a settlement agreement with the opposing party',expanded:!1,position:{top:'74%',left:'65%'},phase:t.TRIAL.id,subStages:[{id:'settle-1',name:'Negotiations',coins:10,completed:!1,icon:'\ud83e\udd1d',description:'Negotiate settlement terms with opposing party'},{id:'settle-2',name:'Agreement to settle',coins:10,completed:!1,icon:'\ud83d\udccb',description:'Reach formal agreement to settle the case'},{id:'settle-3',name:'Settlement release',coins:8,completed:!1,icon:'\ud83d\udcc4',description:'Sign settlement release documents'},{id:'settle-4',name:'Lien affidavit',coins:7,completed:!1,icon:'\ud83d\udcd1',description:'Complete lien affidavit documentation'},{id:'settle-5',name:'Settlement statement',coins:8,completed:!1,icon:'\ud83d\udcca',description:'Review settlement statement breakdown'},{id:'settle-6',name:'Disbursement to attorney',coins:7,completed:!1,icon:'\ud83d\udcbc',description:'Settlement funds disbursed to attorney'},{id:'settle-7',name:'Attorney fees/costs/case expenses disbursed',coins:7,completed:!1,icon:'\ud83d\udcb8',description:'Attorney deducts fees, costs, and expenses'},{id:'settle-8',name:'Medical provider payments',coins:7,completed:!1,icon:'\ud83c\udfe5',description:'Payment to medical providers from settlement'},{id:'settle-9',name:'Funding payments',coins:6,completed:!1,icon:'\ud83d\udcb3',description:'Process funding and financing payments'},{id:'settle-10',name:'Client disbursement',coins:15,completed:!1,icon:'\ud83d\udcb0',description:'Final payment disbursed to you'}],videos:[{id:'v12',title:'Settlement Strategies',price:4.99,duration:'26 min',tier:'premium'}]},{id:9,name:'Case Resolved',coins:200,completed:!1,description:'Your case reaches final resolution - congratulations!',expanded:!1,position:{top:'88%',left:'45%'},phase:t.TRIAL.id,subStages:[{id:'cr-1',name:'Judgment Entry',coins:100,completed:!1,icon:'\u2696\ufe0f',description:'Court enters final judgment'},{id:'cr-2',name:'Case Closure',coins:100,completed:!1,icon:'\ud83c\udf8a',description:'Close out the case'}],videos:[{id:'v13',title:'Post-Trial Procedures',price:3.99,duration:'18 min',tier:'basic'}]}],s=[{id:'v1',title:'Pre-Litigation Essentials',price:2.99,tier:'basic',duration:'15 min',category:'Pre-Litigation'},{id:'v2',title:'Document Collection Guide',price:3.99,tier:'basic',duration:'20 min',category:'Pre-Litigation'},{id:'v3',title:'Filing Your Complaint',price:4.99,tier:'premium',duration:'18 min',category:'Complaint Filed'},{id:'v4',title:'Understanding Discovery',price:3.99,tier:'free',duration:'22 min',category:'Discovery Begins'},{id:'v5',title:'Discovery Response Strategies',price:4.99,tier:'premium',duration:'25 min',category:'Discovery Begins'},{id:'v6',title:'Deposition Deep Dive',price:4.99,tier:'premium',duration:'30 min',category:'Depositions'},{id:'v7',title:'How to Testify Effectively',price:5.99,tier:'premium',duration:'28 min',category:'Depositions'},{id:'v8',title:'Mediation Mastery',price:4.99,tier:'premium',duration:'24 min',category:'Mediation'},{id:'v9',title:'Trial Preparation Guide',price:5.99,tier:'premium',duration:'35 min',category:'Trial Prep'},{id:'v10',title:'Courtroom Procedures',price:4.99,tier:'premium',duration:'28 min',category:'Trial Prep'},{id:'v11',title:'Trial Tactics',price:6.99,tier:'premium',duration:'40 min',category:'Trial'},{id:'v12',title:'Settlement Strategies',price:4.99,tier:'premium',duration:'26 min',category:'Settlement'},{id:'v13',title:'Post-Trial Procedures',price:3.99,tier:'basic',duration:'18 min',category:'Case Resolved'}],c={INDIVIDUAL:'individual',LAW_FIRM:'lawfirm',MEDICAL_PROVIDER:'medicalprovider',CLIENT:'client'},p=[5,7,10,12,15,20,30],l=5,u=5e3,f=[{id:1,name:'Captain',emoji:'\ud83c\udff4\u200d\u2620\ufe0f',description:'Fearless leader of the crew',color:'#e74c3c'},{id:2,name:'Navigator',emoji:'\ud83e\udded',description:'Expert chart reader',color:'#3498db'},{id:3,name:'Gunner',emoji:'\u2693',description:'Master of the cannons',color:'#16a085'},{id:4,name:'First Mate',emoji:'\ud83e\udd9c',description:'Trusted parrot companion',color:'#f39c12'}]},133,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"calculateDailyBonus",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"calculateCreditsFromCoins",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"calculateCoinsNeeded",{enumerable:!0,get:function(){return c}});var t=r(d[0]);const n=n=>t.DAILY_BONUSES[Math.min(n-1,t.DAILY_BONUSES.length-1)],u=n=>{const u=Math.floor(n/t.COINS_PER_CREDIT);return Math.min(u,t.MAX_LIFETIME_CREDITS)},c=n=>n*t.COINS_PER_CREDIT},134,[133]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"API_BASE_URL",{enumerable:!0,get:function(){return e}}),Object.defineProperty(_e,"API_ENDPOINTS",{enumerable:!0,get:function(){return t}}),_e.apiRequest=s,_e.checkBackendHealth=o,_e.uploadFileWithProgress=n,_e.getErrorMessage=c,_e.isAuthError=p,_e.isNetworkError=E;const e='https://3db82e01-661d-40f3-8a58-a2671f45f1df-00-ogc5sltdyi6u.riker.replit.dev',t={AUTH:{REGISTER_CLIENT:`${e}/api/auth/register/client`,REGISTER_LAWFIRM:`${e}/api/auth/register/lawfirm`,REGISTER_MEDICALPROVIDER:`${e}/api/auth/register/medicalprovider`,LOGIN:`${e}/api/auth/login`,LOGIN_LAWFIRM_USER:`${e}/api/auth/login/lawfirm-user`,LOGIN_MEDICALPROVIDER_USER:`${e}/api/auth/login/medicalprovider-user`,LOGOUT:`${e}/api/auth/logout`},COINS:{BALANCE:`${e}/api/coins/balance`,CLAIM_DAILY:`${e}/api/coins/claim-daily`,CONVERT:`${e}/api/coins/convert`},LITIGATION:{PROGRESS:`${e}/api/litigation/progress`,COMPLETE_SUBSTAGE:`${e}/api/litigation/substage/complete`,COMPLETE_STAGE:`${e}/api/litigation/stage/complete`,REVERT_STAGE:`${e}/api/litigation/stage/revert`,REVERT_SUBSTAGE:`${e}/api/litigation/substage/revert`,UPDATE_VIDEO_PROGRESS:`${e}/api/litigation/video/progress`},LAWFIRM:{DASHBOARD:`${e}/api/lawfirm/dashboard`,CLIENTS:`${e}/api/lawfirm/clients`,CLIENT_DETAILS:t=>`${e}/api/lawfirm/clients/${t}`,CLIENT_PROGRESS:t=>`${e}/api/lawfirm/clients/${t}/progress`},MEDICALPROVIDER:{DASHBOARD:`${e}/api/medicalprovider/dashboard`,PATIENTS:`${e}/api/medicalprovider/patients`,PATIENT_DETAILS:t=>`${e}/api/medicalprovider/patients/${t}`,LAW_FIRMS:`${e}/api/connections/law-firms`,ADD_LAW_FIRM:`${e}/api/connections/add-law-firm`,REMOVE_LAW_FIRM:`${e}/api/connections/remove-law-firm`},INVITES:{MY_CODE:`${e}/api/invites/my-code`,GENERATE:`${e}/api/invites/generate`,PROCESS:`${e}/api/invites/process`,STATS:`${e}/api/invites/stats`},UPLOADS:{DOCUMENT:`${e}/api/uploads/document`,DOCUMENTS:`${e}/api/uploads/documents`,LIST:`${e}/api/uploads`,GET:t=>`${e}/api/uploads/${t}`,DELETE:t=>`${e}/api/uploads/${t}`},SUBSCRIPTIONS:{CREATE_CHECKOUT:`${e}/api/subscriptions/create-checkout-session`,PORTAL:`${e}/api/subscriptions/portal-session`,STATUS:`${e}/api/subscriptions/status`,WEBHOOK:`${e}/api/subscriptions/webhook`},SUBSCRIPTION:{LAWFIRM_CURRENT:`${e}/api/subscription/lawfirm/current`,LAWFIRM_UPDATE:`${e}/api/subscription/lawfirm/update`,MEDICALPROVIDER_CURRENT:`${e}/api/subscription/medicalprovider/current`,MEDICALPROVIDER_UPDATE:`${e}/api/subscription/medicalprovider/update`},NOTIFICATIONS:{LIST:`${e}/api/notifications`,MY_NOTIFICATIONS:`${e}/api/notifications/my-notifications`,UNREAD_COUNT:`${e}/api/notifications/unread-count`,DETAIL:t=>`${e}/api/notifications/${t}`,MARK_READ:t=>`${e}/api/notifications/${t}/read`,MARK_CLICKED:t=>`${e}/api/notifications/${t}/clicked`,MARK_ALL_READ:`${e}/api/notifications/mark-all-read`,REGISTER_DEVICE:`${e}/api/notifications/register-device`,UNREGISTER_DEVICE:`${e}/api/notifications/unregister-device`,SEND:`${e}/api/notifications/send`,SEND_TO_ALL_CLIENTS:`${e}/api/notifications/send-to-all-clients`,SEND_TO_CLIENTS:`${e}/api/notifications/send-to-clients`,SEND_TO_CLIENT:`${e}/api/notifications/send-to-client`,SEND_TO_ALL_PATIENTS:`${e}/api/notifications/send-to-all-patients`,SEND_TO_PATIENTS:`${e}/api/notifications/send-to-patients`,SEND_TO_PATIENT:`${e}/api/notifications/send-to-patient`,ANALYTICS:`${e}/api/notifications/analytics`,STATS:`${e}/api/notifications/stats`,HISTORY:`${e}/api/notifications/history`,PREFERENCES:`${e}/api/notifications/preferences`},NEGOTIATIONS:{LIST:`${e}/api/negotiations`,INITIATE:`${e}/api/negotiations/initiate`,COUNTER_OFFER:`${e}/api/negotiations/counter-offer`,ACCEPT:`${e}/api/negotiations/accept`,REQUEST_CALL:`${e}/api/negotiations/request-call`,LOG:t=>`${e}/api/negotiations/${t}/log`},CLIENT_RELATIONSHIPS:{GET_CLIENT_PROVIDERS:t=>`${e}/api/client-relationships/clients/${t}/medical-providers`,ADD_PROVIDER:`${e}/api/client-relationships/clients/link-provider`,REMOVE_PROVIDER:(t,s)=>`${e}/api/client-relationships/clients/${t}/medical-providers/${s}`},TASKS:{MY_TASKS:`${e}/api/tasks/my-tasks`,CREATE:`${e}/api/tasks/create`,UPDATE_STATUS:t=>`${e}/api/tasks/${t}/status`,GET_CLIENT_TASKS:t=>`${e}/api/tasks/client/${t}`,DELETE:t=>`${e}/api/tasks/${t}`,TEMPLATES:`${e}/api/tasks/templates`},AVATAR:{SELECT:`${e}/api/avatar/select`,CURRENT:`${e}/api/avatar/current`},LAWFIRM_USERS:{CREATE:`${e}/api/lawfirm/users`,GET_ALL:`${e}/api/lawfirm/users`,GET_DETAILS:t=>`${e}/api/lawfirm/users/${t}`,UPDATE:t=>`${e}/api/lawfirm/users/${t}`,DEACTIVATE:t=>`${e}/api/lawfirm/users/${t}/deactivate`,REACTIVATE:t=>`${e}/api/lawfirm/users/${t}/reactivate`},LAWFIRM_ACTIVITY:{GET_LOGS:`${e}/api/lawfirm/activity`,GET_STATISTICS:`${e}/api/lawfirm/activity/statistics`,GET_SUMMARY:`${e}/api/lawfirm/activity/summary`,GET_MOST_ACTIVE:`${e}/api/lawfirm/activity/most-active-users`,GET_FAILED:`${e}/api/lawfirm/activity/failed`,GET_USER_TIMELINE:t=>`${e}/api/lawfirm/activity/user/${t}/timeline`},MEDICAL_PROVIDER_USERS:{CREATE:`${e}/api/medicalprovider/users`,GET_ALL:`${e}/api/medicalprovider/users`,GET_DETAILS:t=>`${e}/api/medicalprovider/users/${t}`,UPDATE:t=>`${e}/api/medicalprovider/users/${t}`,DEACTIVATE:t=>`${e}/api/medicalprovider/users/${t}/deactivate`,REACTIVATE:t=>`${e}/api/medicalprovider/users/${t}/reactivate`},MEDICAL_PROVIDER_ACTIVITY:{GET_LOGS:`${e}/api/medicalprovider/activity/logs`,GET_SUMMARY:`${e}/api/medicalprovider/activity/summary`,GET_USER_TIMELINE:t=>`${e}/api/medicalprovider/activity/user/${t}/timeline`,HIPAA_REPORT:`${e}/api/medicalprovider/activity/hipaa-report`,PATIENT_AUDIT:t=>`${e}/api/medicalprovider/activity/patient/${t}/audit`}};async function s(e,t={}){const s=Object.assign({'Content-Type':'application/json'},t.headers),o=Object.assign({},t,{headers:s,credentials:'include'});try{console.log(`[API] ${o.method||'GET'} ${e}`);const t=await fetch(e,o);console.log(`[API] Response: ${t.status} ${t.statusText}`);const s=t.headers.get('content-type');let n;if(n=s&&s.includes('application/json')?await t.json():await t.text(),!t.ok){const s=n?.message||n?.error||t.statusText||'Request failed';console.error('[API] Error:',{status:t.status,message:s,url:e});const o=new Error(s);throw o.status=t.status,o.response=n,o}return n}catch(e){if('Network request failed'===e.message||'Failed to fetch'===e.message)throw console.error('[API] Network Error - Check your internet connection'),new Error('Network error. Please check your internet connection.');if('AbortError'===e.name)throw console.error('[API] Request Timeout'),new Error('Request timeout. Please try again.');throw console.error('[API] Request failed:',e),e}}async function o(){try{const t=await fetch(`${e}/health`,{method:'GET',headers:{'Content-Type':'application/json'},credentials:'include'});if(t.ok){const e=await t.json();return console.log('\u2705 Backend is healthy:',e),!0}return console.warn('\u26a0\ufe0f Backend responded but not OK:',t.status),!1}catch(e){return console.error('\u274c Backend is unreachable:',e),!1}}async function n(e,s,o,n="general",c="general"){return new Promise((p,E)=>{const l=new XMLHttpRequest;l.upload.addEventListener('progress',e=>{if(e.lengthComputable){const t=e.loaded/e.total*100;o&&o(Math.round(t))}}),l.addEventListener('load',()=>{if(l.status>=200&&l.status<300)try{const e=JSON.parse(l.responseText);p(e)}catch(e){E(new Error('Invalid response from server'))}else try{const e=JSON.parse(l.responseText);E(new Error(e.message||'Upload failed'))}catch{E(new Error(`Upload failed with status ${l.status}`))}}),l.addEventListener('error',()=>{E(new Error('Network error during upload'))}),l.addEventListener('abort',()=>{E(new Error('Upload cancelled'))});const T=new FormData;T.append('file',e),T.append('fileType',n),T.append('category',c),l.open('POST',t.UPLOADS.DOCUMENT),l.withCredentials=!0,l.setRequestHeader('Authorization',`Bearer ${s}`),l.send(T)})}function c(e){return'string'==typeof e?e:e?.message?e.message:e?.response?.message?e.response.message:'An unexpected error occurred'}function p(e){return 401===e?.status||403===e?.status}function E(e){return e?.message?.includes('Network')||e?.message?.includes('fetch')||e?.message?.includes('connection')}e.includes('your-replit-username')&&(console.warn('\u26a0\ufe0f WARNING: API_BASE_URL is not configured!'),console.warn('Please update API_BASE_URL in /src/config/api.js with your actual Replit URL')),console.log('\ud83d\udd27 API Configuration:'),console.log('Base URL:',e);var l={API_BASE_URL:e,API_ENDPOINTS:t,apiRequest:s,checkBackendHealth:o,uploadFileWithProgress:n,getErrorMessage:c,isAuthError:p,isNetworkError:E}},135,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"useNotifications",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"NotificationProvider",{enumerable:!0,get:function(){return f}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),s=e(r(d[3])),l=r(d[4]);const c=(0,t.createContext)(),u=()=>{const e=(0,t.useContext)(c);if(!e)throw new Error('useNotifications must be used within a NotificationProvider');return e},f=({children:e,onNavigate:u=null,user:f=null})=>{const[k,b]=(0,t.useState)(0),[h,p]=(0,t.useState)([]),[w,y]=(0,t.useState)(!1),[S,v]=(0,t.useState)(f?.token||null),[C,N]=(0,t.useState)(!0),T=(0,t.useRef)(null),I=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e={hasUser:!!f,userId:f?.id,userType:f?.userType,hasToken:!!f?.token,timestamp:(new Date).toISOString()};console.log('\ud83d\udc64 NotificationContext: User changed:',e),window.__vpNotifyStatus=Object.assign({},e,{unreadCount:k,useFirebase:C,hasFirebaseUnsubscribe:!!T.current,hasPollInterval:!!I.current}),f?.token?v(f.token):(v(null),b(0),p([]))},[f,k,C]);const E=(0,t.useCallback)(async()=>{try{if(S)return S;const e=await n.default.getItem('authToken');return e&&v(e),e}catch(e){return console.error('Error loading auth token:',e),null}},[S]),F=(0,t.useCallback)(async()=>{if(!f?.id||!f?.userType)return console.log('No user ID or type available for Firebase'),!1;const e=f?.token||S||await E();if(!e)return console.log('No auth token available for Firebase authentication'),N(!1),!1;try{if(!s.default.initializeFirebase().success)return console.log('Firebase unavailable, falling back to REST polling'),N(!1),!1;console.log('Setting up Firebase listeners for:',f.userType,f.id);const t=e=>{console.log('\ud83d\udd14 FIREBASE CALLBACK: Notifications update received!',{count:e.length,notifications:e.map(e=>({id:e.id,title:e.title}))}),p(e)},n=e=>{console.log('\ud83d\udd22 FIREBASE CALLBACK: Unread count update received!',{newCount:e,oldCount:k}),b(e),o.default.setBadgeCount(e)},l=await s.default.subscribeToNotifications(f.userType,f.id,t,n,e);return l?(T.current=l,N(!0),console.log('Firebase listeners active'),!0):(console.log('Failed to setup Firebase listeners'),N(!1),!1)}catch(e){return console.error('Firebase setup error, falling back to REST:',e),N(!1),!1}},[f,S,E]),R=(0,t.useCallback)(()=>{console.log('Setting up REST polling fallback'),I.current&&clearInterval(I.current);const e=async()=>{const e=S||await E();if(e)try{const t=await o.default.fetchNotifications(e);p(t)}catch(e){console.error('REST polling error:',e)}};e(),I.current=setInterval(e,3e4)},[S,E]),A=(0,t.useCallback)(async()=>{try{const e=S||await E();if(!e||!f?.id)return void console.log('No auth token or user ID available for notifications');if(await o.default.registerForPushNotifications()){const t=await n.default.getItem(`deviceRegistered_${f.id}`);t&&'true'===t||await o.default.registerDeviceWithBackend(e,f.id)}await F()||(console.log('Firebase setup failed, starting REST polling'),R())}catch(e){console.error('Error initializing notifications:',e),R()}},[S,f,E,F,R]),_=(0,t.useCallback)(async(e=null)=>{console.log('\u26a0\ufe0f refreshUnreadCount called - Firebase handles this automatically')},[]),D=(0,t.useCallback)(async(e={})=>{try{y(!0);const t=S||await E();if(!t)return;const n=await o.default.fetchNotifications(t,e);return p(n),n}catch(e){return console.error('Error fetching notifications:',e),[]}finally{y(!1)}},[S,E]),O=(0,t.useCallback)(async e=>{try{const t=S||await E();if(!t)return!1;const n=await o.default.markNotificationAsRead(e,t);return n&&p(t=>t.map(t=>t.id===e?Object.assign({},t,{is_read:!0,read_at:(new Date).toISOString()}):t)),n}catch(e){return console.error('Error marking notification as read:',e),!1}},[S,E,_]),U=(0,t.useCallback)(async e=>{try{const t=S||await E();if(!t)return!1;const n=await o.default.markNotificationAsClicked(e,t);return n&&p(t=>t.map(t=>t.id===e?Object.assign({},t,{is_clicked:!0,clicked_at:(new Date).toISOString()}):t)),n}catch(e){return console.error('Error marking notification as clicked:',e),!1}},[S,E]),B=(0,t.useCallback)(async()=>{try{const e=S||await E();if(!e)return{success:!1,error:'No auth token'};const t=await o.default.markAllAsRead(e);return t.success&&(p(e=>e.map(e=>Object.assign({},e,{is_read:!0,read_at:(new Date).toISOString()}))),b(0),await o.default.setBadgeCount(0)),t}catch(e){return console.error('Error marking all notifications as read:',e),{success:!1,error:e.message}}},[S,E]),P=(0,t.useCallback)(e=>{console.log('Notification received in app:',e),_()},[_]),j=(0,t.useCallback)(async e=>{const t=e.notification.request.content.data;console.log('Notification tapped:',t),t.notificationId&&(await U(t.notificationId),await O(t.notificationId)),t.actionUrl&&u&&(console.log('Handling deep link:',t.actionUrl),u('dashboard'))},[U,O,u]);(0,t.useEffect)(()=>{const e=f?.token||S;if(console.log('\ud83d\udd0d NotificationContext useEffect triggered:',{userId:f?.id,userType:f?.userType,hasUserToken:!!f?.token,hasAuthToken:!!S,hasToken:!!e,timestamp:(new Date).toISOString()}),!f?.id||!e)return void console.log('\u23f8\ufe0f Skipping notification initialization - waiting for user login',{hasUserId:!!f?.id,hasUserToken:!!f?.token,hasAuthToken:!!S});console.log('\ud83d\ude80 STARTING notification initialization for user:',{userType:f.userType,userId:f.id,hasToken:!!e});(async()=>{try{if(!e||!f?.id)return void console.log('\u274c No auth token or user ID available for notifications');console.log('\u2705 Step 1/4: Registering for push notifications...');if(await o.default.registerForPushNotifications()){const t=await n.default.getItem(`deviceRegistered_${f.id}`);t&&'true'===t?console.log('\u2705 Step 2/4: Device already registered'):(console.log('\u2705 Step 2/4: Registering device with backend...'),await o.default.registerDeviceWithBackend(e,f.id))}else console.log('\u26a0\ufe0f Step 2/4: No push token available');console.log('\u2705 Step 3/4: Setting up Firebase real-time listeners...');await F()?console.log('\u2705 Firebase listeners successfully initialized!'):(console.log('\u274c Firebase setup failed, starting REST polling fallback'),R()),console.log('\u2705 Step 4/4: Refreshing unread count...'),await _(e),console.log('\u2705 Notification initialization complete!')}catch(e){console.error('\u274c Error initializing notifications:',e),R()}})();const t=o.default.setupNotificationListeners(P,j);return()=>{console.log('\ud83e\uddf9 Cleaning up notification listeners'),t(),T.current&&(T.current(),T.current=null),I.current&&(clearInterval(I.current),I.current=null)}},[f?.id,f?.userType,f?.token]),(0,t.useEffect)(()=>{!C&&f?.id&&S?R():I.current&&(clearInterval(I.current),I.current=null)},[C,f,S,R]);const z=(0,t.useCallback)(async()=>{try{const e=S||await E();e&&f?.id&&await o.default.unregisterDeviceFromBackend(e,f.id),T.current&&(T.current(),T.current=null),I.current&&(clearInterval(I.current),I.current=null),s.default.unsubscribeAll(),v(null),b(0),p([]),N(!0),await o.default.clearBadge()}catch(e){console.error('Error during notification logout:',e)}},[S,f,E]),L={unreadCount:k,notifications:h,isLoading:w,initializeNotifications:A,refreshUnreadCount:_,refreshNotifications:D,markAsRead:O,markAsClicked:U,markAllAsRead:B,logout:z,setAuthToken:v};return(0,l.jsx)(c.Provider,{value:L,children:e})}},136,[13,125,137,138,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}}),r(d[0]);var e,t=r(d[1]),n=((e=t)&&e.__esModule,r(d[2]));var o=new class{constructor(){this.expoPushToken=null,this.notificationListener=null,this.responseListener=null}async requestPermissions(){return!1}async registerForPushNotifications(){return null}async registerDeviceWithBackend(e,t){return!1}async unregisterDeviceFromBackend(e,t){return!1}setupNotificationListeners(e,t){return()=>{}}async setBadgeCount(e){}async getBadgeCount(){return 0}async clearBadge(){}async dismissAllNotifications(){}async markNotificationAsRead(e,t){try{const o=await fetch(`${n.API_BASE_URL}/api/notifications/${e}/read`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${t}`}}),c=await o.json();if(!o.ok)throw new Error(c.error||'Failed to mark notification as read');return!0}catch(e){return console.error('Error marking notification as read:',e),!1}}async markNotificationAsClicked(e,t){try{const o=await fetch(`${n.API_BASE_URL}/api/notifications/${e}/clicked`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${t}`}}),c=await o.json();if(!o.ok)throw new Error(c.error||'Failed to mark notification as clicked');return!0}catch(e){return console.error('Error marking notification as clicked:',e),!1}}async markAllAsRead(e){try{const t=await fetch(`${n.API_BASE_URL}/api/notifications/mark-all-read`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e}`},credentials:'include'}),o=await t.json();if(!t.ok)throw new Error(o.error||'Failed to mark all notifications as read');return{success:!0,count:o.count}}catch(e){return console.error('Error marking all notifications as read:',e),{success:!1,error:e.message}}}async fetchUnreadCount(e){try{const t=await fetch(`${n.API_BASE_URL}/api/notifications/unread-count`,{method:'GET',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e}`}}),o=await t.json();if(!t.ok)throw new Error(o.error||'Failed to fetch unread count');return o.unreadCount||0}catch(e){return console.error('Error fetching unread count:',e),0}}async fetchNotifications(e,t={}){try{const{limit:o=50,offset:c=0,status:s,type:f}=t,u=new URLSearchParams({limit:o.toString(),offset:c.toString()});s&&u.append('status',s),f&&u.append('type',f);const h=await fetch(`${n.API_BASE_URL}/api/notifications/my-notifications?${u.toString()}`,{method:'GET',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e}`}}),l=await h.json();if(!h.ok)throw new Error(l.error||'Failed to fetch notifications');return l.notifications||[]}catch(e){return console.error('Error fetching notifications:',e),[]}}async getPreferences(e){try{const t=await fetch(`${n.API_BASE_URL}/api/notifications/preferences`,{method:'GET',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e}`}}),o=await t.json();if(!t.ok)throw new Error(o.error||'Failed to fetch preferences');return o}catch(e){throw console.error('Error fetching notification preferences:',e),e}}async updatePreferences(e,t){try{const o=await fetch(`${n.API_BASE_URL}/api/notifications/preferences`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e}`},body:JSON.stringify(t)}),c=await o.json();if(!o.ok)throw new Error(c.error||'Failed to update preferences');return c.preferences}catch(e){throw console.error('Error updating notification preferences:',e),e}}}},137,[82,125,135]);
__d(function(g,r,i,_a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return A}}),Object.defineProperty(e,"initializeFirebase",{enumerable:!0,get:function(){return h}}),Object.defineProperty(e,"authenticateWithBackend",{enumerable:!0,get:function(){return F}}),Object.defineProperty(e,"getFirebaseDatabase",{enumerable:!0,get:function(){return y}}),Object.defineProperty(e,"waitForAuthReady",{enumerable:!0,get:function(){return w}}),Object.defineProperty(e,"subscribeToNotifications",{enumerable:!0,get:function(){return v}}),Object.defineProperty(e,"unsubscribeFromNotifications",{enumerable:!0,get:function(){return _}}),Object.defineProperty(e,"unsubscribeAll",{enumerable:!0,get:function(){return $}}),Object.defineProperty(e,"getNotificationsOnce",{enumerable:!0,get:function(){return k}}),Object.defineProperty(e,"getUnreadCountOnce",{enumerable:!0,get:function(){return O}}),Object.defineProperty(e,"isFirebaseAvailable",{enumerable:!0,get:function(){return j}}),Object.defineProperty(e,"subscribeToChatMessages",{enumerable:!0,get:function(){return N}}),Object.defineProperty(e,"unsubscribeFromChatMessages",{enumerable:!0,get:function(){return C}}),Object.defineProperty(e,"subscribeToChatConversations",{enumerable:!0,get:function(){return R}}),Object.defineProperty(e,"subscribeToNegotiations",{enumerable:!0,get:function(){return U}}),Object.defineProperty(e,"unsubscribeFromNegotiations",{enumerable:!0,get:function(){return P}});var t=r(d[0]),o=r(d[1]),s=r(d[2]);r(d[3]);var n=r(d[4]),a=r(d[5]);console.log('\ud83d\udd25 Firebase Service Loaded - Config:',{hasApiKey:!!a.firebaseConfig.apiKey,hasDatabaseURL:!!a.firebaseConfig.databaseURL,projectId:a.firebaseConfig.projectId});let c=null,l=null,u=null,b=!1,f=!1,p=new Map;const h=()=>{try{return b||(console.log('\ud83d\udd25 Initializing Firebase with config:',{apiKey:a.firebaseConfig.apiKey?'\u2713 Set':'\u2717 Missing',authDomain:a.firebaseConfig.authDomain?'\u2713 Set':'\u2717 Missing',databaseURL:a.firebaseConfig.databaseURL?'\u2713 Set':'\u2717 Missing',projectId:a.firebaseConfig.projectId?'\u2713 Set':'\u2717 Missing'}),c=(0,t.initializeApp)(a.firebaseConfig),l=(0,o.getDatabase)(c),u=(0,s.getAuth)(c),b=!0,console.log('\u2705 Firebase initialized successfully')),{success:!0,database:l,auth:u}}catch(t){return console.error('\u274c Firebase initialization error:',t),{success:!1,error:t.message}}},F=async t=>{try{if(b||h(),f)return console.log('\u2713 Already authenticated to Firebase'),{success:!0};let o,a;console.log('\ud83d\udd11 Requesting Firebase custom token from backend...'),console.log('\ud83d\udd11 Auth token present:',!!t),console.log('\ud83d\udd11 Auth token value (first 20 chars):',t?.substring(0,20)+'...'),console.log('\ud83d\udd11 Request URL:',`${n.API_BASE_URL}/api/notifications/firebase-token`);try{o=await fetch(`${n.API_BASE_URL}/api/notifications/firebase-token`,{method:'GET',headers:{Authorization:`Bearer ${t}`,'Content-Type':'application/json'},credentials:'include'}),console.log('\ud83d\udd11 Fetch completed successfully')}catch(t){throw console.error('\u274c Fetch request failed:',{message:t?.message||'No message',name:t?.name||'No name',type:typeof t,error:t}),new Error(`Network error fetching Firebase token: ${t?.message||'Unknown error'}`)}if(console.log('\ud83d\udd11 Response status:',o.status),console.log('\ud83d\udd11 Response content-type:',o.headers.get('content-type')),!o.ok){const t=await o.text();throw console.error('\u274c Failed to get Firebase token:',o.status,t),new Error(`Failed to get Firebase token: ${o.status} - ${t}`)}try{a=await o.json(),console.log('\u2713 Parsed JSON response:',{hasToken:!!a.token,uid:a.uid,keys:Object.keys(a)})}catch(t){const s=await o.text();throw console.error('\u274c Failed to parse JSON response:',s),new Error(`Invalid JSON response from Firebase token endpoint: ${s.substring(0,100)}`)}if(!a||!a.token)throw console.error('\u274c Response missing token field:',a),new Error('Firebase token endpoint did not return a token');console.log('\u2713 Received Firebase custom token response:',{hasToken:!!a.token,uid:a.uid});try{console.log('\ud83d\udd10 Attempting to sign in to Firebase with custom token...');const t=await(0,s.signInWithCustomToken)(u,a.token);return f=!0,console.log('\u2705 Successfully authenticated to Firebase, UID:',t.user.uid),{success:!0}}catch(t){throw console.error('\u274c Firebase signInWithCustomToken failed:',{message:t?.message||'No message',code:t?.code||'No code',name:t?.name||'No name',type:typeof t,error:t}),new Error(`Firebase sign-in failed: ${t?.message||t?.code||'Unknown error'}`)}}catch(t){const o={message:t?.message||'No error message',name:t?.name||'No error name',stack:t?.stack||'No stack trace',type:typeof t,isError:t instanceof Error,keys:t?Object.keys(t):[],stringified:JSON.stringify(t),error:t};return console.error('\u274c Firebase authentication error details:',o),f=!1,{success:!1,error:t?.message||'Firebase authentication failed'}}},y=()=>(b||h(),l),w=async(t=5e3)=>(u||h(),new Promise((o,s)=>{const n=setTimeout(()=>{s(new Error('Firebase auth state timeout'))},t),a=u.onAuthStateChanged(t=>{clearTimeout(n),a(),t?(console.log('\u2705 Firebase auth state confirmed, user:',t.uid),o({success:!0,user:t})):(console.warn('\u26a0\ufe0f Firebase auth state ready but no user authenticated'),o({success:!1,error:'No authenticated user'}))})})),v=async(t,s,n,a,c)=>{if(!l)return console.error('Firebase database not initialized'),null;if(!f&&c){console.log('\ud83d\udd10 Authenticating to Firebase before subscribing...');if(!(await F(c)).success)return console.error('\u274c Failed to authenticate to Firebase, cannot subscribe'),null}else if(!f)return console.error('\u274c No auth token provided for Firebase authentication'),null;let u;'user'===t||'individual'===t?u='users':'law_firm'===t||'lawfirm'===t?u='lawfirms':'medical_provider'===t?u='providers':(console.error('\u26a0\ufe0f Unknown userType:',t,'- defaulting to users'),u='users');const b=`${u}/${s}/notifications`,h=`${u}/${s}/unread_count`;console.log(`\ud83d\udce1 Setting up Firebase listeners for path: ${b}`);const y=(0,o.ref)(l,b),w=(0,o.ref)(l,h),v=(0,o.onValue)(y,t=>{try{const o=t.val();if(console.log("\ud83d\udd14 Firebase notifications update received:",o?Object.keys(o).length:0,'notifications'),o){const t=Object.keys(o)[0];t&&console.log('\ud83d\udccb Sample notification from Firebase:',{id:t,hasTitle:!!o[t].title,hasBody:!!o[t].body,title:o[t].title,body:o[t].body?.substring(0,50),status:o[t].status,is_read:o[t].is_read});const s=Object.entries(o).map(([t,o])=>Object.assign({id:t},o,{action_data:'string'==typeof o.action_data?JSON.parse(o.action_data):o.action_data}));s.sort((t,o)=>new Date(o.created_at)-new Date(t.created_at)),n(s)}else n([])}catch(t){console.error('\u274c Error processing Firebase notifications:',t)}},t=>{console.error('\u274c Firebase notifications listener error:',t)}),_=(0,o.onValue)(w,t=>{try{const o=t.val()||0;console.log("\ud83d\udd22 Firebase unread count update received:",o),a(o)}catch(t){console.error('\u274c Error processing Firebase unread count:',t)}},t=>{console.error('\u274c Firebase unread count listener error:',t)});console.log(`\u2705 Firebase listeners setup complete for ${t} ${s}`);const $=`${t}_${s}`;return p.set($,{notificationsRef:y,unreadCountRef:w,notificationsUnsubscribe:v,unreadCountUnsubscribe:_}),()=>{(0,o.off)(y),(0,o.off)(w),p.delete($)}},_=(t,s)=>{const n=`${t}_${s}`,a=p.get(n);a&&((0,o.off)(a.notificationsRef),(0,o.off)(a.unreadCountRef),p.delete(n))},$=()=>{p.forEach(t=>{(0,o.off)(t.notificationsRef),(0,o.off)(t.unreadCountRef)}),p.clear(),f=!1},k=async(t,s)=>{if(!l)return console.error('Firebase database not initialized'),null;let n;'user'===t||'individual'===t?n='users':'law_firm'===t||'lawfirm'===t?n='lawfirms':'medical_provider'===t?n='providers':(console.error('\u26a0\ufe0f Unknown userType:',t,'- defaulting to users'),n='users');const a=`${n}/${s}/notifications`,c=(0,o.ref)(l,a);try{const t=(await(0,o.get)(c)).val();if(t){const o=Object.entries(t).map(([t,o])=>Object.assign({id:t},o,{action_data:'string'==typeof o.action_data?JSON.parse(o.action_data):o.action_data}));return o.sort((t,o)=>new Date(o.created_at)-new Date(t.created_at)),o}return[]}catch(t){return console.error('Error fetching notifications from Firebase:',t),null}},O=async(t,s)=>{if(!l)return console.error('Firebase database not initialized'),0;let n;'user'===t||'individual'===t?n='users':'law_firm'===t||'lawfirm'===t?n='lawfirms':'medical_provider'===t?n='providers':(console.error('\u26a0\ufe0f Unknown userType:',t,'- defaulting to users'),n='users');const a=`${n}/${s}/unread_count`,c=(0,o.ref)(l,a);try{return(await(0,o.get)(c)).val()||0}catch(t){return console.error('Error fetching unread count from Firebase:',t),0}},j=()=>b&&null!==l,N=async(t,s,n)=>{if(!l)return console.error('Firebase database not initialized'),null;if(!f&&n){console.log('\ud83d\udd10 Authenticating to Firebase before subscribing to chat...');if(!(await F(n)).success)return console.error('\u274c Failed to authenticate to Firebase, cannot subscribe to chat'),null}else if(!f)return console.error('\u274c No auth token provided for Firebase authentication'),null;const a=`chat/conversations/${t}/messages`,c=(0,o.ref)(l,a);console.log(`\ud83d\udcac Setting up Firebase listener for chat messages: ${a}`);const u=(0,o.onValue)(c,o=>{try{const n=o.val();if(console.log(`\ud83d\udcac Firebase messages update received for conversation ${t}:`,n?Object.keys(n).length:0,'messages'),n){const t=Object.entries(n).map(([t,o])=>Object.assign({id:t},o,{metadata:'string'==typeof o.metadata?JSON.parse(o.metadata):o.metadata||{}}));t.sort((t,o)=>new Date(t.sent_at)-new Date(o.sent_at)),console.log(`\ud83d\udcac Processed ${t.length} messages from Firebase`),s(t)}else s([])}catch(t){console.error('\u274c Error processing Firebase chat messages:',t)}},t=>{console.error('\u274c Firebase chat messages listener error:',t)}),b=`chat_${t}`;return p.set(b,{messagesRef:c,messagesUnsubscribe:u}),console.log(`\u2705 Firebase chat listener setup complete for conversation ${t}`),()=>{(0,o.off)(c),p.delete(b)}},C=t=>{const s=`chat_${t}`,n=p.get(s);n&&((0,o.off)(n.messagesRef),p.delete(s),console.log(`\ud83d\udd15 Unsubscribed from chat conversation ${t}`))},R=async(t,s,n,a)=>{if(!l)return console.error('Firebase database not initialized'),null;if(!f&&a){console.log('\ud83d\udd10 Authenticating to Firebase before subscribing to conversations...');if(!(await F(a)).success)return console.error('\u274c Failed to authenticate to Firebase, cannot subscribe to conversations'),null}else if(!f)return console.error('\u274c No auth token provided for Firebase authentication'),null;let c;'user'===t||'individual'===t?c='users':'law_firm'===t||'lawfirm'===t?c='lawfirms':'medical_provider'===t?c='providers':(console.error('\u26a0\ufe0f Unknown userType:',t,'- defaulting to users'),c='users');const u=`chat/${c}/${s}/conversations`,b=(0,o.ref)(l,u);console.log(`\ud83d\udcac Setting up Firebase listener for conversations: ${u}`);const h=(0,o.onValue)(b,t=>{try{const o=t.val();if(console.log("\ud83d\udcac Firebase conversations update received:",o?Object.keys(o).length:0,'conversations'),o){const t=Object.entries(o).map(([t,o])=>Object.assign({id:t},o));t.sort((t,o)=>new Date(o.last_message_at)-new Date(t.last_message_at)),n(t)}else n([])}catch(t){console.error('\u274c Error processing Firebase conversations:',t)}},t=>{console.error('\u274c Firebase conversations listener error:',t)}),y=`conversations_${t}_${s}`;return p.set(y,{conversationsRef:b,conversationsUnsubscribe:h}),console.log(`\u2705 Firebase conversations listener setup complete for ${t} ${s}`),()=>{(0,o.off)(b),p.delete(y)}},U=async(t,s,n,a)=>{if(!l)return console.error('Firebase database not initialized'),null;if(!f&&a){console.log('\ud83d\udd10 Authenticating to Firebase before subscribing to negotiations...');if(!(await F(a)).success)return console.error('\u274c Failed to authenticate to Firebase, cannot subscribe to negotiations'),null}else if(!f)return console.error('\u274c No auth token provided for Firebase authentication'),null;let c;if('law_firm'===t||'lawfirm'===t)c='law_firms';else{if('medical_provider'!==t)return console.error('\u26a0\ufe0f Unknown userType for negotiations:',t),null;c='medical_providers'}const u=`negotiations/${c}/${s}`,b=(0,o.ref)(l,u);console.log(`\ud83d\udcb0 Setting up Firebase listener for negotiations: ${u}`);const h=(0,o.onValue)(b,t=>{try{const o=t.val();if(console.log("\ud83d\udcb0 Firebase negotiations update received:",o?Object.keys(o).length:0,'negotiations'),o){const t=Object.entries(o).map(([t,o])=>Object.assign({id:parseInt(t)||t},o));t.sort((t,o)=>{const s=new Date(t.updated_at||t.created_at||0);return new Date(o.updated_at||o.created_at||0)-s}),console.log(`\ud83d\udcb0 Processed ${t.length} negotiations from Firebase`),n(t)}else n([])}catch(t){console.error('\u274c Error processing Firebase negotiations:',t)}},t=>{console.error('\u274c Firebase negotiations listener error:',t)}),y=`negotiations_${t}_${s}`;return p.set(y,{negotiationsRef:b,negotiationsUnsubscribe:h}),console.log(`\u2705 Firebase negotiations listener setup complete for ${t} ${s}`),()=>{(0,o.off)(b),p.delete(y),console.log(`\ud83d\udd15 Unsubscribed from negotiations for ${t} ${s}`)}},P=(t,s)=>{const n=`negotiations_${t}_${s}`,a=p.get(n);a&&((0,o.off)(a.negotiationsRef),p.delete(n),console.log(`\ud83d\udd15 Unsubscribed from negotiations for ${t} ${s}`))};var A={initializeFirebase:h,authenticateWithBackend:F,getFirebaseDatabase:y,subscribeToNotifications:v,unsubscribeFromNotifications:_,unsubscribeAll:$,getNotificationsOnce:k,getUnreadCountOnce:O,isFirebaseAvailable:j,subscribeToChatMessages:N,unsubscribeFromChatMessages:C,subscribeToChatConversations:R,subscribeToNegotiations:U,unsubscribeFromNegotiations:P}},138,[139,147,149,125,135,152]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
(0,t.registerVersion)("firebase","12.6.0",'app')},139,[140]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"FirebaseError",{enumerable:!0,get:function(){return n.FirebaseError}}),Object.defineProperty(_e,"SDK_VERSION",{enumerable:!0,get:function(){return ie}}),Object.defineProperty(_e,"_DEFAULT_ENTRY_NAME",{enumerable:!0,get:function(){return H}}),Object.defineProperty(_e,"_addComponent",{enumerable:!0,get:function(){return V}}),Object.defineProperty(_e,"_addOrOverwriteComponent",{enumerable:!0,get:function(){return W}}),Object.defineProperty(_e,"_apps",{enumerable:!0,get:function(){return L}}),Object.defineProperty(_e,"_clearComponents",{enumerable:!0,get:function(){return Z}}),Object.defineProperty(_e,"_components",{enumerable:!0,get:function(){return J}}),Object.defineProperty(_e,"_getProvider",{enumerable:!0,get:function(){return K}}),Object.defineProperty(_e,"_isFirebaseApp",{enumerable:!0,get:function(){return G}}),Object.defineProperty(_e,"_isFirebaseServerApp",{enumerable:!0,get:function(){return X}}),Object.defineProperty(_e,"_isFirebaseServerAppSettings",{enumerable:!0,get:function(){return Q}}),Object.defineProperty(_e,"_registerComponent",{enumerable:!0,get:function(){return q}}),Object.defineProperty(_e,"_removeServiceInstance",{enumerable:!0,get:function(){return Y}}),Object.defineProperty(_e,"_serverApps",{enumerable:!0,get:function(){return U}}),Object.defineProperty(_e,"deleteApp",{enumerable:!0,get:function(){return fe}}),Object.defineProperty(_e,"getApp",{enumerable:!0,get:function(){return ce}}),Object.defineProperty(_e,"getApps",{enumerable:!0,get:function(){return pe}}),Object.defineProperty(_e,"initializeApp",{enumerable:!0,get:function(){return oe}}),Object.defineProperty(_e,"initializeServerApp",{enumerable:!0,get:function(){return se}}),Object.defineProperty(_e,"onLog",{enumerable:!0,get:function(){return he}}),Object.defineProperty(_e,"registerVersion",{enumerable:!0,get:function(){return le}}),Object.defineProperty(_e,"setLogLevel",{enumerable:!0,get:function(){return ue}});var e=r(d[0]),t=r(d[1]),n=r(d[2]),i=r(d[3]);
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(s(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(' ')}}function s(e){const t=e.getComponent();return"VERSION"===t?.type}const c="@firebase/app",p="0.14.6",f=new t.Logger('@firebase/app'),l="@firebase/app-compat",h="@firebase/analytics-compat",u="@firebase/analytics",b="@firebase/app-check-compat",v="@firebase/app-check",C="@firebase/auth",_="@firebase/auth-compat",y="@firebase/database",w="@firebase/data-connect",D="@firebase/database-compat",O="@firebase/functions",E="@firebase/functions-compat",P="@firebase/installations",S="@firebase/installations-compat",j="@firebase/messaging",A="@firebase/messaging-compat",I="@firebase/performance",k="@firebase/performance-compat",F="@firebase/remote-config",$="@firebase/remote-config-compat",N="@firebase/storage",x="@firebase/storage-compat",R="@firebase/firestore",T="@firebase/ai",B="@firebase/firestore-compat",z="firebase",H='[DEFAULT]',M={[c]:'fire-core',[l]:'fire-core-compat',[u]:'fire-analytics',[h]:'fire-analytics-compat',[v]:'fire-app-check',[b]:'fire-app-check-compat',[C]:'fire-auth',[_]:'fire-auth-compat',[y]:'fire-rtdb',[w]:'fire-data-connect',[D]:'fire-rtdb-compat',[O]:'fire-fn',[E]:'fire-fn-compat',[P]:'fire-iid',[S]:'fire-iid-compat',[j]:'fire-fcm',[A]:'fire-fcm-compat',[I]:'fire-perf',[k]:'fire-perf-compat',[F]:'fire-rc',[$]:'fire-rc-compat',[N]:'fire-gcs',[x]:'fire-gcs-compat',[R]:'fire-fst',[B]:'fire-fst-compat',[T]:'fire-vertex','fire-js':'fire-js',[z]:'fire-js-all'},L=new Map,U=new Map,J=new Map;function V(e,t){try{e.container.addComponent(t)}catch(n){f.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function W(e,t){e.container.addOrOverwriteComponent(t)}function q(e){const t=e.name;if(J.has(t))return f.debug(`There were multiple attempts to register component ${t}.`),!1;J.set(t,e);for(const t of L.values())V(t,e);for(const t of U.values())V(t,e);return!0}function K(e,t){const n=e.container.getProvider('heartbeat').getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Y(e,t,n=H){K(e,t).clearInstance(n)}function G(e){return void 0!==e.options}function Q(e){return!G(e)&&('authIdToken'in e||'appCheckToken'in e||'releaseOnDeref'in e||'automaticDataCollectionEnabled'in e)}function X(e){return null!=e&&void 0!==e.settings}function Z(){J.clear()}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const ee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":'Firebase Server App has been deleted',"no-options":'Need to provide options, when not being deployed to hosting via source.',"invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":'First argument to `onLog` must be null or a function.',"idb-open":'Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.',"idb-get":'Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.',"idb-set":'Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.',"idb-delete":'Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.',"finalization-registry-not-supported":'FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.',"invalid-server-app-environment":'FirebaseServerApp is not for use in browser environments.'},te=new n.ErrorFactory('app','Firebase',ee);
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class re{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new e.Component('app',()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw te.create("app-deleted",{appName:this._name})}}
/**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function ae(e,t){const i=(0,n.base64Decode)(e.split('.')[1]);if(null===i)return void console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);if(void 0===JSON.parse(i).exp)return void console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);1e3*JSON.parse(i).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class ne extends re{constructor(e,t,n,i){const o=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:o};if(void 0!==e.apiKey)super(e,s,i);else{super(e.options,s,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&ae(this._serverConfig.authIdToken,'authIdToken'),this._serverConfig.appCheckToken&&ae(this._serverConfig.appCheckToken,'appCheckToken'),this._finalizationRegistry=null,'undefined'!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,le(c,p,'serverapp')}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){fe(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw te.create("server-app-deleted")}}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const ie="12.6.0";function oe(t,i={}){let o=t;if('object'!=typeof i){i={name:i}}const s=Object.assign({name:H,automaticDataCollectionEnabled:!0},i),c=s.name;if('string'!=typeof c||!c)throw te.create("bad-app-name",{appName:String(c)});if(o||(o=(0,n.getDefaultAppConfig)()),!o)throw te.create("no-options");const p=L.get(c);if(p){if((0,n.deepEqual)(o,p.options)&&(0,n.deepEqual)(s,p.config))return p;throw te.create("duplicate-app",{appName:c})}const f=new e.ComponentContainer(c);for(const e of J.values())f.addComponent(e);const l=new re(o,s,f);return L.set(c,l),l}function se(t,i={}){if((0,n.isBrowser)()&&!(0,n.isWebWorker)())throw te.create("invalid-server-app-environment");let o,s=i||{};if(t&&(G(t)?o=t.options:Q(t)?s=t:o=t),void 0===s.automaticDataCollectionEnabled&&(s.automaticDataCollectionEnabled=!0),o||(o=(0,n.getDefaultAppConfig)()),!o)throw te.create("no-options");const c=Object.assign({},s,o);void 0!==c.releaseOnDeref&&delete c.releaseOnDeref;if(void 0!==s.releaseOnDeref&&'undefined'==typeof FinalizationRegistry)throw te.create("finalization-registry-not-supported",{});const p=''+(f=JSON.stringify(c),[...f].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0));var f;const l=U.get(p);if(l)return l.incRefCount(s.releaseOnDeref),l;const h=new e.ComponentContainer(p);for(const e of J.values())h.addComponent(e);const u=new ne(o,s,p,h);return U.set(p,u),u}function ce(e=H){const t=L.get(e);if(!t&&e===H&&(0,n.getDefaultAppConfig)())return oe();if(!t)throw te.create("no-app",{appName:e});return t}function pe(){return Array.from(L.values())}async function fe(e){let t=!1;const n=e.name;if(L.has(n))t=!0,L.delete(n);else if(U.has(n)){e.decRefCount()<=0&&(U.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function le(t,n,i){let o=M[t]??t;i&&(o+=`-${i}`);const s=o.match(/\s|\//),c=n.match(/\s|\//);if(s||c){const e=[`Unable to register library "${o}" with version "${n}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&c&&e.push('and'),c&&e.push(`version name "${n}" contains illegal characters (whitespace or "/")`),void f.warn(e.join(' '))}q(new e.Component(`${o}-version`,()=>({library:o,version:n}),"VERSION"))}function he(e,n){if(null!==e&&'function'!=typeof e)throw te.create("invalid-log-argument");(0,t.setUserLogHandler)(e,n)}function ue(e){(0,t.setLogLevel)(e)}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const de='firebase-heartbeat-store';let be=null;function ge(){return be||(be=(0,i.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(de)}catch(e){console.warn(e)}}}).catch(e=>{throw te.create("idb-open",{originalErrorMessage:e.message})})),be}async function me(e){try{const t=(await ge()).transaction(de),n=await t.objectStore(de).get(Ce(e));return await t.done,n}catch(e){if(e instanceof n.FirebaseError)f.warn(e.message);else{const t=te.create("idb-get",{originalErrorMessage:e?.message});f.warn(t.message)}}}async function ve(e,t){try{const n=(await ge()).transaction(de,'readwrite'),i=n.objectStore(de);await i.put(t,Ce(e)),await n.done}catch(e){if(e instanceof n.FirebaseError)f.warn(e.message);else{const t=te.create("idb-set",{originalErrorMessage:e?.message});f.warn(t.message)}}}function Ce(e){return`${e.name}!${e.options.appId}`}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ye{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider('app').getImmediate();this._storage=new Oe(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider('platform-logger').getImmediate().getPlatformInfoString(),t=we();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=Pe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){f.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return'';const e=we(),{heartbeatsToSend:t,unsentEntries:i}=De(this._heartbeatsCache.heartbeats),o=(0,n.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return f.warn(e),''}}}function we(){return(new Date).toISOString().substring(0,10)}function De(e,t=1024){const n=[];let i=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Ee(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ee(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,n.isIndexedDBAvailable)()&&(0,n.validateIndexedDBOpenable)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await me(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return ve(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return ve(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Ee(e){return(0,n.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}function Pe(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */var Se;Se='',q(new e.Component('platform-logger',e=>new o(e),"PRIVATE")),q(new e.Component('heartbeat',e=>new ye(e),"PRIVATE")),le(c,p,Se),le(c,p,'esm2020'),le('fire-js','')},140,[141,144,142,145]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"Component",{enumerable:!0,get:function(){return t}}),Object.defineProperty(_e,"ComponentContainer",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,"Provider",{enumerable:!0,get:function(){return s}});var e=r(d[0]);class t{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const n='[DEFAULT]';
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const t=new e.Deferred;if(this.instancesDeferred.set(n,t),this.isInitialized(n)||this.shouldAutoInitialize())try{const e=this.getOrInitializeService({instanceIdentifier:n});e&&t.resolve(e)}catch(e){}}return this.instancesDeferred.get(n).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(o(e))try{this.getOrInitializeService({instanceIdentifier:n})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>'INTERNAL'in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>'_delete'in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=n){return this.instances.has(e)}getOptions(e=n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(o=e,o===n?void 0:o),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}var o;return s||null}normalizeInstanceIdentifier(e=n){return this.component?this.component.multipleInstances?e:n:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function o(e){return"EAGER"===e.instantiationMode}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class c{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},141,[142]);
__d(function(g,r,_i,_a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"CONSTANTS",{enumerable:!0,get:function(){return t}}),Object.defineProperty(_e,"DecodeBase64StringError",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"Deferred",{enumerable:!0,get:function(){return P}}),Object.defineProperty(_e,"ErrorFactory",{enumerable:!0,get:function(){return X}}),Object.defineProperty(_e,"FirebaseError",{enumerable:!0,get:function(){return Q}}),Object.defineProperty(_e,"MAX_VALUE_MILLIS",{enumerable:!0,get:function(){return xe}}),Object.defineProperty(_e,"RANDOM_FACTOR",{enumerable:!0,get:function(){return Be}}),Object.defineProperty(_e,"Sha1",{enumerable:!0,get:function(){return me}}),Object.defineProperty(_e,"areCookiesEnabled",{enumerable:!0,get:function(){return K}}),Object.defineProperty(_e,"assert",{enumerable:!0,get:function(){return n}}),Object.defineProperty(_e,"assertionError",{enumerable:!0,get:function(){return o}}),Object.defineProperty(_e,"async",{enumerable:!0,get:function(){return Ce}}),Object.defineProperty(_e,"base64",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,"base64Decode",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"base64Encode",{enumerable:!0,get:function(){return a}}),Object.defineProperty(_e,"base64urlEncodeWithoutPadding",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,"calculateBackoffMillis",{enumerable:!0,get:function(){return Ie}}),Object.defineProperty(_e,"contains",{enumerable:!0,get:function(){return ue}}),Object.defineProperty(_e,"createMockUserToken",{enumerable:!0,get:function(){return w}}),Object.defineProperty(_e,"createSubscribe",{enumerable:!0,get:function(){return Oe}}),Object.defineProperty(_e,"decode",{enumerable:!0,get:function(){return ne}}),Object.defineProperty(_e,"deepCopy",{enumerable:!0,get:function(){return d}}),Object.defineProperty(_e,"deepEqual",{enumerable:!0,get:function(){return de}}),Object.defineProperty(_e,"deepExtend",{enumerable:!0,get:function(){return h}}),Object.defineProperty(_e,"errorPrefix",{enumerable:!0,get:function(){return Ae}}),Object.defineProperty(_e,"extractQuerystring",{enumerable:!0,get:function(){return ye}}),Object.defineProperty(_e,"getDefaultAppConfig",{enumerable:!0,get:function(){return j}}),Object.defineProperty(_e,"getDefaultEmulatorHost",{enumerable:!0,get:function(){return E}}),Object.defineProperty(_e,"getDefaultEmulatorHostnameAndPort",{enumerable:!0,get:function(){return C}}),Object.defineProperty(_e,"getDefaults",{enumerable:!0,get:function(){return O}}),Object.defineProperty(_e,"getExperimentalSetting",{enumerable:!0,get:function(){return v}}),Object.defineProperty(_e,"getGlobal",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,"getModularInstance",{enumerable:!0,get:function(){return Re}}),Object.defineProperty(_e,"getUA",{enumerable:!0,get:function(){return x}}),Object.defineProperty(_e,"isAdmin",{enumerable:!0,get:function(){return ce}}),Object.defineProperty(_e,"isBrowser",{enumerable:!0,get:function(){return L}}),Object.defineProperty(_e,"isBrowserExtension",{enumerable:!0,get:function(){return V}}),Object.defineProperty(_e,"isCloudWorkstation",{enumerable:!0,get:function(){return A}}),Object.defineProperty(_e,"isCloudflareWorker",{enumerable:!0,get:function(){return R}}),Object.defineProperty(_e,"isElectron",{enumerable:!0,get:function(){return F}}),Object.defineProperty(_e,"isEmpty",{enumerable:!0,get:function(){return fe}}),Object.defineProperty(_e,"isIE",{enumerable:!0,get:function(){return H}}),Object.defineProperty(_e,"isIndexedDBAvailable",{enumerable:!0,get:function(){return G}}),Object.defineProperty(_e,"isMobileCordova",{enumerable:!0,get:function(){return B}}),Object.defineProperty(_e,"isNode",{enumerable:!0,get:function(){return I}}),Object.defineProperty(_e,"isNodeSdk",{enumerable:!0,get:function(){return z}}),Object.defineProperty(_e,"isReactNative",{enumerable:!0,get:function(){return U}}),Object.defineProperty(_e,"isSafari",{enumerable:!0,get:function(){return J}}),Object.defineProperty(_e,"isSafariOrWebkit",{enumerable:!0,get:function(){return Z}}),Object.defineProperty(_e,"isUWP",{enumerable:!0,get:function(){return $}}),Object.defineProperty(_e,"isValidFormat",{enumerable:!0,get:function(){return se}}),Object.defineProperty(_e,"isValidTimestamp",{enumerable:!0,get:function(){return oe}}),Object.defineProperty(_e,"isWebWorker",{enumerable:!0,get:function(){return W}}),Object.defineProperty(_e,"issuedAtTime",{enumerable:!0,get:function(){return ie}}),Object.defineProperty(_e,"jsonEval",{enumerable:!0,get:function(){return te}}),Object.defineProperty(_e,"map",{enumerable:!0,get:function(){return le}}),Object.defineProperty(_e,"ordinal",{enumerable:!0,get:function(){return Le}}),Object.defineProperty(_e,"pingServer",{enumerable:!0,get:function(){return S}}),Object.defineProperty(_e,"promiseWithTimeout",{enumerable:!0,get:function(){return be}}),Object.defineProperty(_e,"querystring",{enumerable:!0,get:function(){return pe}}),Object.defineProperty(_e,"querystringDecode",{enumerable:!0,get:function(){return ge}}),Object.defineProperty(_e,"safeGet",{enumerable:!0,get:function(){return ae}}),Object.defineProperty(_e,"stringLength",{enumerable:!0,get:function(){return ke}}),Object.defineProperty(_e,"stringToByteArray",{enumerable:!0,get:function(){return Te}}),Object.defineProperty(_e,"stringify",{enumerable:!0,get:function(){return re}}),Object.defineProperty(_e,"updateEmulatorBanner",{enumerable:!0,get:function(){return N}}),Object.defineProperty(_e,"validateArgCount",{enumerable:!0,get:function(){return Pe}}),Object.defineProperty(_e,"validateCallback",{enumerable:!0,get:function(){return we}}),Object.defineProperty(_e,"validateContextObject",{enumerable:!0,get:function(){return De}}),Object.defineProperty(_e,"validateIndexedDBOpenable",{enumerable:!0,get:function(){return q}}),Object.defineProperty(_e,"validateNamespace",{enumerable:!0,get:function(){return Se}});var e=r(_d[0]);
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const t={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:'${JSCORE_VERSION}'},n=function(e,t){if(!e)throw o(t)},o=function(e){return new Error('Firebase Database ('+t.SDK_VERSION+') INTERNAL ASSERT FAILED: '+e)},i=function(e){const t=[];let n=0;for(let o=0;o<e.length;o++){let i=e.charCodeAt(o);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&o+1<e.length&&56320==(64512&e.charCodeAt(o+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++o)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s=function(e){const t=[];let n=0,o=0;for(;n<e.length;){const i=e[n++];if(i<128)t[o++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[o++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[o++]=String.fromCharCode(55296+(s>>10)),t[o++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],c=e[n++];t[o++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&c)}}return t.join('')},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+'+/='},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+'-_.'},HAS_NATIVE_SUPPORT:'function'==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error('encodeByteArray takes an array as a parameter');this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,c=s?e[t+1]:0,u=t+2<e.length,a=u?e[t+2]:0,f=i>>2,l=(3&i)<<4|c>>4;let d=(15&c)<<2|a>>6,h=63&a;u||(h=64,s||(d=64)),o.push(n[f],n[l],n[d],n[h])}return o.join('')},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):s(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const c=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==c||null==a)throw new u;const f=i<<2|s>>4;if(o.push(f),64!==c){const e=s<<4&240|c>>2;if(o.push(e),64!==a){const e=c<<6&192|a;o.push(e)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class u extends Error{constructor(){super(...arguments),this.name='DecodeBase64StringError'}}const a=function(e){const t=i(e);return c.encodeByteArray(t,!0)},f=function(e){return a(e).replace(/\./g,'')},l=function(e){try{return c.decodeString(e,!0)}catch(e){console.error('base64Decode failed: ',e)}return null};
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
function d(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&b(n)&&(e[n]=h(e[n],t[n]));return e}function b(e){return'__proto__'!==e}
/**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function p(){return'undefined'!=typeof self?self:window}
/**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const y=()=>{if('undefined'==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},_=()=>{if('undefined'==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)},O=()=>{try{return(0,e.getDefaultsFromPostinstall)()||p().__FIREBASE_DEFAULTS__||y()||_()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},E=e=>O()?.emulatorHosts?.[e],C=e=>{const t=E(e);if(!t)return;const n=t.lastIndexOf(':');if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(n+1),10);return'['===t[0]?[t.substring(1,n-1),o]:[t.substring(0,n),o]},j=()=>O()?.config,v=e=>O()?.[`_${e}`];
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),'function'==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function A(e){try{return(e.startsWith('http://')||e.startsWith('https://')?new URL(e).hostname:e).endsWith('.cloudworkstations.dev')}catch{return!1}}async function S(e){return(await fetch(e,{credentials:'include'})).ok}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function w(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||'demo-project',o=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:'custom',identities:{}}},e);return[f(JSON.stringify({alg:'none',type:'JWT'})),f(JSON.stringify(s)),''].join('.')}const D={};function T(){const e={prod:[],emulator:[]};for(const t of Object.keys(D))D[t]?e.emulator.push(t):e.prod.push(t);return e}function k(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement('div'),t.setAttribute('id',e),n=!0),{created:n,element:t}}let M=!1;function N(e,t){if('undefined'==typeof document||!A(window.location.host)||D[e]===t||D[e]||M)return;function n(e){return`__firebase__banner__${e}`}D[e]=t;const o='__firebase__banner',i=T().prod.length>0;function s(){const e=document.getElementById(o);e&&e.remove()}function c(e){e.style.display='flex',e.style.background='#7faaf0',e.style.position='fixed',e.style.bottom='5px',e.style.left='5px',e.style.padding='.5em',e.style.borderRadius='5px',e.style.alignItems='center'}function u(e,t){e.setAttribute('width','24'),e.setAttribute('id',t),e.setAttribute('height','24'),e.setAttribute('viewBox','0 0 24 24'),e.setAttribute('fill','none'),e.style.marginLeft='-6px'}function a(){const e=document.createElement('span');return e.style.cursor='pointer',e.style.marginLeft='16px',e.style.fontSize='24px',e.innerHTML=' &times;',e.onclick=()=>{M=!0,s()},e}function f(e,t){e.setAttribute('id',t),e.innerText='Learn more',e.href='https://firebase.google.com/docs/studio/preview-apps#preview-backend',e.setAttribute('target','__blank'),e.style.paddingLeft='5px',e.style.textDecoration='underline'}function l(){const e=k(o),t=n('text'),s=document.getElementById(t)||document.createElement('span'),l=n('learnmore'),d=document.getElementById(l)||document.createElement('a'),h=n('preprendIcon'),b=document.getElementById(h)||document.createElementNS('http://www.w3.org/2000/svg','svg');if(e.created){const t=e.element;c(t),f(d,l);const n=a();u(b,h),t.append(b,s,d,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",b.innerHTML="<g clip-path=\"url(#clip0_6013_33858)\">\n<path d=\"M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z\" fill=\"#212121\"/>\n</g>\n<defs>\n<clipPath id=\"clip0_6013_33858\">\n<rect width=\"24\" height=\"24\" fill=\"white\"/>\n</clipPath>\n</defs>"):(b.innerHTML="<g clip-path=\"url(#clip0_6083_34804)\">\n<path d=\"M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z\" fill=\"#212121\"/>\n</g>\n<defs>\n<clipPath id=\"clip0_6083_34804\">\n<rect width=\"24\" height=\"24\" fill=\"white\"/>\n</clipPath>\n</defs>",s.innerText='Preview backend running in this workspace.'),s.setAttribute('id',t)}'loading'===document.readyState?window.addEventListener('DOMContentLoaded',l):l()}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function x(){return'undefined'!=typeof navigator&&'string'==typeof navigator.userAgent?navigator.userAgent:''}function B(){return!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function I(){const e=O()?.forceEnvironment;if('node'===e)return!0;if('browser'===e)return!1;try{return'[object process]'===Object.prototype.toString.call(g.process)}catch(e){return!1}}function L(){return!0}function W(){return'undefined'!=typeof WorkerGlobalScope&&'undefined'!=typeof self&&self instanceof WorkerGlobalScope}function R(){return'undefined'!=typeof navigator&&'Cloudflare-Workers'===navigator.userAgent}function V(){const e='object'==typeof chrome?chrome.runtime:'object'==typeof browser?browser.runtime:void 0;return'object'==typeof e&&void 0!==e.id}function U(){return'object'==typeof navigator&&'ReactNative'===navigator.product}function F(){return x().indexOf('Electron/')>=0}function H(){const e=x();return e.indexOf('MSIE ')>=0||e.indexOf('Trident/')>=0}function $(){return x().indexOf('MSAppHost/')>=0}function z(){return!0===t.NODE_CLIENT||!0===t.NODE_ADMIN}function J(){return!I()&&!!navigator.userAgent&&navigator.userAgent.includes('Safari')&&!navigator.userAgent.includes('Chrome')}function Z(){return!I()&&!!navigator.userAgent&&(navigator.userAgent.includes('Safari')||navigator.userAgent.includes('WebKit'))&&!navigator.userAgent.includes('Chrome')}function G(){try{return'object'==typeof indexedDB}catch(e){return!1}}function q(){return new Promise((e,t)=>{try{let n=!0;const o='validate-browser-context-for-indexeddb-analytics-module',i=self.indexedDB.open(o);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(o),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||'')}}catch(e){t(e)}})}function K(){return!('undefined'==typeof navigator||!navigator.cookieEnabled)}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Q extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?Y(i,n):'Error',c=`${this.serviceName}: ${s} (${o}).`;return new Q(o,c,n)}}function Y(e,t){return e.replace(ee,(e,n)=>{const o=t[n];return null!=o?String(o):`<${n}?>`})}const ee=/\{\$([^}]+)}/g;
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function te(e){return JSON.parse(e)}function re(e){return JSON.stringify(e)}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const ne=function(e){let t={},n={},o={},i='';try{const s=e.split('.');t=te(l(s[0])||''),n=te(l(s[1])||''),i=s[2],o=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:o,signature:i}},oe=function(e){const t=ne(e).claims,n=Math.floor((new Date).getTime()/1e3);let o=0,i=0;return'object'==typeof t&&(t.hasOwnProperty('nbf')?o=t.nbf:t.hasOwnProperty('iat')&&(o=t.iat),i=t.hasOwnProperty('exp')?t.exp:o+86400),!!n&&!!o&&!!i&&n>=o&&n<=i},ie=function(e){const t=ne(e).claims;return'object'==typeof t&&t.hasOwnProperty('iat')?t.iat:null},se=function(e){const t=ne(e).claims;return!!t&&'object'==typeof t&&t.hasOwnProperty('iat')},ce=function(e){const t=ne(e).claims;return'object'==typeof t&&!0===t.admin};
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
function ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ae(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function fe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function le(e,t,n){const o={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o}function de(e,t){if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t);for(const i of n){if(!o.includes(i))return!1;const n=e[i],s=t[i];if(he(n)&&he(s)){if(!de(n,s))return!1}else if(n!==s)return!1}for(const e of o)if(!n.includes(e))return!1;return!0}function he(e){return null!==e&&'object'==typeof e}
/**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function be(e,t=2e3){const n=new P;return setTimeout(()=>n.reject('timeout!'),t),e.then(n.resolve,n.reject),n.promise}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function pe(e){const t=[];for(const[n,o]of Object.entries(e))Array.isArray(o)?o.forEach(e=>{t.push(encodeURIComponent(n)+'='+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+'='+encodeURIComponent(o));return t.length?'&'+t.join('&'):''}function ge(e){const t={};return e.replace(/^\?/,'').split('&').forEach(e=>{if(e){const[n,o]=e.split('=');t[decodeURIComponent(n)]=decodeURIComponent(o)}}),t}function ye(e){const t=e.indexOf('?');if(!t)return'';const n=e.indexOf('#',t);return e.substring(t,n>0?n:void 0)}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class me{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if('string'==typeof e)for(let o=0;o<16;o++)n[o]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let o=0;o<16;o++)n[o]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let o,i,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],a=this.chain_[3],f=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(o=a^c&(u^a),i=1518500249):(o=c^u^a,i=1859775393):e<60?(o=c&u|a&(c|u),i=2400959708):(o=c^u^a,i=3395469782);const t=(s<<5|s>>>27)+o+f+i+n[e]&4294967295;f=a,a=u,u=4294967295&(c<<30|c>>>2),c=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let o=0;const i=this.buf_;let s=this.inbuf_;for(;o<t;){if(0===s)for(;o<=n;)this.compress_(e,o),o+=this.blockSize;if('string'==typeof e){for(;o<t;)if(i[s]=e.charCodeAt(o),++s,++o,s===this.blockSize){this.compress_(i),s=0;break}}else for(;o<t;)if(i[s]=e[o],++s,++o,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let o=24;o>=0;o-=8)e[n]=this.chain_[t]>>o&255,++n;return e}}function Oe(e,t){const n=new Ee(e,t);return n.subscribe.bind(n)}class Ee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let o;if(void 0===e&&void 0===t&&void 0===n)throw new Error('Missing Observer.');o=je(e,['next','error','complete'])?e:{next:e,error:t,complete:n},void 0===o.next&&(o.next=ve),void 0===o.error&&(o.error=ve),void 0===o.complete&&(o.complete=ve);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(e){}}),this.observers.push(o),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){'undefined'!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ce(e,t){return(...n)=>{Promise.resolve(!0).then(()=>{e(...n)}).catch(e=>{t&&t(e)})}}function je(e,t){if('object'!=typeof e||null===e)return!1;for(const n of t)if(n in e&&'function'==typeof e[n])return!0;return!1}function ve(){}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Pe=function(e,t,n,o){let i;if(o<t?i='at least '+t:o>n&&(i=0===n?'none':'no more than '+n),i){throw new Error(e+' failed: Was called with '+o+(1===o?' argument.':' arguments.')+' Expects '+i+'.')}};function Ae(e,t){return`${e} failed: ${t} argument `}function Se(e,t,n){if((!n||t)&&'string'!=typeof t)throw new Error(Ae(e,'namespace')+'must be a valid firebase namespace.')}function we(e,t,n,o){if((!o||n)&&'function'!=typeof n)throw new Error(Ae(e,t)+'must be a valid function.')}function De(e,t,n,o){if((!o||n)&&('object'!=typeof n||null===n))throw new Error(Ae(e,t)+'must be a valid context object.')}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Te=function(e){const t=[];let o=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,n(i<e.length,'Surrogate pair missing trail surrogate.');s=65536+(t<<10)+(e.charCodeAt(i)-56320)}s<128?t[o++]=s:s<2048?(t[o++]=s>>6|192,t[o++]=63&s|128):s<65536?(t[o++]=s>>12|224,t[o++]=s>>6&63|128,t[o++]=63&s|128):(t[o++]=s>>18|240,t[o++]=s>>12&63|128,t[o++]=s>>6&63|128,t[o++]=63&s|128)}return t},ke=function(e){let t=0;for(let n=0;n<e.length;n++){const o=e.charCodeAt(n);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,n++):t+=3}return t},Me=1e3,Ne=2,xe=144e5,Be=.5;function Ie(e,t=Me,n=Ne){const o=t*Math.pow(n,e),i=Math.round(Be*o*(Math.random()-.5)*2);return Math.min(xe,o+i)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Le(e){return Number.isFinite(e)?e+We(e):`${e}`}function We(e){const t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return'th';const n=e%10;return 1===n?'st':2===n?'nd':3===n?'rd':'th'}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Re(e){return e&&e._delegate?e._delegate:e}},142,[143]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"getDefaultsFromPostinstall",{enumerable:!0,get:function(){return t}});const t=()=>{}},143,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return h}}),Object.defineProperty(e,"setLogLevel",{enumerable:!0,get:function(){return L}}),Object.defineProperty(e,"setUserLogHandler",{enumerable:!0,get:function(){return f}});
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const t=[];var n;!(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(n||(n={}));const o={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},l=n.INFO,s={[n.DEBUG]:'log',[n.VERBOSE]:'log',[n.INFO]:'info',[n.WARN]:'warn',[n.ERROR]:'error'},u=(t,n,...o)=>{if(n<t.logLevel)return;const l=(new Date).toISOString(),u=s[n];if(!u)throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`);console[u](`[${l}]  ${t.name}:`,...o)};class h{constructor(n){this.name=n,this._logLevel=l,this._logHandler=u,this._userLogHandler=null,t.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in n))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel='string'==typeof t?o[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if('function'!=typeof t)throw new TypeError('Value assigned to `logHandler` must be a function');this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...t),this._logHandler(this,n.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...t),this._logHandler(this,n.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,n.INFO,...t),this._logHandler(this,n.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,n.WARN,...t),this._logHandler(this,n.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...t),this._logHandler(this,n.ERROR,...t)}}function L(n){t.forEach(t=>{t.setLogLevel(n)})}function f(l,s){for(const u of t){let t=null;s&&s.level&&(t=o[s.level]),u.userLogHandler=null===l?null:(o,s,...u)=>{const h=u.map(t=>{if(null==t)return null;if('string'==typeof t)return t;if('number'==typeof t||'boolean'==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(t=>t).join(' ');s>=(t??o.logLevel)&&l({level:n[s].toLowerCase(),message:h,args:u,type:o.name})}}}},144,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"unwrap",{enumerable:!0,get:function(){return n.u}}),Object.defineProperty(e,"wrap",{enumerable:!0,get:function(){return n.w}}),Object.defineProperty(e,"deleteDB",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"openDB",{enumerable:!0,get:function(){return t}});var n=r(d[0]);function t(t,o,{blocked:s,upgrade:c,blocking:u,terminated:l}={}){const f=indexedDB.open(t,o),b=(0,n.w)(f);return c&&f.addEventListener('upgradeneeded',t=>{c((0,n.w)(f.result),t.oldVersion,t.newVersion,(0,n.w)(f.transaction),t)}),s&&f.addEventListener('blocked',n=>s(n.oldVersion,n.newVersion,n)),b.then(n=>{l&&n.addEventListener('close',()=>l()),u&&n.addEventListener('versionchange',n=>u(n.oldVersion,n.newVersion,n))}).catch(()=>{}),b}function o(t,{blocked:o}={}){const s=indexedDB.deleteDatabase(t);return o&&s.addEventListener('blocked',n=>o(n.oldVersion,n)),(0,n.w)(s).then(()=>{})}const s=['get','getKey','getAll','getAllKeys','count'],c=['put','add','delete','clear'],u=new Map;function l(n,t){if(!(n instanceof IDBDatabase)||t in n||'string'!=typeof t)return;if(u.get(t))return u.get(t);const o=t.replace(/FromIndex$/,''),l=t!==o,f=c.includes(o);if(!(o in(l?IDBIndex:IDBObjectStore).prototype)||!f&&!s.includes(o))return;const b=async function(n,...t){const s=this.transaction(n,f?'readwrite':'readonly');let c=s.store;return l&&(c=c.index(t.shift())),(await Promise.all([c[o](...t),f&&s.done]))[0]};return u.set(t,b),b}(0,n.r)(n=>Object.assign({},n,{get:(t,o,s)=>l(t,o)||n.get(t,o,s),has:(t,o)=>!!l(t,o)||n.has(t,o)}))},145,[146]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"a",{enumerable:!0,get:function(){return p}}),Object.defineProperty(e,"i",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"r",{enumerable:!0,get:function(){return l}}),Object.defineProperty(e,"u",{enumerable:!0,get:function(){return B}}),Object.defineProperty(e,"w",{enumerable:!0,get:function(){return I}});const t=(t,n)=>n.some(n=>t instanceof n);let n,o;const s=new WeakMap,c=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakMap;function b(t){const n=new Promise((n,o)=>{const s=()=>{t.removeEventListener('success',c),t.removeEventListener('error',u)},c=()=>{n(I(t.result)),s()},u=()=>{o(t.error),s()};t.addEventListener('success',c),t.addEventListener('error',u)});return n.then(n=>{n instanceof IDBCursor&&s.set(n,t)}).catch(()=>{}),p.set(n,t),n}function v(t){if(c.has(t))return;const n=new Promise((n,o)=>{const s=()=>{t.removeEventListener('complete',c),t.removeEventListener('error',u),t.removeEventListener('abort',u)},c=()=>{n(),s()},u=()=>{o(t.error||new DOMException('AbortError','AbortError')),s()};t.addEventListener('complete',c),t.addEventListener('error',u),t.addEventListener('abort',u)});c.set(t,n)}let D={get(t,n,o){if(t instanceof IDBTransaction){if('done'===n)return c.get(t);if('objectStoreNames'===n)return t.objectStoreNames||u.get(t);if('store'===n)return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return I(t[n])},set:(t,n,o)=>(t[n]=o,!0),has:(t,n)=>t instanceof IDBTransaction&&('done'===n||'store'===n)||n in t};function l(t){D=t(D)}function y(c){return'function'==typeof c?(f=c)!==IDBDatabase.prototype.transaction||'objectStoreNames'in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(f)?function(...t){return f.apply(B(this),t),I(s.get(this))}:function(...t){return I(f.apply(B(this),t))}:function(t,...n){const o=f.call(B(this),t,...n);return u.set(o,t.sort?t.sort():[t]),I(o)}:(c instanceof IDBTransaction&&v(c),t(c,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(c,D):c);var f}function I(t){if(t instanceof IDBRequest)return b(t);if(f.has(t))return f.get(t);const n=y(t);return n!==t&&(f.set(t,n),p.set(n,t)),n}const B=t=>p.get(t)},146,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})},147,[148]);
__d(function(e,t,n,i,r,s,o){"use strict";Object.defineProperty(s,'__esModule',{value:!0}),Object.defineProperty(s,"DataSnapshot",{enumerable:!0,get:function(){return Ks}}),Object.defineProperty(s,"Database",{enumerable:!0,get:function(){return Ko}}),Object.defineProperty(s,"OnDisconnect",{enumerable:!0,get:function(){return Us}}),Object.defineProperty(s,"QueryConstraint",{enumerable:!0,get:function(){return fo}}),Object.defineProperty(s,"TransactionResult",{enumerable:!0,get:function(){return sa}}),Object.defineProperty(s,"_QueryImpl",{enumerable:!0,get:function(){return Bs}}),Object.defineProperty(s,"_QueryParams",{enumerable:!0,get:function(){return St}}),Object.defineProperty(s,"_ReferenceImpl",{enumerable:!0,get:function(){return Ys}}),Object.defineProperty(s,"_TEST_ACCESS_forceRestClient",{enumerable:!0,get:function(){return la}}),Object.defineProperty(s,"_TEST_ACCESS_hijackHash",{enumerable:!0,get:function(){return aa}}),Object.defineProperty(s,"_initStandalone",{enumerable:!0,get:function(){return ha}}),Object.defineProperty(s,"_repoManagerDatabaseFromApp",{enumerable:!0,get:function(){return Vo}}),Object.defineProperty(s,"_setSDKVersion",{enumerable:!0,get:function(){return _}}),Object.defineProperty(s,"_validatePathString",{enumerable:!0,get:function(){return Ur}}),Object.defineProperty(s,"_validateWritablePath",{enumerable:!0,get:function(){return Vr}}),Object.defineProperty(s,"child",{enumerable:!0,get:function(){return $s}}),Object.defineProperty(s,"connectDatabaseEmulator",{enumerable:!0,get:function(){return Jo}}),Object.defineProperty(s,"enableLogging",{enumerable:!0,get:function(){return ta}}),Object.defineProperty(s,"endAt",{enumerable:!0,get:function(){return go}}),Object.defineProperty(s,"endBefore",{enumerable:!0,get:function(){return vo}}),Object.defineProperty(s,"equalTo",{enumerable:!0,get:function(){return Fo}}),Object.defineProperty(s,"forceLongPolling",{enumerable:!0,get:function(){return $o}}),Object.defineProperty(s,"forceWebSockets",{enumerable:!0,get:function(){return Go}}),Object.defineProperty(s,"get",{enumerable:!0,get:function(){return ro}}),Object.defineProperty(s,"getDatabase",{enumerable:!0,get:function(){return Xo}}),Object.defineProperty(s,"goOffline",{enumerable:!0,get:function(){return Zo}}),Object.defineProperty(s,"goOnline",{enumerable:!0,get:function(){return ea}}),Object.defineProperty(s,"increment",{enumerable:!0,get:function(){return ra}}),Object.defineProperty(s,"limitToFirst",{enumerable:!0,get:function(){return ko}}),Object.defineProperty(s,"limitToLast",{enumerable:!0,get:function(){return Eo}}),Object.defineProperty(s,"off",{enumerable:!0,get:function(){return _o}}),Object.defineProperty(s,"onChildAdded",{enumerable:!0,get:function(){return ho}}),Object.defineProperty(s,"onChildChanged",{enumerable:!0,get:function(){return co}}),Object.defineProperty(s,"onChildMoved",{enumerable:!0,get:function(){return uo}}),Object.defineProperty(s,"onChildRemoved",{enumerable:!0,get:function(){return po}}),Object.defineProperty(s,"onDisconnect",{enumerable:!0,get:function(){return Xs}}),Object.defineProperty(s,"onValue",{enumerable:!0,get:function(){return lo}}),Object.defineProperty(s,"orderByChild",{enumerable:!0,get:function(){return No}}),Object.defineProperty(s,"orderByKey",{enumerable:!0,get:function(){return Ro}}),Object.defineProperty(s,"orderByPriority",{enumerable:!0,get:function(){return Oo}}),Object.defineProperty(s,"orderByValue",{enumerable:!0,get:function(){return Mo}}),Object.defineProperty(s,"push",{enumerable:!0,get:function(){return Js}}),Object.defineProperty(s,"query",{enumerable:!0,get:function(){return Lo}}),Object.defineProperty(s,"ref",{enumerable:!0,get:function(){return Qs}}),Object.defineProperty(s,"refFromURL",{enumerable:!0,get:function(){return Gs}}),Object.defineProperty(s,"remove",{enumerable:!0,get:function(){return Zs}}),Object.defineProperty(s,"runTransaction",{enumerable:!0,get:function(){return oa}}),Object.defineProperty(s,"serverTimestamp",{enumerable:!0,get:function(){return ia}}),Object.defineProperty(s,"set",{enumerable:!0,get:function(){return eo}}),Object.defineProperty(s,"setPriority",{enumerable:!0,get:function(){return to}}),Object.defineProperty(s,"setWithPriority",{enumerable:!0,get:function(){return no}}),Object.defineProperty(s,"startAfter",{enumerable:!0,get:function(){return To}}),Object.defineProperty(s,"startAt",{enumerable:!0,get:function(){return wo}}),Object.defineProperty(s,"update",{enumerable:!0,get:function(){return io}});var a=t(o[0]),l=t(o[1]),h=t(o[2]),c=t(o[3]);const u="@firebase/database",d="1.1.0";
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
let p='';function _(e){p=e}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class f{constructor(e){this.domStorage_=e,this.prefix_='firebase:'}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,h.stringify)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,h.jsonEval)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class m{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,h.contains)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const g=function(e){try{if(void 0!==window[e]){const t=window[e];return t.setItem('firebase:sentinel','cache'),t.removeItem('firebase:sentinel'),new f(t)}}catch(e){}return new m},y=g('localStorage'),v=g('sessionStorage'),C=new c.Logger('@firebase/database'),w=(function(){let e=1;return function(){return e++}})(),b=function(e){const t=(0,h.stringToByteArray)(e),n=new h.Sha1;n.update(t);const i=n.digest();return h.base64.encodeByteArray(i)},T=function(...e){let t='';for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&'object'==typeof i&&'number'==typeof i.length?t+=T.apply(null,i):t+='object'==typeof i?(0,h.stringify)(i):i,t+=' '}return t};let I=null,k=!0;const P=function(e,t){(0,h.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(C.logLevel=c.LogLevel.VERBOSE,I=C.log.bind(C),t&&v.set('logging_enabled',!0)):'function'==typeof e?I=e:(I=null,v.remove('logging_enabled'))},E=function(...e){if(!0===k&&(k=!1,null===I&&!0===v.get('logging_enabled')&&P(!0)),I){const t=T.apply(null,e);I(t)}},S=function(e){return function(...t){E(e,...t)}},N=function(...e){const t='FIREBASE INTERNAL ERROR: '+T(...e);C.error(t)},x=function(...e){const t=`FIREBASE FATAL ERROR: ${T(...e)}`;throw C.error(t),new Error(t)},R=function(...e){const t='FIREBASE WARNING: '+T(...e);C.warn(t)},D=function(e){return'number'==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},O=function(e){if((0,h.isNodeSdk)()||'complete'===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener('DOMContentLoaded',n,!1),window.addEventListener('load',n,!1)):document.attachEvent&&(document.attachEvent('onreadystatechange',()=>{'complete'===document.readyState&&n()}),window.attachEvent('onload',n))}},A='[MIN_NAME]',M='[MAX_NAME]',q=function(e,t){if(e===t)return 0;if(e===A||t===M)return-1;if(t===A||e===M)return 1;{const n=z(e),i=z(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},F=function(e,t){return e===t?0:e<t?-1:1},L=function(e,t){if(t&&e in t)return t[e];throw new Error('Missing required key ('+e+') in object: '+(0,h.stringify)(t))},j=function(e){if('object'!=typeof e||null===e)return(0,h.stringify)(e);const t=[];for(const n in e)t.push(n);t.sort();let n='{';for(let i=0;i<t.length;i++)0!==i&&(n+=','),n+=(0,h.stringify)(t[i]),n+=':',n+=j(e[t[i]]);return n+='}',n},W=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function U(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const B=function(e){(0,h.assert)(!D(e),'Invalid JSON number');let t,n,i,r,s;0===e?(n=0,i=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,i=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(e/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();const a=o.join('');let l='';for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e='0'+e),l+=e}return l.toLowerCase()};function V(e,t){let n='Unknown Error';'too_big'===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":'permission_denied'===e?n="Client doesn't have permission to access the desired data.":'unavailable'===e&&(n='The service is unavailable');const i=new Error(e+' at '+t._path.toString()+': '+n);return i.code=e.toUpperCase(),i}const H=new RegExp('^-?(0*)\\d{1,10}$'),z=function(e){if(H.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Y=function(e){try{e()}catch(e){setTimeout(()=>{const t=e.stack||'';throw R('Exception was thrown by user callback.',t),e},Math.floor(0))}},K=function(e,t){const n=setTimeout(e,t);return'number'==typeof n&&'undefined'!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):'object'==typeof n&&n.unref&&n.unref(),n};
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class Q{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,(0,a._isFirebaseServerApp)(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error('Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.');return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){R(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class G{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&'auth/token-not-initialized'===e.code?(E('Got auth/token-not-initialized error.  Treating as null token.'),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+"\" are invalid. This usually indicates your app was not initialized correctly. ";'credential'in this.firebaseOptions_?e+="Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.":'serviceAccount'in this.firebaseOptions_?e+="Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.":e+="Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.",R(e)}}class ${constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$.OWNER='owner';
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const X='5',J=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z='ac',ee='websocket',te='long_polling';
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class ne{constructor(e,t,n,i,r=!1,s="",o=!1,a=!1,l=null){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf('.')+1),this.internalHost=y.get('host:'+e)||this._host}isCacheableHost(){return's-'===this.internalHost.substr(0,2)}isCustomHost(){return'firebaseio.com'!==this._domain&&'firebaseio-demo.com'!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&y.set('host:'+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+='<'+this.persistenceKey+'>'),e}toURLString(){const e=this.secure?'https://':'http://',t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:'';return`${e}${this.host}/${t}`}}function ie(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function re(e,t,n){let i;if((0,h.assert)('string'==typeof t,'typeof type must == string'),(0,h.assert)('object'==typeof n,'typeof params must == object'),t===ee)i=(e.secure?'wss://':'ws://')+e.internalHost+'/.ws?';else{if(t!==te)throw new Error('Unknown connection type: '+t);i=(e.secure?'https://':'http://')+e.internalHost+'/.lp?'}ie(e)&&(n.ns=e.namespace);const r=[];return U(n,(e,t)=>{r.push(e+'='+t)}),i+r.join('&')}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class se{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,h.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,h.deepCopy)(this.counters_)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const oe={},ae={};function le(e){const t=e.toString();return oe[t]||(oe[t]=new se),oe[t]}function he(e,t){const n=e.toString();return ae[n]||(ae[n]=t()),ae[n]}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ce{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Y(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const ue='start';class de{constructor(e,t,n,i,r,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=le(t),this.urlFn=e=>(this.appCheckToken&&(e[Z]=this.appCheckToken),re(t,te,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ce(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_('Timed out trying to connect.'),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),O(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pe((...e)=>{const[t,n,i,r,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ue)this.id=n,this.password=i;else{if("close"!==t)throw new Error('Unrecognized command received: '+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={};e[ue]='t',e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=X,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Z]=this.appCheckToken),'undefined'!=typeof location&&location.hostname&&J.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_('Connecting via long-poll to '+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){de.forceAllow_=!0}static forceDisallow(){de.forceDisallow_=!0}static isAvailable(){return!(0,h.isNodeSdk)()&&(!!de.forceAllow_||!(de.forceDisallow_||'undefined'==typeof document||null==document.createElement||window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||'object'==typeof Windows&&'object'==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_('Longpoll is closing itself'),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_('Longpoll is being closed.'),this.shutdown_())}send(e){const t=(0,h.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter('bytes_sent',t.length);const n=(0,h.base64Encode)(t),i=W(n,1840);for(let e=0;e<i.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,h.isNodeSdk)())return;this.myDisconnFrame=document.createElement('iframe');const n={dframe:'t'};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display='none',document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,h.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter('bytes_received',t)}}class pe{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,h.isNodeSdk)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=w(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=pe.createIFrame_();let n='';if(this.myIFrame.src&&'javascript:'===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i='<html><body>'+n+'</body></html>';try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){E('frame writing exception'),e.stack&&E(e.stack),E(e)}}}static createIFrame_(){const e=document.createElement('iframe');if(e.style.display='none',!document.body)throw'Document body has not initialized. Wait to initialize Firebase until after the document is ready.';document.body.appendChild(e);try{e.contentWindow.document||E('No IE domain setting required')}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent='',setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n='',i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+'='+e.seg+"&ts"+i+'='+e.ts+"&d"+i+'='+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),n()})}addTag(e,t){(0,h.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement('script');n.type='text/javascript',n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&'loaded'!==e&&'complete'!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{E('Long-poll script failed to load: '+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let _e=null;'undefined'!=typeof MozWebSocket?_e=MozWebSocket:'undefined'!=typeof WebSocket&&(_e=WebSocket);class fe{constructor(e,t,n,i,r,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=le(t),this.connURL=fe.connectionURL_(t,s,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const s={};return s.v=X,!(0,h.isNodeSdk)()&&'undefined'!=typeof location&&location.hostname&&J.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),i&&(s[Z]=i),r&&(s.p=r),re(e,ee,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_('Websocket connecting to '+this.connURL),this.everConnected_=!1,y.set('previous_websocket_failure',!0);try{let e;if((0,h.isNodeSdk)()){const t=this.nodeAdmin?'AdminNode':'Node';e={headers:{'User-Agent':`Firebase/${X}/${p}/${process.platform}/${t}`,'X-Firebase-GMPID':this.applicationId||''}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers['X-Firebase-AppCheck']=this.appCheckToken);const n=process.env,i=0===this.connURL.indexOf('wss://')?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new _e(this.connURL,[],e)}catch(e){this.log_('Error instantiating WebSocket.');const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_('Websocket connected.'),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_('Websocket connection was disconnected.'),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_('WebSocket error.  Closing connection.');const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){fe.forceDisallow_=!0}static isAvailable(){let e=!1;if('undefined'!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==_e&&!fe.forceDisallow_}static previouslyFailed(){return y.isInMemoryStorage||!0===y.get('previous_websocket_failure')}markConnectionHealthy(){y.remove('previous_websocket_failure')}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join('');this.frames=null;const t=(0,h.jsonEval)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,h.assert)(null===this.frames,'We already have a frame buffer'),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter('bytes_received',t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,h.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter('bytes_sent',t.length);const n=W(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_('WebSocket is closing itself'),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_('WebSocket is being closed'),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_('0'),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_('Exception thrown from WebSocket.send():',e.message||e.data,'Closing connection.'),setTimeout(this.onClosed_.bind(this),0)}}}fe.responsesRequiredToBeHealthy=2,fe.healthyTimeout=3e4;
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class me{static get ALL_TRANSPORTS(){return[de,fe]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=fe&&fe.isAvailable();let n=t&&!fe.previouslyFailed();if(e.webSocketOnly&&(t||R("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[fe];else{const e=this.transports_=[];for(const t of me.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);me.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error('No transports available')}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}me.globalTransportInitialized_=!1;class ge{constructor(e,t,n,i,r,s,o,a,l,h){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S('c:'+this.id+':'),this.transportManager_=new me(t),this.log_('Connection created'),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=K(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_('Connection exceeded healthy timeout but has received '+this.conn_.bytesReceived+' bytes.  Marking connection healthy.'),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_('Connection exceeded healthy timeout but has sent '+this.conn_.bytesSent+' bytes.  Leaving connection alive.'):(this.log_('Closing unhealthy connection after timeout.'),this.close()))},Math.floor(i)))}nextTransportId_(){return'c:'+this.id+':'+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_('Secondary connection lost.'),this.onSecondaryConnectionLost_()):this.log_('closing an old connection')}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_('message on old connection'))}}sendRequest(e){const t={t:'d',d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_('cleaning up and promoting a connection: '+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_('Got a reset on secondary, closing it'),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_('got pong on secondary.'),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=L('t',e),n=L('d',e);if('c'===t)this.onSecondaryControl_(n);else{if('d'!==t)throw new Error('Unknown protocol layer: '+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_('Secondary connection is healthy.'),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_('sending ping on secondary.'),this.secondaryConn_.send({t:'c',d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_('sending client ack on secondary'),this.secondaryConn_.send({t:'c',d:{t:"a",d:{}}}),this.log_('Ending transmission on primary'),this.conn_.send({t:'c',d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=L('t',e),n=L('d',e);'c'===t?this.onControl_(n):'d'===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_('Primary connection is healthy.'),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=L("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_('recvd end transmission on primary'),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?N('Server Error: '+n):"o"===t?(this.log_('got pong on primary.'),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):N('Unknown control packet command: '+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),X!==n&&R('Protocol version mismatch detected'),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),K(()=>{this.secondaryConn_&&(this.log_('Timed out trying to upgrade.'),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_('Reset packet received.  New host: '+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_('Realtime connection established.'),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_('Primary connection is healthy.'),this.isHealthy_=!0):K(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_('sending ping on primary.'),this.sendData_({t:'c',d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_('Realtime connection lost.'):(this.log_('Realtime connection failed.'),this.repoInfo_.isCacheableHost()&&(y.remove('host:'+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_('Connection shutdown command received. Shutting down...'),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw'Connection is not connected';this.tx_.send(e)}close(){2!==this.state_&&(this.log_('Closing realtime connection.'),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_('Shutting down all connections'),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ye{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ve{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,h.assert)(Array.isArray(e)&&e.length>0,'Requires a non-empty array')}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let e=0;e<i.length;e++)if(i[e].callback===t&&(!n||n===i[e].context))return void i.splice(e,1)}validateEventType_(e){(0,h.assert)(this.allowedEvents_.find(t=>t===e),'Unknown event: '+e)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Ce extends ve{static getInstance(){return new Ce}constructor(){super(['online']),this.online_=!0,void 0===window.addEventListener||(0,h.isMobileCordova)()||(window.addEventListener('online',()=>{this.online_||(this.online_=!0,this.trigger('online',!0))},!1),window.addEventListener('offline',()=>{this.online_&&(this.online_=!1,this.trigger('online',!1))},!1))}getInitialEvent(e){return(0,h.assert)('online'===e,'Unknown event type: '+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class we{constructor(e,t){if(void 0===t){this.pieces_=e.split('/');let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e='';for(let t=this.pieceNum_;t<this.pieces_.length;t++)''!==this.pieces_[t]&&(e+='/'+this.pieces_[t]);return e||'/'}}function be(){return new we('')}function Te(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ie(e){return e.pieces_.length-e.pieceNum_}function ke(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new we(e.pieces_,t)}function Pe(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ee(e){let t='';for(let n=e.pieceNum_;n<e.pieces_.length;n++)''!==e.pieces_[n]&&(t+='/'+encodeURIComponent(String(e.pieces_[n])));return t||'/'}function Se(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Ne(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new we(t,0)}function xe(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof we)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split('/');for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new we(n,0)}function Re(e){return e.pieceNum_>=e.pieces_.length}function De(e,t){const n=Te(e),i=Te(t);if(null===n)return t;if(n===i)return De(ke(e),ke(t));throw new Error('INTERNAL ERROR: innerPath ('+t+") is not within outerPath ("+e+')')}function Oe(e,t){const n=Se(e,0),i=Se(t,0);for(let e=0;e<n.length&&e<i.length;e++){const t=q(n[e],i[e]);if(0!==t)return t}return n.length===i.length?0:n.length<i.length?-1:1}function Ae(e,t){if(Ie(e)!==Ie(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Me(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Ie(e)>Ie(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class qe{constructor(e,t){this.errorPrefix_=t,this.parts_=Se(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=(0,h.stringLength)(this.parts_[e]);je(this)}}function Fe(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,h.stringLength)(t),je(e)}function Le(e){const t=e.parts_.pop();e.byteLength_-=(0,h.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}function je(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+').');if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+We(e))}function We(e){return 0===e.parts_.length?'':"in property '"+e.parts_.join('.')+"'"}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Ue extends ve{static getInstance(){return new Ue}constructor(){let e,t;super(['visible']),'undefined'!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t='visibilitychange',e='hidden'):void 0!==document.mozHidden?(t='mozvisibilitychange',e='mozHidden'):void 0!==document.msHidden?(t='msvisibilitychange',e='msHidden'):void 0!==document.webkitHidden&&(t='webkitvisibilitychange',e='webkitHidden')),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger('visible',t))},!1)}getInitialEvent(e){return(0,h.assert)('visible'===e,'Unknown event type: '+e),[this.visible_]}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Be=1e3;class Ve extends ye{constructor(e,t,n,i,r,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=Ve.nextPersistentConnectionId_++,this.log_=S('p:'+this.id+':'),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Be,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!(0,h.isNodeSdk)())throw new Error('Auth override specified in options, but not supported on non Node.js platforms');Ue.getInstance().on('visible',this.onVisible_,this),-1===e.host.indexOf('fblocal')&&Ce.getInstance().on('online',this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_((0,h.stringify)(r)),(0,h.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new h.Deferred,n={action:'g',request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;'ok'===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,s=e._path.toString();this.log_('Listen called for '+s+' '+r),this.listens.has(s)||this.listens.set(s,new Map),(0,h.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),'listen() called for non-default but complete query'),(0,h.assert)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest('g',t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_('Listen on '+n+' for '+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest('q',r,r=>{const s=r.d,o=r.s;Ve.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_('listen response',r),'ok'!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&'object'==typeof e&&(0,h.contains)(e,'w')){const n=(0,h.safeGet)(e,'w');if(Array.isArray(n)&&~n.indexOf('no_index')){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();R(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_('Auth token refreshed'),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest('unauth',{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,h.isAdmin)(e))&&(this.log_('Admin auth credential detected.  Reducing max reconnect time.'),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_('App check token refreshed'),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest('unappeck',{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,h.isValidFormat)(e)?'auth':'gauth',n={cred:e};null===this.authOverride_?n.noauth=!0:'object'==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,i=t.d||'error';this.authToken_===e&&('ok'===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest('appcheck',{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||'error';'ok'===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_('Unlisten called for '+n+' '+i),(0,h.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),'unlisten() called for non-default but complete query');this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_('Unlisten on '+e+' for '+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest('n',r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_('o',e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:'o',data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_('om',e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:'om',data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_('oc',e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:'oc',data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_('onDisconnect '+e,r),this.sendRequest(e,r,e=>{i&&setTimeout(()=>{i(e.s,e.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal('p',e,t,n,i)}merge(e,t,n,i){this.putInternal('m',e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const s={p:t,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_('Buffering put: '+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+' response',n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_('reportStats',t),this.sendRequest('s',t,e=>{if('ok'!==e.s){const t=e.d;this.log_('reportStats','Error sending stats: '+t)}})}}onDataMessage_(e){if('r'in e){this.log_('from server: '+(0,h.stringify)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if('error'in e)throw'A server-side error has occurred: '+e.error;'a'in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_('handleServerMessage',e,t),'d'===e?this.onDataUpdate_(t.p,t.d,!1,t.t):'m'===e?this.onDataUpdate_(t.p,t.d,!0,t.t):'c'===e?this.onListenRevoked_(t.p,t.q):'ac'===e?this.onAuthRevoked_(t.s,t.d):'apc'===e?this.onAppCheckRevoked_(t.s,t.d):'sd'===e?this.onSecurityDebugPacket_(t):N('Unrecognized action received from server: '+(0,h.stringify)(e)+'\nAre you using the latest client?')}onReady_(e,t){this.log_('connection ready'),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,h.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_('Window became visible.  Reducing delay.'),this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_('Browser went online.'),this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0)):(this.log_('Browser went offline.  Killing connection.'),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_('data client disconnected'),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Be),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_('Trying to reconnect in '+t+'ms'),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_('Making a connection attempt'),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+':'+Ve.nextConnectionId_++,r=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){(0,h.assert)(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?E('getToken() completed but was canceled'):(E('getToken() completed. Creating connection.'),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new ge(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{R(e+' ('+this.repoInfo_.toString()+')'),this.interrupt("server_kill")},r))}catch(e){this.log_('Failed to get token: '+e),s||(this.repoInfo_.nodeAdmin&&R(e),a())}}}interrupt(e){E('Interrupting connection for reason: '+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){E('Resuming connection for reason: '+e),delete this.interruptReasons_[e],(0,h.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&'h'in t.request&&t.queued&&(t.onComplete&&t.onComplete('disconnect'),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>j(e)).join('$'):'default';const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete('permission_denied')}removeListen_(e,t){const n=new we(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){E('Auth token revoked: '+e+'/'+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),'invalid_token'!==e&&'permission_denied'!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){E('App check token revoked: '+e+'/'+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,'invalid_token'!==e&&'permission_denied'!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):'msg'in e&&console.log('FIREBASE: '+e.msg.replace('\n','\nFIREBASE: '))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t='js';(0,h.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?'admin_node':'node'),e['sdk.'+t+'.'+p.replace(/\./g,'-')]=1,(0,h.isMobileCordova)()?e['framework.cordova']=1:(0,h.isReactNative)()&&(e['framework.reactnative']=1),this.reportStats(e)}shouldReconnect_(){const e=Ce.getInstance().currentlyOnline();return(0,h.isEmpty)(this.interruptReasons_)&&e}}Ve.nextPersistentConnectionId_=0,Ve.nextConnectionId_=0;
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class He{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new He(e,t)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ze{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new He(A,e),i=new He(A,t);return 0!==this.compare(n,i)}minPost(){return He.MIN}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let Ye;class Ke extends ze{static get __EMPTY_NODE(){return Ye}static set __EMPTY_NODE(e){Ye=e}compare(e,t){return q(e.name,t.name)}isDefinedOn(e){throw(0,h.assertionError)('KeyIndex.isDefinedOn not expected to be called.')}indexedValueChanged(e,t){return!1}minPost(){return He.MIN}maxPost(){return new He(M,Ye)}makePost(e,t){return(0,h.assert)('string'==typeof e,'KeyIndex indexValue must always be a string.'),new He(e,Ye)}toString(){return'.key'}}const Qe=new Ke;
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Ge{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $e{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:$e.RED,this.left=null!=i?i:Xe.EMPTY_NODE,this.right=null!=r?r:Xe.EMPTY_NODE}copy(e,t,n,i,r){return new $e(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xe.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Xe.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error('Red node has red child('+this.key+','+this.value+')');if(this.right.isRed_())throw new Error('Right child of ('+this.key+','+this.value+') is red');const e=this.left.check_();if(e!==this.right.check_())throw new Error('Black depths differ');return e+(this.isRed_()?0:1)}}$e.RED=!0,$e.BLACK=!1;class Xe{constructor(e,t=Xe.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Xe(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,$e.BLACK,null,null))}remove(e){return new Xe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$e.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error('Attempted to find predecessor key for a nonexistent key.  What gives?')}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ge(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ge(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ge(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ge(this.root_,null,this.comparator_,!0,e)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
function Je(e,t){return q(e.name,t.name)}function Ze(e,t){return q(e,t)}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let et;Xe.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new $e(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tt=function(e){return'number'==typeof e?'number:'+B(e):'string:'+e},nt=function(e){if(e.isLeafNode()){const t=e.val();(0,h.assert)('string'==typeof t||'number'==typeof t||'object'==typeof t&&(0,h.contains)(t,'.sv'),'Priority must be a string or number.')}else(0,h.assert)(e===et||e.isEmpty(),'priority of unexpected type.');(0,h.assert)(e===et||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
let it,rt,st;class ot{static set __childrenNodeConstructor(e){it=e}static get __childrenNodeConstructor(){return it}constructor(e,t=ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,h.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),nt(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ot(this.value_,e)}getImmediateChild(e){return'.priority'===e?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Re(e)?this:'.priority'===Te(e)?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return'.priority'===e?this.updatePriority(t):t.isEmpty()&&'.priority'!==e?this:ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Te(e);return null===n?t:t.isEmpty()&&'.priority'!==n?this:((0,h.assert)('.priority'!==n||1===Ie(e),'.priority must be the last token in a path'),this.updateImmediateChild(n,ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{'.value':this.getValue(),'.priority':this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e='';this.priorityNode_.isEmpty()||(e+='priority:'+tt(this.priorityNode_.val())+':');const t=typeof this.value_;e+=t+':',e+='number'===t?B(this.value_):this.value_,this.lazyHash_=b(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ot.__childrenNodeConstructor?-1:((0,h.assert)(e.isLeafNode(),'Unknown node type'),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=ot.VALUE_TYPE_ORDER.indexOf(t),r=ot.VALUE_TYPE_ORDER.indexOf(n);return(0,h.assert)(i>=0,'Unknown leaf type: '+t),(0,h.assert)(r>=0,'Unknown leaf type: '+n),i===r?'object'===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}ot.VALUE_TYPE_ORDER=['object','boolean','number','string'];const at=new class extends ze{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?q(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return He.MIN}maxPost(){return new He(M,new ot('[PRIORITY-POST]',st))}makePost(e,t){const n=rt(e);return new He(t,new ot('[PRIORITY-POST]',n))}toString(){return'.priority'}},lt=Math.log(2);
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ht{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/lt,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join('1'),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ct=function(e,t,n,i){e.sort(t);const r=function(t,i){const s=i-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new $e(a,o.node,$e.BLACK,null,null);{const l=parseInt(s/2,10)+t,h=r(t,l),c=r(l+1,i);return o=e[l],a=n?n(o):o,new $e(a,o.node,$e.BLACK,h,c)}},s=(function(t){let i=null,s=null,o=e.length;const a=function(t,i){const s=o-t,a=o;o-=t;const h=r(s+1,a),c=e[s],u=n?n(c):c;l(new $e(u,c.node,i,null,h))},l=function(e){i?(i.left=e,i=e):(s=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,$e.BLACK):(a(i,$e.BLACK),a(i,$e.RED))}return s})(new ht(e.length));return new Xe(i||t,s)};
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let ut;const dt={};class pt{static get Default(){return(0,h.assert)(dt&&at,'ChildrenNode.ts has not been loaded'),ut=ut||new pt({'.priority':dt},{'.priority':at}),ut}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=(0,h.safeGet)(this.indexes_,e);if(!t)throw new Error('No index defined for '+e);return t instanceof Xe?t:null}hasIndex(e){return(0,h.contains)(this.indexSet_,e.toString())}addIndex(e,t){(0,h.assert)(e!==Qe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(He.Wrap);let s,o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),n.push(o),o=r.getNext();s=i?ct(n,e.getCompare()):dt;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new pt(c,l)}addToIndexes(e,t){const n=(0,h.map)(this.indexes_,(n,i)=>{const r=(0,h.safeGet)(this.indexSet_,i);if((0,h.assert)(r,'Missing index implementation for '+i),n===dt){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(He.Wrap);let s=i.getNext();for(;s;)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),ct(n,r.getCompare())}return dt}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new He(e.name,i))),r.insert(e,e.node)}});return new pt(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,h.map)(this.indexes_,n=>{if(n===dt)return n;{const i=t.get(e.name);return i?n.remove(new He(e.name,i)):n}});return new pt(n,this.indexSet_)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let _t;class ft{static get EMPTY_NODE(){return _t||(_t=new ft(new Xe(Ze),null,pt.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&nt(this.priorityNode_),this.children_.isEmpty()&&(0,h.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),'An empty node cannot have a priority')}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_t}updatePriority(e){return this.children_.isEmpty()?this:new ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if('.priority'===e)return this.getPriority();{const t=this.children_.get(e);return null===t?_t:t}}getChild(e){const t=Te(e);return null===t?this:this.getImmediateChild(t).getChild(ke(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,h.assert)(t,'We should always be passing snapshot nodes'),'.priority'===e)return this.updatePriority(t);{const n=new He(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const s=i.isEmpty()?_t:this.priorityNode_;return new ft(i,s,r)}}updateChild(e,t){const n=Te(e);if(null===n)return t;{(0,h.assert)('.priority'!==Te(e)||1===Ie(e),'.priority must be the last token in a path');const i=this.getImmediateChild(n).updateChild(ke(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(at,(s,o)=>{t[s]=o.val(e),n++,r&&ft.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):r=!1}),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t['.priority']=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e='';this.getPriority().isEmpty()||(e+='priority:'+tt(this.getPriority().val())+':'),this.forEachChild(at,(t,n)=>{const i=n.hash();''!==i&&(e+=':'+t+':'+i)}),this.lazyHash_=''===e?'':b(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new He(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new He(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new He(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,He.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,He.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mt?-1:0}withIndex(e){if(e===Qe||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ft(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Qe||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(at),n=t.getIterator(at);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===Qe?null:this.indexMap_.get(e.toString())}}ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const mt=new class extends ft{constructor(){super(new Xe(Ze),ft.EMPTY_NODE,pt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ft.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(He,{MIN:{value:new He(A,ft.EMPTY_NODE)},MAX:{value:new He(M,mt)}}),Ke.__EMPTY_NODE=ft.EMPTY_NODE,ot.__childrenNodeConstructor=ft,et=mt,(function(e){st=e})(mt);
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const gt=!0;function yt(e,t=null){if(null===e)return ft.EMPTY_NODE;if('object'==typeof e&&'.priority'in e&&(t=e['.priority']),(0,h.assert)(null===t||'string'==typeof t||'number'==typeof t||'object'==typeof t&&'.sv'in t,'Invalid priority type found: '+typeof t),'object'==typeof e&&'.value'in e&&null!==e['.value']&&(e=e['.value']),'object'!=typeof e||'.sv'in e){return new ot(e,yt(t))}if(e instanceof Array||!gt){let n=ft.EMPTY_NODE;return U(e,(t,i)=>{if((0,h.contains)(e,t)&&'.'!==t.substring(0,1)){const e=yt(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(yt(t))}{const n=[];let i=!1;if(U(e,(e,t)=>{if('.'!==e.substring(0,1)){const r=yt(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new He(e,r)))}}),0===n.length)return ft.EMPTY_NODE;const r=ct(n,Je,e=>e.name,Ze);if(i){const e=ct(n,at.getCompare());return new ft(r,yt(t),new pt({'.priority':e},{'.priority':at}))}return new ft(r,yt(t),pt.Default)}}!(function(e){rt=e})(yt);
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class vt extends ze{constructor(e){super(),this.indexPath_=e,(0,h.assert)(!Re(e)&&'.priority'!==Te(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?q(e.name,t.name):r}makePost(e,t){const n=yt(e),i=ft.EMPTY_NODE.updateChild(this.indexPath_,n);return new He(t,i)}maxPost(){const e=ft.EMPTY_NODE.updateChild(this.indexPath_,mt);return new He(M,e)}toString(){return Se(this.indexPath_,0).join('/')}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Ct=new class extends ze{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?q(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(e,t){const n=yt(e);return new He(t,n)}toString(){return'.value'}};
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function wt(e){return{type:"value",snapshotNode:e}}function bt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Tt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function It(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class kt{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){(0,h.assert)(e.isIndexed(this.index_),'A node must be indexed if only a child is updated');const o=e.getImmediateChild(t);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Tt(t,o)):(0,h.assert)(e.isLeafNode(),'A child remove without an old child only makes sense on a leaf node'):o.isEmpty()?s.trackChildChange(bt(t,n)):s.trackChildChange(It(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(at,(e,i)=>{t.hasChild(e)||n.trackChildChange(Tt(e,i))}),t.isLeafNode()||t.forEachChild(at,(t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(It(t,i,r))}else n.trackChildChange(bt(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ft.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Pt{constructor(e){this.indexedFilter_=new kt(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pt.getStartPost_(e),this.endPost_=Pt.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,s){return this.matches(new He(t,n))||(n=ft.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=ft.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(ft.EMPTY_NODE);const r=this;return t.forEachChild(at,(e,t)=>{r.matches(new He(e,t))||(i=i.updateImmediateChild(e,ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Et{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Pt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,s){return this.rangedFilter_.matches(new He(t,n))||(n=ft.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,s):this.fullLimitUpdateChild_(e,t,n,r,s)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=ft.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(ft.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;(0,h.assert)(o.numChildren()===this.limit_,'');const a=new He(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=h&&(h.name===t||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const u=null==h?1:s(h,a);if(c&&!n.isEmpty()&&u>=0)return null!=r&&r.trackChildChange(It(t,n,e)),o.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(Tt(t,e));const n=o.updateImmediateChild(t,ft.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=r&&r.trackChildChange(bt(h.name,h.node)),n.updateImmediateChild(h.name,h.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=r&&(r.trackChildChange(Tt(l.name,l.node)),r.trackChildChange(bt(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,ft.EMPTY_NODE)):e}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class St{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_='',this.indexStartValue_=null,this.indexStartName_='',this.indexEndValue_=null,this.indexEndName_='',this.index_=at}hasStart(){return this.startSet_}isViewFromLeft(){return''===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,h.assert)(this.startSet_,'Only valid if start has been set'),this.indexStartValue_}getIndexStartName(){return(0,h.assert)(this.startSet_,'Only valid if start has been set'),this.startNameSet_?this.indexStartName_:A}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,h.assert)(this.endSet_,'Only valid if end has been set'),this.indexEndValue_}getIndexEndName(){return(0,h.assert)(this.endSet_,'Only valid if end has been set'),this.endNameSet_?this.indexEndName_:M}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&''!==this.viewFrom_}getLimit(){return(0,h.assert)(this.limitSet_,'Only valid if limit has been set'),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===at}copy(){const e=new St;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Nt(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function xt(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Rt(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=''),i}function Dt(e,t,n){let i;return i=e.index_===Qe||n?Rt(e,t,n):Rt(e,t,M),i.startAfterSet_=!0,i}function Ot(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=''),i}function At(e,t,n){let i;return i=e.index_===Qe||n?Ot(e,t,n):Ot(e,t,A),i.endBeforeSet_=!0,i}function Mt(e,t){const n=e.copy();return n.index_=t,n}function qt(e){const t={};if(e.isDefault())return t;let n;if(e.index_===at?n="$priority":e.index_===Ct?n="$value":e.index_===Qe?n="$key":((0,h.assert)(e.index_ instanceof vt,'Unrecognized index type!'),n=e.index_.toString()),t.orderBy=(0,h.stringify)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=(0,h.stringify)(e.indexStartValue_),e.startNameSet_&&(t[n]+=','+(0,h.stringify)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=(0,h.stringify)(e.indexEndValue_),e.endNameSet_&&(t[n]+=','+(0,h.stringify)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ft(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;''===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==at&&(t.i=e.index_.toString()),t}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Lt extends ye{reportStats(e){throw new Error('Method not implemented.')}static getListenId_(e,t){return void 0!==t?'tag$'+t:((0,h.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=S('p:rest:'),this.listens_={}}listen(e,t,n,i){const r=e._path.toString();this.log_('Listen called for '+r+' '+e._queryIdentifier);const s=Lt.getListenId_(e,n),o={};this.listens_[s]=o;const a=qt(e._queryParams);this.restRequest_(r+'.json',a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),(0,h.safeGet)(this.listens_,s)===o){let t;t=e?401===e?'permission_denied':'rest_error:'+e:'ok',i(t,null)}})}unlisten(e,t){const n=Lt.getListenId_(e,t);delete this.listens_[n]}get(e){const t=qt(e._queryParams),n=e._path.toString(),i=new h.Deferred;return this.restRequest_(n+'.json',t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format='export',Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);const s=(this.repoInfo_.secure?'https://':'http://')+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,h.querystring)(t);this.log_('Sending REST request for '+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_('REST Response for '+s+' received. status:',o.status,'response:',o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=(0,h.jsonEval)(o.responseText)}catch(e){R('Failed to parse JSON response for '+s+': '+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&R('Got unsuccessful REST response for '+s+' Status: '+o.status),n(o.status);n=null}},o.open('GET',s,!0),o.send()})}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class jt{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Wt(){return{value:null,children:new Map}}function Ut(e,t,n){if(Re(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=Te(t);e.children.has(i)||e.children.set(i,Wt());Ut(e.children.get(i),t=ke(t),n)}}function Bt(e,t){if(Re(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(at,(t,n)=>{Ut(e,new we(t),n)}),Bt(e,t)}}if(e.children.size>0){const n=Te(t);if(t=ke(t),e.children.has(n)){Bt(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function Vt(e,t,n){null!==e.value?n(t,e.value):Ht(e,(e,i)=>{Vt(i,new we(t.toString()+'/'+e),n)})}function Ht(e,t){e.children.forEach((e,n)=>{t(n,e)})}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class zt{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&U(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Yt{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new zt(e);const n=1e4+2e4*Math.random();K(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;U(e,(e,i)=>{i>0&&(0,h.contains)(this.statsToReport_,e)&&(t[e]=i,n=!0)}),n&&this.server_.reportStats(t),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */var Kt;function Qt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */!(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kt||(Kt={}));class Gt{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Kt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Re(this.path)){if(null!=this.affectedTree.value)return(0,h.assert)(this.affectedTree.children.isEmpty(),'affectedTree should not have overlapping affected paths.'),this;{const t=this.affectedTree.subtree(new we(e));return new Gt(be(),t,this.revert)}}return(0,h.assert)(Te(this.path)===e,'operationForChild called for unrelated child.'),new Gt(ke(this.path),this.affectedTree,this.revert)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class $t{constructor(e,t){this.source=e,this.path=t,this.type=Kt.LISTEN_COMPLETE}operationForChild(e){return Re(this.path)?new $t(this.source,be()):new $t(this.source,ke(this.path))}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Xt{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Kt.OVERWRITE}operationForChild(e){return Re(this.path)?new Xt(this.source,be(),this.snap.getImmediateChild(e)):new Xt(this.source,ke(this.path),this.snap)}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Jt{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Kt.MERGE}operationForChild(e){if(Re(this.path)){const t=this.children.subtree(new we(e));return t.isEmpty()?null:t.value?new Xt(this.source,be(),t.value):new Jt(this.source,be(),t)}return(0,h.assert)(Te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jt(this.source,ke(this.path),this.children)}toString(){return'Operation('+this.path+': '+this.source.toString()+' merge: '+this.children.toString()+')'}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Zt{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Re(e))return this.isFullyInitialized()&&!this.filtered_;const t=Te(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class en{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tn(e,t,n,i){const r=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),nn(e,r,"child_removed",t,i,n),nn(e,r,"child_added",t,i,n),nn(e,r,"child_moved",s,i,n),nn(e,r,"child_changed",t,i,n),nn(e,r,"value",t,i,n),r}function nn(e,t,n,i,r,s){const o=i.filter(e=>e.type===n);o.sort((t,n)=>sn(e,t,n)),o.forEach(n=>{const i=rn(e,n,s);r.forEach(r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))})})}function rn(e,t,n){return'value'===t.type||'child_removed'===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function sn(e,t,n){if(null==t.childName||null==n.childName)throw(0,h.assertionError)('Should only compare child_ events.');const i=new He(t.childName,t.snapshotNode),r=new He(n.childName,n.snapshotNode);return e.index_.compare(i,r)}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function on(e,t){return{eventCache:e,serverCache:t}}function an(e,t,n,i){return on(new Zt(t,n,i),e.serverCache)}function ln(e,t,n,i){return on(e.eventCache,new Zt(t,n,i))}function hn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function cn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let un;const dn=()=>(un||(un=new Xe(F)),un);class pn{static fromObject(e){let t=new pn(null);return U(e,(e,n)=>{t=t.set(new we(e),n)}),t}constructor(e,t=dn()){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:be(),value:this.value};if(Re(e))return null;{const n=Te(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(ke(e),t);if(null!=r){return{path:xe(new we(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Re(e))return this;{const t=Te(e),n=this.children.get(t);return null!==n?n.subtree(ke(e)):new pn(null)}}set(e,t){if(Re(e))return new pn(t,this.children);{const n=Te(e),i=(this.children.get(n)||new pn(null)).set(ke(e),t),r=this.children.insert(n,i);return new pn(this.value,r)}}remove(e){if(Re(e))return this.children.isEmpty()?new pn(null):new pn(null,this.children);{const t=Te(e),n=this.children.get(t);if(n){const i=n.remove(ke(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new pn(null):new pn(this.value,r)}return this}}get(e){if(Re(e))return this.value;{const t=Te(e),n=this.children.get(t);return n?n.get(ke(e)):null}}setTree(e,t){if(Re(e))return t;{const n=Te(e),i=(this.children.get(n)||new pn(null)).setTree(ke(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new pn(this.value,r)}}fold(e){return this.fold_(be(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(xe(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,be(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(Re(e))return null;{const i=Te(e),r=this.children.get(i);return r?r.findOnPath_(ke(e),xe(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,be(),t)}foreachOnPath_(e,t,n){if(Re(e))return this;{this.value&&n(t,this.value);const i=Te(e),r=this.children.get(i);return r?r.foreachOnPath_(ke(e),xe(t,i),n):new pn(null)}}foreach(e){this.foreach_(be(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(xe(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class _n{constructor(e){this.writeTree_=e}static empty(){return new _n(new pn(null))}}function fn(e,t,n){if(Re(t))return new _n(new pn(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=De(r,t);return s=s.updateChild(o,n),new _n(e.writeTree_.set(r,s))}{const i=new pn(n),r=e.writeTree_.setTree(t,i);return new _n(r)}}}function mn(e,t,n){let i=e;return U(n,(e,n)=>{i=fn(i,xe(t,e),n)}),i}function gn(e,t){if(Re(t))return _n.empty();{const n=e.writeTree_.setTree(t,new pn(null));return new _n(n)}}function yn(e,t){return null!=vn(e,t)}function vn(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(De(n.path,t)):null}function Cn(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(at,(e,n)=>{t.push(new He(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new He(e,n.value))}),t}function wn(e,t){if(Re(t))return e;{const n=vn(e,t);return new _n(null!=n?new pn(n):e.writeTree_.subtree(t))}}function bn(e){return e.writeTree_.isEmpty()}function Tn(e,t){return In(be(),e.writeTree_,t)}function In(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((t,r)=>{'.priority'===t?((0,h.assert)(null!==r.value,'Priority writes must always be leaf nodes'),i=r.value):n=In(xe(e,t),r,n)}),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(xe(e,'.priority'),i)),n}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function kn(e,t){return Kn(t,e)}function Pn(e,t,n,i,r){(0,h.assert)(i>e.lastWriteId,'Stacking an older write on top of newer ones'),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=fn(e.visibleWrites,t,n)),e.lastWriteId=i}function En(e,t,n,i){(0,h.assert)(i>e.lastWriteId,'Stacking an older merge on top of newer ones'),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=mn(e.visibleWrites,t,n),e.lastWriteId=i}function Sn(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function Nn(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,h.assert)(n>=0,'removeWrite called with nonexistent writeId.');const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&xn(t,i.path)?r=!1:Me(i.path,t.path)&&(s=!0)),o--}if(r){if(s)return Rn(e),!0;if(i.snap)e.visibleWrites=gn(e.visibleWrites,i.path);else{U(i.children,t=>{e.visibleWrites=gn(e.visibleWrites,xe(i.path,t))})}return!0}return!1}function xn(e,t){if(e.snap)return Me(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Me(xe(e.path,n),t))return!0;return!1}function Rn(e){e.visibleWrites=On(e.allWrites,Dn,be()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Dn(e){return e.visible}function On(e,t,n){let i=_n.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const e=s.path;let t;if(s.snap)Me(n,e)?(t=De(n,e),i=fn(i,t,s.snap)):Me(e,n)&&(t=De(e,n),i=fn(i,be(),s.snap.getChild(t)));else{if(!s.children)throw(0,h.assertionError)('WriteRecord should have .snap or .children');if(Me(n,e))t=De(n,e),i=mn(i,t,s.children);else if(Me(e,n))if(t=De(e,n),Re(t))i=mn(i,be(),s.children);else{const e=(0,h.safeGet)(s.children,Te(t));if(e){const n=e.getChild(ke(t));i=fn(i,be(),n)}}}}}return i}function An(e,t,n,i,r){if(i||r){const s=wn(e.visibleWrites,t);if(!r&&bn(s))return n;if(r||null!=n||yn(s,be())){const s=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(Me(e.path,t)||Me(t,e.path))};return Tn(On(e.allWrites,s,t),n||ft.EMPTY_NODE)}return null}{const i=vn(e.visibleWrites,t);if(null!=i)return i;{const i=wn(e.visibleWrites,t);if(bn(i))return n;if(null!=n||yn(i,be())){return Tn(i,n||ft.EMPTY_NODE)}return null}}}function Mn(e,t,n){let i=ft.EMPTY_NODE;const r=vn(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(at,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(n){const r=wn(e.visibleWrites,t);return n.forEachChild(at,(e,t)=>{const n=Tn(wn(r,new we(e)),t);i=i.updateImmediateChild(e,n)}),Cn(r).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}return Cn(wn(e.visibleWrites,t)).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}function qn(e,t,n,i,r){(0,h.assert)(i||r,'Either existingEventSnap or existingServerSnap must exist');const s=xe(t,n);if(yn(e.visibleWrites,s))return null;{const t=wn(e.visibleWrites,s);return bn(t)?r.getChild(n):Tn(t,r.getChild(n))}}function Fn(e,t,n,i){const r=xe(t,n),s=vn(e.visibleWrites,r);if(null!=s)return s;if(i.isCompleteForChild(n)){return Tn(wn(e.visibleWrites,r),i.getNode().getImmediateChild(n))}return null}function Ln(e,t){return vn(e.visibleWrites,t)}function jn(e,t,n,i,r,s,o){let a;const l=wn(e.visibleWrites,t),h=vn(l,be());if(null!=h)a=h;else{if(null==n)return[];a=Tn(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let l=n.getNext();for(;l&&e.length<r;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}function Wn(e,t,n,i){return An(e.writeTree,e.treePath,t,n,i)}function Un(e,t){return Mn(e.writeTree,e.treePath,t)}function Bn(e,t,n,i){return qn(e.writeTree,e.treePath,t,n,i)}function Vn(e,t){return Ln(e.writeTree,xe(e.treePath,t))}function Hn(e,t,n,i,r,s){return jn(e.writeTree,e.treePath,t,n,i,r,s)}function zn(e,t,n){return Fn(e.writeTree,e.treePath,t,n)}function Yn(e,t){return Kn(xe(e.treePath,t),e.writeTree)}function Kn(e,t){return{treePath:e,writeTree:t}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Qn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,h.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,'Only child changes supported for tracking'),(0,h.assert)('.priority'!==n,'Only non-priority child changes can be tracked.');const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,It(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,Tt(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,bt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw(0,h.assertionError)('Illegal combination of changes: '+e+' occurred after '+i);this.changeMap.set(n,It(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Gn=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class $n{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zn(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cn(this.viewCache_),r=Hn(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Xn(e){return{filter:e}}function Jn(e,t,n,i,r){const s=new Qn;let o,a;if(n.type===Kt.OVERWRITE){const l=n;l.source.fromUser?o=ni(e,t,l.path,l.snap,i,r,s):((0,h.assert)(l.source.fromServer,'Unknown source.'),a=l.source.tagged||t.serverCache.isFiltered()&&!Re(l.path),o=ti(e,t,l.path,l.snap,i,r,a,s))}else if(n.type===Kt.MERGE){const l=n;l.source.fromUser?o=ri(e,t,l.path,l.children,i,r,s):((0,h.assert)(l.source.fromServer,'Unknown source.'),a=l.source.tagged||t.serverCache.isFiltered(),o=oi(e,t,l.path,l.children,i,r,a,s))}else if(n.type===Kt.ACK_USER_WRITE){const a=n;o=a.revert?hi(e,t,a.path,i,r,s):ai(e,t,a.path,a.affectedTree,i,r,s)}else{if(n.type!==Kt.LISTEN_COMPLETE)throw(0,h.assertionError)('Unknown operation type: '+n.type);o=li(e,t,n.path,i,s)}const l=s.getChanges();return Zn(t,o,l),{viewCache:o,changes:l}}function Zn(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=hn(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(wt(hn(t)))}}function ei(e,t,n,i,r,s){const o=t.eventCache;if(null!=Vn(i,n))return t;{let a,l;if(Re(n))if((0,h.assert)(t.serverCache.isFullyInitialized(),'If change path is empty, we must have complete server data'),t.serverCache.isFiltered()){const n=cn(t),r=Un(i,n instanceof ft?n:ft.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),r,s)}else{const n=Wn(i,cn(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=Te(n);if('.priority'===c){(0,h.assert)(1===Ie(n),"Can't have a priority with additional path components");const r=o.getNode();l=t.serverCache.getNode();const s=Bn(i,n,r,l);a=null!=s?e.filter.updatePriority(r,s):o.getNode()}else{const h=ke(n);let u;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Bn(i,n,o.getNode(),l);u=null!=e?o.getNode().getImmediateChild(c).updateChild(h,e):o.getNode().getImmediateChild(c)}else u=zn(i,c,t.serverCache);a=null!=u?e.filter.updateChild(o.getNode(),c,u,h,r,s):o.getNode()}}return an(t,a,o.isFullyInitialized()||Re(n),e.filter.filtersNodes())}}function ti(e,t,n,i,r,s,o,a){const l=t.serverCache;let h;const c=o?e.filter:e.filter.getIndexedFilter();if(Re(n))h=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);h=c.updateFullNode(l.getNode(),e,null)}else{const e=Te(n);if(!l.isCompleteForPath(n)&&Ie(n)>1)return t;const r=ke(n),s=l.getNode().getImmediateChild(e).updateChild(r,i);h='.priority'===e?c.updatePriority(l.getNode(),s):c.updateChild(l.getNode(),e,s,r,Gn,null)}const u=ln(t,h,l.isFullyInitialized()||Re(n),c.filtersNodes());return ei(e,u,n,r,new $n(r,u,s),a)}function ni(e,t,n,i,r,s,o){const a=t.eventCache;let l,h;const c=new $n(r,t,s);if(Re(n))h=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=an(t,h,!0,e.filter.filtersNodes());else{const r=Te(n);if('.priority'===r)h=e.filter.updatePriority(t.eventCache.getNode(),i),l=an(t,h,a.isFullyInitialized(),a.isFiltered());else{const s=ke(n),h=a.getNode().getImmediateChild(r);let u;if(Re(s))u=i;else{const e=c.getCompleteChild(r);u=null!=e?'.priority'===Pe(s)&&e.getChild(Ne(s)).isEmpty()?e:e.updateChild(s,i):ft.EMPTY_NODE}if(h.equals(u))l=t;else{l=an(t,e.filter.updateChild(a.getNode(),r,u,s,c,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function ii(e,t){return e.eventCache.isCompleteForChild(t)}function ri(e,t,n,i,r,s,o){let a=t;return i.foreach((i,l)=>{const h=xe(n,i);ii(t,Te(h))&&(a=ni(e,a,h,l,r,s,o))}),i.foreach((i,l)=>{const h=xe(n,i);ii(t,Te(h))||(a=ni(e,a,h,l,r,s,o))}),a}function si(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function oi(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,h=t;l=Re(n)?i:new pn(null).setTree(n,i);const c=t.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(c.hasChild(n)){const l=si(0,t.serverCache.getNode().getImmediateChild(n),i);h=ti(e,h,new we(n),l,r,s,o,a)}}),l.children.inorderTraversal((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!c.hasChild(n)&&!l){const l=si(0,t.serverCache.getNode().getImmediateChild(n),i);h=ti(e,h,new we(n),l,r,s,o,a)}}),h}function ai(e,t,n,i,r,s,o){if(null!=Vn(r,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(Re(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ti(e,t,n,l.getNode().getChild(n),r,s,a,o);if(Re(n)){let i=new pn(null);return l.getNode().forEachChild(Qe,(e,t)=>{i=i.set(new we(e),t)}),oi(e,t,n,i,r,s,a,o)}return t}{let h=new pn(null);return i.foreach((e,t)=>{const i=xe(n,e);l.isCompleteForPath(i)&&(h=h.set(e,l.getNode().getChild(i)))}),oi(e,t,n,h,r,s,a,o)}}function li(e,t,n,i,r){const s=t.serverCache;return ei(e,ln(t,s.getNode(),s.isFullyInitialized()||Re(n),s.isFiltered()),n,i,Gn,r)}function hi(e,t,n,i,r,s){let o;if(null!=Vn(i,n))return t;{const a=new $n(i,t,r),l=t.eventCache.getNode();let c;if(Re(n)||'.priority'===Te(n)){let n;if(t.serverCache.isFullyInitialized())n=Wn(i,cn(t));else{const e=t.serverCache.getNode();(0,h.assert)(e instanceof ft,'serverChildren would be complete if leaf node'),n=Un(i,e)}c=e.filter.updateFullNode(l,n,s)}else{const r=Te(n);let h=zn(i,r,t.serverCache);null==h&&t.serverCache.isCompleteForChild(r)&&(h=l.getImmediateChild(r)),c=null!=h?e.filter.updateChild(l,r,h,ke(n),a,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,ft.EMPTY_NODE,ke(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Wn(i,cn(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Vn(i,be()),an(t,c,o,e.filter.filtersNodes())}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ci{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new kt(n.getIndex()),r=(s=n).loadsAllData()?new kt(s.getIndex()):s.hasLimit()?new Et(s):new Pt(s);var s;this.processor_=Xn(r);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(ft.EMPTY_NODE,o.getNode(),null),h=r.updateFullNode(ft.EMPTY_NODE,a.getNode(),null),c=new Zt(l,o.isFullyInitialized(),i.filtersNodes()),u=new Zt(h,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=on(u,c),this.eventGenerator_=new en(this.query_)}get query(){return this.query_}}function ui(e){return e.viewCache_.serverCache.getNode()}function di(e){return hn(e.viewCache_)}function pi(e,t){const n=cn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Re(t)&&!n.getImmediateChild(Te(t)).isEmpty())?n.getChild(t):null}function _i(e){return 0===e.eventRegistrations_.length}function fi(e,t){e.eventRegistrations_.push(t)}function mi(e,t,n){const i=[];if(n){(0,h.assert)(null==t,'A cancel should cancel all event registrations.');const r=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function gi(e,t,n,i){t.type===Kt.MERGE&&null!==t.source.queryId&&((0,h.assert)(cn(e.viewCache_),'We should always have a full cache before handling merges'),(0,h.assert)(hn(e.viewCache_),'Missing event cache, even though we have a server cache'));const r=e.viewCache_,s=Jn(e.processor_,r,t,n,i);var o,a;return o=e.processor_,a=s.viewCache,(0,h.assert)(a.eventCache.getNode().isIndexed(o.filter.getIndex()),'Event snap not indexed'),(0,h.assert)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),'Server snap not indexed'),(0,h.assert)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),'Once a server snap is complete, it should never go back'),e.viewCache_=s.viewCache,vi(e,s.changes,s.viewCache.eventCache.getNode(),null)}function yi(e,t){const n=e.viewCache_.eventCache,i=[];if(!n.getNode().isLeafNode()){n.getNode().forEachChild(at,(e,t)=>{i.push(bt(e,t))})}return n.isFullyInitialized()&&i.push(wt(n.getNode())),vi(e,i,n.getNode(),t)}function vi(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return tn(e.eventGenerator_,t,n,r)}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let Ci,wi;class bi{constructor(){this.views=new Map}}function Ti(e,t,n,i){const r=t.source.queryId;if(null!==r){const s=e.views.get(r);return(0,h.assert)(null!=s,'SyncTree gave us an op for an invalid query.'),gi(s,t,n,i)}{let r=[];for(const s of e.views.values())r=r.concat(gi(s,t,n,i));return r}}function Ii(e,t,n,i,r){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=Wn(n,r?i:null),s=!1;e?s=!0:i instanceof ft?(e=Un(n,i),s=!1):(e=ft.EMPTY_NODE,s=!1);const o=on(new Zt(e,s,!1),new Zt(i,r,!1));return new ci(t,o)}return o}function ki(e,t,n,i,r,s){const o=Ii(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),fi(o,n),yi(o,n)}function Pi(e,t,n,i){const r=t._queryIdentifier,s=[];let o=[];const a=Ri(e);if('default'===r)for(const[t,r]of e.views.entries())o=o.concat(mi(r,n,i)),_i(r)&&(e.views.delete(t),r.query._queryParams.loadsAllData()||s.push(r.query));else{const t=e.views.get(r);t&&(o=o.concat(mi(t,n,i)),_i(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!Ri(e)&&s.push(new((0,h.assert)(Ci,'Reference.ts has not been loaded'),Ci)(t._repo,t._path)),{removed:s,events:o}}function Ei(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Si(e,t){let n=null;for(const i of e.views.values())n=n||pi(i,t);return n}function Ni(e,t){if(t._queryParams.loadsAllData())return Di(e);{const n=t._queryIdentifier;return e.views.get(n)}}function xi(e,t){return null!=Ni(e,t)}function Ri(e){return null!=Di(e)}function Di(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let Oi=1;class Ai{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pn(null),this.pendingWriteTree_={visibleWrites:_n.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mi(e,t,n,i,r){return Pn(e.pendingWriteTree_,t,n,i,r),r?Qi(e,new Xt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function qi(e,t,n,i){En(e.pendingWriteTree_,t,n,i);const r=pn.fromObject(n);return Qi(e,new Jt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}function Fi(e,t,n=!1){const i=Sn(e.pendingWriteTree_,t);if(Nn(e.pendingWriteTree_,t)){let t=new pn(null);return null!=i.snap?t=t.set(be(),!0):U(i.children,e=>{t=t.set(new we(e),!0)}),Qi(e,new Gt(i.path,t,n))}return[]}function Li(e,t,n){return Qi(e,new Xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ji(e,t,n){const i=pn.fromObject(n);return Qi(e,new Jt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}function Wi(e,t){return Qi(e,new $t({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}function Ui(e,t,n){const i=er(e,n);if(i){const n=tr(i),r=n.path,s=n.queryId,o=De(r,t);return nr(e,r,new $t(Qt(s),o))}return[]}function Bi(e,t,n,i,r=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&('default'===t._queryIdentifier||xi(o,t))){const l=Pi(o,t,n,i);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const h=l.removed;if(a=l.events,!r){const n=-1!==h.findIndex(e=>e._queryParams.loadsAllData()),r=e.syncPointTree_.findOnPath(s,(e,t)=>Ri(t));if(n&&!r){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=ir(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,s=Xi(e,i);e.listenProvider_.startListening(rr(r),Ji(e,r),s.hashFn,s.onComplete)}}}if(!r&&h.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(rr(t),n)}else h.forEach(t=>{const n=e.queryToTagMap.get(Zi(t));e.listenProvider_.stopListening(rr(t),n)})}sr(e,h)}return a}function Vi(e,t,n,i){const r=er(e,i);if(null!=r){const i=tr(r),s=i.path,o=i.queryId,a=De(s,t);return nr(e,s,new Xt(Qt(o),a,n))}return[]}function Hi(e,t,n,i){const r=er(e,i);if(r){const i=tr(r),s=i.path,o=i.queryId,a=De(s,t),l=pn.fromObject(n);return nr(e,s,new Jt(Qt(o),a,l))}return[]}function zi(e,t,n,i=!1){const r=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=De(e,r);s=s||Si(t,n),o=o||Ri(t)});let a,l=e.syncPointTree_.get(r);if(l?(o=o||Ri(l),s=s||Si(l,be())):(l=new bi,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=s)a=!0;else{a=!1,s=ft.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const n=Si(t,be());n&&(s=s.updateImmediateChild(e,n))})}const c=xi(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Zi(t);(0,h.assert)(!e.queryToTagMap.has(n),'View does not exist, but we have a tag');const i=Oi++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let u=ki(l,t,n,kn(e.pendingWriteTree_,r),s,a);if(!c&&!o&&!i){const n=Ni(l,t);u=u.concat(or(e,t,n))}return u}function Yi(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(e,n)=>{const i=Si(n,De(e,t));if(i)return i});return An(i,t,r,n,!0)}function Ki(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const r=De(e,n);i=i||Si(t,r)});let r=e.syncPointTree_.get(n);r?i=i||Si(r,be()):(r=new bi,e.syncPointTree_=e.syncPointTree_.set(n,r));const s=null!=i,o=s?new Zt(i,!0,!1):null;return di(Ii(r,t,kn(e.pendingWriteTree_,t._path),s?o.getNode():ft.EMPTY_NODE,s))}function Qi(e,t){return Gi(t,e.syncPointTree_,null,kn(e.pendingWriteTree_,be()))}function Gi(e,t,n,i){if(Re(e.path))return $i(e,t,n,i);{const r=t.get(be());null==n&&null!=r&&(n=Si(r,be()));let s=[];const o=Te(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Yn(i,o);s=s.concat(Gi(a,l,e,t))}return r&&(s=s.concat(Ti(r,e,i,n))),s}}function $i(e,t,n,i){const r=t.get(be());null==n&&null!=r&&(n=Si(r,be()));let s=[];return t.children.inorderTraversal((t,r)=>{const o=n?n.getImmediateChild(t):null,a=Yn(i,t),l=e.operationForChild(t);l&&(s=s.concat($i(l,r,o,a)))}),r&&(s=s.concat(Ti(r,e,i,n))),s}function Xi(e,t){const n=t.query,i=Ji(e,n);return{hashFn:()=>(ui(t)||ft.EMPTY_NODE).hash(),onComplete:t=>{if('ok'===t)return i?Ui(e,n._path,i):Wi(e,n._path);{const i=V(t,n);return Bi(e,n,null,i)}}}}function Ji(e,t){const n=Zi(t);return e.queryToTagMap.get(n)}function Zi(e){return e._path.toString()+'$'+e._queryIdentifier}function er(e,t){return e.tagToQueryMap.get(t)}function tr(e){const t=e.indexOf('$');return(0,h.assert)(-1!==t&&t<e.length-1,'Bad queryKey.'),{queryId:e.substr(t+1),path:new we(e.substr(0,t))}}function nr(e,t,n){const i=e.syncPointTree_.get(t);(0,h.assert)(i,"Missing sync point for query tag that we're tracking");return Ti(i,n,kn(e.pendingWriteTree_,t),null)}function ir(e){return e.fold((e,t,n)=>{if(t&&Ri(t)){return[Di(t)]}{let e=[];return t&&(e=Ei(t)),U(n,(t,n)=>{e=e.concat(n)}),e}})}function rr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,h.assert)(wi,'Reference.ts has not been loaded'),wi)(e._repo,e._path):e}function sr(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=Zi(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}function or(e,t,n){const i=t._path,r=Ji(e,t),s=Xi(e,n),o=e.listenProvider_.startListening(rr(t),r,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(i);if(r)(0,h.assert)(!Ri(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Re(e)&&t&&Ri(t))return[Di(t).query];{let e=[];return t&&(e=e.concat(Ei(t).map(e=>e.query))),U(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(rr(i),Ji(e,i))}}return o}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ar{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ar(t)}node(){return this.node_}}class lr{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=xe(this.path_,e);return new lr(this.syncTree_,t)}node(){return Yi(this.syncTree_,this.path_)}}const hr=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},cr=function(e,t,n){return e&&'object'==typeof e?((0,h.assert)('.sv'in e,'Unexpected leaf node or priority contents'),'string'==typeof e['.sv']?ur(e['.sv'],t,n):'object'==typeof e['.sv']?dr(e['.sv'],t):void(0,h.assert)(!1,'Unexpected server value: '+JSON.stringify(e,null,2))):e},ur=function(e,t,n){if('timestamp'===e)return n.timestamp;(0,h.assert)(!1,'Unexpected server value: '+e)},dr=function(e,t,n){e.hasOwnProperty('increment')||(0,h.assert)(!1,'Unexpected server value: '+JSON.stringify(e,null,2));const i=e.increment;'number'!=typeof i&&(0,h.assert)(!1,'Unexpected increment value: '+i);const r=t.node();if((0,h.assert)(null!=r,'Expected ChildrenNode.EMPTY_NODE for nulls'),!r.isLeafNode())return i;const s=r.getValue();return'number'!=typeof s?i:s+i},pr=function(e,t,n,i){return fr(t,new lr(n,e),i)},_r=function(e,t,n){return fr(e,new ar(t),n)};function fr(e,t,n){const i=e.getPriority().val(),r=cr(i,t.getImmediateChild('.priority'),n);let s;if(e.isLeafNode()){const i=e,s=cr(i.getValue(),t,n);return s!==i.getValue()||r!==i.getPriority().val()?new ot(s,yt(r)):e}{const i=e;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new ot(r))),i.forEachChild(at,(e,i)=>{const r=fr(i,t.getImmediateChild(e),n);r!==i&&(s=s.updateImmediateChild(e,r))}),s}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class mr{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function gr(e,t){let n=t instanceof we?t:new we(t),i=e,r=Te(n);for(;null!==r;){const e=(0,h.safeGet)(i.node.children,r)||{children:{},childCount:0};i=new mr(r,i,e),n=ke(n),r=Te(n)}return i}function yr(e){return e.node.value}function vr(e,t){e.node.value=t,Pr(e)}function Cr(e){return e.node.childCount>0}function wr(e){return void 0===yr(e)&&!Cr(e)}function br(e,t){U(e.node.children,(n,i)=>{t(new mr(n,e,i))})}function Tr(e,t,n,i){n&&!i&&t(e),br(e,e=>{Tr(e,t,!0,i)}),n&&i&&t(e)}function Ir(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}return!1}function kr(e){return new we(null===e.parent?e.name:kr(e.parent)+'/'+e.name)}function Pr(e){null!==e.parent&&Er(e.parent,e.name,e)}function Er(e,t,n){const i=wr(n),r=(0,h.contains)(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Pr(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,Pr(e))}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Sr=/[\[\].#$\/\u0000-\u001F\u007F]/,Nr=/[\[\].#$\u0000-\u001F\u007F]/,xr=10485760,Rr=function(e){return'string'==typeof e&&0!==e.length&&!Sr.test(e)},Dr=function(e){return'string'==typeof e&&0!==e.length&&!Nr.test(e)},Or=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,'/')),Dr(e)},Ar=function(e){return null===e||'string'==typeof e||'number'==typeof e&&!D(e)||e&&'object'==typeof e&&(0,h.contains)(e,'.sv')},Mr=function(e,t,n,i){i&&void 0===t||qr((0,h.errorPrefix)(e,'value'),t,n)},qr=function(e,t,n){const i=n instanceof we?new qe(n,e):n;if(void 0===t)throw new Error(e+'contains undefined '+We(i));if('function'==typeof t)throw new Error(e+'contains a function '+We(i)+' with contents = '+t.toString());if(D(t))throw new Error(e+'contains '+t.toString()+' '+We(i));if('string'==typeof t&&t.length>3495253.3333333335&&(0,h.stringLength)(t)>xr)throw new Error(e+'contains a string greater than '+xr+' utf8 bytes '+We(i)+" ('"+t.substring(0,50)+"...')");if(t&&'object'==typeof t){let n=!1,r=!1;if(U(t,(t,s)=>{if('.value'===t)n=!0;else if('.priority'!==t&&'.sv'!==t&&(r=!0,!Rr(t)))throw new Error(e+' contains an invalid key ('+t+') '+We(i)+".  Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"");Fe(i,t),qr(e,s,i),Le(i)}),n&&r)throw new Error(e+' contains ".value" child '+We(i)+' in addition to actual children.')}},Fr=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=Se(i);for(let t=0;t<r.length;t++)if('.priority'===r[t]&&t===r.length-1);else if(!Rr(r[t]))throw new Error(e+'contains an invalid key ('+r[t]+') in path '+i.toString()+". Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"")}t.sort(Oe);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&Me(r,i))throw new Error(e+'contains a path '+r.toString()+' that is ancestor of another path '+i.toString());r=i}},Lr=function(e,t,n,i){if(i&&void 0===t)return;const r=(0,h.errorPrefix)(e,'values');if(!t||'object'!=typeof t||Array.isArray(t))throw new Error(r+' must be an object containing the children to replace.');const s=[];U(t,(e,t)=>{const i=new we(e);if(qr(r,t,xe(n,i)),'.priority'===Pe(i)&&!Ar(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),Fr(r,s)},jr=function(e,t,n){if(!n||void 0!==t){if(D(t))throw new Error((0,h.errorPrefix)(e,'priority')+'is '+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ar(t))throw new Error((0,h.errorPrefix)(e,'priority')+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wr=function(e,t,n,i){if(!(i&&void 0===n||Rr(n)))throw new Error((0,h.errorPrefix)(e,t)+'was an invalid key = "'+n+"\".  Firebase keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").")},Ur=function(e,t,n,i){if(!(i&&void 0===n||Dr(n)))throw new Error((0,h.errorPrefix)(e,t)+'was an invalid path = "'+n+"\". Paths must be non-empty strings and can't contain \".\", \"#\", \"$\", \"[\", or \"]\"")},Br=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,'/')),Ur(e,t,n,i)},Vr=function(e,t){if('.info'===Te(t))throw new Error(e+" failed = Can't modify data under /.info/")},Hr=function(e,t){const n=t.path.toString();if('string'!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rr(t.repoInfo.namespace)&&'localhost'!==t.repoInfo.host.split(':')[0]||0!==n.length&&!Or(n))throw new Error((0,h.errorPrefix)(e,'url')+"must be a valid firebase URL and the path can't contain \".\", \"#\", \"$\", \"[\", or \"]\".")};
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class zr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yr(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null===n||Ae(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function Kr(e,t,n){Yr(e,n),Gr(e,e=>Ae(e,t))}function Qr(e,t,n){Yr(e,n),Gr(e,e=>Me(e,t)||Me(t,e))}function Gr(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?($r(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function $r(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();I&&E('event: '+n.toString()),Y(i)}}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Xr='repo_interrupt',Jr=25;class Zr{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wt(),this.transactionQueueTree_=new mr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?'https://':'http://')+this.repoInfo_.host}}function es(e,t,n){if(e.stats_=le(e.repoInfo_),e.forceRestClient_||(window.navigator&&window.navigator.userAgent||'').search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Lt(e.repoInfo_,(t,n,i,r)=>{is(e,t,n,i,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>rs(e,!0),0);else{if(null!=n){if('object'!=typeof n)throw new Error('Only objects are supported for option databaseAuthVariableOverride');try{(0,h.stringify)(n)}catch(e){throw new Error('Invalid authOverride provided: '+e)}}e.persistentConnection_=new Ve(e.repoInfo_,t,(t,n,i,r)=>{is(e,t,n,i,r)},t=>{rs(e,t)},t=>{ss(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=he(e.repoInfo_,()=>new Yt(e.stats_,e.server_)),e.infoData_=new jt,e.infoSyncTree_=new Ai({startListening:(t,n,i,r)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=Li(e.infoSyncTree_,t._path,o),setTimeout(()=>{r('ok')},0)),s},stopListening:()=>{}}),os(e,'connected',!1),e.serverSyncTree_=new Ai({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,(n,i)=>{const s=r(n,i);Qr(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ts(e){const t=e.infoData_.getNode(new we('.info/serverTimeOffset')).val()||0;return(new Date).getTime()+t}function ns(e){return hr({timestamp:ts(e)})}function is(e,t,n,i,r){e.dataUpdateCount++;const s=new we(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const t=(0,h.map)(n,e=>yt(e));o=Hi(e.serverSyncTree_,s,t,r)}else{const t=yt(n);o=Vi(e.serverSyncTree_,s,t,r)}else if(i){const t=(0,h.map)(n,e=>yt(e));o=ji(e.serverSyncTree_,s,t)}else{const t=yt(n);o=Li(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Is(e,s)),Qr(e.eventQueue_,a,o)}function rs(e,t){os(e,'connected',t),!1===t&&us(e)}function ss(e,t){U(t,(t,n)=>{os(e,t,n)})}function os(e,t,n){const i=new we('/.info/'+t),r=yt(n);e.infoData_.updateSnapshot(i,r);const s=Li(e.infoSyncTree_,i,r);Qr(e.eventQueue_,i,s)}function as(e){return e.nextWriteId_++}function ls(e,t,n){const i=Ki(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then(i=>{const r=yt(i).withIndex(t._queryParams.getIndex());let s;if(zi(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=Li(e.serverSyncTree_,t._path,r);else{const n=Ji(e.serverSyncTree_,t);s=Vi(e.serverSyncTree_,t._path,r,n)}return Qr(e.eventQueue_,t._path,s),Bi(e.serverSyncTree_,t,n,null,!0),r},n=>(ys(e,'get for query '+(0,h.stringify)(t)+' failed: '+n),Promise.reject(new Error(n))))}function hs(e,t,n,i,r){ys(e,'set',{path:t.toString(),value:n,priority:i});const s=ns(e),o=yt(n,i),a=Yi(e.serverSyncTree_,t),l=_r(o,a,s),h=as(e),c=Mi(e.serverSyncTree_,t,l,h,!0);Yr(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(n,i)=>{const s='ok'===n;s||R('set at '+t+' failed: '+n);const o=Fi(e.serverSyncTree_,h,!s);Qr(e.eventQueue_,t,o),vs(e,r,n,i)});const u=xs(e,t);Is(e,u),Qr(e.eventQueue_,u,[])}function cs(e,t,n,i){ys(e,'update',{path:t.toString(),value:n});let r=!0;const s=ns(e),o={};if(U(n,(n,i)=>{r=!1,o[n]=pr(xe(t,n),yt(i),e.serverSyncTree_,s)}),r)E("update() called with empty data.  Don't do anything."),vs(e,i,'ok',void 0);else{const r=as(e),s=qi(e.serverSyncTree_,t,o,r);Yr(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o='ok'===n;o||R('update at '+t+' failed: '+n);const a=Fi(e.serverSyncTree_,r,!o),l=a.length>0?Is(e,t):t;Qr(e.eventQueue_,l,a),vs(e,i,n,s)}),U(n,n=>{const i=xs(e,xe(t,n));Is(e,i)}),Qr(e.eventQueue_,t,[])}}function us(e){ys(e,'onDisconnectEvents');const t=ns(e),n=Wt();Vt(e.onDisconnect_,be(),(i,r)=>{const s=pr(i,r,e.serverSyncTree_,t);Ut(n,i,s)});let i=[];Vt(n,be(),(t,n)=>{i=i.concat(Li(e.serverSyncTree_,t,n));const r=xs(e,t);Is(e,r)}),e.onDisconnect_=Wt(),Qr(e.eventQueue_,be(),i)}function ds(e,t,n,i){const r=yt(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(n,s)=>{'ok'===n&&Ut(e.onDisconnect_,t,r),vs(e,i,n,s)})}function ps(e,t,n,i,r){const s=yt(n,i);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,i)=>{'ok'===n&&Ut(e.onDisconnect_,t,s),vs(e,r,n,i)})}function _s(e,t,n,i){if((0,h.isEmpty)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void vs(e,i,'ok',void 0);e.server_.onDisconnectMerge(t.toString(),n,(r,s)=>{'ok'===r&&U(n,(n,i)=>{const r=yt(i);Ut(e.onDisconnect_,xe(t,n),r)}),vs(e,i,r,s)})}function fs(e,t,n){let i;i='.info'===Te(t._path)?zi(e.infoSyncTree_,t,n):zi(e.serverSyncTree_,t,n),Kr(e.eventQueue_,t._path,i)}function ms(e,t,n){let i;i='.info'===Te(t._path)?Bi(e.infoSyncTree_,t,n):Bi(e.serverSyncTree_,t,n),Kr(e.eventQueue_,t._path,i)}function gs(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Xr)}function ys(e,...t){let n='';e.persistentConnection_&&(n=e.persistentConnection_.id+':'),E(n,...t)}function vs(e,t,n,i){t&&Y(()=>{if('ok'===n)t(null);else{const e=(n||'error').toUpperCase();let r=e;i&&(r+=': '+i);const s=new Error(r);s.code=e,t(s)}})}function Cs(e,t,n,i,r,s){ys(e,'transaction on '+t);const o={path:t,update:n,onComplete:i,status:null,order:w(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=ws(e,t,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{qr('transaction failed: Data returned ',l,o.path),o.status=0;const n=gr(e.transactionQueueTree_,t),i=yr(n)||[];let r;if(i.push(o),vr(n,i),'object'==typeof l&&null!==l&&(0,h.contains)(l,'.priority'))r=(0,h.safeGet)(l,'.priority'),(0,h.assert)(Ar(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{r=(Yi(e.serverSyncTree_,t)||ft.EMPTY_NODE).getPriority().val()}const s=ns(e),c=yt(l,r),u=_r(c,a,s);o.currentOutputSnapshotRaw=c,o.currentOutputSnapshotResolved=u,o.currentWriteId=as(e);const d=Mi(e.serverSyncTree_,t,u,o.currentWriteId,o.applyLocally);Qr(e.eventQueue_,t,d),bs(e,e.transactionQueueTree_)}}function ws(e,t,n){return Yi(e.serverSyncTree_,t,n)||ft.EMPTY_NODE}function bs(e,t=e.transactionQueueTree_){if(t||Ns(e,t),yr(t)){const n=Es(e,t);(0,h.assert)(n.length>0,'Sending zero length transaction queue');n.every(e=>0===e.status)&&Ts(e,kr(t),n)}else Cr(t)&&br(t,t=>{bs(e,t)})}function Ts(e,t,n){const i=n.map(e=>e.currentWriteId),r=ws(e,t,i);let s=r;const o=r.hash();for(let e=0;e<n.length;e++){const i=n[e];(0,h.assert)(0===i.status,'tryToSendTransactionQueue_: items in queue should all be run.'),i.status=1,i.retryCount++;const r=De(t,i.path);s=s.updateChild(r,i.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,i=>{ys(e,'transaction put response',{path:l.toString(),status:i});let r=[];if('ok'===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(Fi(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Ns(e,gr(e.transactionQueueTree_,t)),bs(e,e.transactionQueueTree_),Qr(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)Y(i[e])}else{if('datastale'===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{R('transaction at '+l.toString()+' failed: '+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}Is(e,t)}},o)}function Is(e,t){const n=Ps(e,t),i=kr(n);return ks(e,Es(e,n),i),i}function ks(e,t,n){if(0===t.length)return;const i=[];let r=[];const s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const a=t[o],l=De(n,a.path);let c,u=!1;if((0,h.assert)(null!==l,'rerunTransactionsUnderNode_: relativePath should not be null.'),4===a.status)u=!0,c=a.abortReason,r=r.concat(Fi(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=Jr)u=!0,c='maxretry',r=r.concat(Fi(e.serverSyncTree_,a.currentWriteId,!0));else{const n=ws(e,a.path,s);a.currentInputSnapshot=n;const i=t[o].update(n.val());if(void 0!==i){qr('transaction failed: Data returned ',i,a.path);let t=yt(i);'object'==typeof i&&null!=i&&(0,h.contains)(i,'.priority')||(t=t.updatePriority(n.getPriority()));const o=a.currentWriteId,l=ns(e),c=_r(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=as(e),s.splice(s.indexOf(o),1),r=r.concat(Mi(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),r=r.concat(Fi(e.serverSyncTree_,o,!0))}else u=!0,c='nodata',r=r.concat(Fi(e.serverSyncTree_,a.currentWriteId,!0))}Qr(e.eventQueue_,n,r),r=[],u&&(t[o].status=2,(function(e){setTimeout(e,Math.floor(0))})(t[o].unwatcher),t[o].onComplete&&('nodata'===c?i.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):i.push(()=>t[o].onComplete(new Error(c),!1,null))))}Ns(e,e.transactionQueueTree_);for(let e=0;e<i.length;e++)Y(i[e]);bs(e,e.transactionQueueTree_)}function Ps(e,t){let n,i=e.transactionQueueTree_;for(n=Te(t);null!==n&&void 0===yr(i);)i=gr(i,n),n=Te(t=ke(t));return i}function Es(e,t){const n=[];return Ss(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Ss(e,t,n){const i=yr(t);if(i)for(let e=0;e<i.length;e++)n.push(i[e]);br(t,t=>{Ss(e,t,n)})}function Ns(e,t){const n=yr(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,vr(t,n.length>0?n:void 0)}br(t,t=>{Ns(e,t)})}function xs(e,t){const n=kr(Ps(e,t)),i=gr(e.transactionQueueTree_,t);return Ir(i,t=>{Rs(e,t)}),Rs(e,i),Tr(i,t=>{Rs(e,t)}),n}function Rs(e,t){const n=yr(t);if(n){const i=[];let r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,h.assert)(s===t-1,'All SENT items should be at beginning of queue.'),s=t,n[t].status=3,n[t].abortReason='set'):((0,h.assert)(0===n[t].status,'Unexpected transaction status in abort'),n[t].unwatcher(),r=r.concat(Fi(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error('set'),!1,null))));-1===s?vr(t,void 0):n.length=s+1,Qr(e.eventQueue_,kr(t),r);for(let e=0;e<i.length;e++)Y(i[e])}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Ds(e){let t='';const n=e.split('/');for(let e=0;e<n.length;e++)if(n[e].length>0){let i=n[e];try{i=decodeURIComponent(i.replace(/\+/g,' '))}catch(e){}t+='/'+i}return t}function Os(e){const t={};'?'===e.charAt(0)&&(e=e.substring(1));for(const n of e.split('&')){if(0===n.length)continue;const i=n.split('=');2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):R(`Invalid query segment '${n}' in query '${e}'`)}return t}const As=function(e,t){const n=Ms(e),i=n.namespace;'firebase.com'===n.domain&&x(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&'undefined'!==i||'localhost'===n.domain||x('Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com'),n.secure||window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf('https:')&&R("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r='ws'===n.scheme||'wss'===n.scheme;return{repoInfo:new ne(n.host,n.secure,i,r,t,'',i!==n.subdomain),path:new we(n.pathString)}},Ms=function(e){let t='',n='',i='',r='',s='',o=!0,a='https',l=443;if('string'==typeof e){let h=e.indexOf('//');h>=0&&(a=e.substring(0,h-1),e=e.substring(h+2));let c=e.indexOf('/');-1===c&&(c=e.length);let u=e.indexOf('?');-1===u&&(u=e.length),t=e.substring(0,Math.min(c,u)),c<u&&(r=Ds(e.substring(c,u)));const d=Os(e.substring(Math.min(e.length,u)));h=t.indexOf(':'),h>=0?(o='https'===a||'wss'===a,l=parseInt(t.substring(h+1),10)):h=t.length;const p=t.slice(0,h);if('localhost'===p.toLowerCase())n='localhost';else if(p.split('.').length<=2)n=p;else{const e=t.indexOf('.');i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=i}'ns'in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}},qs='-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz',Fs=(function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const s=new Array(8);for(r=7;r>=0;r--)s[r]=qs.charAt(n%64),n=Math.floor(n/64);(0,h.assert)(0===n,'Cannot push at time == 0');let o=s.join('');if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=qs.charAt(t[r]);return(0,h.assert)(20===o.length,'nextPushId: Length should be 20.'),o}})();
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class Ls{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return'value'===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+':'+this.eventType+':'+(0,h.stringify)(this.snapshot.exportVal())}}class js{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return'cancel'}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+':cancel'}}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Ws{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,h.assert)(this.hasCancelCallback,'Raising a cancel event on a listener with no cancel callback'),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Us{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new h.Deferred;var t,n,i;return t=this._repo,n=this._path,i=e.wrapCallback(()=>{}),t.server_.onDisconnectCancel(n.toString(),(e,r)=>{'ok'===e&&Bt(t.onDisconnect_,n),vs(0,i,e,r)}),e.promise}remove(){Vr('OnDisconnect.remove',this._path);const e=new h.Deferred;return ds(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Vr('OnDisconnect.set',this._path),Mr('OnDisconnect.set',e,this._path,!1);const t=new h.Deferred;return ds(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Vr('OnDisconnect.setWithPriority',this._path),Mr('OnDisconnect.setWithPriority',e,this._path,!1),jr('OnDisconnect.setWithPriority',t,!1);const n=new h.Deferred;return ps(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Vr('OnDisconnect.update',this._path),Lr('OnDisconnect.update',e,this._path,!1);const t=new h.Deferred;return _s(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Bs{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return Re(this._path)?null:Pe(this._path)}get ref(){return new Ys(this._repo,this._path)}get _queryIdentifier(){const e=Ft(this._queryParams),t=j(e);return'{}'===t?'default':t}get _queryObject(){return Ft(this._queryParams)}isEqual(e){if(!((e=(0,h.getModularInstance)(e))instanceof Bs))return!1;const t=this._repo===e._repo,n=Ae(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ee(this._path)}}function Vs(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Hs(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Qe){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==A)throw new Error(i);if('string'!=typeof t)throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==M)throw new Error(i);if('string'!=typeof n)throw new Error(r)}}else if(e.getIndex()===at){if(null!=t&&!Ar(t)||null!=n&&!Ar(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,h.assert)(e.getIndex()instanceof vt||e.getIndex()===Ct,'unknown index type.'),null!=t&&'object'==typeof t||null!=n&&'object'==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zs(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ys extends Bs{constructor(e,t){super(e,t,new St,!1)}get parent(){const e=Ne(this._path);return null===e?null:new Ys(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ks{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new we(e),n=$s(this.ref,e);return new Ks(this._node.getChild(t),n,at)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Ks(n,$s(this.ref,t),at)))}hasChild(e){const t=new we(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qs(e,t){return(e=(0,h.getModularInstance)(e))._checkNotDeleted('ref'),void 0!==t?$s(e._root,t):e._root}function Gs(e,t){(e=(0,h.getModularInstance)(e))._checkNotDeleted('refFromURL');const n=As(t,e._repo.repoInfo_.nodeAdmin);Hr('refFromURL',n);const i=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||i.host===e._repo.repoInfo_.host||x("refFromURL: Host name does not match the current database: (found "+i.host+' but expected '+e._repo.repoInfo_.host+')'),Qs(e,n.path.toString())}function $s(e,t){return null===Te((e=(0,h.getModularInstance)(e))._path)?Br('child','path',t,!1):Ur('child','path',t,!1),new Ys(e._repo,xe(e._path,t))}function Xs(e){return e=(0,h.getModularInstance)(e),new Us(e._repo,e._path)}function Js(e,t){e=(0,h.getModularInstance)(e),Vr('push',e._path),Mr('push',t,e._path,!0);const n=ts(e._repo),i=Fs(n),r=$s(e,i),s=$s(e,i);let o;return o=null!=t?eo(s,t).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function Zs(e){return Vr('remove',e._path),eo(e,null)}function eo(e,t){e=(0,h.getModularInstance)(e),Vr('set',e._path),Mr('set',t,e._path,!1);const n=new h.Deferred;return hs(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function to(e,t){e=(0,h.getModularInstance)(e),Vr('setPriority',e._path),jr('setPriority',t,!1);const n=new h.Deferred;return hs(e._repo,xe(e._path,'.priority'),t,null,n.wrapCallback(()=>{})),n.promise}function no(e,t,n){if(Vr('setWithPriority',e._path),Mr('setWithPriority',t,e._path,!1),jr('setWithPriority',n,!1),'.length'===e.key||'.keys'===e.key)throw'setWithPriority failed: '+e.key+' is a read-only object.';const i=new h.Deferred;return hs(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function io(e,t){Lr('update',t,e._path,!1);const n=new h.Deferred;return cs(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function ro(e){e=(0,h.getModularInstance)(e);const t=new Ws(()=>{}),n=new so(t);return ls(e._repo,e,n).then(t=>new Ks(t,new Ys(e._repo,e._path),e._queryParams.getIndex()))}class so{constructor(e){this.callbackContext=e}respondsTo(e){return'value'===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ls('value',this,new Ks(e.snapshotNode,new Ys(t._repo,t._path),n))}getEventRunner(e){return'cancel'===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new js(this,e,t):null}matches(e){return e instanceof so&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class oo{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t='children_added'===e?'child_added':e;return t='children_removed'===t?'child_removed':t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new js(this,e,t):null}createEvent(e,t){(0,h.assert)(null!=e.childName,'Child events should have a childName.');const n=$s(new Ys(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new Ls(e.type,this,new Ks(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return'cancel'===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof oo&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function ao(e,t,n,i,r){let s;if('object'==typeof i&&(s=void 0,r=i),'function'==typeof i&&(s=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{ms(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const o=new Ws(n,s||void 0),a='value'===t?new so(o):new oo(t,o);return fs(e._repo,e,a),()=>ms(e._repo,e,a)}function lo(e,t,n,i){return ao(e,'value',t,n,i)}function ho(e,t,n,i){return ao(e,'child_added',t,n,i)}function co(e,t,n,i){return ao(e,'child_changed',t,n,i)}function uo(e,t,n,i){return ao(e,'child_moved',t,n,i)}function po(e,t,n,i){return ao(e,'child_removed',t,n,i)}function _o(e,t,n){let i=null;const r=n?new Ws(n):null;'value'===t?i=new so(r):t&&(i=new oo(t,r)),ms(e._repo,e,i)}class fo{}class mo extends fo{constructor(e,t){super(),this._value=e,this._key=t,this.type='endAt'}_apply(e){Mr('endAt',this._value,e._path,!0);const t=Ot(e._queryParams,this._value,this._key);if(zs(t),Hs(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bs(e._repo,e._path,t,e._orderByCalled)}}function go(e,t){return Wr('endAt','key',t,!0),new mo(e,t)}class yo extends fo{constructor(e,t){super(),this._value=e,this._key=t,this.type='endBefore'}_apply(e){Mr('endBefore',this._value,e._path,!1);const t=At(e._queryParams,this._value,this._key);if(zs(t),Hs(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bs(e._repo,e._path,t,e._orderByCalled)}}function vo(e,t){return Wr('endBefore','key',t,!0),new yo(e,t)}class Co extends fo{constructor(e,t){super(),this._value=e,this._key=t,this.type='startAt'}_apply(e){Mr('startAt',this._value,e._path,!0);const t=Rt(e._queryParams,this._value,this._key);if(zs(t),Hs(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Bs(e._repo,e._path,t,e._orderByCalled)}}function wo(e=null,t){return Wr('startAt','key',t,!0),new Co(e,t)}class bo extends fo{constructor(e,t){super(),this._value=e,this._key=t,this.type='startAfter'}_apply(e){Mr('startAfter',this._value,e._path,!1);const t=Dt(e._queryParams,this._value,this._key);if(zs(t),Hs(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Bs(e._repo,e._path,t,e._orderByCalled)}}function To(e,t){return Wr('startAfter','key',t,!0),new bo(e,t)}class Io extends fo{constructor(e){super(),this._limit=e,this.type='limitToFirst'}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bs(e._repo,e._path,Nt(e._queryParams,this._limit),e._orderByCalled)}}function ko(e){if('number'!=typeof e||Math.floor(e)!==e||e<=0)throw new Error('limitToFirst: First argument must be a positive integer.');return new Io(e)}class Po extends fo{constructor(e){super(),this._limit=e,this.type='limitToLast'}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bs(e._repo,e._path,xt(e._queryParams,this._limit),e._orderByCalled)}}function Eo(e){if('number'!=typeof e||Math.floor(e)!==e||e<=0)throw new Error('limitToLast: First argument must be a positive integer.');return new Po(e)}class So extends fo{constructor(e){super(),this._path=e,this.type='orderByChild'}_apply(e){Vs(e,'orderByChild');const t=new we(this._path);if(Re(t))throw new Error('orderByChild: cannot pass in empty path. Use orderByValue() instead.');const n=new vt(t),i=Mt(e._queryParams,n);return Hs(i),new Bs(e._repo,e._path,i,!0)}}function No(e){if('$key'===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if('$priority'===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if('$value'===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ur('orderByChild','path',e,!1),new So(e)}class xo extends fo{constructor(){super(...arguments),this.type='orderByKey'}_apply(e){Vs(e,'orderByKey');const t=Mt(e._queryParams,Qe);return Hs(t),new Bs(e._repo,e._path,t,!0)}}function Ro(){return new xo}class Do extends fo{constructor(){super(...arguments),this.type='orderByPriority'}_apply(e){Vs(e,'orderByPriority');const t=Mt(e._queryParams,at);return Hs(t),new Bs(e._repo,e._path,t,!0)}}function Oo(){return new Do}class Ao extends fo{constructor(){super(...arguments),this.type='orderByValue'}_apply(e){Vs(e,'orderByValue');const t=Mt(e._queryParams,Ct);return Hs(t),new Bs(e._repo,e._path,t,!0)}}function Mo(){return new Ao}class qo extends fo{constructor(e,t){super(),this._value=e,this._key=t,this.type='equalTo'}_apply(e){if(Mr('equalTo',this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mo(this._value,this._key)._apply(new Co(this._value,this._key)._apply(e))}}function Fo(e,t){return Wr('equalTo','key',t,!0),new qo(e,t)}function Lo(e,...t){let n=(0,h.getModularInstance)(e);for(const e of t)n=e._apply(n);return n}!(function(e){(0,h.assert)(!Ci,'__referenceConstructor has already been defined'),Ci=e})(Ys),(function(e){(0,h.assert)(!wi,'__referenceConstructor has already been defined'),wi=e})(Ys);
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const jo='FIREBASE_DATABASE_EMULATOR_HOST',Wo={};let Uo=!1;function Bo(e,t,n,i){const r=t.lastIndexOf(':'),s=t.substring(0,r),o=(0,h.isCloudWorkstation)(s);e.repoInfo_=new ne(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function Vo(e,t,n,i,r){let s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||x("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E('Using default host for project ',e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=As(s,r),h=l.repoInfo;'undefined'!=typeof process&&process.env&&(a=process.env[jo]),a?(o=!0,s=`http://${a}?ns=${h.namespace}`,l=As(s,r),h=l.repoInfo):o=!l.repoInfo.secure;const c=r&&o?new $($.OWNER):new G(e.name,e.options,t);Hr('Invalid Firebase Database URL',l),Re(l.path)||x("Database URL must point to the root of a Firebase Database (not including a child path).");const u=zo(h,e,c,new Q(e,n));return new Ko(u,e)}function Ho(e,t){const n=Wo[t];n&&n[e.key]===e||x(`Database ${t}(${e.repoInfo_}) has already been deleted.`),gs(e),delete n[e.key]}function zo(e,t,n,i){let r=Wo[t.name];r||(r={},Wo[t.name]=r);let s=r[e.toURLString()];return s&&x('Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.'),s=new Zr(e,Uo,n,i),r[e.toURLString()]=s,s}function Yo(e){Uo=e}class Ko{constructor(e,t){this._repoInternal=e,this.app=t,this.type='database',this._instanceStarted=!1}get _repo(){return this._instanceStarted||(es(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ys(this._repo,be())),this._rootInternal}_delete(){return null!==this._rootInternal&&(Ho(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&x('Cannot call '+e+' on a deleted database.')}}function Qo(){me.IS_TRANSPORT_INITIALIZED&&R('Transport has already been initialized. Please call this function before calling ref or setting up a listener')}function Go(){Qo(),de.forceDisallow()}function $o(){Qo(),fe.forceDisallow(),de.forceAllow()}function Xo(e=(0,a.getApp)(),t){const n=(0,a._getProvider)(e,'database').getImmediate({identifier:t});if(!n._instanceStarted){const e=(0,h.getDefaultEmulatorHostnameAndPort)('database');e&&Jo(n,...e)}return n}function Jo(e,t,n,i={}){(e=(0,h.getModularInstance)(e))._checkNotDeleted('useEmulator');const r=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(r===e._repoInternal.repoInfo_.host&&(0,h.deepEqual)(i,s.repoInfo_.emulatorOptions))return;x('connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.')}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&x('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new $($.OWNER);else if(i.mockUserToken){const t='string'==typeof i.mockUserToken?i.mockUserToken:(0,h.createMockUserToken)(i.mockUserToken,e.app.options.projectId);o=new $(t)}(0,h.isCloudWorkstation)(t)&&((0,h.pingServer)(t),(0,h.updateEmulatorBanner)('Database',!0)),Bo(s,r,i,o)}function Zo(e){(e=(0,h.getModularInstance)(e))._checkNotDeleted('goOffline'),gs(e._repo)}function ea(e){var t;(e=(0,h.getModularInstance)(e))._checkNotDeleted('goOnline'),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Xr)}function ta(e,t){P(e,t)}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const na={'.sv':'timestamp'};function ia(){return na}function ra(e){return{'.sv':{increment:e}}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class sa{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function oa(e,t,n){if(e=(0,h.getModularInstance)(e),Vr('Reference.transaction',e._path),'.length'===e.key||'.keys'===e.key)throw'Reference.transaction failed: '+e.key+' is a read-only object.';const i=n?.applyLocally??!0,r=new h.Deferred,s=lo(e,()=>{});return Cs(e._repo,e._path,t,(t,n,i)=>{let s=null;t?r.reject(t):(s=new Ks(i,new Ys(e._repo,e._path),at),r.resolve(new sa(n,s)))},s,i),r.promise}
/**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */Ve.prototype.simpleListen=function(e,t){this.sendRequest('q',{p:e},t)},Ve.prototype.echo=function(e,t){this.sendRequest('echo',{d:e},t)};const aa=function(e){const t=Ve.prototype.put;return Ve.prototype.put=function(n,i,r,s){void 0!==s&&(s=e()),t.call(this,n,i,r,s)},function(){Ve.prototype.put=t}},la=function(e){Yo(e)};
/**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
function ha({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,nodeAdmin:s=!1}){_(n);const o=new l.ComponentContainer('database-standalone'),a=new l.Provider('auth-internal',o);let h;return r&&(h=new l.Provider('app-check-internal',o),h.setComponent(new l.Component('app-check-internal',()=>r,"PRIVATE"))),a.setComponent(new l.Component('auth-internal',()=>i,"PRIVATE")),Vo(e,a,h,t,s)}var ca;_(a.SDK_VERSION),(0,a._registerComponent)(new l.Component('database',(e,{instanceIdentifier:t})=>Vo(e.getProvider('app').getImmediate(),e.getProvider('auth-internal'),e.getProvider('app-check-internal'),t),"PUBLIC").setMultipleInstances(!0)),(0,a.registerVersion)(u,d,ca),(0,a.registerVersion)(u,d,'esm2020')},148,[140,141,142,144]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})},149,[150]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"ActionCodeOperation",{enumerable:!0,get:function(){return t.A}}),Object.defineProperty(e,"ActionCodeURL",{enumerable:!0,get:function(){return t.aj}}),Object.defineProperty(e,"AuthCredential",{enumerable:!0,get:function(){return t.M}}),Object.defineProperty(e,"AuthErrorCodes",{enumerable:!0,get:function(){return t.J}}),Object.defineProperty(e,"EmailAuthCredential",{enumerable:!0,get:function(){return t.N}}),Object.defineProperty(e,"EmailAuthProvider",{enumerable:!0,get:function(){return t.W}}),Object.defineProperty(e,"FacebookAuthProvider",{enumerable:!0,get:function(){return t.X}}),Object.defineProperty(e,"FactorId",{enumerable:!0,get:function(){return t.F}}),Object.defineProperty(e,"GithubAuthProvider",{enumerable:!0,get:function(){return t.Z}}),Object.defineProperty(e,"GoogleAuthProvider",{enumerable:!0,get:function(){return t.Y}}),Object.defineProperty(e,"OAuthCredential",{enumerable:!0,get:function(){return t.Q}}),Object.defineProperty(e,"OAuthProvider",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(e,"OperationType",{enumerable:!0,get:function(){return t.O}}),Object.defineProperty(e,"PhoneAuthCredential",{enumerable:!0,get:function(){return t.U}}),Object.defineProperty(e,"PhoneAuthProvider",{enumerable:!0,get:function(){return t.P}}),Object.defineProperty(e,"PhoneMultiFactorGenerator",{enumerable:!0,get:function(){return t.n}}),Object.defineProperty(e,"ProviderId",{enumerable:!0,get:function(){return t.q}}),Object.defineProperty(e,"RecaptchaVerifier",{enumerable:!0,get:function(){return t.R}}),Object.defineProperty(e,"SAMLAuthProvider",{enumerable:!0,get:function(){return t.$}}),Object.defineProperty(e,"SignInMethod",{enumerable:!0,get:function(){return t.S}}),Object.defineProperty(e,"TotpMultiFactorGenerator",{enumerable:!0,get:function(){return t.T}}),Object.defineProperty(e,"TotpSecret",{enumerable:!0,get:function(){return t.o}}),Object.defineProperty(e,"TwitterAuthProvider",{enumerable:!0,get:function(){return t.a0}}),Object.defineProperty(e,"applyActionCode",{enumerable:!0,get:function(){return t.a8}}),Object.defineProperty(e,"beforeAuthStateChanged",{enumerable:!0,get:function(){return t.y}}),Object.defineProperty(e,"browserCookiePersistence",{enumerable:!0,get:function(){return t.a}}),Object.defineProperty(e,"browserLocalPersistence",{enumerable:!0,get:function(){return t.b}}),Object.defineProperty(e,"browserPopupRedirectResolver",{enumerable:!0,get:function(){return t.m}}),Object.defineProperty(e,"browserSessionPersistence",{enumerable:!0,get:function(){return t.c}}),Object.defineProperty(e,"checkActionCode",{enumerable:!0,get:function(){return t.a9}}),Object.defineProperty(e,"confirmPasswordReset",{enumerable:!0,get:function(){return t.a7}}),Object.defineProperty(e,"connectAuthEmulator",{enumerable:!0,get:function(){return t.L}}),Object.defineProperty(e,"createUserWithEmailAndPassword",{enumerable:!0,get:function(){return t.ab}}),Object.defineProperty(e,"debugErrorMap",{enumerable:!0,get:function(){return t.H}}),Object.defineProperty(e,"deleteUser",{enumerable:!0,get:function(){return t.G}}),Object.defineProperty(e,"fetchSignInMethodsForEmail",{enumerable:!0,get:function(){return t.ag}}),Object.defineProperty(e,"getAdditionalUserInfo",{enumerable:!0,get:function(){return t.ar}}),Object.defineProperty(e,"getAuth",{enumerable:!0,get:function(){return t.p}}),Object.defineProperty(e,"getIdToken",{enumerable:!0,get:function(){return t.ao}}),Object.defineProperty(e,"getIdTokenResult",{enumerable:!0,get:function(){return t.ap}}),Object.defineProperty(e,"getMultiFactorResolver",{enumerable:!0,get:function(){return t.at}}),Object.defineProperty(e,"getRedirectResult",{enumerable:!0,get:function(){return t.k}}),Object.defineProperty(e,"inMemoryPersistence",{enumerable:!0,get:function(){return t.V}}),Object.defineProperty(e,"indexedDBLocalPersistence",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(e,"initializeAuth",{enumerable:!0,get:function(){return t.K}}),Object.defineProperty(e,"initializeRecaptchaConfig",{enumerable:!0,get:function(){return t.v}}),Object.defineProperty(e,"isSignInWithEmailLink",{enumerable:!0,get:function(){return t.ae}}),Object.defineProperty(e,"linkWithCredential",{enumerable:!0,get:function(){return t.a3}}),Object.defineProperty(e,"linkWithPhoneNumber",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(e,"linkWithPopup",{enumerable:!0,get:function(){return t.e}}),Object.defineProperty(e,"linkWithRedirect",{enumerable:!0,get:function(){return t.h}}),Object.defineProperty(e,"multiFactor",{enumerable:!0,get:function(){return t.au}}),Object.defineProperty(e,"onAuthStateChanged",{enumerable:!0,get:function(){return t.z}}),Object.defineProperty(e,"onIdTokenChanged",{enumerable:!0,get:function(){return t.x}}),Object.defineProperty(e,"parseActionCodeURL",{enumerable:!0,get:function(){return t.ak}}),Object.defineProperty(e,"prodErrorMap",{enumerable:!0,get:function(){return t.I}}),Object.defineProperty(e,"reauthenticateWithCredential",{enumerable:!0,get:function(){return t.a4}}),Object.defineProperty(e,"reauthenticateWithPhoneNumber",{enumerable:!0,get:function(){return t.r}}),Object.defineProperty(e,"reauthenticateWithPopup",{enumerable:!0,get:function(){return t.f}}),Object.defineProperty(e,"reauthenticateWithRedirect",{enumerable:!0,get:function(){return t.j}}),Object.defineProperty(e,"reload",{enumerable:!0,get:function(){return t.as}}),Object.defineProperty(e,"revokeAccessToken",{enumerable:!0,get:function(){return t.E}}),Object.defineProperty(e,"sendEmailVerification",{enumerable:!0,get:function(){return t.ah}}),Object.defineProperty(e,"sendPasswordResetEmail",{enumerable:!0,get:function(){return t.a6}}),Object.defineProperty(e,"sendSignInLinkToEmail",{enumerable:!0,get:function(){return t.ad}}),Object.defineProperty(e,"setPersistence",{enumerable:!0,get:function(){return t.t}}),Object.defineProperty(e,"signInAnonymously",{enumerable:!0,get:function(){return t.a1}}),Object.defineProperty(e,"signInWithCredential",{enumerable:!0,get:function(){return t.a2}}),Object.defineProperty(e,"signInWithCustomToken",{enumerable:!0,get:function(){return t.a5}}),Object.defineProperty(e,"signInWithEmailAndPassword",{enumerable:!0,get:function(){return t.ac}}),Object.defineProperty(e,"signInWithEmailLink",{enumerable:!0,get:function(){return t.af}}),Object.defineProperty(e,"signInWithPhoneNumber",{enumerable:!0,get:function(){return t.s}}),Object.defineProperty(e,"signInWithPopup",{enumerable:!0,get:function(){return t.d}}),Object.defineProperty(e,"signInWithRedirect",{enumerable:!0,get:function(){return t.g}}),Object.defineProperty(e,"signOut",{enumerable:!0,get:function(){return t.D}}),Object.defineProperty(e,"unlink",{enumerable:!0,get:function(){return t.aq}}),Object.defineProperty(e,"updateCurrentUser",{enumerable:!0,get:function(){return t.C}}),Object.defineProperty(e,"updateEmail",{enumerable:!0,get:function(){return t.am}}),Object.defineProperty(e,"updatePassword",{enumerable:!0,get:function(){return t.an}}),Object.defineProperty(e,"updatePhoneNumber",{enumerable:!0,get:function(){return t.u}}),Object.defineProperty(e,"updateProfile",{enumerable:!0,get:function(){return t.al}}),Object.defineProperty(e,"useDeviceLanguage",{enumerable:!0,get:function(){return t.B}}),Object.defineProperty(e,"validatePassword",{enumerable:!0,get:function(){return t.w}}),Object.defineProperty(e,"verifyBeforeUpdateEmail",{enumerable:!0,get:function(){return t.ai}}),Object.defineProperty(e,"verifyPasswordResetCode",{enumerable:!0,get:function(){return t.aa}});var t=r(d[0]);r(d[1]),r(d[2]),r(d[3]),r(d[4])},150,[151,140,142,144,141]);
__d(function(e,t,n,r,i,s,a){"use strict";const o=["providerId"],c=["uid","auth","stsTokenManager"],u=["providerId","signInMethod"];Object.defineProperty(s,'__esModule',{value:!0}),Object.defineProperty(s,"$",{enumerable:!0,get:function(){return nn}}),Object.defineProperty(s,"A",{enumerable:!0,get:function(){return T}}),Object.defineProperty(s,"B",{enumerable:!0,get:function(){return ar}}),Object.defineProperty(s,"C",{enumerable:!0,get:function(){return or}}),Object.defineProperty(s,"D",{enumerable:!0,get:function(){return cr}}),Object.defineProperty(s,"E",{enumerable:!0,get:function(){return ur}}),Object.defineProperty(s,"F",{enumerable:!0,get:function(){return I}}),Object.defineProperty(s,"G",{enumerable:!0,get:function(){return dr}}),Object.defineProperty(s,"H",{enumerable:!0,get:function(){return w}}),Object.defineProperty(s,"I",{enumerable:!0,get:function(){return b}}),Object.defineProperty(s,"J",{enumerable:!0,get:function(){return A}}),Object.defineProperty(s,"K",{enumerable:!0,get:function(){return mt}}),Object.defineProperty(s,"L",{enumerable:!0,get:function(){return It}}),Object.defineProperty(s,"M",{enumerable:!0,get:function(){return Et}}),Object.defineProperty(s,"N",{enumerable:!0,get:function(){return Mt}}),Object.defineProperty(s,"O",{enumerable:!0,get:function(){return v}}),Object.defineProperty(s,"P",{enumerable:!0,get:function(){return mi}}),Object.defineProperty(s,"Q",{enumerable:!0,get:function(){return jt}}),Object.defineProperty(s,"R",{enumerable:!0,get:function(){return ai}}),Object.defineProperty(s,"S",{enumerable:!0,get:function(){return y}}),Object.defineProperty(s,"T",{enumerable:!0,get:function(){return bs}}),Object.defineProperty(s,"U",{enumerable:!0,get:function(){return Wt}}),Object.defineProperty(s,"V",{enumerable:!0,get:function(){return De}}),Object.defineProperty(s,"W",{enumerable:!0,get:function(){return Bt}}),Object.defineProperty(s,"X",{enumerable:!0,get:function(){return Qt}}),Object.defineProperty(s,"Y",{enumerable:!0,get:function(){return Zt}}),Object.defineProperty(s,"Z",{enumerable:!0,get:function(){return en}}),Object.defineProperty(s,"_",{enumerable:!0,get:function(){return Xt}}),Object.defineProperty(s,"a",{enumerable:!0,get:function(){return Sr}}),Object.defineProperty(s,"a0",{enumerable:!0,get:function(){return rn}}),Object.defineProperty(s,"a1",{enumerable:!0,get:function(){return cn}}),Object.defineProperty(s,"a2",{enumerable:!0,get:function(){return In}}),Object.defineProperty(s,"a3",{enumerable:!0,get:function(){return _n}}),Object.defineProperty(s,"a4",{enumerable:!0,get:function(){return yn}}),Object.defineProperty(s,"a5",{enumerable:!0,get:function(){return Tn}}),Object.defineProperty(s,"a6",{enumerable:!0,get:function(){return Sn}}),Object.defineProperty(s,"a7",{enumerable:!0,get:function(){return On}}),Object.defineProperty(s,"a8",{enumerable:!0,get:function(){return kn}}),Object.defineProperty(s,"a9",{enumerable:!0,get:function(){return Rn}}),Object.defineProperty(s,"aA",{enumerable:!0,get:function(){return Ji}}),Object.defineProperty(s,"aB",{enumerable:!0,get:function(){return Ge}}),Object.defineProperty(s,"aC",{enumerable:!0,get:function(){return N}}),Object.defineProperty(s,"aD",{enumerable:!0,get:function(){return U}}),Object.defineProperty(s,"aE",{enumerable:!0,get:function(){return Gi}}),Object.defineProperty(s,"aF",{enumerable:!0,get:function(){return Ne}}),Object.defineProperty(s,"aG",{enumerable:!0,get:function(){return Le}}),Object.defineProperty(s,"aH",{enumerable:!0,get:function(){return Wi}}),Object.defineProperty(s,"aI",{enumerable:!0,get:function(){return Di}}),Object.defineProperty(s,"aJ",{enumerable:!0,get:function(){return Ci}}),Object.defineProperty(s,"aK",{enumerable:!0,get:function(){return Ze}}),Object.defineProperty(s,"aL",{enumerable:!0,get:function(){return ke}}),Object.defineProperty(s,"aM",{enumerable:!0,get:function(){return Qe}}),Object.defineProperty(s,"aN",{enumerable:!0,get:function(){return Be}}),Object.defineProperty(s,"aO",{enumerable:!0,get:function(){return Cr}}),Object.defineProperty(s,"aP",{enumerable:!0,get:function(){return ls}}),Object.defineProperty(s,"aQ",{enumerable:!0,get:function(){return G}}),Object.defineProperty(s,"aR",{enumerable:!0,get:function(){return tn}}),Object.defineProperty(s,"aa",{enumerable:!0,get:function(){return Nn}}),Object.defineProperty(s,"ab",{enumerable:!0,get:function(){return Cn}}),Object.defineProperty(s,"ac",{enumerable:!0,get:function(){return Dn}}),Object.defineProperty(s,"ad",{enumerable:!0,get:function(){return Ln}}),Object.defineProperty(s,"ae",{enumerable:!0,get:function(){return Mn}}),Object.defineProperty(s,"af",{enumerable:!0,get:function(){return Un}}),Object.defineProperty(s,"ag",{enumerable:!0,get:function(){return Fn}}),Object.defineProperty(s,"ah",{enumerable:!0,get:function(){return Vn}}),Object.defineProperty(s,"ai",{enumerable:!0,get:function(){return xn}}),Object.defineProperty(s,"aj",{enumerable:!0,get:function(){return Kt}}),Object.defineProperty(s,"ak",{enumerable:!0,get:function(){return $t}}),Object.defineProperty(s,"al",{enumerable:!0,get:function(){return qn}}),Object.defineProperty(s,"am",{enumerable:!0,get:function(){return Wn}}),Object.defineProperty(s,"an",{enumerable:!0,get:function(){return zn}}),Object.defineProperty(s,"ao",{enumerable:!0,get:function(){return he}}),Object.defineProperty(s,"ap",{enumerable:!0,get:function(){return pe}}),Object.defineProperty(s,"aq",{enumerable:!0,get:function(){return hn}}),Object.defineProperty(s,"ar",{enumerable:!0,get:function(){return Zn}}),Object.defineProperty(s,"as",{enumerable:!0,get:function(){return Ee}}),Object.defineProperty(s,"at",{enumerable:!0,get:function(){return pr}}),Object.defineProperty(s,"au",{enumerable:!0,get:function(){return yr}}),Object.defineProperty(s,"av",{enumerable:!0,get:function(){return F}}),Object.defineProperty(s,"aw",{enumerable:!0,get:function(){return ze}}),Object.defineProperty(s,"ax",{enumerable:!0,get:function(){return He}}),Object.defineProperty(s,"ay",{enumerable:!0,get:function(){return R}}),Object.defineProperty(s,"az",{enumerable:!0,get:function(){return Is}}),Object.defineProperty(s,"b",{enumerable:!0,get:function(){return wr}}),Object.defineProperty(s,"c",{enumerable:!0,get:function(){return kr}}),Object.defineProperty(s,"d",{enumerable:!0,get:function(){return wi}}),Object.defineProperty(s,"e",{enumerable:!0,get:function(){return Pi}}),Object.defineProperty(s,"f",{enumerable:!0,get:function(){return bi}}),Object.defineProperty(s,"g",{enumerable:!0,get:function(){return Ui}}),Object.defineProperty(s,"h",{enumerable:!0,get:function(){return xi}}),Object.defineProperty(s,"i",{enumerable:!0,get:function(){return Jr}}),Object.defineProperty(s,"j",{enumerable:!0,get:function(){return Fi}}),Object.defineProperty(s,"k",{enumerable:!0,get:function(){return qi}}),Object.defineProperty(s,"l",{enumerable:!0,get:function(){return di}}),Object.defineProperty(s,"m",{enumerable:!0,get:function(){return vs}}),Object.defineProperty(s,"n",{enumerable:!0,get:function(){return ws}}),Object.defineProperty(s,"o",{enumerable:!0,get:function(){return As}}),Object.defineProperty(s,"p",{enumerable:!0,get:function(){return Ms}}),Object.defineProperty(s,"q",{enumerable:!0,get:function(){return _}}),Object.defineProperty(s,"r",{enumerable:!0,get:function(){return li}}),Object.defineProperty(s,"s",{enumerable:!0,get:function(){return ui}}),Object.defineProperty(s,"t",{enumerable:!0,get:function(){return er}}),Object.defineProperty(s,"u",{enumerable:!0,get:function(){return pi}}),Object.defineProperty(s,"v",{enumerable:!0,get:function(){return tr}}),Object.defineProperty(s,"w",{enumerable:!0,get:function(){return nr}}),Object.defineProperty(s,"x",{enumerable:!0,get:function(){return rr}}),Object.defineProperty(s,"y",{enumerable:!0,get:function(){return ir}}),Object.defineProperty(s,"z",{enumerable:!0,get:function(){return sr}});var d,l=t(a[0]),h=(d=l)&&d.__esModule?d:{default:d},p=t(a[1]),f=t(a[2]),m=t(a[3]),g=t(a[4]);
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const I={PHONE:'phone',TOTP:'totp'},_={FACEBOOK:'facebook.com',GITHUB:'github.com',GOOGLE:'google.com',PASSWORD:'password',PHONE:'phone',TWITTER:'twitter.com'},y={EMAIL_LINK:'emailLink',EMAIL_PASSWORD:'password',FACEBOOK:'facebook.com',GITHUB:'github.com',GOOGLE:'google.com',PHONE:'phone',TWITTER:'twitter.com'},v={LINK:'link',REAUTHENTICATE:'reauthenticate',SIGN_IN:'signIn'},T={EMAIL_SIGNIN:'EMAIL_SIGNIN',PASSWORD_RESET:'PASSWORD_RESET',RECOVER_EMAIL:'RECOVER_EMAIL',REVERT_SECOND_FACTOR_ADDITION:'REVERT_SECOND_FACTOR_ADDITION',VERIFY_AND_CHANGE_EMAIL:'VERIFY_AND_CHANGE_EMAIL',VERIFY_EMAIL:'VERIFY_EMAIL'};function E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w=
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
function(){return{"admin-restricted-operation":'This operation is restricted to administrators only.',"argument-error":'',"app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":'Cordova framework is not ready.',"cors-unsupported":'This browser is not supported.',"credential-already-in-use":'This credential is already associated with a different user account.',"custom-token-mismatch":'The custom token corresponds to a different audience.',"requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":'Multi-factor users must always have a verified email.',"email-already-in-use":'The email address is already in use by another account.',"emulator-config-failed":"Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling \"connectAuthEmulator()\" sooner.","expired-action-code":'The action code has expired.',"cancelled-popup-request":'This operation has been cancelled due to another conflicting popup being opened.',"internal-error":'An internal AuthError has occurred.',"invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":'The mobile app identifier is not registered for the current project.',"invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":'An internal AuthError has occurred.',"invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":'The continue URL provided in the request is invalid.',"invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":'The custom token format is incorrect. Please check the documentation.',"invalid-dynamic-link-domain":'The provided dynamic link domain is not configured or authorized for the current project.',"invalid-email":'The email address is badly formatted.',"invalid-emulator-scheme":'Emulator URL must start with a valid scheme (http:// or https://).',"invalid-api-key":'Your API key is invalid, please check you have copied it correctly.',"invalid-cert-hash":'The SHA-1 certificate hash provided is invalid.',"invalid-credential":'The supplied auth credential is incorrect, malformed or has expired.',"invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":'The request does not contain a valid proof of first factor successful sign-in.',"invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":'The password is invalid or the user does not have a password.',"invalid-persistence-type":'The specified persistence type is invalid. It can only be local, session or none.',"invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":'The specified provider ID is invalid.',"invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":'The verification ID used to create the phone auth credential is invalid.',"invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":'Login blocked by user-provided method: {$originalMessage}',"missing-android-pkg-name":'An Android Package Name must be provided if the Android App is required to be installed.',"auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":'The phone auth credential was created with an empty SMS verification code.',"missing-continue-uri":'A continue URL must be provided in the request.',"missing-iframe-start":'An internal AuthError has occurred.',"missing-ios-bundle-id":'An iOS Bundle ID must be provided if an App Store ID is provided.',"missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":'A non-empty password must be provided',"missing-multi-factor-info":'No second factor identifier is provided.',"missing-multi-factor-session":'The request is missing proof of first factor successful sign-in.',"missing-phone-number":'To send verification codes, provide a phone number for the recipient.',"missing-verification-id":'The phone auth credential was created with an empty verification ID.',"app-deleted":'This instance of FirebaseApp has been deleted.',"multi-factor-info-not-found":'The user does not have a second factor matching the identifier provided.',"multi-factor-auth-required":'Proof of ownership of a second factor is required to complete sign-in.',"account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":'A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.',"no-auth-event":'An internal AuthError has occurred.',"no-such-provider":'User was not linked to an account with the given provider.',"null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":"This operation is not supported in the environment this application is running on. \"location.protocol\" must be http, https or chrome-extension and web storage must be enabled.","popup-blocked":'Unable to establish a connection with the popup. It may have been blocked by the browser.',"popup-closed-by-user":'The popup has been closed by the user before finalizing the operation.',"provider-already-linked":'User can only be linked to one identity for the given provider.',"quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":'The redirect operation has been cancelled by the user before finalizing.',"redirect-operation-pending":'A redirect sign-in operation is already pending.',"rejected-credential":'The request contains malformed or mismatching credentials.',"second-factor-already-in-use":'The second factor is already enrolled on this account.',"maximum-second-factor-count-exceeded":'The maximum allowed number of second factors on a user has been exceeded.',"tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:'The operation has timed out.',"user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":'Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.',"unsupported-persistence-type":'The current environment does not support the specified persistence type.',"unsupported-tenant-operation":'This operation is not supported in a multi-tenant context.',"unverified-email":'The operation requires a verified email.',"user-cancelled":'The user did not grant your application the permissions it requested.',"user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":'The user account has been disabled by an administrator.',"user-mismatch":'The supplied credentials do not correspond to the previously signed in user.',"user-signed-out":'',"weak-password":'The password must be 6 characters long or more.',"web-storage-unsupported":'This browser is not supported or 3rd party cookies and data may be disabled.',"already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":'The reCAPTCHA token is missing when sending request to the backend.',"invalid-recaptcha-token":'The reCAPTCHA token is invalid when sending request to the backend.',"invalid-recaptcha-action":'The reCAPTCHA action is invalid when sending request to the backend.',"recaptcha-not-enabled":'reCAPTCHA Enterprise integration is not enabled for this project.',"missing-client-type":'The reCAPTCHA client type is missing when sending request to the backend.',"missing-recaptcha-version":'The reCAPTCHA version is missing when sending request to the backend.',"invalid-req-type":'Invalid request parameters.',"invalid-recaptcha-version":'The reCAPTCHA version is invalid when sending request to the backend.',"unsupported-password-policy-schema-version":'The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.',"password-does-not-meet-requirements":'The password does not meet the requirements.',"invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}},b=E,P=new f.ErrorFactory('auth','Firebase',{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),A={ADMIN_ONLY_OPERATION:'auth/admin-restricted-operation',ARGUMENT_ERROR:'auth/argument-error',APP_NOT_AUTHORIZED:'auth/app-not-authorized',APP_NOT_INSTALLED:'auth/app-not-installed',CAPTCHA_CHECK_FAILED:'auth/captcha-check-failed',CODE_EXPIRED:'auth/code-expired',CORDOVA_NOT_READY:'auth/cordova-not-ready',CORS_UNSUPPORTED:'auth/cors-unsupported',CREDENTIAL_ALREADY_IN_USE:'auth/credential-already-in-use',CREDENTIAL_MISMATCH:'auth/custom-token-mismatch',CREDENTIAL_TOO_OLD_LOGIN_AGAIN:'auth/requires-recent-login',DEPENDENT_SDK_INIT_BEFORE_AUTH:'auth/dependent-sdk-initialized-before-auth',DYNAMIC_LINK_NOT_ACTIVATED:'auth/dynamic-link-not-activated',EMAIL_CHANGE_NEEDS_VERIFICATION:'auth/email-change-needs-verification',EMAIL_EXISTS:'auth/email-already-in-use',EMULATOR_CONFIG_FAILED:'auth/emulator-config-failed',EXPIRED_OOB_CODE:'auth/expired-action-code',EXPIRED_POPUP_REQUEST:'auth/cancelled-popup-request',INTERNAL_ERROR:'auth/internal-error',INVALID_API_KEY:'auth/invalid-api-key',INVALID_APP_CREDENTIAL:'auth/invalid-app-credential',INVALID_APP_ID:'auth/invalid-app-id',INVALID_AUTH:'auth/invalid-user-token',INVALID_AUTH_EVENT:'auth/invalid-auth-event',INVALID_CERT_HASH:'auth/invalid-cert-hash',INVALID_CODE:'auth/invalid-verification-code',INVALID_CONTINUE_URI:'auth/invalid-continue-uri',INVALID_CORDOVA_CONFIGURATION:'auth/invalid-cordova-configuration',INVALID_CUSTOM_TOKEN:'auth/invalid-custom-token',INVALID_DYNAMIC_LINK_DOMAIN:'auth/invalid-dynamic-link-domain',INVALID_EMAIL:'auth/invalid-email',INVALID_EMULATOR_SCHEME:'auth/invalid-emulator-scheme',INVALID_IDP_RESPONSE:'auth/invalid-credential',INVALID_LOGIN_CREDENTIALS:'auth/invalid-credential',INVALID_MESSAGE_PAYLOAD:'auth/invalid-message-payload',INVALID_MFA_SESSION:'auth/invalid-multi-factor-session',INVALID_OAUTH_CLIENT_ID:'auth/invalid-oauth-client-id',INVALID_OAUTH_PROVIDER:'auth/invalid-oauth-provider',INVALID_OOB_CODE:'auth/invalid-action-code',INVALID_ORIGIN:'auth/unauthorized-domain',INVALID_PASSWORD:'auth/wrong-password',INVALID_PERSISTENCE:'auth/invalid-persistence-type',INVALID_PHONE_NUMBER:'auth/invalid-phone-number',INVALID_PROVIDER_ID:'auth/invalid-provider-id',INVALID_RECIPIENT_EMAIL:'auth/invalid-recipient-email',INVALID_SENDER:'auth/invalid-sender',INVALID_SESSION_INFO:'auth/invalid-verification-id',INVALID_TENANT_ID:'auth/invalid-tenant-id',MFA_INFO_NOT_FOUND:'auth/multi-factor-info-not-found',MFA_REQUIRED:'auth/multi-factor-auth-required',MISSING_ANDROID_PACKAGE_NAME:'auth/missing-android-pkg-name',MISSING_APP_CREDENTIAL:'auth/missing-app-credential',MISSING_AUTH_DOMAIN:'auth/auth-domain-config-required',MISSING_CODE:'auth/missing-verification-code',MISSING_CONTINUE_URI:'auth/missing-continue-uri',MISSING_IFRAME_START:'auth/missing-iframe-start',MISSING_IOS_BUNDLE_ID:'auth/missing-ios-bundle-id',MISSING_OR_INVALID_NONCE:'auth/missing-or-invalid-nonce',MISSING_MFA_INFO:'auth/missing-multi-factor-info',MISSING_MFA_SESSION:'auth/missing-multi-factor-session',MISSING_PHONE_NUMBER:'auth/missing-phone-number',MISSING_PASSWORD:'auth/missing-password',MISSING_SESSION_INFO:'auth/missing-verification-id',MODULE_DESTROYED:'auth/app-deleted',NEED_CONFIRMATION:'auth/account-exists-with-different-credential',NETWORK_REQUEST_FAILED:'auth/network-request-failed',NULL_USER:'auth/null-user',NO_AUTH_EVENT:'auth/no-auth-event',NO_SUCH_PROVIDER:'auth/no-such-provider',OPERATION_NOT_ALLOWED:'auth/operation-not-allowed',OPERATION_NOT_SUPPORTED:'auth/operation-not-supported-in-this-environment',POPUP_BLOCKED:'auth/popup-blocked',POPUP_CLOSED_BY_USER:'auth/popup-closed-by-user',PROVIDER_ALREADY_LINKED:'auth/provider-already-linked',QUOTA_EXCEEDED:'auth/quota-exceeded',REDIRECT_CANCELLED_BY_USER:'auth/redirect-cancelled-by-user',REDIRECT_OPERATION_PENDING:'auth/redirect-operation-pending',REJECTED_CREDENTIAL:'auth/rejected-credential',SECOND_FACTOR_ALREADY_ENROLLED:'auth/second-factor-already-in-use',SECOND_FACTOR_LIMIT_EXCEEDED:'auth/maximum-second-factor-count-exceeded',TENANT_ID_MISMATCH:'auth/tenant-id-mismatch',TIMEOUT:'auth/timeout',TOKEN_EXPIRED:'auth/user-token-expired',TOO_MANY_ATTEMPTS_TRY_LATER:'auth/too-many-requests',UNAUTHORIZED_DOMAIN:'auth/unauthorized-continue-uri',UNSUPPORTED_FIRST_FACTOR:'auth/unsupported-first-factor',UNSUPPORTED_PERSISTENCE:'auth/unsupported-persistence-type',UNSUPPORTED_TENANT_OPERATION:'auth/unsupported-tenant-operation',UNVERIFIED_EMAIL:'auth/unverified-email',USER_CANCELLED:'auth/user-cancelled',USER_DELETED:'auth/user-not-found',USER_DISABLED:'auth/user-disabled',USER_MISMATCH:'auth/user-mismatch',USER_SIGNED_OUT:'auth/user-signed-out',WEAK_PASSWORD:'auth/weak-password',WEB_STORAGE_UNSUPPORTED:'auth/web-storage-unsupported',ALREADY_INITIALIZED:'auth/already-initialized',RECAPTCHA_NOT_ENABLED:'auth/recaptcha-not-enabled',MISSING_RECAPTCHA_TOKEN:'auth/missing-recaptcha-token',INVALID_RECAPTCHA_TOKEN:'auth/invalid-recaptcha-token',INVALID_RECAPTCHA_ACTION:'auth/invalid-recaptcha-action',MISSING_CLIENT_TYPE:'auth/missing-client-type',MISSING_RECAPTCHA_VERSION:'auth/missing-recaptcha-version',INVALID_RECAPTCHA_VERSION:'auth/invalid-recaptcha-version',INVALID_REQ_TYPE:'auth/invalid-req-type',INVALID_HOSTING_LINK_DOMAIN:'auth/invalid-hosting-link-domain'},S=new m.Logger('@firebase/auth');function O(e,...t){S.logLevel<=m.LogLevel.WARN&&S.warn(`Auth (${p.SDK_VERSION}): ${e}`,...t)}function k(e,...t){S.logLevel<=m.LogLevel.ERROR&&S.error(`Auth (${p.SDK_VERSION}): ${e}`,...t)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function R(e,...t){throw M(e,...t)}function N(e,...t){return M(e,...t)}function C(e,t,n){const r=Object.assign({},b(),{[t]:n});return new f.ErrorFactory('auth','Firebase',r).create(t,{appName:e.name})}function D(e){return C(e,"operation-not-supported-in-this-environment",'Operations that alter the current user are not supported in conjunction with FirebaseServerApp')}function L(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&R(e,"argument-error"),C(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M(e,...t){if('string'!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return P.create(e,...t)}function U(e,t,...n){if(!e)throw M(t,...n)}function j(e){const t="INTERNAL ASSERTION FAILED: "+e;throw k(t),new Error(t)}function F(e,t){e||j(t)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function V(){return'undefined'!=typeof self&&self.location?.href||''}function x(){return'http:'===H()||'https:'===H()}function H(){return'undefined'!=typeof self&&self.location?.protocol||null}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function q(){if('undefined'==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class W{constructor(e,t){this.shortDelay=e,this.longDelay=t,F(t>e,'Short delay should be less than long delay!'),this.isMobile=(0,f.isMobileCordova)()||(0,f.isReactNative)()}get(){return'undefined'!=typeof navigator&&navigator&&'onLine'in navigator&&'boolean'==typeof navigator.onLine&&(x()||(0,f.isBrowserExtension)()||'connection'in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function z(e,t){F(e.emulator,'Emulator should always be set here');const{url:n}=e.emulator;return t?`${n}${t.startsWith('/')?t.slice(1):t}`:n}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class G{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:'undefined'!=typeof self&&'fetch'in self?self.fetch:'undefined'!=typeof globalThis&&globalThis.fetch?globalThis.fetch:'undefined'!=typeof fetch?fetch:void j('Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill')}static headers(){return this.headersImpl?this.headersImpl:'undefined'!=typeof self&&'Headers'in self?self.Headers:'undefined'!=typeof globalThis&&globalThis.Headers?globalThis.Headers:'undefined'!=typeof Headers?Headers:void j('Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill')}static response(){return this.responseImpl?this.responseImpl:'undefined'!=typeof self&&'Response'in self?self.Response:'undefined'!=typeof globalThis&&globalThis.Response?globalThis.Response:'undefined'!=typeof Response?Response:void j('Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill')}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B=new W(3e4,6e4);
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function J(e,t){return e.tenantId&&!t.tenantId?Object.assign({},t,{tenantId:e.tenantId}):t}async function Y(e,t,n,r,i={}){return X(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=(0,f.querystring)(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]='application/json',e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:o},i);return(0,f.isCloudflareWorker)()||(c.referrerPolicy='no-referrer'),e.emulatorConfig&&(0,f.isCloudWorkstation)(e.emulatorConfig.host)&&(c.credentials='include'),G.fetch()(await Z(e,e.config.apiHost,n,a),c)})}async function X(e,t,n){e._canInitEmulator=!1;const r=Object.assign({},K,t);try{const t=new te(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if('needConfirmation'in s)throw ne(e,"account-exists-with-different-credential",s);if(i.ok&&!('errorMessage'in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(' : ');if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ne(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ne(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ne(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,'-');if(a)throw C(e,o,a);R(e,o)}}catch(t){if(t instanceof f.FirebaseError)throw t;R(e,"network-request-failed",{message:String(t)})}}async function Q(e,t,n,r,i={}){const s=await Y(e,t,n,r,i);return'mfaPendingCredential'in s&&R(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Z(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?z(e.config,i):`${e.config.apiScheme}://${i}`;if($.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function ee(e){switch(e){case'ENFORCE':return"ENFORCE";case'AUDIT':return"AUDIT";case'OFF':return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class te{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(N(this.auth,"network-request-failed")),B.get())})}}function ne(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=N(e,t,r);return i.customData._tokenResponse=n,i}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function re(e){return void 0!==e&&void 0!==e.getResponse}function ie(e){return void 0!==e&&void 0!==e.enterprise}class se{constructor(e){if(this.siteKey='',this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error('recaptchaKey undefined');this.siteKey=e.recaptchaKey.split('/')[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ee(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function ae(e){return(await Y(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||''}async function oe(e,t){return Y(e,"GET","/v2/recaptchaConfig",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function ce(e,t){return Y(e,"POST","/v1/accounts:delete",t)}async function ue(e,t){return Y(e,"POST","/v1/accounts:update",t)}async function de(e,t){return Y(e,"POST","/v1/accounts:lookup",t)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function le(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function he(e,t=!1){return(0,f.getModularInstance)(e).getIdToken(t)}async function pe(e,t=!1){const n=(0,f.getModularInstance)(e),r=await n.getIdToken(t),i=me(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s='object'==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:le(fe(i.auth_time)),issuedAtTime:le(fe(i.iat)),expirationTime:le(fe(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function fe(e){return 1e3*Number(e)}function me(e){const[t,n,r]=e.split('.');if(void 0===t||void 0===n||void 0===r)return k('JWT malformed, contained fewer than 3 sections'),null;try{const e=(0,f.base64Decode)(n);return e?JSON.parse(e):(k('Failed to decode base64 JWT payload'),null)}catch(e){return k('Caught error parsing JWT payload as JSON',e?.toString()),null}}function ge(e){const t=me(e);return U(t,"internal-error"),U(void 0!==t.exp,"internal-error"),U(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Ie(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof f.FirebaseError&&_e(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function _e({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ye{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ve{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=le(this.lastLoginAt),this.creationTime=le(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Te(e){const t=e.auth,n=await e.getIdToken(),r=await Ie(e,de(t,{idToken:n}));U(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?be(i.providerUserInfo):[],a=we(e.providerData,s),o=e.isAnonymous,c=!(e.email&&i.passwordHash||a?.length),u=!!o&&c,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ve(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function Ee(e){const t=(0,f.getModularInstance)(e);await Te(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function we(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function be(e){return e.map(e=>{let{providerId:t}=e,n=(0,h.default)(e,o);return{providerId:t,uid:n.rawId||'',displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Pe(e,t){const n=await X(e,{},async()=>{const n=(0,f.querystring)({grant_type:'refresh_token',refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Z(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]='application/x-www-form-urlencoded';const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,f.isCloudWorkstation)(e.emulatorConfig.host)&&(o.credentials='include'),G.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ae(e,t){return Y(e,"POST","/v2/accounts:revokeToken",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(void 0!==e.idToken,"internal-error"),U(void 0!==e.refreshToken,"internal-error");const t='expiresIn'in e&&void 0!==e.expiresIn?Number(e.expiresIn):ge(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){U(0!==e.length,"internal-error");const t=ge(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(U(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await Pe(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Se;return n&&(U('string'==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(U('string'==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(U('number'==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return j('not implemented')}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Oe(e,t){U('string'==typeof e||void 0===e,"internal-error",{appName:t})}class ke{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=(0,h.default)(e,c);this.providerId="firebase",this.proactiveRefresh=new ye(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ve(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ie(this,this.stsTokenManager.getToken(this.auth,e));return U(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pe(this,e)}reload(){return Ee(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ke(Object.assign({},this,{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Te(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,p._isFirebaseServerApp)(this.auth.app))return Promise.reject(D(this.auth));const e=await this.getIdToken();return await Ie(this,ce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON(),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||''}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,c=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:d,emailVerified:l,isAnonymous:h,providerData:p,stsTokenManager:f}=t;U(d&&f,e,"internal-error");const m=Se.fromJSON(this.name,f);U('string'==typeof d,e,"internal-error"),Oe(n,e.name),Oe(r,e.name),U('boolean'==typeof l,e,"internal-error"),U('boolean'==typeof h,e,"internal-error"),Oe(i,e.name),Oe(s,e.name),Oe(a,e.name),Oe(o,e.name),Oe(c,e.name),Oe(u,e.name);const g=new ke({uid:d,auth:e,email:r,emailVerified:l,displayName:n,isAnonymous:h,photoURL:s,phoneNumber:i,tenantId:a,stsTokenManager:m,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(g.providerData=p.map(e=>Object.assign({},e))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t,n=!1){const r=new Se;r.updateFromServerResponse(t);const i=new ke({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Te(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];U(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?be(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||i?.length),a=new Se;a.updateFromIdToken(n);const o=new ke({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ve(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||i?.length)};return Object.assign(o,c),o}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Re=new Map;function Ne(e){F(e instanceof Function,'Expected a class definition');let t=Re.get(e);return t?(F(t instanceof e,'Instance stored in cache mismatched with class'),t):(t=new e,Re.set(e,t),t)}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Ce{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ce.type='NONE';const De=Ce;
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Le(e,t,n){return`firebase:${e}:${t}:${n}`}class Me{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Le(this.userKey,r.apiKey,i),this.fullPersistenceKey=Le("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if('string'==typeof e){const t=await de(this.auth,{idToken:e}).catch(()=>{});return t?ke._fromGetAccountInfoResponse(this.auth,t,e):null}return ke._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Me(Ne(De),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Ne(De);const s=Le(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(s);if(t){let r;if('string'==typeof t){const n=await de(e,{idToken:t}).catch(()=>{});if(!n)break;r=await ke._fromGetAccountInfoResponse(e,n,t)}else r=ke._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch{}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch{}})),new Me(i,e,n)):new Me(i,e,n)}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Ue(e){const t=e.toLowerCase();if(t.includes('opera/')||t.includes('opr/')||t.includes('opios/'))return"Opera";if(xe(t))return"IEMobile";if(t.includes('msie')||t.includes('trident/'))return"IE";if(t.includes('edge/'))return"Edge";if(je(t))return"Firefox";if(t.includes('silk/'))return"Silk";if(qe(t))return"Blackberry";if(We(t))return"Webos";if(Fe(t))return"Safari";if((t.includes('chrome/')||Ve(t))&&!t.includes('edge/'))return"Chrome";if(He(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function je(e=(0,f.getUA)()){return/firefox\//i.test(e)}function Fe(e=(0,f.getUA)()){const t=e.toLowerCase();return t.includes('safari/')&&!t.includes('chrome/')&&!t.includes('crios/')&&!t.includes('android')}function Ve(e=(0,f.getUA)()){return/crios\//i.test(e)}function xe(e=(0,f.getUA)()){return/iemobile/i.test(e)}function He(e=(0,f.getUA)()){return/android/i.test(e)}function qe(e=(0,f.getUA)()){return/blackberry/i.test(e)}function We(e=(0,f.getUA)()){return/webos/i.test(e)}function ze(e=(0,f.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ge(e=(0,f.getUA)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Ke(e=(0,f.getUA)()){return ze(e)&&!!window.navigator?.standalone}function $e(e=(0,f.getUA)()){return ze(e)||He(e)||We(e)||qe(e)||/windows phone/i.test(e)||xe(e)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Be(e,t=[]){let n;switch(e){case"Browser":n=Ue((0,f.getUA)());break;case"Worker":n=`${Ue((0,f.getUA)())}-${e}`;break;default:n=e}const r=t.length?t.join(','):'FirebaseCore-web';return`${n}/JsCore/${p.SDK_VERSION}/${r}`}
/**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Je{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}
/**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Ye(e,t={}){return Y(e,"GET","/v2/passwordPolicy",J(e,t))}
/**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Xe{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,'ENFORCEMENT_STATE_UNSPECIFIED'===this.enforcementState&&(this.enforcementState='OFF'),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join('')??'',this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>='a'&&n<='z',n>='A'&&n<='Z',n>='0'&&n<='9',this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Qe{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new et(this),this.idTokenSubscription=new et(this),this.beforeStateQueue=new Je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ne(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Me.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await de(this,{idToken:e}),n=await ke._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn('FirebaseServerApp could not login user with provided authIdToken: ',e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,p._isFirebaseServerApp)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==i||!s?.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Te(e)}catch(e){if("auth/network-request-failed"!==e?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,p._isFirebaseServerApp)(this.app))return Promise.reject(D(this));const t=e?(0,f.getModularInstance)(e):null;return t&&U(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,p._isFirebaseServerApp)(this.app)?Promise.reject(D(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,p._isFirebaseServerApp)(this.app)?Promise.reject(D(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ne(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ye(this),t=new Xe(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new f.ErrorFactory('auth','Firebase',e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:'apple.com',tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await Ae(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ne(e)||this._popupRedirectResolver;U(t,this,"argument-error"),this.redirectPersistenceManager=await Me.create(this,[Ne(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i='function'==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),'function'==typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Be(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if((0,p._isFirebaseServerApp)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&O(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ze(e){return(0,f.getModularInstance)(e)}class et{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,f.createSubscribe)(e=>this.observer=e)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */let tt={async loadJS(){throw new Error('Unable to load external scripts')},recaptchaV2Script:'',recaptchaEnterpriseScript:'',gapiScript:''};function nt(e){return tt.loadJS(e)}function rt(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const it=1e12;class st{constructor(e){this.auth=e,this.counter=it,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ct(e,this.auth.name,t||{})),this.counter++,n}reset(e){const t=e||it;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||it;return this._widgets.get(t)?.getResponse()||''}async execute(e){const t=e||it;return this._widgets.get(t)?.execute(),''}}class at{constructor(){this.enterprise=new ot}ready(e){e()}execute(e,t){return Promise.resolve('token')}render(e,t){return''}}class ot{ready(e){e()}execute(e,t){return Promise.resolve('token')}render(e,t){return''}}class ct{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r='string'==typeof e?document.getElementById(e):e;U(r,"argument-error",{appName:t}),this.container=r,this.isVisible='invisible'!==this.params.size,this.isVisible?this.execute():this.container.addEventListener('click',this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener('click',this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=ut(50);const{callback:e,'expired-callback':t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error('reCAPTCHA mock was already deleted!')}}function ut(e){const t=[],n='1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(62*Math.random())));return t.join('')}const dt='NO_RECAPTCHA';class lt{constructor(e){this.type="recaptcha-enterprise",this.auth=Ze(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{oe(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new se(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error('recaptcha Enterprise site key undefined'))}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;ie(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(dt)})}):r(Error('No reCAPTCHA enterprise script loaded.'))}if(this.auth.settings.appVerificationDisabledForTesting){return(new at).execute('siteKey',{action:'verify'})}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&ie(window.grecaptcha))r(n,e,i);else{let t=tt.recaptchaEnterpriseScript;0!==t.length&&(t+=n),nt(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function ht(e,t,n,r=!1,i=!1){const s=new lt(e);let a;if(i)a=dt;else try{a=await s.verify(n)}catch(e){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if('phoneEnrollmentInfo'in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if('phoneSignInInfo'in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function pt(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ht(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ht(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await ht(e,t,n);return r(e,i).catch(async i=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await ht(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await ht(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+' provider is not supported.')}async function ft(e){const t=Ze(e),n=await oe(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new se(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new lt(t).verify()}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function mt(e,t){const n=(0,p._getProvider)(e,'auth');if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,f.deepEqual)(r,t??{}))return e;R(e,"already-initialized")}return n.initialize({options:t})}function gt(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ne);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function It(e,t,n){const r=Ze(e);U(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=_t(t),{host:a,port:o}=yt(t),c=null===o?'':`:${o}`,u={url:`${s}//${a}${c}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(':',''),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return U(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void U((0,f.deepEqual)(u,r.config.emulator)&&(0,f.deepEqual)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,f.isCloudWorkstation)(a)?((0,f.pingServer)(`${s}//${a}${c}`),(0,f.updateEmulatorBanner)('Auth',!0)):i||Tt()}function _t(e){const t=e.indexOf(':');return t<0?'':e.substr(0,t+1)}function yt(e){const t=_t(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:'',port:null};const r=n[2].split('@').pop()||'',i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:vt(r.substr(e.length+1))}}{const[e,t]=r.split(':');return{host:e,port:vt(t)}}}function vt(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Tt(){function e(){const e=document.createElement('p'),t=e.style;e.innerText='Running in emulator mode. Do not use with production credentials.',t.position='fixed',t.width='100%',t.backgroundColor='#ffffff',t.border='.1em solid #000000',t.color='#b50000',t.bottom='0px',t.left='0px',t.margin='0px',t.zIndex='10000',t.textAlign='center',e.classList.add('firebase-emulator-warning'),document.body.appendChild(e)}'undefined'!=typeof console&&'function'==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),'undefined'!=typeof document&&('loading'===document.readyState?window.addEventListener('DOMContentLoaded',e):e())}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Et{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return j('not implemented')}_getIdTokenResponse(e){return j('not implemented')}_linkToIdToken(e,t){return j('not implemented')}_getReauthenticationResolver(e){return j('not implemented')}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function wt(e,t){return Y(e,"POST","/v1/accounts:resetPassword",J(e,t))}async function bt(e,t){return Y(e,"POST","/v1/accounts:update",t)}async function Pt(e,t){return Y(e,"POST","/v1/accounts:signUp",t)}async function At(e,t){return Y(e,"POST","/v1/accounts:update",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function St(e,t){return Q(e,"POST","/v1/accounts:signInWithPassword",J(e,t))}async function Ot(e,t){return Y(e,"POST","/v1/accounts:sendOobCode",J(e,t))}async function kt(e,t){return Ot(e,t)}async function Rt(e,t){return Ot(e,t)}async function Nt(e,t){return Ot(e,t)}async function Ct(e,t){return Ot(e,t)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Dt(e,t){return Q(e,"POST","/v1/accounts:signInWithEmailLink",J(e,t))}async function Lt(e,t){return Q(e,"POST","/v1/accounts:signInWithEmailLink",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Mt extends Et{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Mt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Mt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t='string'==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return pt(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",St,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Dt(e,{email:this._email,oobCode:this._password});default:R(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return pt(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Lt(e,{idToken:t,email:this._email,oobCode:this._password});default:R(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Ut(e,t){return Q(e,"POST","/v1/accounts:signInWithIdp",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class jt extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):R("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t='string'==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,h.default)(t,u);if(!n||!r)return null;const s=new jt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ut(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ut(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ut(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,f.querystring)(t)}return e}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Ft(e,t){return Y(e,"POST","/v1/accounts:sendVerificationCode",J(e,t))}async function Vt(e,t){return Q(e,"POST","/v1/accounts:signInWithPhoneNumber",J(e,t))}async function xt(e,t){const n=await Q(e,"POST","/v1/accounts:signInWithPhoneNumber",J(e,t));if(n.temporaryProof)throw ne(e,"account-exists-with-different-credential",n);return n}const Ht={USER_NOT_FOUND:"user-not-found"};async function qt(e,t){return Q(e,"POST","/v1/accounts:signInWithPhoneNumber",J(e,Object.assign({},t,{operation:'REAUTH'})),Ht)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Wt extends Et{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Wt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Wt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Vt(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return xt(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return qt(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){'string'==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Wt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function zt(e){switch(e){case'recoverEmail':return"RECOVER_EMAIL";case'resetPassword':return"PASSWORD_RESET";case'signIn':return"EMAIL_SIGNIN";case'verifyEmail':return"VERIFY_EMAIL";case'verifyAndChangeEmail':return"VERIFY_AND_CHANGE_EMAIL";case'revertSecondFactorAddition':return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gt(e){const t=(0,f.querystringDecode)((0,f.extractQuerystring)(e)).link,n=t?(0,f.querystringDecode)((0,f.extractQuerystring)(t)).deep_link_id:null,r=(0,f.querystringDecode)((0,f.extractQuerystring)(e)).deep_link_id;return(r?(0,f.querystringDecode)((0,f.extractQuerystring)(r)).link:null)||r||n||t||e}class Kt{constructor(e){const t=(0,f.querystringDecode)((0,f.extractQuerystring)(e)),n=t.apiKey??null,r=t.oobCode??null,i=zt(t.mode??null);U(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Gt(e);try{return new Kt(t)}catch{return null}}}function $t(e){return Kt.parseLink(e)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Bt{constructor(){this.providerId=Bt.PROVIDER_ID}static credential(e,t){return Mt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kt.parseLink(t);return U(n,"argument-error"),Mt._fromEmailAndCode(e,n.code,n.tenantId)}}Bt.PROVIDER_ID="password",Bt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class Jt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Yt extends Jt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xt extends Yt{static credentialFromJSON(e){const t='string'==typeof e?JSON.parse(e):e;return U('providerId'in t&&'signInMethod'in t,"argument-error"),jt._fromParams(t)}credential(e){return this._credential(Object.assign({},e,{nonce:e.rawNonce}))}_credential(e){return U(e.idToken||e.accessToken,"argument-error"),jt._fromParams(Object.assign({},e,{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Xt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Xt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:a}=e;if(!(n||r||t||i))return null;if(!a)return null;try{return new Xt(a)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(e){return null}}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Qt extends Yt{constructor(){super("facebook.com")}static credential(e){return jt._fromParams({providerId:Qt.PROVIDER_ID,signInMethod:Qt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qt.credentialFromTaggedObject(e)}static credentialFromError(e){return Qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!('oauthAccessToken'in e))return null;if(!e.oauthAccessToken)return null;try{return Qt.credential(e.oauthAccessToken)}catch{return null}}}Qt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qt.PROVIDER_ID="facebook.com";
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class Zt extends Yt{constructor(){super("google.com"),this.addScope('profile')}static credential(e,t){return jt._fromParams({providerId:Zt.PROVIDER_ID,signInMethod:Zt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zt.credentialFromTaggedObject(e)}static credentialFromError(e){return Zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Zt.credential(t,n)}catch{return null}}}Zt.GOOGLE_SIGN_IN_METHOD="google.com",Zt.PROVIDER_ID="google.com";
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class en extends Yt{constructor(){super("github.com")}static credential(e){return jt._fromParams({providerId:en.PROVIDER_ID,signInMethod:en.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return en.credentialFromTaggedObject(e)}static credentialFromError(e){return en.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!('oauthAccessToken'in e))return null;if(!e.oauthAccessToken)return null;try{return en.credential(e.oauthAccessToken)}catch{return null}}}en.GITHUB_SIGN_IN_METHOD="github.com",en.PROVIDER_ID="github.com";class tn extends Et{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ut(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ut(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ut(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t='string'==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new tn(n,i):null}static _create(e,t){return new tn(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class nn extends Jt{constructor(e){U(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return nn.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return nn.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=tn.fromJSON(e);return U(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return tn._create(n,t)}catch(e){return null}}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class rn extends Yt{constructor(){super("twitter.com")}static credential(e,t){return jt._fromParams({providerId:rn.PROVIDER_ID,signInMethod:rn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rn.credentialFromTaggedObject(e)}static credentialFromError(e){return rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return rn.credential(t,n)}catch{return null}}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
async function sn(e,t){return Q(e,"POST","/v1/accounts:signUp",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */rn.TWITTER_SIGN_IN_METHOD="twitter.com",rn.PROVIDER_ID="twitter.com";class an{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ke._fromIdTokenResponse(e,n,r),s=on(n);return new an({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=on(n);return new an({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function on(e){return e.providerId?e.providerId:'phoneNumber'in e?"phone":null}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function cn(e){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(D(e));const t=Ze(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new an({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await sn(t,{returnSecureToken:!0}),r=await an._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class un extends f.FirebaseError{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,un.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new un(e,t,n,r)}}function dn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw un._fromErrorAndOperation(e,n,t,r);throw n})}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function ln(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function hn(e,t){const n=(0,f.getModularInstance)(e);await fn(!0,n,t);const{providerUserInfo:r}=await ue(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=ln(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function pn(e,t,n=!1){const r=await Ie(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return an._forOperation(e,"link",r)}async function fn(e,t,n){await Te(t);const r=!1===e?"provider-already-linked":"no-such-provider";U(ln(t.providerData).has(n)===e,t.auth,r)}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function mn(e,t,n=!1){const{auth:r}=e;if((0,p._isFirebaseServerApp)(r.app))return Promise.reject(D(r));const i="reauthenticate";try{const s=await Ie(e,dn(r,i,t,e),n);U(s.idToken,r,"internal-error");const a=me(s.idToken);U(a,r,"internal-error");const{sub:o}=a;return U(e.uid===o,r,"user-mismatch"),an._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===e?.code&&R(r,"user-mismatch"),e}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function gn(e,t,n=!1){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(D(e));const r="signIn",i=await dn(e,r,t),s=await an._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function In(e,t){return gn(Ze(e),t)}async function _n(e,t){const n=(0,f.getModularInstance)(e);return await fn(!1,n,t.providerId),pn(n,t)}async function yn(e,t){return mn((0,f.getModularInstance)(e),t)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function vn(e,t){return Q(e,"POST","/v1/accounts:signInWithCustomToken",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Tn(e,t){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(D(e));const n=Ze(e),r=await vn(n,{token:t,returnSecureToken:!0}),i=await an._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class En{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return'phoneInfo'in t?wn._fromServerResponse(e,t):'totpInfo'in t?bn._fromServerResponse(e,t):R(e,"internal-error")}}class wn extends En{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new wn(t)}}class bn extends En{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new bn(t)}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Pn(e,t,n){U(n.url?.length>0,e,"invalid-continue-uri"),U(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),U(void 0===n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function An(e){const t=Ze(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Sn(e,t,n){const r=Ze(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Pn(r,i,n),await pt(r,i,"getOobCode",Rt,"EMAIL_PASSWORD_PROVIDER")}async function On(e,t,n){await wt((0,f.getModularInstance)(e),{oobCode:t,newPassword:n}).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&An(e),t})}async function kn(e,t){await At((0,f.getModularInstance)(e),{oobCode:t})}async function Rn(e,t){const n=(0,f.getModularInstance)(e),r=await wt(n,{oobCode:t}),i=r.requestType;switch(U(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(r.mfaInfo,n,"internal-error");default:U(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=En._fromServerResponse(Ze(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Nn(e,t){const{data:n}=await Rn((0,f.getModularInstance)(e),t);return n.email}async function Cn(e,t,n){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(D(e));const r=Ze(e),i=pt(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sn,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&An(e),t}),a=await an._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Dn(e,t,n){return(0,p._isFirebaseServerApp)(e.app)?Promise.reject(D(e)):In((0,f.getModularInstance)(e),Bt.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&An(e),t})}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Ln(e,t,n){const r=Ze(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!(function(e,t){U(t.handleCodeInApp,r,"argument-error"),t&&Pn(r,e,t)})(i,n),await pt(r,i,"getOobCode",Nt,"EMAIL_PASSWORD_PROVIDER")}function Mn(e,t){const n=Kt.parseLink(t);return"EMAIL_SIGNIN"===n?.operation}async function Un(e,t,n){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(D(e));const r=(0,f.getModularInstance)(e),i=Bt.credentialWithLink(t,n||V());return U(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),In(r,i)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function jn(e,t){return Y(e,"POST","/v1/accounts:createAuthUri",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Fn(e,t){const n={identifier:t,continueUri:x()?V():'http://localhost'},{signinMethods:r}=await jn((0,f.getModularInstance)(e),n);return r||[]}async function Vn(e,t){const n=(0,f.getModularInstance)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Pn(n.auth,r,t);const{email:i}=await kt(n.auth,r);i!==e.email&&await e.reload()}async function xn(e,t,n){const r=(0,f.getModularInstance)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Pn(r.auth,i,n);const{email:s}=await Ct(r.auth,i);s!==e.email&&await e.reload()}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Hn(e,t){return Y(e,"POST","/v1/accounts:update",t)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function qn(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,f.getModularInstance)(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await Ie(r,Hn(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function Wn(e,t){const n=(0,f.getModularInstance)(e);return(0,p._isFirebaseServerApp)(n.auth.app)?Promise.reject(D(n.auth)):Gn(n,t,null)}function zn(e,t){return Gn((0,f.getModularInstance)(e),null,t)}async function Gn(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Ie(e,bt(r,i));await e._updateTokensIfNecessary(s,!0)}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Kn(e){if(!e)return null;const{providerId:t}=e,n=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},r=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!t&&e?.idToken){const t=me(e.idToken)?.firebase?.sign_in_provider;if(t){return new $n(r,"anonymous"!==t&&"custom"!==t?t:null)}}if(!t)return null;switch(t){case"facebook.com":return new Jn(r,n);case"github.com":return new Yn(r,n);case"google.com":return new Xn(r,n);case"twitter.com":return new Qn(r,n,e.screenName||null);case"custom":case"anonymous":return new $n(r,null);default:return new $n(r,t,n)}}class $n{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Bn extends $n{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Jn extends $n{constructor(e,t){super(e,"facebook.com",t)}}class Yn extends Bn{constructor(e,t){super(e,"github.com",t,'string'==typeof t?.login?t?.login:null)}}class Xn extends $n{constructor(e,t){super(e,"google.com",t)}}class Qn extends Bn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Zn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Kn(n)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function er(e,t){return(0,f.getModularInstance)(e).setPersistence(t)}function tr(e){return ft(e)}async function nr(e,t){return Ze(e).validatePassword(t)}function rr(e,t,n,r){return(0,f.getModularInstance)(e).onIdTokenChanged(t,n,r)}function ir(e,t,n){return(0,f.getModularInstance)(e).beforeAuthStateChanged(t,n)}function sr(e,t,n,r){return(0,f.getModularInstance)(e).onAuthStateChanged(t,n,r)}function ar(e){(0,f.getModularInstance)(e).useDeviceLanguage()}function or(e,t){return(0,f.getModularInstance)(e).updateCurrentUser(t)}function cr(e){return(0,f.getModularInstance)(e).signOut()}function ur(e,t){return Ze(e).revokeAccessToken(t)}async function dr(e){return(0,f.getModularInstance)(e).delete()}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class lr{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new lr("enroll",e,t)}static _fromMfaPendingCredential(e){return new lr("signin",e)}toJSON(){const e="enroll"===this.type?'idToken':'pendingCredential';return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return lr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return lr._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class hr{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ze(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>En._fromServerResponse(n,e));U(r.mfaPendingCredential,n,"internal-error");const s=lr._fromMfaPendingCredential(r.mfaPendingCredential);return new hr(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign({},r,{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await an._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return U(t.user,n,"internal-error"),an._forOperation(t.user,t.operationType,a);default:R(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function pr(e,t){const n=(0,f.getModularInstance)(e),r=t;return U(t.customData.operationType,n,"argument-error"),U(r.customData._serverResponse?.mfaPendingCredential,n,"argument-error"),hr._fromError(n,r)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function fr(e,t){return Y(e,"POST","/v2/accounts/mfaEnrollment:start",J(e,t))}function mr(e,t){return Y(e,"POST","/v2/accounts/mfaEnrollment:finalize",J(e,t))}function gr(e,t){return Y(e,"POST","/v2/accounts/mfaEnrollment:finalize",J(e,t))}class Ir{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>En._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Ir(e)}async getSession(){return lr._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Ie(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t='string'==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Ie(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Y(r,"POST","/v2/accounts/mfaEnrollment:withdraw",J(r,i))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}var r,i}}const _r=new WeakMap;function yr(e){const t=(0,f.getModularInstance)(e);return _r.has(t)||_r.set(t,Ir._fromUser(t)),_r.get(t)}const vr='__sak';
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Tr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vr,'1'),this.storage.removeItem(vr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Er extends Tr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$e(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,f.isIE)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent('storage',{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener('storage',this.boundEventHandler)}detachListener(){window.removeEventListener('storage',this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Er.type='LOCAL';const wr=Er;
/**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function br(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,'\\$&'),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Pr(e){return`${'http:'===window.location.protocol?'__dev_':'__HOST-'}FIREBASE_${e.split(':')[3]}`}class Ar{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set('finalTarget',e),t}async _isAvailable(){return!('boolean'==typeof isSecureContext&&!isSecureContext)&&('undefined'!=typeof navigator&&'undefined'!=typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Pr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return br(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Pr(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:'DELETE'}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Pr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener('change',e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener('change',e)}let r=br(n);const i=setInterval(()=>{const e=br(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ar.type='COOKIE';const Sr=Ar;
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Or extends Tr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Or.type='SESSION';const kr=Or;
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Rr(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Nr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Nr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await Rr(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener('message',this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener('message',this.boundEventHandler)}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
function Cr(e="",t=10){let n='';for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */Nr.receivers=[];class Dr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener('message',e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r='undefined'!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const c=Cr('',20);r.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener('message',s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Lr(){return window}function Mr(e){Lr().location.href=e}
/**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Ur(){return void 0!==Lr().WorkerGlobalScope&&'function'==typeof Lr().importScripts}async function jr(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const Fr='firebaseLocalStorageDb',Vr='firebaseLocalStorage',xr='fbase_key';class Hr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener('success',()=>{e(this.request.result)}),this.request.addEventListener('error',()=>{t(this.request.error)})})}}function qr(e,t){return e.transaction([Vr],t?'readwrite':'readonly').objectStore(Vr)}function Wr(){const e=indexedDB.deleteDatabase(Fr);return new Hr(e).toPromise()}function zr(){const e=indexedDB.open(Fr,1);return new Promise((t,n)=>{e.addEventListener('error',()=>{n(e.error)}),e.addEventListener('upgradeneeded',()=>{const t=e.result;try{t.createObjectStore(Vr,{keyPath:xr})}catch(e){n(e)}}),e.addEventListener('success',async()=>{const n=e.result;n.objectStoreNames.contains(Vr)?t(n):(n.close(),await Wr(),t(await zr()))})})}async function Gr(e,t,n){const r=qr(e,!0).put({[xr]:t,value:n});return new Hr(r).toPromise()}async function Kr(e,t){const n=qr(e,!1).get(t),r=await new Hr(n).toPromise();return void 0===r?null:r.value}function $r(e,t){const n=qr(e,!0).delete(t);return new Hr(n).toPromise()}class Br{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await zr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ur()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nr._getInstance(Ur()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jr(),!this.activeServiceWorker)return;this.sender=new Dr(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zr();return await Gr(e,vr,'1'),await $r(e,vr),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>Kr(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$r(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=qr(e,!1).getAll();return new Hr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Br.type='LOCAL';const Jr=Br;
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Yr(e,t){return Y(e,"POST","/v2/accounts/mfaSignIn:start",J(e,t))}function Xr(e,t){return Y(e,"POST","/v2/accounts/mfaSignIn:finalize",J(e,t))}function Qr(e,t){return Y(e,"POST","/v2/accounts/mfaSignIn:finalize",J(e,t))}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Zr=rt('rcb'),ei=new W(3e4,6e4);class ti{constructor(){this.hostLanguage='',this.counter=0,this.librarySeparatelyLoaded=!!Lr().grecaptcha?.render}load(e,t=""){return U(ni(t),e,"argument-error"),this.shouldResolveImmediately(t)&&re(Lr().grecaptcha)?Promise.resolve(Lr().grecaptcha):new Promise((n,r)=>{const i=Lr().setTimeout(()=>{r(N(e,"network-request-failed"))},ei.get());Lr()[Zr]=()=>{Lr().clearTimeout(i),delete Lr()[Zr];const s=Lr().grecaptcha;if(!s||!re(s))return void r(N(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};nt(`${tt.recaptchaV2Script}?${(0,f.querystring)({onload:Zr,render:'explicit',hl:t})}`).catch(()=>{clearTimeout(i),r(N(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Lr().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ni(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class ri{async load(e){return new st(e)}clearedOneInstance(){}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const ii='recaptcha',si={theme:'light',type:'image'};class ai{constructor(e,t,n=Object.assign({},si)){this.parameters=n,this.type=ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ze(e),this.isInvisible='invisible'===this.parameters.size,U('undefined'!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r='string'==typeof t?document.getElementById(t):t;U(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ri:new ti,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U('undefined'!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),'function'==typeof e)e(t);else if('string'==typeof e){const n=Lr()[e];'function'==typeof n&&n(t)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement('div');e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){U(x()&&!Ur(),this.auth,"internal-error"),await oi(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await ae(this.auth);U(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function oi(){let e=null;return new Promise(t=>{'complete'!==document.readyState?(e=()=>t(),window.addEventListener('load',e)):t()}).catch(t=>{throw e&&window.removeEventListener('load',e),t})}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class ci{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Wt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ui(e,t,n){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(D(e));const r=Ze(e),i=await hi(r,t,(0,f.getModularInstance)(n));return new ci(i,e=>In(r,e))}async function di(e,t,n){const r=(0,f.getModularInstance)(e);await fn(!1,r,"phone");const i=await hi(r.auth,t,(0,f.getModularInstance)(n));return new ci(i,e=>_n(r,e))}async function li(e,t,n){const r=(0,f.getModularInstance)(e);if((0,p._isFirebaseServerApp)(r.auth.app))return Promise.reject(D(r.auth));const i=await hi(r.auth,t,(0,f.getModularInstance)(n));return new ci(i,e=>yn(r,e))}async function hi(e,t,n){if(!e._getRecaptchaConfig())try{await ft(e)}catch(e){console.log('Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.')}try{let r;if(r='string'==typeof t?{phoneNumber:t}:t,'session'in r){const t=r.session;if('phoneNumber'in r){U("enroll"===t.type,e,"internal-error");const i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=pt(e,i,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===dt){U(n?.type===ii,e,"argument-error");return fr(e,await fi(e,t,n))}return fr(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{U("signin"===t.type,e,"internal-error");const i=r.multiFactorHint?.uid||r.multiFactorUid;U(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=pt(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===dt){U(n?.type===ii,e,"argument-error");return Yr(e,await fi(e,t,n))}return Yr(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=pt(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===dt){U(n?.type===ii,e,"argument-error");return Ft(e,await fi(e,t,n))}return Ft(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function pi(e,t){const n=(0,f.getModularInstance)(e);if((0,p._isFirebaseServerApp)(n.auth.app))return Promise.reject(D(n.auth));await pn(n,t)}async function fi(e,t,n){U(n.type===ii,e,"argument-error");const r=await n.verify();U('string'==typeof r,e,"argument-error");const i=Object.assign({},t);if('phoneEnrollmentInfo'in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if('phoneSignInInfo'in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class mi{constructor(e){this.providerId=mi.PROVIDER_ID,this.auth=Ze(e)}verifyPhoneNumber(e,t){return hi(this.auth,e,(0,f.getModularInstance)(t))}static credential(e,t){return Wt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mi.credentialFromTaggedObject(t)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Wt._fromTokenResponse(t,n):null}}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
function gi(e,t){return t?Ne(t):(U(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */mi.PROVIDER_ID="phone",mi.PHONE_SIGN_IN_METHOD="phone";class Ii extends Et{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ut(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ut(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ut(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _i(e){return gn(e.auth,new Ii(e),e.bypassAuthState)}function yi(e){const{auth:t,user:n}=e;return U(n,t,"internal-error"),mn(n,new Ii(e),e.bypassAuthState)}async function vi(e){const{auth:t,user:n}=e;return U(n,t,"internal-error"),pn(n,new Ii(e),e.bypassAuthState)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Ti{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _i;case"linkViaPopup":case"linkViaRedirect":return vi;case"reauthViaPopup":case"reauthViaRedirect":return yi;default:R(this.auth,"internal-error")}}resolve(e){F(this.pendingPromise,'Pending promise was never set'),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){F(this.pendingPromise,'Pending promise was never set'),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Ei=new W(2e3,1e4);async function wi(e,t,n){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(N(e,"operation-not-supported-in-this-environment"));const r=Ze(e);L(e,t,Jt);const i=gi(r,n);return new Ai(r,"signInViaPopup",t,i).executeNotNull()}async function bi(e,t,n){const r=(0,f.getModularInstance)(e);if((0,p._isFirebaseServerApp)(r.auth.app))return Promise.reject(N(r.auth,"operation-not-supported-in-this-environment"));L(r.auth,t,Jt);const i=gi(r.auth,n);return new Ai(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}async function Pi(e,t,n){const r=(0,f.getModularInstance)(e);L(r.auth,t,Jt);const i=gi(r.auth,n);return new Ai(r.auth,"linkViaPopup",t,i,r).executeNotNull()}class Ai extends Ti{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ai.currentPopupAction&&Ai.currentPopupAction.cancel(),Ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return U(e,this.auth,"internal-error"),e}async onExecution(){F(1===this.filter.length,'Popup operations only handle one event');const e=Cr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(N(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(N(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(N(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ei.get())};e()}}Ai.currentPopupAction=null;
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const Si='pendingRedirect',Oi=new Map;class ki extends Ti{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Oi.get(this.auth._key());if(!e){try{const t=await Ri(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Oi.set(this.auth._key(),e)}return this.bypassAuthState||Oi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ri(e,t){const n=Mi(t),r=Li(e);if(!await r._isAvailable())return!1;const i='true'===await r._get(n);return await r._remove(n),i}async function Ni(e,t){return Li(e)._set(Mi(t),'true')}function Ci(){Oi.clear()}function Di(e,t){Oi.set(e._key(),t)}function Li(e){return Ne(e._redirectPersistence)}function Mi(e){return Le(Si,e.config.apiKey,e.name)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Ui(e,t,n){return ji(e,t,n)}async function ji(e,t,n){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(D(e));const r=Ze(e);L(e,t,Jt),await r._initializationPromise;const i=gi(r,n);return await Ni(i,r),i._openRedirect(r,t,"signInViaRedirect")}function Fi(e,t,n){return Vi(e,t,n)}async function Vi(e,t,n){const r=(0,f.getModularInstance)(e);if(L(r.auth,t,Jt),(0,p._isFirebaseServerApp)(r.auth.app))return Promise.reject(D(r.auth));await r.auth._initializationPromise;const i=gi(r.auth,n);await Ni(i,r.auth);const s=await zi(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}function xi(e,t,n){return Hi(e,t,n)}async function Hi(e,t,n){const r=(0,f.getModularInstance)(e);L(r.auth,t,Jt),await r.auth._initializationPromise;const i=gi(r.auth,n);await fn(!1,r,t.providerId),await Ni(i,r.auth);const s=await zi(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}async function qi(e,t){return await Ze(e)._initializationPromise,Wi(e,t,!1)}async function Wi(e,t,n=!1){if((0,p._isFirebaseServerApp)(e.app))return Promise.reject(D(e));const r=Ze(e),i=gi(r,t),s=new ki(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function zi(e){const t=Cr(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */class Gi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bi(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!$i(e)){const n=e.error.code?.split('auth/')[1]||"internal-error";t.onError(N(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(e))}saveEventToCache(e){this.cachedEventUids.add(Ki(e)),this.lastProcessedEventTime=Date.now()}}function Ki(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join('-')}function $i({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function Bi(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $i(e);default:return!1}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */async function Ji(e,t={}){return Y(e,"GET","/v1/projects",t)}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const Yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xi=/^https?/;async function Qi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ji(e);for(const e of t)try{if(Zi(e))return}catch{}R(e,"unauthorized-domain")}function Zi(e){const t=V(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith('chrome-extension://')){const i=new URL(e);return''===i.hostname&&''===r?'chrome-extension:'===n&&e.replace('chrome-extension://','')===t.replace('chrome-extension://',''):'chrome-extension:'===n&&i.hostname===r}if(!Xi.test(n))return!1;if(Yi.test(e))return r===e;const i=e.replace(/\./g,'\\.');return new RegExp('^(.+\\.'+i+'|'+i+')$','i').test(r)}
/**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const es=new W(3e4,6e4);function ts(){const e=Lr().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function ns(e){return new Promise((t,n)=>{function r(){ts(),gapi.load('gapi.iframes',{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ts(),n(N(e,"network-request-failed"))},timeout:es.get()})}if(Lr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Lr().gapi?.load){const t=rt('iframefcb');return Lr()[t]=()=>{gapi.load?r():n(N(e,"network-request-failed"))},nt(`${tt.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw rs=null,e})}let rs=null;function is(e){return rs=rs||ns(e),rs}
/**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const ss=new W(5e3,15e3),as={style:{position:'absolute',top:'-100px',width:'1px',height:'1px'},'aria-hidden':'true',tabindex:'-1'},os=new Map([["identitytoolkit.googleapis.com",'p'],['staging-identitytoolkit.sandbox.googleapis.com','s'],['test-identitytoolkit.sandbox.googleapis.com','t']]);function cs(e){const t=e.config;U(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?z(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:p.SDK_VERSION},i=os.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(',')),`${n}?${(0,f.querystring)(r).slice(1)}`}async function us(e){const t=await is(e),n=Lr().gapi;return U(n,e,"internal-error"),t.open({where:document.body,url:cs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:as,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=N(e,"network-request-failed"),s=Lr().setTimeout(()=>{r(i)},ss.get());function a(){Lr().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}
/**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const ds={location:'yes',resizable:'yes',statusbar:'yes',toolbar:'no'};class ls{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function hs(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o='';const c=Object.assign({},ds,{width:r.toString(),height:i.toString(),top:s,left:a}),u=(0,f.getUA)().toLowerCase();n&&(o=Ve(u)?"_blank":n),je(u)&&(t=t||"http://localhost",c.scrollbars='yes');const d=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,'');if(Ke(u)&&'_self'!==o)return ps(t||'',o),new ls(null);const l=window.open(t||'',o,d);U(l,e,"popup-blocked");try{l.focus()}catch(e){}return new ls(l)}function ps(e,t){const n=document.createElement('a');n.href=e,n.target=t;const r=document.createEvent('MouseEvent');r.initMouseEvent('click',!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const fs='__/auth/handler',ms='emulator/auth/handler',gs=encodeURIComponent('fac');async function Is(e,t,n,r,i,s){U(e.config.authDomain,e,"auth-domain-config-required"),U(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:p.SDK_VERSION,eventId:i};if(t instanceof Jt){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||'',(0,f.isEmpty)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Yt){const e=t.getScopes().filter(e=>''!==e);e.length>0&&(a.scopes=e.join(','))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const e of Object.keys(o))void 0===o[e]&&delete o[e];const c=await e._getAppCheckToken(),u=c?`#${gs}=${encodeURIComponent(c)}`:'';return`${_s(e)}?${(0,f.querystring)(o).slice(1)}${u}`}function _s({config:e}){return e.emulator?z(e,ms):`https://${e.authDomain}/${fs}`}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */const ys='webStorageSupport';const vs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kr,this._completeRedirectFn=Wi,this._overrideRedirectResult=Di}async _openPopup(e,t,n,r){F(this.eventManagers[e._key()]?.manager,'_initialize() not called before _openPopup()');return hs(e,await Is(e,t,n,V(),r),Cr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return Mr(await Is(e,t,n,V(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(F(n,'If manager is not set, promise should be'),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await us(e),n=new Gi(e);return t.register('authEvent',t=>{U(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ys,{type:ys},n=>{const r=n?.[0]?.[ys];void 0!==r&&t(!!r),R(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Qi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $e()||Fe()||ze()}};class Ts{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return j('unexpected MultiFactorSessionType')}}}class Es extends Ts{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Es(e)}_finalizeEnroll(e,t,n){return mr(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Xr(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ws{constructor(){}static assertion(e){return Es._fromCredential(e)}}ws.FACTOR_ID='phone';class bs{static assertionForEnrollment(e,t){return Ps._fromSecret(e,t)}static assertionForSignIn(e,t){return Ps._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;U(void 0!==t.user?.auth,"internal-error");const n=await(r=t.user.auth,i={idToken:t.credential,totpEnrollmentInfo:{}},Y(r,"POST","/v2/accounts/mfaEnrollment:start",J(r,i)));var r,i;return As._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}}bs.FACTOR_ID="totp";class Ps extends Ts{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new Ps(t,void 0,e)}static _fromEnrollmentId(e,t){return new Ps(t,e)}async _finalizeEnroll(e,t,n){return U(void 0!==this.secret,e,"argument-error"),gr(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){U(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return Qr(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class As{constructor(e,t,n,r,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new As(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(Ss(e)||Ss(t))&&(n=!0),n&&(Ss(e)&&(e=this.auth.currentUser?.email||'unknownuser'),Ss(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Ss(e){return void 0===e||0===e?.length}var Os="@firebase/auth",ks="1.11.1";
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
class Rs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */function Ns(e){switch(e){case"Node":return'node';case"ReactNative":return'rn';case"Worker":return'webworker';case"Cordova":return'cordova';case"WebExtension":return'web-extension';default:return}}
/**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
const Cs=(0,f.getExperimentalSetting)('authIdTokenMaxAge')||300;let Ds=null;const Ls=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Cs)return;const i=n?.token;Ds!==i&&(Ds=i,await fetch(e,{method:i?'POST':'DELETE',headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ms(e=(0,p.getApp)()){const t=(0,p._getProvider)(e,'auth');if(t.isInitialized())return t.getImmediate();const n=mt(e,{popupRedirectResolver:vs,persistence:[Jr,wr,kr]}),r=(0,f.getExperimentalSetting)('authTokenSyncURL');if(r&&'boolean'==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=Ls(e.toString());ir(n,t,()=>t(n.currentUser)),rr(n,e=>t(e))}}const i=(0,f.getDefaultEmulatorHost)('auth');return i&&It(n,`http://${i}`),n}var Us,js;Us={loadJS:e=>new Promise((t,n)=>{const r=document.createElement('script');r.setAttribute('src',e),r.onload=t,r.onerror=e=>{const t=N("internal-error");t.customData=e,n(t)},r.type='text/javascript',r.charset='UTF-8',(document.getElementsByTagName('head')?.[0]??document).appendChild(r)}),gapiScript:'https://apis.google.com/js/api.js',recaptchaV2Script:'https://www.google.com/recaptcha/api.js',recaptchaEnterpriseScript:'https://www.google.com/recaptcha/enterprise.js?render='},tt=Us,js="Browser",(0,p._registerComponent)(new g.Component("auth",(e,{options:t})=>{const n=e.getProvider('app').getImmediate(),r=e.getProvider('heartbeat'),i=e.getProvider('app-check-internal'),{apiKey:s,authDomain:a}=n.options;U(s&&!s.includes(':'),"invalid-api-key",{appName:n.name});const o={apiKey:s,authDomain:a,clientPlatform:js,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Be(js)},c=new Qe(n,r,i,o);return gt(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,p._registerComponent)(new g.Component("auth-internal",e=>(e=>new Rs(e))(Ze(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,p.registerVersion)(Os,ks,Ns(js)),(0,p.registerVersion)(Os,ks,'esm2020')},151,[119,140,142,144,141]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"firebaseConfig",{enumerable:!0,get:function(){return _}});const E=(E,_="")=>'undefined'!=typeof process&&process.env&&process.env[E]?process.env[E]:_,_={apiKey:E('EXPO_PUBLIC_FIREBASE_API_KEY',E('FIREBASE_API_KEY','AIzaSyB_9r8D5hybCknkPO-CZTOSAG7G53ca6n0')),authDomain:E('EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN',E('FIREBASE_AUTH_DOMAIN','verdictpath-aaf5d.firebaseapp.com')),databaseURL:E('EXPO_PUBLIC_FIREBASE_DATABASE_URL',E('FIREBASE_DATABASE_URL','https://verdictpath-aaf5d-default-rtdb.firebaseio.com')),projectId:E('EXPO_PUBLIC_FIREBASE_PROJECT_ID',E('FIREBASE_PROJECT_ID','verdictpath-aaf5d')),storageBucket:E('EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET',E('FIREBASE_STORAGE_BUCKET','verdictpath-aaf5d.firebasestorage.app')),messagingSenderId:E('EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID',E('FIREBASE_MESSAGING_SENDER_ID','326881493456')),appId:E('EXPO_PUBLIC_FIREBASE_APP_ID',E('FIREBASE_APP_ID','1:326881493456:web:da33cd312bfc528d0379d5'))}},152,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},153,[154]);
__d(function(_g,r,i,_a,_m,_e,_d){
/**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
'use strict';var e=r(_d[0]),o=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,_=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,a){var l,s={},u=null,y=null;for(l in void 0!==a&&(u=""+a),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(y=t.ref),t)n.call(t,l)&&!f.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===s[l]&&(s[l]=t[l]);return{$$typeof:o,type:e,key:u,ref:y,props:s,_owner:_.current}}_e.Fragment=t,_e.jsx=a,_e.jsxs=a},154,[13]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return C}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),h=e(r(d[5])),u=e(r(d[6])),c=e(r(d[7]));r(d[8]);var f=e(r(d[9])),b=r(d[10]),w=r(d[11]),p=r(d[12]),y=r(d[13]);const F=s.default.create({blurContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'rgba(0, 0, 0, 0.5)'},modalContent:{overflow:'hidden',backgroundColor:'#000',shadowColor:'#FFD700',shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:20,elevation:10},videoContainer:{width:'100%',height:'100%'},video:{width:'100%',height:'100%'},messageContainer:{position:'absolute',left:0,right:0,backgroundColor:'rgba(0, 0, 0, 0.85)',borderRadius:20,alignItems:'center',borderWidth:2,borderColor:'#FFD700'},messageTitle:{fontWeight:'bold',color:'#FFFFFF',textAlign:'center',marginBottom:15,textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:4},coinsContainer:{flexDirection:'row',alignItems:'center',marginTop:10},coinsText:{fontWeight:'bold',color:'#FFD700',marginRight:10,textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:4},coinsLabel:{fontWeight:'bold',color:'#FFD700'},skipButton:{position:'absolute',backgroundColor:'rgba(0, 0, 0, 0.7)',borderRadius:25,borderWidth:1,borderColor:'#FFFFFF'},skipText:{color:'#FFFFFF',fontWeight:'700'}});var C=({visible:e,onClose:s,avatarType:C="captain",message:v="",coinsEarned:x=0})=>{const{width:V,height:j}=(0,u.default)(),R=(0,t.useRef)(null),[S,M]=(0,t.useState)(!1),T=(0,t.useRef)(new c.default.Value(0)).current,k=(0,t.useRef)(new c.default.Value(.8)).current,A=p.AVATARS[C.toUpperCase()],D=V<375,O=V>=768&&V<1024,z=V>=1024&&V<1280,P=V>=1280,W=V>=1440,_=j/V,B=_>1.8,N=_<1.5,I=V>j;(0,t.useEffect)(()=>{e?(L(),E()):(M(!1),T.setValue(0),k.setValue(.8))},[e]);const L=async()=>{if(R.current&&A)try{await R.current.unloadAsync(),await R.current.loadAsync(A.actionVideo,{shouldPlay:!0,isLooping:!1,volume:.7}),console.log('[ActionVideoModal] Playing action video')}catch(e){console.error('[ActionVideoModal] Video error:',e)}},E=()=>{M(!0),c.default.parallel([c.default.timing(T,{toValue:1,duration:300,useNativeDriver:!0}),c.default.spring(k,{toValue:1,tension:50,friction:7,useNativeDriver:!0})]).start(),setTimeout(()=>{H()},6500)},H=()=>{c.default.parallel([c.default.timing(T,{toValue:0,duration:200,useNativeDriver:!0}),c.default.timing(k,{toValue:.8,duration:200,useNativeDriver:!0})]).start(()=>{s()})};if(!A)return null;const U=(()=>{const e=f.default.currentHeight||0,t=j-e;return W?{width:Math.min(.45*V,650),height:Math.min(.85*t,750)}:P?{width:Math.min(.5*V,600),height:Math.min(.8*t,700)}:z?{width:.6*V,height:.78*t}:O?I?{width:.7*j,height:.85*t}:{width:.75*V,height:.7*t}:I?{width:.85*j,height:.9*t}:B?{width:.92*V,height:.65*t}:N?{width:.92*V,height:.78*t}:D?{width:.94*V,height:.7*t}:{width:.92*V,height:.72*t}})(),q=W?{title:36,coins:52,label:28}:P?{title:32,coins:48,label:26}:z?{title:30,coins:46,label:24}:O?{title:28,coins:44,label:22}:D?{title:24,coins:36,label:20}:{title:28,coins:40,label:22},J=P||z?{top:25,right:25}:O?{top:22,right:22}:{top:18,right:18};return(0,y.jsx)(o.default,{visible:e,transparent:!0,animationType:"none",onRequestClose:H,statusBarTranslucent:!0,children:(0,y.jsx)(w.BlurView,{intensity:100,style:F.blurContainer,children:(0,y.jsxs)(c.default.View,{style:[F.modalContent,{width:U.width,height:U.height,opacity:T,transform:[{scale:k}],borderRadius:D?20:25}],children:[(0,y.jsx)(n.default,{style:F.videoContainer,children:(0,y.jsx)(b.Video,{ref:R,rate:1,volume:.7,isMuted:!1,isLooping:!1,shouldPlay:e,resizeMode:b.ResizeMode.COVER,style:F.video,onPlaybackStatusUpdate:e=>{e.didJustFinish&&(console.log('[ActionVideoModal] Playback complete'),H())}})}),S&&(0,y.jsxs)(c.default.View,{style:[F.messageContainer,{opacity:T,bottom:W?110:P?100:z?95:O?90:B?70:D?60:80,padding:P?30:O?28:D?20:25,marginHorizontal:D?12:20}],children:[(0,y.jsx)(l.default,{style:[F.messageTitle,{fontSize:q.title}],children:v}),x>0&&(0,y.jsxs)(n.default,{style:F.coinsContainer,children:[(0,y.jsxs)(l.default,{style:[F.coinsText,{fontSize:q.coins}],children:["+",x]}),(0,y.jsx)(l.default,{style:[F.coinsLabel,{fontSize:q.label}],children:"\u2693 COINS"})]})]}),(0,y.jsx)(h.default,{style:[F.skipButton,{top:J.top,right:J.right,paddingHorizontal:P?24:D?16:20,paddingVertical:P?14:D?10:12}],onPress:H,activeOpacity:.7,children:(0,y.jsx)(l.default,{style:[F.skipText,{fontSize:P?18:D?14:16}],children:"Close \u2715"})})]})})})}},155,[13,156,85,161,26,162,165,166,82,115,252,315,318,153]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return _}});var t=e(r(_d[0])),n=e(r(_d[1])),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),o=e(r(_d[3])),l=e(r(_d[4])),s=e(r(_d[5])),f=e(r(_d[6])),c=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],d=0,v=[],p={};function b(){if(0!==v.length){var e=v[v.length-1];v.forEach(t=>{t in p&&p[t](t===e)})}}function h(e){e in p&&(p[e](!1),delete p[e]);var t=v.indexOf(e);-1!==t&&(v.splice(t,1),b())}function y(e,t){h(e),v.push(e),p[e]=t,b()}var _=u.forwardRef((e,v)=>{var p=e.animationType,b=e.children,_=e.onDismiss,E=e.onRequestClose,O=e.onShow,j=e.transparent,w=e.visible,C=void 0===w||w,D=(0,n.default)(e,c),M=u.useMemo(()=>d++,[]),P=u.useState(!1),R=P[0],S=P[1],k=u.useCallback(()=>{h(M),_&&_()},[M,_]),q=u.useCallback(()=>{y(M,S),O&&O()},[M,O]);return u.useEffect(()=>()=>h(M),[M]),u.createElement(o.default,null,u.createElement(l.default,{animationType:p,onDismiss:k,onShow:q,visible:C},u.createElement(f.default,{active:R},u.createElement(s.default,(0,t.default)({},D,{active:R,onRequestClose:E,ref:v,transparent:j}),b))))})},156,[18,27,13,157,158,159,160]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=e(r(_d[1])),u=e(r(_d[2]));var c=function(e){var c=e.children,d=t.useRef(null);if(u.default&&!d.current){var o=document.createElement('div');o&&document.body&&(document.body.appendChild(o),d.current=o)}return t.useEffect(()=>{if(u.default)return()=>{document.body&&d.current&&(document.body.removeChild(d.current),d.current=null)}},[]),d.current&&u.default?n.default.createPortal(c,d.current):null}},157,[13,11,23]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return y}});var n=(function(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n})(r(_d[0])),t=e(r(_d[1])),o=e(r(_d[2]));function u(e,n){return'slide'===e?n?c:f:'fade'===e?n?d:l:n?s.container:s.hidden}var s=t.default.create({container:{position:'fixed',top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:"300ms",animationTimingFunction:'ease-in'},animatedOut:{pointerEvents:'none',animationDuration:"300ms",animationTimingFunction:'ease-out'},fadeIn:{opacity:1,animationKeyframes:{'0%':{opacity:0},'100%':{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{'0%':{opacity:1},'100%':{opacity:0}}},slideIn:{transform:'translateY(0%)',animationKeyframes:{'0%':{transform:'translateY(100%)'},'100%':{transform:'translateY(0%)'}}},slideOut:{transform:'translateY(100%)',animationKeyframes:{'0%':{transform:'translateY(0%)'},'100%':{transform:'translateY(100%)'}}},hidden:{opacity:0}}),c=[s.container,s.animatedIn,s.slideIn],f=[s.container,s.animatedOut,s.slideOut],d=[s.container,s.animatedIn,s.fadeIn],l=[s.container,s.animatedOut,s.fadeOut],y=function(e){var t=e.animationType,c=e.children,f=e.onDismiss,d=e.onShow,l=e.visible,y=n.useState(!1),p=y[0],O=y[1],b=n.useRef(!1),v=n.useRef(!1),h=t&&'none'!==t,I=n.useCallback(e=>{e&&e.currentTarget!==e.target||(l?d&&d():O(!1))},[d,l]);return n.useEffect(()=>{v.current&&!p&&f&&f(),v.current=p},[p,f]),n.useEffect(()=>{l&&O(!0),l===b.current||h||I(),b.current=l},[h,l,I]),p||l?(0,o.default)('div',{style:p?u(t,l):s.hidden,onAnimationEnd:I,children:c}):null}},158,[13,26,86]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=e(r(_d[0])),n=e(r(_d[1])),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),u=e(r(_d[3])),l=e(r(_d[4])),d=e(r(_d[5])),c=["active","children","onRequestClose","transparent"],f=o.forwardRef((e,l)=>{var f=e.active,p=e.children,v=e.onRequestClose,b=e.transparent,y=(0,n.default)(e,c);o.useEffect(()=>{if(d.default){var e=e=>{f&&'Escape'===e.key&&(e.stopPropagation(),v&&v())};return document.addEventListener('keyup',e,!1),()=>document.removeEventListener('keyup',e,!1)}},[f,v]);var O=o.useMemo(()=>[s.modal,b?s.modalTransparent:s.modalOpaque],[b]);return o.createElement(u.default,(0,t.default)({},y,{"aria-modal":!0,ref:l,role:f?'dialog':null,style:O}),o.createElement(u.default,{style:s.container},p))}),s=l.default.create({modal:{position:'fixed',top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:'transparent'},modalOpaque:{backgroundColor:'white'},container:{top:0,flex:1}}),p=f},159,[18,27,13,85,26,23]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return v}});var t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=e(r(_d[1])),u=e(r(_d[2])),c=e(r(_d[3])),o=e(r(_d[4])),l=e(r(_d[5])),f=()=>(0,u.default)('div',{role:'none',tabIndex:0,style:E.focusBracket});function s(e){if(!l.default)return!1;try{e.focus()}catch(e){}return document.activeElement===e}function d(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(s(n)||d(n))return!0}return!1}function i(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(s(n)||i(n))return!0}return!1}var v=e=>{var u=e.active,c=e.children,s=t.useRef(),v=t.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return t.useEffect(()=>{if(l.default){var e=()=>{if(null!=s.current&&!v.current.trapFocusInProgress&&u){try{if(v.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!s.current.contains(document.activeElement)){var e=d(s.current);v.current.lastFocusedElement===document.activeElement&&(e=i(s.current)),!e&&null!=s.current&&document.activeElement&&o.default.focus(s.current)}}finally{v.current.trapFocusInProgress=!1}v.current.lastFocusedElement=document.activeElement}};return e(),document.addEventListener('focus',e,!0),()=>document.removeEventListener('focus',e,!0)}},[u]),t.useEffect(function(){if(l.default){var e=document.activeElement;return function(){e&&document.contains(e)&&o.default.focus(e)}}},[]),t.createElement(t.Fragment,null,t.createElement(f,null),t.createElement(n.default,{ref:s},c),t.createElement(f,null))},E=c.default.create({focusBracket:{outlineStyle:'none'}})},160,[13,85,86,26,98,23]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var o={};return e&&Object.keys(e).forEach(function(n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(o,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}),o.default=e,o}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return k}});var n=e(r(_d[0])),t=e(r(_d[1])),l=o(r(_d[2])),d=e(r(_d[3])),s=o(r(_d[4])),u=e(r(_d[5])),p=e(r(_d[6])),S=e(r(_d[7])),c=e(r(_d[8])),R=e(r(_d[9])),h=e(r(_d[10])),f=e(r(_d[11])),b=r(_d[12]),v=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],C=Object.assign({},s.defaultProps,s.accessibilityProps,s.clickProps,s.focusProps,s.keyboardProps,s.mouseProps,s.touchProps,s.styleProps,{href:!0,lang:!0,pointerEvents:!0}),x=e=>(0,u.default)(e,C),w=l.forwardRef((e,o)=>{var n=e.hrefAttrs,s=e.numberOfLines,u=e.onClick,h=e.onLayout,C=e.onPress,w=e.onMoveShouldSetResponder,y=e.onMoveShouldSetResponderCapture,k=e.onResponderEnd,M=e.onResponderGrant,O=e.onResponderMove,L=e.onResponderReject,_=e.onResponderRelease,j=e.onResponderStart,A=e.onResponderTerminate,T=e.onResponderTerminationRequest,E=e.onScrollShouldSetResponder,W=e.onScrollShouldSetResponderCapture,D=e.onSelectionChangeShouldSetResponder,$=e.onSelectionChangeShouldSetResponderCapture,q=e.onStartShouldSetResponder,G=e.onStartShouldSetResponderCapture,H=e.selectable,z=(0,t.default)(e,v),B=l.useContext(f.default),N=l.useRef(null),F=(0,b.useLocaleContext)().direction;(0,p.default)(N,h),(0,R.default)(N,{onMoveShouldSetResponder:w,onMoveShouldSetResponderCapture:y,onResponderEnd:k,onResponderGrant:M,onResponderMove:O,onResponderReject:L,onResponderRelease:_,onResponderStart:j,onResponderTerminate:A,onResponderTerminationRequest:T,onScrollShouldSetResponder:E,onScrollShouldSetResponderCapture:W,onSelectionChangeShouldSetResponder:D,onSelectionChangeShouldSetResponderCapture:$,onStartShouldSetResponder:q,onStartShouldSetResponderCapture:G});var I=l.useCallback(e=>{null!=u?u(e):null!=C&&(e.stopPropagation(),C(e))},[u,C]),J=B?'span':'div',K=null!=e.lang?(0,b.getLocaleDirection)(e.lang):null,Q=e.dir||K,U=Q||F,V=x(z);if(V.dir=Q,B||(V.dir=null!=Q?Q:'auto'),(u||C)&&(V.onClick=I),V.style=[null!=s&&s>1&&{WebkitLineClamp:s},!0===B?P.textHasAncestor$raw:P.text$raw,1===s&&P.textOneLine,null!=s&&s>1&&P.textMultiLine,e.style,!0===H&&P.selectable,!1===H&&P.notSelectable,C&&P.pressable],null!=e.href&&(J='a',null!=n)){var X=n.download,Y=n.rel,Z=n.target;null!=X&&(V.download=X),null!=Y&&(V.rel=Y),'string'==typeof Z&&(V.target='_'!==Z.charAt(0)?'_'+Z:Z)}var ee=(0,c.default)(V),oe=(0,S.default)(N,ee,o);V.ref=oe;var ne=(0,d.default)(J,V,{writingDirection:U});return B?ne:l.createElement(f.default.Provider,{value:!0},ne)});w.displayName='Text';var y={backgroundColor:'transparent',border:'0 solid black',boxSizing:'border-box',color:'black',display:'inline',font:'14px System',listStyle:'none',margin:0,padding:0,position:'relative',textAlign:'start',textDecoration:'none',whiteSpace:'pre-wrap',wordWrap:'break-word'},P=h.default.create({text$raw:y,textHasAncestor$raw:(0,n.default)((0,n.default)({},y),{},{color:'inherit',font:'inherit',textAlign:'inherit',whiteSpace:'inherit'}),textOneLine:{maxWidth:'100%',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap',wordWrap:'normal'},textMultiLine:{display:'-webkit-box',maxWidth:'100%',overflow:'hidden',textOverflow:'ellipsis',WebkitBoxOrient:'vertical'},notSelectable:{userSelect:'none'},selectable:{userSelect:'text'},pressable:{cursor:'pointer'}}),k=w},161,[4,27,13,86,94,95,96,103,105,107,26,114,92]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=e(r(_d[0])),n=e(r(_d[1])),s=r(_d[2]),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(s),l=e(r(_d[3])),u=e(r(_d[4])),c=e(r(_d[5])),d=e(r(_d[6])),f=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function y(e,c){var y=e.activeOpacity,b=e.delayPressIn,p=e.delayPressOut,O=e.delayLongPress,v=e.disabled,_=e.focusable,j=e.onLongPress,L=e.onPress,h=e.onPressIn,k=e.onPressOut,C=e.rejectResponderTermination,E=e.style,R=(0,n.default)(e,f),S=(0,s.useRef)(null),D=(0,l.default)(c,S),I=(0,s.useState)('0s'),M=I[0],w=I[1],T=(0,s.useState)(null),N=T[0],x=T[1],A=(0,s.useCallback)((e,t)=>{x(e),w(t?t/1e3+"s":'0s')},[x,w]),G=(0,s.useCallback)(e=>{A(null!=y?y:.2,e)},[y,A]),q=(0,s.useCallback)(e=>{A(null,e)},[A]),z=(0,s.useMemo)(()=>({cancelable:!C,disabled:v,delayLongPress:O,delayPressStart:b,delayPressEnd:p,onLongPress:j,onPress:L,onPressStart(e){var t=null!=e.dispatchConfig?'onResponderGrant'===e.dispatchConfig.registrationName:'keydown'===e.type;G(t?0:150),null!=h&&h(e)},onPressEnd(e){q(250),null!=k&&k(e)}}),[O,b,p,v,j,L,h,k,C,G,q]),B=(0,u.default)(S,z);return o.createElement(d.default,(0,t.default)({},R,B,{accessibilityDisabled:v,focusable:!v&&!1!==_,pointerEvents:v?'box-none':void 0,ref:D,style:[P.root,!v&&P.actionable,E,null!=N&&{opacity:N},{transitionDuration:M}]}))}var P=c.default.create({root:{transitionProperty:'opacity',transitionDuration:'0.15s',userSelect:'none'},actionable:{cursor:'pointer',touchAction:'manipulation'}}),b=o.memo(o.forwardRef(y));b.displayName='TouchableOpacity';var p=b},162,[18,27,13,103,163,26,85]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,u=r(d[0]),t=(e=u)&&e.__esModule?e:{default:e},n=r(d[1]);function f(e,u){var f=(0,n.useRef)(null);null==f.current&&(f.current=new t.default(u));var l=f.current;return(0,n.useEffect)(()=>{l.configure(u)},[u,l]),(0,n.useEffect)(()=>()=>{l.reset()},[l]),(0,n.useDebugValue)(u),l.getEventHandlers()}},163,[164,13]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return N}});var t='DELAY',s='ERROR',n='LONG_PRESS_DETECTED',o='NOT_RESPONDER',l='RESPONDER_ACTIVE_LONG_PRESS_START',_='RESPONDER_ACTIVE_PRESS_START',E='RESPONDER_INACTIVE_PRESS_START',u='RESPONDER_RELEASE',h='RESPONDER_TERMINATED',c=Object.freeze({NOT_RESPONDER:{DELAY:s,RESPONDER_GRANT:E,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:s},RESPONDER_INACTIVE_PRESS_START:{DELAY:_,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:l},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:l},ERROR:{DELAY:o,RESPONDER_GRANT:E,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:o}}),R=t=>t.getAttribute('role'),T=t=>t.tagName.toLowerCase(),P=t=>t===_||t===l,S=t=>'button'===R(t),D=t=>t===E||t===_||t===l,v=t=>t===h||t===u,p=t=>{var s=t.key,n=t.target,o=' '===s||'Spacebar'===s,l='button'===T(n)||S(n);return'Enter'===s||o&&l};class N{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=o,this._responderElement=null,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var s=(s,n)=>{s.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=o,this._isPointerTouch='touchstart'===s.nativeEvent.type,this._receiveSignal("RESPONDER_GRANT",s);var l=O(this._config.delayPressStart,0,50);!1!==n&&l>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(t,s)},l):this._receiveSignal(t,s);var _=O(this._config.delayLongPress,10,450);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(s)},_+l)},n=t=>{this._receiveSignal(u,t)},l=t=>{var s=this._config.onPress,_=t.target;if(this._touchState!==o&&p(t)){n(t),document.removeEventListener('keyup',l);var E=_.getAttribute('role'),u=T(_),h='link'===E||'a'===u||'button'===u||'input'===u||'select'===u||'textarea'===u,c=this._responderElement===_;null!=s&&!h&&c&&s(t),this._responderElement=null}};return{onStartShouldSetResponder:t=>{var s=this._config.disabled;return s&&S(t.currentTarget)&&t.stopPropagation(),null==s||!s},onKeyDown:t=>{var n=this._config.disabled,_=t.key,E=t.target;if(!n&&p(t)){this._touchState===o&&(s(t,!1),this._responderElement=E,document.addEventListener('keyup',l));var u=' '===_||'Spacebar'===_,h=R(E);u&&('button'===h||'menuitem'===h)&&'button'!==T(E)&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>s(t),onResponderMove:t=>{null!=this._config.onPressMove&&this._config.onPressMove(t);var s=f(t);if(null!=this._touchActivatePosition){var n=this._touchActivatePosition.pageX-s.pageX,o=this._touchActivatePosition.pageY-s.pageY;Math.hypot(n,o)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:t=>n(t),onResponderTerminate:t=>{'selectionchange'===t.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(h,t)},onResponderTerminationRequest:t=>{var s=this._config,n=s.cancelable,o=s.disabled,l=s.onLongPress;return!(!o&&null!=l&&this._isPointerTouch&&'contextmenu'===t.nativeEvent.type)&&(null==n||n)},onClick:t=>{var s=this._config,n=s.disabled,o=s.onPress;n?S(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),this._longPressDispatched||this._selectionTerminated?t.preventDefault():null!=o&&!1===t.altKey&&o(t))},onContextMenu:t=>{var s=this._config,n=s.disabled,o=s.onLongPress;n?S(t.currentTarget)&&t.stopPropagation():null!=o&&this._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}}_receiveSignal(t,n){var l=this._touchState,_=null;null!=c[l]&&(_=c[l][t]),this._touchState===o&&t===u||(null==_||_===s?console.error("PressResponder: Invalid signal "+t+" for state "+l+" on responder"):l!==_&&(this._performTransitionSideEffects(l,_,t,n),this._touchState=_))}_performTransitionSideEffects(t,s,o,_){if(v(o)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),D(t)&&o===n){var E=this._config.onLongPress;null!=E&&null==_.nativeEvent.key&&(E(_),this._longPressDispatched=!0)}var h=P(t),c=P(s);if(!h&&c?this._activate(_):h&&!c&&this._deactivate(_),D(t)&&o===u){var R=this._config,T=R.onLongPress;if(null!=R.onPress)null!=T&&t===l||c||h||(this._activate(_),this._deactivate(_))}this._cancelPressDelayTimeout()}_activate(t){var s=this._config,n=s.onPressChange,o=s.onPressStart,l=f(t);this._touchActivatePosition={pageX:l.pageX,pageY:l.pageY},null!=o&&o(t),null!=n&&n(!0)}_deactivate(t){var s=this._config,n=s.onPressChange,o=s.onPressEnd;function l(){null!=o&&o(t),null!=n&&n(!1)}var _=O(this._config.delayPressEnd);_>0?this._pressOutDelayTimeout=setTimeout(()=>{l()},_):l()}_handleLongPress(t){this._touchState!==_&&this._touchState!==l||this._receiveSignal(n,t)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function O(t,s,n){return void 0===s&&(s=0),void 0===n&&(n=0),Math.max(s,null!=t?t:n)}function f(t){var s=t.nativeEvent,n=s.changedTouches,o=s.touches;return null!=o&&o.length>0?o[0]:null!=n&&n.length>0?n[0]:t.nativeEvent}},164,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},u=r(d[1]);function f(){var e=(0,u.useState)(()=>n.default.get('window')),t=e[0],f=e[1];return(0,u.useEffect)(()=>{function e(e){var t=e.window;null!=t&&f(t)}return n.default.addEventListener('change',e),f(n.default.get('window')),()=>{n.default.removeEventListener('change',e)}},[]),t}},165,[120,13]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},166,[167]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=e(r(d[0])),u=e(r(d[1])),l=e(r(d[2])),f=e(r(d[3])),n=e(r(d[4])),o=e(r(d[5])),c=e(r(d[6])),s=e(r(d[7])),_=e(r(d[8])),b=e(r(d[9])),j=u.default.isTesting?_.default:b.default,p=(0,t.default)({FlatList:l.default,Image:f.default,ScrollView:n.default,SectionList:o.default,Text:c.default,View:s.default},j)},167,[4,82,168,221,226,227,231,232,233,234]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var t=e(r(_d[0])),n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[1])),u=e(r(_d[2])),f=e(r(_d[3])),o=n.forwardRef((e,f)=>n.createElement(u.default,(0,t.default)({scrollEventThrottle:1e-4},e,{ref:f}))),c=(0,f.default)(o)},168,[18,13,169,201]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},169,[170]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var t=e(r(_d[0])),s=e(r(_d[1])),n=e(r(_d[2])),l=e(r(_d[3])),o=e(r(_d[4])),u=e(r(_d[5]));r(_d[6]);var h=e(r(_d[7])),p=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t})(r(_d[8])),f=e(r(_d[9])),d=r(_d[10]),c=e(r(_d[11])),C=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function b(e){return null!=e?e:1}function v(e){return'number'==typeof Object(e).length}class _ extends p.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=e=>{this._listRef=e},this._getItem=(e,t)=>{var s=b(this.props.numColumns);if(s>1){for(var n=[],l=0;l<s;l++){var o=t*s+l;if(o<e.length){var u=e[o];n.push(u)}}return n}return e[t]},this._getItemCount=e=>{if(null!=e&&v(e)){var t=b(this.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},this._keyExtractor=(e,t)=>{var s,n=b(this.props.numColumns),l=null!==(s=this.props.keyExtractor)&&void 0!==s?s:d.keyExtractor;return n>1?((0,h.default)(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",n),e.map((e,s)=>l(e,t*n+s)).join(':')):l(e,t)},this._renderer=(e,t,s,n,o)=>{var u=b(n),f=s=>e?p.createElement(e,s):t?t(s):null,d=e=>{if(u>1){var t=e.item,n=e.index;return(0,h.default)(Array.isArray(t),'Expected array of items with numColumns > 1'),p.createElement(l.default,{style:[y.row,s]},t.map((t,s)=>{var l=f({item:t,index:n*u+s,separators:e.separators});return null!=l?p.createElement(p.Fragment,{key:s},l):null}))}return f(e)};return e?{ListItemComponent:d}:{renderItem:d}},this._memoizedRenderer=(0,c.default)(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(e=>({viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(e.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){(0,h.default)(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),(0,h.default)(e.onViewableItemsChanged===this.props.onViewableItemsChanged,'Changing onViewableItemsChanged on the fly is not supported'),(0,h.default)(!(0,u.default)(e.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),(0,h.default)(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}_checkProps(e){var t=e.getItem,s=e.getItemCount,n=e.horizontal,l=e.columnWrapperStyle,o=e.onViewableItemsChanged,u=e.viewabilityConfigCallbackPairs,p=b(this.props.numColumns);(0,h.default)(!t&&!s,'FlatList does not support custom data formats.'),p>1?(0,h.default)(!n,'numColumns does not support horizontal.'):(0,h.default)(!l,'columnWrapperStyle not supported for single column lists'),(0,h.default)(!(o&&u),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,t){var s,l=b(this.props.numColumns),o=null!==(s=this.props.keyExtractor)&&void 0!==s?s:d.keyExtractor;t.item.forEach((s,u)=>{(0,h.default)(null!=t.index,'Missing index!');var p=t.index*l+u;e.push((0,n.default)((0,n.default)({},t),{},{item:s,key:o(s,p),index:p}))})}_createOnViewableItemsChanged(e){return t=>{var s=b(this.props.numColumns);if(e)if(s>1){var n=[],l=[];t.viewableItems.forEach(e=>this._pushMultiColumnViewable(l,e)),t.changed.forEach(e=>this._pushMultiColumnViewable(n,e)),e({viewableItems:l,changed:n})}else e(t)}}render(){var e,n=this.props,l=n.numColumns,o=n.columnWrapperStyle,u=n.removeClippedSubviews,h=n.strictMode,d=void 0!==h&&h,c=(0,s.default)(n,C),b=d?this._memoizedRenderer:this._renderer;return p.createElement(f.default,(0,t.default)({},c,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=u,null!=e&&e)},b(this.props.ListItemComponent,this.props.renderItem,o,l,this.props.extraData)))}}var y=o.default.create({row:{flexDirection:'row'}}),w=_},170,[18,27,4,85,26,171,82,9,13,172,198,200]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=function t(n,f,u){if(void 0===u&&(u=-1),0===u)return!0;if(n===f)return!1;if('function'==typeof n&&'function'==typeof f)return!1;if('object'!=typeof n||null===n)return n!==f;if('object'!=typeof f||null===f)return!0;if(n.constructor!==f.constructor)return!0;if(Array.isArray(n)){var o=n.length;if(f.length!==o)return!0;for(var c=0;c<o;c++)if(t(n[c],f[c],u-1))return!0}else{for(var l in n)if(t(n[l],f[l],u-1))return!0;for(var v in f)if(void 0===n[v]&&void 0!==f[v])return!0}return!1}},171,[]);
__d(function(g,_r,_i3,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return A}});var t=e(_r(_d[0])),s=e(_r(_d[1])),r=e(_r(_d[2])),i=e(_r(_d[3])),o=e(_r(_d[4])),l=e(_r(_d[5])),n=e(_r(_d[6]));_r(_d[7]);var h=e(_r(_d[8])),d=e(_r(_d[9])),c=e(_r(_d[10])),u=_r(_d[11]),p=e(_r(_d[12])),f=e(_r(_d[13])),_=e(_r(_d[14])),v=e(_r(_d[15])),y=e(_r(_d[16])),C=_r(_d[17]),L=_r(_d[18]),b=e(_r(_d[19])),S=e(_r(_d[20])),M=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t})(_r(_d[21])),I=!1,R='';function w(e){return null!=e&&e}function x(e){return null!=e?e:10}function E(e){return null!=e?e:2}function T(e){return null!=e?e:2}function F(e,t){return e*t/2}function V(e){return null!=e?e:21}function k(e,t){for(var s=e.length-1;s>=0;s--)if(t(e[s]))return e[s];return null}class O extends _.default{scrollToEnd(e){var t=!e||e.animated,s=this.props.getItemCount(this.props.data)-1;if(!(s<0)){var r=this.__getFrameMetricsApprox(s,this.props),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(w(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}}scrollToIndex(e){var t=this.props,s=t.data,r=t.horizontal,i=t.getItemCount,o=t.getItemLayout,l=t.onScrollToIndexFailed,n=e.animated,h=e.index,d=e.viewOffset,c=e.viewPosition;if((0,b.default)(h>=0,"scrollToIndex out of range: requested index "+h+" but minimum is 0"),(0,b.default)(i(s)>=1,"scrollToIndex out of range: item length "+i(s)+" but minimum is 1"),(0,b.default)(h<i(s),"scrollToIndex out of range: requested index "+h+" is out of 0 to "+(i(s)-1)),!o&&h>this._highestMeasuredFrameIndex)return(0,b.default)(!!l,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void l({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:h});var u=this.__getFrameMetricsApprox(Math.floor(h),this.props),p=Math.max(0,this._getOffsetApprox(h,this.props)-(c||0)*(this._scrollMetrics.visibleLength-u.length))-(d||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:p,animated:n}:{y:p,animated:n}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}scrollToItem(e){for(var t=e.item,s=this.props,i=s.data,o=s.getItem,l=(0,s.getItemCount)(i),n=0;n<l;n++)if(o(i,n)===t){this.scrollToIndex((0,r.default)((0,r.default)({},e),{},{index:n}));break}}scrollToOffset(e){var t=e.animated,s=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(w(this.props.horizontal)?{x:s,animated:t}:{y:s,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return(null==(e=this.context)?void 0:e.cellKey)||'rootList'}hasMore(){return this._hasMore}constructor(e){var t;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=e=>{this._nestedChildLists.add(e.ref,e.cellKey),this._hasInteracted&&e.ref.recordInteraction()},this._unregisterAsNestedChild=e=>{this._nestedChildLists.remove(e.ref)},this._onUpdateSeparators=(e,t)=>{e.forEach(e=>{var s=null!=e&&this._cellRefs[e];s&&s.updateSeparatorProps(t)})},this._getSpacerKey=e=>e?'height':'width',this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new p.default,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=e=>{this._scrollRef=e},this._defaultRenderScrollComponent=e=>{var t,r=e.onRefresh;return this._isNestedWithSameOrientation()?M.createElement(l.default,e):r?((0,b.default)('boolean'==typeof e.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:'undefined')+'`'),M.createElement(o.default,(0,s.default)({},e,{refreshControl:null==e.refreshControl?M.createElement(i.default,{refreshing:e.refreshing,onRefresh:r,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):M.createElement(o.default,e)},this._onCellLayout=(e,t,s)=>{var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:s,inLayout:!0},o=this._frames[t];o&&i.offset===o.offset&&i.length===o.length&&s===o.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(o?o.length:0),this._totalCellsMeasured+=o?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,s),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(t),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=e=>{delete this._cellRefs[e];var t=this._frames[e];t&&(this._frames[e]=(0,r.default)((0,r.default)({},t),{},{inLayout:!1}))},this._onLayout=e=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(e.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(e),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=e=>{this.props.onLayout&&this.props.onLayout(e)},this._onLayoutFooter=e=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(e.nativeEvent.layout)},this._onLayoutHeader=e=>{this._headerLength=this._selectLength(e.nativeEvent.layout)},this._onContentSizeChange=(e,t)=>{e>0&&t>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:(0,S.default)(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(e,t),this._scrollMetrics.contentLength=this._selectLength({height:t,width:e}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=e=>{var t=e.offset-this._offsetFromParentVirtualizedList,s=e.visibleLength,r=t-this._scrollMetrics.offset;return{visibleLength:s,contentLength:this._scrollMetrics.contentLength,offset:t,dOffset:r}},this._onScroll=e=>{this._nestedChildLists.forEach(t=>{t._onScroll(e)}),this.props.onScroll&&this.props.onScroll(e);var t=e.timeStamp,s=this._selectLength(e.nativeEvent.layoutMeasurement),r=this._selectLength(e.nativeEvent.contentSize),i=this._selectOffset(e.nativeEvent.contentOffset),o=i-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(0===this._scrollMetrics.contentLength)return;var l=this._convertParentScrollMetrics({visibleLength:s,offset:i});s=l.visibleLength,r=l.contentLength,i=l.offset,o=l.dOffset}var n=this._scrollMetrics.timestamp?Math.max(1,t-this._scrollMetrics.timestamp):1,h=o/n;n>500&&this._scrollMetrics.dt>500&&r>5*s&&!this._hasWarned.perf&&((0,c.default)("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:n,prevDt:this._scrollMetrics.dt,contentLength:r}),this._hasWarned.perf=!0);var d=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;this._scrollMetrics={contentLength:r,dt:n,dOffset:o,offset:i,timestamp:t,velocity:h,visibleLength:s,zoomScale:d},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),0!==h&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=e=>{this._nestedChildLists.forEach(t=>{t._onScrollBeginDrag(e)}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this._onScrollEndDrag=e=>{this._nestedChildLists.forEach(t=>{t._onScrollEndDrag(e)});var t=e.nativeEvent.velocity;t&&(this._scrollMetrics.velocity=this._selectOffset(t)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this._onMomentumScrollBegin=e=>{this._nestedChildLists.forEach(t=>{t._onMomentumScrollBegin(e)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this._onMomentumScrollEnd=e=>{this._nestedChildLists.forEach(t=>{t._onMomentumScrollEnd(e)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((e,t)=>{var s=this._adjustCellsAroundViewport(t,e.cellsAroundViewport),r=O._createRenderMask(t,s,this._getNonViewportRenderRegions(t));return s.first===e.cellsAroundViewport.first&&s.last===e.cellsAroundViewport.last&&r.equals(e.renderMask)?null:{cellsAroundViewport:s,renderMask:r}})},this._createViewToken=(e,t,s)=>{var r=s.data,i=(0,s.getItem)(r,e);return{index:e,item:i,key:this._keyExtractor(i,e,s),isViewable:t}},this._getOffsetApprox=(e,t)=>{if(Number.isInteger(e))return this.__getFrameMetricsApprox(e,t).offset;var s=this.__getFrameMetricsApprox(Math.floor(e),t),r=e-Math.floor(e);return s.offset+r*s.length},this.__getFrameMetricsApprox=(e,t)=>{var s=this._getFrameMetrics(e,t);if(s&&s.index===e)return s;var r=t.data,i=t.getItemCount,o=t.getItemLayout;return(0,b.default)(e>=0&&e<i(r),'Tried to get frame for out of range index '+e),(0,b.default)(!o,'Should not have to estimate frames when a measurement metrics function is provided'),{length:this._averageCellLength,offset:this._averageCellLength*e}},this._getFrameMetrics=(e,t)=>{var s=t.data,r=t.getItem,i=t.getItemCount,o=t.getItemLayout;(0,b.default)(e>=0&&e<i(s),'Tried to get frame for out of range index '+e);var l=r(s,e),n=this._frames[this._keyExtractor(l,e,t)];return n&&n.index===e||!o?n:o(s,e)},this._getNonViewportRenderRegions=e=>{if(!this._lastFocusedCellKey||!this._cellRefs[this._lastFocusedCellKey])return[];var t=this._cellRefs[this._lastFocusedCellKey].props.index,s=e.getItemCount(e.data);if(t>=s||this._keyExtractor(e.getItem(e.data,t),t,e)!==this._lastFocusedCellKey)return[];for(var r=t,i=0,o=r-1;o>=0&&i<this._scrollMetrics.visibleLength;o--)r--,i+=this.__getFrameMetricsApprox(o,e).length;for(var l=t,n=0,h=l+1;h<s&&n<this._scrollMetrics.visibleLength;h++)l++,n+=this.__getFrameMetricsApprox(h,e).length;return[{first:r,last:l}]},this._checkProps(e),this._fillRateHelper=new f.default(this._getFrameMetrics),this._updateCellsToRenderBatcher=new h.default(this._updateCellsToRender,null!==(t=this.props.updateCellsBatchingPeriod)&&void 0!==t?t:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(e=>({viewabilityHelper:new v.default(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}));else{var n=this.props,d=n.onViewableItemsChanged,u=n.viewabilityConfig;d&&this._viewabilityTuples.push({viewabilityHelper:new v.default(u),onViewableItemsChanged:d})}var _=O._initialRenderRegion(e);this.state={cellsAroundViewport:_,renderMask:O._createRenderMask(e,_)},this.invertedWheelEventHandler=e=>{var t=this.props.horizontal?e.target.scrollLeft:e.target.scrollTop,s=this.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,r=this.props.horizontal?e.target.clientWidth:e.target.clientHeight,i=s>r,o=this.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,l=o;i&&(l=o<0?Math.min(o+t,0):Math.max(o-(s-r-t),0));var n=o-l;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var h=this._scrollRef.getScrollableNode();if(this.props.horizontal){e.target.scrollLeft+=n;var d=h.scrollLeft-l;h.scrollLeft=this.props.getItemLayout?d:Math.min(d,this._totalCellLength)}else{e.target.scrollTop+=n;var c=h.scrollTop-l;h.scrollTop=this.props.getItemLayout?c:Math.min(c,this._totalCellLength)}e.preventDefault()}}}_checkProps(e){var t=e.onScroll,s=e.windowSize,r=e.getItemCount,i=e.data,o=e.initialScrollIndex;(0,b.default)(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),(0,b.default)(V(s)>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),(0,b.default)(r,'VirtualizedList: The "getItemCount" prop must be provided');var l=r(i);null==o||this._hasTriggeredInitialScrollToIndex||!(o<0||l>0&&o>=l)||this._hasWarned.initialScrollIndex||(console.warn("initialScrollIndex \""+o+"\" is not valid (list has "+l+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,t,s){var r=e.getItemCount(e.data);(0,b.default)(t.first>=0&&t.last>=t.first-1&&t.last<r,"Invalid cells around viewport \"["+t.first+", "+t.last+"]\" was passed to VirtualizedList._createRenderMask");var i=new u.CellRenderMask(r);if(r>0){for(var o=0,l=[t,...null!=s?s:[]];o<l.length;o++){var n=l[o];i.addCells(n)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var h=O._initialRenderRegion(e);i.addCells(h)}var d=new Set(e.stickyHeaderIndices);O._ensureClosestStickyHeader(e,d,i,t.first)}return i}static _initialRenderRegion(e){var t,s,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:i,last:Math.min(r,i+(null!=(s=e.initialNumToRender)?s:10))-1}}static _ensureClosestStickyHeader(e,t,s,r){for(var i=e.ListHeaderComponent?1:0,o=r-1;o>=0;o--)if(t.has(o+i)){s.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,t){var s,r=e.data,i=e.getItemCount,o=T(e.onEndReachedThreshold),l=this._scrollMetrics,n=l.contentLength,h=l.offset,d=l.visibleLength,c=n-d-h;if(d<=0||n<=0)return t.last>=i(r)?O._constrainToItemCount(t,e):t;if(e.disableVirtualization){var u=c<o*d?x(e.maxToRenderPerBatch):0;s={first:0,last:Math.min(t.last+u,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(c)>=Number.EPSILON)return t.last>=i(r)?O._constrainToItemCount(t,e):t;s=(0,L.computeWindowedRenderLimits)(e,x(e.maxToRenderPerBatch),V(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),(0,b.default)(s.last<i(r),'computeWindowedRenderLimits() should return range in-bounds')}if(this._nestedChildLists.size()>0){var p=this._findFirstChildWithMore(s.first,s.last);s.last=null!=p?p:s.last}return s}_findFirstChildWithMore(e,t){for(var s=e;s<=t;s++){var r=this._indicesToKeys.get(s);if(null!=r&&this._nestedChildLists.anyInCell(r,e=>e.hasMore()))return s}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener('wheel',this.invertedWheelEventHandler):setTimeout(()=>this.setupWebWheelHandler(),50)}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener('wheel',this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var s=O._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:s,renderMask:O._createRenderMask(e,s)}}_pushCells(e,t,r,i,o,l){var n,h=this,d=this.props,c=d.CellRendererComponent,u=d.ItemSeparatorComponent,p=d.ListHeaderComponent,f=d.ListItemComponent,_=d.data,v=d.debug,C=d.getItem,L=d.getItemCount,b=d.getItemLayout,S=d.horizontal,I=d.renderItem,R=p?1:0,w=L(_)-1;o=Math.min(w,o);for(var x=function(){var i=C(_,E),o=h._keyExtractor(i,E,h.props);h._indicesToKeys.set(E,o),r.has(E+R)&&t.push(e.length);var d=null==b||v||h._fillRateHelper.enabled();e.push(M.createElement(y.default,(0,s.default)({CellRendererComponent:c,ItemSeparatorComponent:E<w?u:void 0,ListItemComponent:f,cellKey:o,horizontal:S,index:E,inversionStyle:l,item:i,key:o,prevCellKey:n,onUpdateSeparators:h._onUpdateSeparators,onCellFocusCapture:e=>h._onCellFocusCapture(o),onUnmount:h._onCellUnmount,ref:e=>{h._cellRefs[o]=e},renderItem:I},d&&{onCellLayout:h._onCellLayout}))),n=o},E=i;E<=o;E++)x()}static _constrainToItemCount(e,t){var s=t.getItemCount(t.data),r=Math.min(s-1,e.last),i=x(t.maxToRenderPerBatch);return{first:(0,d.default)(0,s-1-i,e.first),last:r}}_isNestedWithSameOrientation(){var e=this.context;return!(!e||!!e.horizontal!==w(this.props.horizontal))}_keyExtractor(e,t,s){if(null!=s.keyExtractor)return s.keyExtractor(e,t);var r=(0,L.keyExtractor)(e,t);return r===String(t)&&(I=!0,e.type&&e.type.displayName&&(R=e.type.displayName)),r}render(){this._checkProps(this.props);var e=this.props,s=e.ListEmptyComponent,i=e.ListFooterComponent,o=e.ListHeaderComponent,n=this.props,h=n.data,c=n.horizontal,u=this.props.inverted?w(this.props.horizontal)?z.horizontallyInverted:z.verticallyInverted:null,p=[],f=new Set(this.props.stickyHeaderIndices),_=[];if(o){f.has(0)&&_.push(0);var v=M.isValidElement(o)?o:M.createElement(o,null);p.push(M.createElement(C.VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-header',key:"$header"},M.createElement(l.default,{onLayout:this._onLayoutHeader,style:[u,this.props.ListHeaderComponentStyle]},v)))}var y=this.props.getItemCount(h);if(0===y&&s){var L=M.isValidElement(s)?s:M.createElement(s,null);p.push(M.createElement(C.VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-empty',key:"$empty"},M.cloneElement(L,{onLayout:e=>{this._onLayoutEmpty(e),L.props.onLayout&&L.props.onLayout(e)},style:[u,L.props.style]})))}if(y>0){I=!1,R='';for(var b,S=this._getSpacerKey(!c),x=this.state.renderMask.enumerateRegions(),E=k(x,e=>e.isSpacer),T=(0,t.default)(x);!(b=T()).done;){var F=b.value;if(F.isSpacer){if(this.props.disableVirtualization)continue;var V=F===E&&!this.props.getItemLayout?(0,d.default)(F.first-1,F.last,this._highestMeasuredFrameIndex):F.last,O=this.__getFrameMetricsApprox(F.first,this.props),A=this.__getFrameMetricsApprox(V,this.props),P=A.offset+A.length-O.offset;p.push(M.createElement(l.default,{key:"$spacer-"+F.first,style:{[S]:P}}))}else this._pushCells(p,_,f,F.first,F.last,u)}!this._hasWarned.keys&&I&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",R),this._hasWarned.keys=!0)}if(i){var N=M.isValidElement(i)?i:M.createElement(i,null);p.push(M.createElement(C.VirtualizedListCellContextProvider,{cellKey:this._getFooterCellKey(),key:"$footer"},M.createElement(l.default,{onLayout:this._onLayoutFooter,style:[u,this.props.ListFooterComponentStyle]},N)))}var W,H=(0,r.default)((0,r.default)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(W=this.props.scrollEventThrottle,null!=W?W:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:_,style:u?[u,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<y-1;var B=M.createElement(C.VirtualizedListContextProvider,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:w(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},M.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(H),{ref:this._captureScrollRef},p));return this.props.debug?M.createElement(l.default,{style:z.debug},B,this._renderDebugOverlay()):B}componentDidUpdate(e){var t=this.props,s=t.data,r=t.extraData;s===e.data&&r===e.extraData||this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.resetViewableIndices()});var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,e=>{e.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,t,s,r)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:t}),this._scrollMetrics.contentLength=this._selectLength({width:s,height:r});var i=this._convertParentScrollMetrics(this.context.getScrollMetrics());(this._scrollMetrics.visibleLength!==i.visibleLength||this._scrollMetrics.offset!==i.offset)&&(this._scrollMetrics.visibleLength=i.visibleLength,this._scrollMetrics.offset=i.offset,this._nestedChildLists.forEach(e=>{e.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn('measureLayoutRelativeToContainingList threw an error',e.stack)}}_getFooterCellKey(){return this._getCellKey()+'-footer'}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],s=this.props.getItemCount(this.props.data),r=0;r<s;r++){var i=this.__getFrameMetricsApprox(r,this.props);i.inLayout&&t.push(i)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,n=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),h=n.offset+n.length-o,d=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return M.createElement(l.default,{style:[z.debugOverlayBase,z.debugOverlay]},t.map((t,s)=>M.createElement(l.default,{key:'f'+s,style:[z.debugOverlayBase,z.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})),M.createElement(l.default,{style:[z.debugOverlayBase,z.debugOverlayFrameLast,{top:o*e,height:h*e}]}),M.createElement(l.default,{style:[z.debugOverlayBase,z.debugOverlayFrameVis,{top:d*e,height:c*e}]}))}_selectLength(e){return w(this.props.horizontal)?e.width:e.height}_selectOffset(e){return w(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,t=e.data,s=e.getItemCount,r=e.onStartReached,i=e.onStartReachedThreshold,o=e.onEndReached,l=e.onEndReachedThreshold,n=e.initialScrollIndex,h=this._scrollMetrics,d=h.contentLength,c=h.visibleLength,u=h.offset,p=u,f=d-c-u;p<.001&&(p=0),f<.001&&(f=0);var _=p<=(null!=i?i*c:2),v=f<=(null!=l?l*c:2);o&&this.state.cellsAroundViewport.last===s(t)-1&&v&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:f})):null!=r&&0===this.state.cellsAroundViewport.first&&_&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?n&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:p})):(this._sentStartForContentLength=_?this._sentStartForContentLength:0,this._sentEndForContentLength=v?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,t=e.first,s=e.last,r=this._scrollMetrics,i=r.offset,o=r.visibleLength,l=r.velocity,n=this.props.getItemCount(this.props.data),h=!1,d=E(this.props.onStartReachedThreshold),c=T(this.props.onEndReachedThreshold);if(t>0){var u=i-this.__getFrameMetricsApprox(t,this.props).offset;h=u<0||l<-2&&u<F(d,o)}if(!h&&s>=0&&s<n-1){var p=this.__getFrameMetricsApprox(s,this.props).offset-(i+o);h=p<0||l>2&&p<F(c,o)}if(h&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,t){this._viewabilityTuples.forEach(s=>{s.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,s.onViewableItemsChanged,t)})}}O.contextType=C.VirtualizedListContext;var z=n.default.create({verticallyInverted:{transform:'scaleY(-1)'},horizontallyInverted:{transform:'scaleX(-1)'},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}}),A=O},172,[173,18,4,176,177,85,26,183,184,189,190,191,192,193,194,195,196,197,198,9,199,13]);
__d(function(g,_r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(0,r.default)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},173,[174]);
__d(function(g,_r,i,_a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function n(e,t){if(e){if("string"==typeof e)return(0,r.default)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}},174,[175]);
__d(function(g,_r,i,_a,m,_e,d){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}})},175,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var t=e(r(d[0])),o=e(r(d[1])),n=e(r(d[2])),l=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];var s=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var s=(0,t.default)(e,l);return n.default.createElement(o.default,s)}},176,[27,85,13]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return C}});var o=e(r(d[0])),l=e(r(d[1])),n=e(r(d[2])),t=e(r(d[3])),s=e(r(d[4])),i=e(r(d[5])),c=e(r(d[6]));r(d[7]);var h=e(r(d[8])),p=e(r(d[9])),u=e(r(d[10])),S=e(r(d[11])),R=e(r(d[12])),f=e(r(d[13])),y=e(r(d[14])),T=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],b={};class v extends f.default.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var o=e.nativeEvent;this.isTouching=0!==o.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var o=u.default.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==o||e.target===o||this.observedScrollSinceBecomingResponder||this.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),u.default.blurTextInput(o))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>Date.now()-this.lastMomentumScrollEndTime<16||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime,this.scrollResponderScrollTo=(e,o,l)=>{if('number'==typeof e)console.warn('`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.');else{var n=e||b;e=n.x,o=n.y,l=n.animated}var t=this.getScrollableNode(),s=e||0,i=o||0;null!=t&&('function'==typeof t.scroll?t.scroll({top:i,left:s,behavior:l?'smooth':'auto'}):(t.scrollLeft=s,t.scrollTop=i))},this.scrollResponderZoomTo=(e,o)=>{(0,i.default)('zoomToRect is not implemented')},this.scrollResponderScrollNativeHandleToKeyboard=(e,o,l)=>{this.additionalScrollOffset=o||0,this.preventNegativeScrollOffset=!!l,S.default.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,o,l,n)=>{var s=t.default.get('window').height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var i=o-s+n+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(i=Math.max(0,i)),this.scrollResponderScrollTo({x:0,y:i,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,o,l)=>{if('number'==typeof e)console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.');else{var n=e||b;o=n.x,e=n.y,l=n.animated}this.scrollResponderScrollTo({x:o||0,y:e||0,animated:!1!==l})},this.scrollToEnd=e=>{var o=!1!==(e&&e.animated),l=this.props.horizontal,n=this.getScrollableNode(),t=l?n.scrollWidth:0,s=l?0:n.scrollHeight;this.scrollResponderScrollTo({x:t,y:s,animated:o})},this._handleContentOnLayout=e=>{var o=e.nativeEvent.layout,l=o.width,n=o.height;this.props.onContentSizeChange(l,n)},this._handleScroll=e=>{'on-drag'===this.props.keyboardDismissMode&&(0,s.default)(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,null!=e&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),(0,c.default)(this.props.forwardedRef)(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){(0,y.default)(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error('Error measuring text field: ',e)}render(){var e=this.props,t=e.contentContainerStyle,s=e.horizontal,c=e.onContentSizeChange,p=e.refreshControl,u=e.stickyHeaderIndices,S=e.pagingEnabled,y=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),b=(0,n.default)(e,T),v={};c&&(v={onLayout:this._handleContentOnLayout});var H=!s&&Array.isArray(u),E=H||S?f.default.Children.map(this.props.children,(e,o)=>{var l=H&&u.indexOf(o)>-1;return null!=e&&(l||S)?f.default.createElement(R.default,{style:[l&&w.stickyHeader,S&&w.pagingEnabledChild]},e):e}):this.props.children,C=f.default.createElement(R.default,(0,l.default)({},v,{children:E,collapsable:!1,ref:this._setInnerViewRef,style:[s&&w.contentContainerHorizontal,y&&w.contentContainerCenterContent,t]})),M=s?w.baseHorizontal:w.baseVertical,D=s?w.pagingEnabledHorizontal:w.pagingEnabledVertical,I=(0,o.default)((0,o.default)({},b),{},{style:[M,S&&D,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),N=h.default;(0,i.default)(void 0!==N,'ScrollViewClass must not be undefined');var x=f.default.createElement(N,(0,l.default)({},I,{ref:this._setScrollNodeRef}),C);return p?f.default.cloneElement(p,{style:I.style},x):x}}var H={flexGrow:1,flexShrink:1,transform:'translateZ(0)',WebkitOverflowScrolling:'touch'},w=p.default.create({baseVertical:(0,o.default)((0,o.default)({},H),{},{flexDirection:'column',overflowX:'hidden',overflowY:'auto'}),baseHorizontal:(0,o.default)((0,o.default)({},H),{},{flexDirection:'row',overflowX:'auto',overflowY:'hidden'}),contentContainerHorizontal:{flexDirection:'row'},contentContainerCenterContent:{justifyContent:'center',flexGrow:1},stickyHeader:{position:'sticky',top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:'x mandatory'},pagingEnabledVertical:{scrollSnapType:'y mandatory'},pagingEnabledChild:{scrollSnapAlign:'start'}}),E=f.default.forwardRef((e,o)=>f.default.createElement(v,(0,l.default)({},e,{forwardedRef:o})));E.displayName='ScrollView';var C=E},177,[4,18,27,120,178,9,104,82,180,26,179,98,85,13,181]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e},l=()=>{u.default.blurTextInput(u.default.currentlyFocusedField())}},178,[179]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var e,u=r(d[0]),t=(e=u)&&e.__esModule?e:{default:e},l={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&t.default.focus(e))},blurTextInput(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&t.default.blur(e))}}},179,[98]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return v}});var t=e(r(_d[0])),o=e(r(_d[1])),n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[2])),l=e(r(_d[3])),c=e(r(_d[4])),u=e(r(_d[5])),s=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function f(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var d=n.forwardRef((e,l)=>{var d=e.onScroll,v=e.onTouchMove,S=e.onWheel,b=e.scrollEnabled,w=void 0===b||b,T=e.scrollEventThrottle,p=void 0===T?0:T,y=e.showsHorizontalScrollIndicator,_=e.showsVerticalScrollIndicator,E=e.style,M=(0,o.default)(e,s),O=n.useRef({isScrolling:!1,scrollLastTick:0}),D=n.useRef(null),W=n.useRef(null);function j(e){return t=>{w&&e&&e(t)}}function P(e){O.current.isScrolling=!0,k(e)}function k(e){O.current.scrollLastTick=Date.now(),d&&d(f(e))}function H(e){O.current.isScrolling=!1,d&&d(f(e))}var I=!1===y||!1===_;return n.createElement(c.default,(0,t.default)({},M,{onScroll:function(e){var t,o,n;e.stopPropagation(),e.target===W.current&&(e.persist(),null!=D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{H(e)},100),O.current.isScrolling?(t=O.current.scrollLastTick,o=p,n=Date.now()-t,o>0&&n>=o&&k(e)):P(e))},onTouchMove:j(v),onWheel:j(S),ref:(0,u.default)(W,l),style:[E,!w&&h.scrollDisabled,I&&h.hideScrollbar]}))}),h=l.default.create({scrollDisabled:{overflowX:'hidden',overflowY:'hidden',touchAction:'none'},hideScrollbar:{scrollbarWidth:'none'}}),v=d},180,[18,27,13,26,85,103]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t},181,[182]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return function(){return t}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},m.exports=n},182,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t}});var e=r(d[0]),t=t=>{var n;try{n=(0,e.findDOMNode)(t)}catch(e){}return n}},183,[11]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var e,t=r(d[0]),l=(e=t)&&e.__esModule?e:{default:e};var s=class{constructor(e,t){this._delay=t,this._callback=e}dispose(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=l.default.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}},184,[185]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return _}});var t=e(r(d[0])),n=e(r(d[1])),o=e(r(d[2])),s=e(r(d[3])),c=new o.default,u={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions(e){var t=[],n=new Promise(n=>{S(),e&&t.push(e),t.push({run:n,name:'resolve '+(e&&e.name||'?')}),h.enqueueTasks(t)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{h.cancelTasks(t)}}},createInteractionHandle(){S();var e=++w;return f.add(e),e},clearInteractionHandle(e){(0,t.default)(!!e,'Must provide a handle to clear.'),S(),f.delete(e),v.add(e)},addListener:c.addListener.bind(c),setDeadline(e){b=e}},l=new Set,f=new Set,v=new Set,h=new n.default({onMoreTasks:S}),p=0,w=0,b=-1;function S(){p||(p=b>0?setTimeout(T):(0,s.default)(T))}function T(){p=0;var e=l.size;f.forEach(e=>l.add(e)),v.forEach(e=>l.delete(e));var t=l.size;if(0!==e&&0===t?c.emit(u.Events.interactionComplete):0===e&&0!==t&&c.emit(u.Events.interactionStart),0===t)for(var n=Date.now();h.hasTasksToProcess();)if(h.processNext(),b>0&&Date.now()-n>=b){S();break}f.clear(),v.clear()}var _=u},185,[9,186,187,188]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var t=e(r(d[0])),s=e(r(d[1]));var u=class{constructor(e){var t=e.onMoreTasks;this._onMoreTasks=t,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(e=>this.enqueue(e))}cancelTasks(e){this._queueStack=this._queueStack.map(s=>(0,t.default)((0,t.default)({},s),{},{tasks:s.tasks.filter(t=>-1===e.indexOf(t))})).filter((e,t)=>e.tasks.length>0||0===t)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():((0,s.default)('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}_getCurrentQueue(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}_genPromise(e){var t=this._queueStack.push({tasks:[],popable:!1})-1,s=this._queueStack[t];e.gen().then(()=>{s.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(t=>{setTimeout(()=>{throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t},0)})}}},186,[4,9]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});class t{constructor(){this._registry={}}addListener(t,s,l){var u=n(this._registry,t),o={context:l,listener:s,remove(){u.delete(o)}};return u.add(o),o}emit(t){var n=this._registry[t];if(null!=n){for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];for(var o=0,c=[...n];o<c.length;o++){var v=c[o];v.listener.apply(v.context,l)}}}removeAllListeners(t){null==t?this._registry={}:delete this._registry[t]}listenerCount(t){var n=this._registry[t];return null==n?0:n.size}}function n(t,n){var s=t[n];return null==s&&(s=new Set,t[n]=s),s}},187,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}}),Object.defineProperty(_e,"cancelIdleCallback",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=((e=t)&&e.__esModule?e:{default:e}).default&&void 0!==window.requestIdleCallback,l=n?window.requestIdleCallback:function(e,t){return setTimeout(()=>{var t=Date.now();e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})},1)},u=n?window.cancelIdleCallback:function(e){clearTimeout(e)},o=l},188,[23]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=function(t,n,u){return n<t?t:n>u?u:n}},189,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=function(){return console.log(...arguments)}},190,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function s(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"CellRenderMask",{enumerable:!0,get:function(){return i}});var e=s(r(d[0])),t=s(r(d[1]));class i{constructor(s){(0,t.default)(s>=0,'CellRenderMask must contain a non-negative number os cells'),this._numCells=s,this._regions=0===s?[]:[{first:0,last:s-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(s){if((0,t.default)(s.first>=0&&s.first<this._numCells&&s.last>=-1&&s.last<this._numCells&&s.last>=s.first-1,'CellRenderMask.addCells called with invalid cell range'),!(s.last<s.first)){var i=this._findRegion(s.first),l=i[0],n=i[1],f=this._findRegion(s.last),u=f[0],o=f[1];if(n!==o||l.isSpacer){var _=[],c=[],h=(0,e.default)((0,e.default)({},s),{},{isSpacer:!1});l.first<h.first&&(l.isSpacer?_.push({first:l.first,last:h.first-1,isSpacer:!0}):h.first=l.first),u.last>h.last&&(u.isSpacer?c.push({first:h.last+1,last:u.last,isSpacer:!0}):h.last=u.last);var p=[..._,h,...c],C=o-n+1;this._regions.splice(n,C,...p)}}}numCells(){return this._numCells}equals(s){return this._numCells===s._numCells&&this._regions.length===s._regions.length&&this._regions.every((e,t)=>e.first===s._regions[t].first&&e.last===s._regions[t].last&&e.isSpacer===s._regions[t].isSpacer)}_findRegion(s){for(var e=0,i=this._regions.length-1;e<=i;){var l=Math.floor((e+i)/2),n=this._regions[l];if(s>=n.first&&s<=n.last)return[n,l];s<n.first?i=l-1:s>n.last&&(e=l+1)}(0,t.default)(!1,"A region was not found containing cellIdx "+s)}}},191,[4,9]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var l=e(r(d[0])),t=e(r(d[1]));class n{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,l){var n;(0,t.default)(!this._childrenToCellKey.has(e),'Trying to add already present child list');var o=null!==(n=this._cellKeyToChildren.get(l))&&void 0!==n?n:new Set;o.add(e),this._cellKeyToChildren.set(l,o),this._childrenToCellKey.set(e,l)}remove(e){var l=this._childrenToCellKey.get(e);(0,t.default)(null!=l,'Trying to remove non-present child list'),this._childrenToCellKey.delete(e);var n=this._cellKeyToChildren.get(l);(0,t.default)(n,'_cellKeyToChildren should contain cellKey'),n.delete(e),0===n.size&&this._cellKeyToChildren.delete(l)}forEach(e){for(var t,n=(0,l.default)(this._cellKeyToChildren.values());!(t=n()).done;)for(var o,h=t.value,s=(0,l.default)(h);!(o=s()).done;){e(o.value)}}forEachInCell(e,t){for(var n,o,h=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],s=(0,l.default)(h);!(o=s()).done;){t(o.value)}}anyInCell(e,t){for(var n,o,h=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],s=(0,l.default)(h);!(o=s()).done;){if(t(o.value))return!0}return!1}size(){return this._childrenToCellKey.size}}},192,[173,9]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t,e=r(d[0]),s=(t=e)&&t.__esModule?t:{default:t};class n{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var l=[],_=10,h=null;var o=class{static addListener(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),l.push(t),{remove:()=>{l=l.filter(e=>t!==e)}}}static setSampleRate(t){h=t}static setMinSampleCount(t){_=t}constructor(t){this._anyBlankStartTime=null,this._enabled=!1,this._info=new n,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(h||0)>Math.random(),this._resetData()}activate(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}deactivateAndFlush(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<_)this._resetData();else{var e=g.performance.now()-t,n=(0,s.default)((0,s.default)({},this._info),{},{total_time_spent:e});l.forEach(t=>t(n)),this._resetData()}}}computeBlankness(t,e,s){if(!this._enabled||0===t.getItemCount(t.data)||e.last<e.first||null==this._samplesStartTime)return 0;var n=s.dOffset,l=s.offset,_=s.velocity,h=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(n));var o=Math.round(1e3*Math.abs(_)),u=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var f=0,c=e.first,p=this._getFrameMetrics(c,t);c<=e.last&&(!p||!p.inLayout);)p=this._getFrameMetrics(c,t),c++;p&&c>0&&(f=Math.min(h,Math.max(0,p.offset-l)));for(var b=0,y=e.last,k=this._getFrameMetrics(y,t);y>=e.first&&(!k||!k.inLayout);)k=this._getFrameMetrics(y,t),y--;if(k&&y<t.getItemCount(t.data)-1){var S=k.offset+k.length;b=Math.min(h,Math.max(0,l+h-S))}var M=Math.round(f+b),v=M/h;return v>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=o,this._info.any_blank_count++,this._info.pixels_blank+=M,v>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(o<.01||Math.abs(n)<1)&&this.deactivateAndFlush(),v}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new n,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}},193,[4]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t,e=r(_d[0]),s=(t=e)&&t.__esModule?t:{default:t},n=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),e.default=t,e})(r(_d[1]));class o extends n.PureComponent{constructor(t){super(t),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(t,e){'function'==typeof t?super.setState((e,s)=>{var n;this._inAsyncStateUpdate=!0;try{n=t(e,s)}catch(t){throw t}finally{this._inAsyncStateUpdate=!1}return n},e):super.setState(t,e)}_installSetStateHooks(){var t=this,e=this.props,n=this.state;Object.defineProperty(this,'props',{get:()=>((0,s.default)(!t._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),e),set(t){e=t}}),Object.defineProperty(this,'state',{get:()=>((0,s.default)(!t._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n),set(t){n=t}})}}},194,[9,13]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var t=e(r(d[0])),n=e(r(d[1])),s=e(r(d[2]));function l(e,t,n,s,l,u){if(h(n,s,l))return!0;var c=o(n,s,l);return 100*(e?c/l:c/u)>=t}function o(e,t,n){var s=Math.min(t,n)-Math.max(e,0);return Math.max(0,s)}function h(e,t,n){return e>=0&&t<=n&&t>e}var u=class{constructor(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,t,n,o,h){var u=e.getItemCount(e.data),c=this._config,f=c.itemVisiblePercentThreshold,v=c.viewAreaCoveragePercentThreshold,_=null!=v,w=_?v:f;(0,s.default)(null!=w&&null!=f!=(null!=v),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var b=[];if(0===u)return b;var I=-1,p=h||{first:0,last:u-1},y=p.first,T=p.last;if(T>=u)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:h,itemCount:u})),[];for(var M=y;M<=T;M++){var V=o(M,e);if(V){var C=V.offset-t,P=C+V.length;if(C<n&&P>0)I=M,l(_,w,C,P,n,V.length)&&b.push(M);else if(I>=0)break}}return b}onUpdate(e,t,n,s,l,o,h){var u=e.getItemCount(e.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==u&&s(0,e)){var c=[];if(u&&(c=this.computeViewableItems(e,t,n,s,h)),this._viewableIndices.length!==c.length||!this._viewableIndices.every((e,t)=>e===c[t]))if(this._viewableIndices=c,this._config.minimumViewTime){var f=setTimeout(()=>{this._timers.delete(f),this._onUpdateSync(e,c,o,l)},this._config.minimumViewTime);this._timers.add(f)}else this._onUpdateSync(e,c,o,l)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,s,l,o){s=s.filter(e=>this._viewableIndices.includes(e));for(var h,u=this._viewableItems,c=new Map(s.map(t=>{var n=o(t,!0,e);return[n.key,n]})),f=[],v=(0,n.default)(c);!(h=v()).done;){var _=h.value,w=_[0],b=_[1];u.has(w)||f.push(b)}for(var I,p=(0,n.default)(u);!(I=p()).done;){var y=I.value,T=y[0],M=y[1];c.has(T)||f.push((0,t.default)((0,t.default)({},M),{},{isViewable:!1}))}f.length>0&&(this._viewableItems=c,l({viewableItems:Array.from(c.values()),changed:f,viewabilityConfig:this._config}))}}},195,[4,173,9]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return d}});var t=e(r(_d[0])),o=e(r(_d[1])),s=e(r(_d[2])),n=e(r(_d[3])),l=r(_d[4]),p=e(r(_d[5])),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[6]));class d extends u.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,t=e.cellKey,o=e.prevCellKey;this.props.onUpdateSeparators([t,o],{highlighted:!0})},unhighlight:()=>{var e=this.props,t=e.cellKey,o=e.prevCellKey;this.props.onUpdateSeparators([t,o],{highlighted:!1})},updateProps:(e,t)=>{var o=this.props,s=o.cellKey,n=o.prevCellKey;this.props.onUpdateSeparators(['leading'===e?n:s],t)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,t){return{separatorProps:(0,o.default)((0,o.default)({},t.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(t=>({separatorProps:(0,o.default)((0,o.default)({},t.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,t,o,s){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?u.createElement(t,{item:o,index:s,separators:this._separators}):e?e({item:o,index:s,separators:this._separators}):void(0,p.default)(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}render(){var e=this.props,o=e.CellRendererComponent,n=e.ItemSeparatorComponent,p=e.ListItemComponent,d=e.cellKey,h=e.horizontal,y=e.item,f=e.index,v=e.inversionStyle,C=e.onCellFocusCapture,_=e.onCellLayout,L=e.renderItem,P=this._renderElement(L,p,y,f),K=u.isValidElement(n)?n:n&&u.createElement(n,this.state.separatorProps),I=v?h?[c.rowReverse,v]:[c.columnReverse,v]:h?[c.row,v]:v,w=o?u.createElement(o,(0,t.default)({cellKey:d,index:f,item:y,style:I,onFocusCapture:C},_&&{onLayout:this._onLayout}),P,K):u.createElement(s.default,(0,t.default)({style:I,onFocusCapture:C},_&&{onLayout:this._onLayout}),P,K);return u.createElement(l.VirtualizedListCellContextProvider,{cellKey:this.props.cellKey},w)}}var c=n.default.create({row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'}})},196,[18,4,85,26,197,9,13]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"VirtualizedListContext",{enumerable:!0,get:function(){return o}}),_e.VirtualizedListContextResetter=function(e){var t=e.children;return u.createElement(o.Provider,{value:null},t)},_e.VirtualizedListContextProvider=function(e){var t=e.children,l=e.value,s=(0,n.useMemo)(()=>({cellKey:null,getScrollMetrics:l.getScrollMetrics,horizontal:l.horizontal,getOutermostParentListRef:l.getOutermostParentListRef,registerAsNestedChild:l.registerAsNestedChild,unregisterAsNestedChild:l.unregisterAsNestedChild}),[l.getScrollMetrics,l.horizontal,l.getOutermostParentListRef,l.registerAsNestedChild,l.unregisterAsNestedChild]);return u.createElement(o.Provider,{value:s},t)},_e.VirtualizedListCellContextProvider=function(e){var t=e.cellKey,s=e.children,d=(0,n.useContext)(o),c=(0,n.useMemo)(()=>null==d?null:(0,l.default)((0,l.default)({},d),{},{cellKey:t}),[d,t]);return u.createElement(o.Provider,{value:c},s)};var e,t=r(_d[0]),l=(e=t)&&e.__esModule?e:{default:e},n=r(_d[1]),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(l){var n=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(t,l,n.get?n:{enumerable:!0,get:function(){return e[l]}})}),t.default=e,t})(n),o=u.createContext(null)},197,[4,13]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n,f,o){void 0===o&&(o=1);for(var s=n.getItemCount(n.data),l=[],u=0;u<t.length;u++)for(var v=t[u],c=0,h=s-1;c<=h;){var M=c+(h-c>>>1),b=f(M,n),x=b.offset*o,y=(b.offset+b.length)*o;if(0===M&&v<x||0!==M&&v<=x)h=M-1;else{if(!(v>y)){l[u]=M;break}c=M+1}}return l}function n(t,n){return n.last-n.first+1-Math.max(0,1+Math.min(n.last,t.last)-Math.max(n.first,t.first))}Object.defineProperty(e,'__esModule',{value:!0}),e.elementsThatOverlapOffsets=t,e.newRangeCount=n,e.computeWindowedRenderLimits=function(f,o,s,l,u,v){var c=f.getItemCount(f.data);if(0===c)return{first:0,last:-1};var h=v.offset,M=v.velocity,b=v.visibleLength,x=v.zoomScale,y=void 0===x?1:x,w=Math.max(0,h),k=w+b,p=(s-1)*b,C=M>1?'after':M<-1?'before':'none',O=Math.max(0,w-.5*p),_=Math.max(0,k+.5*p);if(u(c-1,f).offset*y<O)return{first:Math.max(0,c-1-o),last:c-1};var j=t([O,w,k,_],f,u,y),L=j[0],S=j[1],E=j[2],I=j[3];L=null==L?0:L,S=null==S?Math.max(0,L):S,I=null==I?c-1:I,E=null==E?Math.min(I,S+o-1):E;var R={first:S,last:E},z=n(l,R);for(;!(S<=L&&E>=I);){var B=z>=o,F=S<=l.first||S>l.last,J=S>L&&(!B||!F),N=E>=l.last||E<l.first,P=E<I&&(!B||!N);if(B&&!J&&!P)break;!J||'after'===C&&P&&N||(F&&z++,S--),!P||'before'===C&&J&&F||(N&&z++,E++)}if(!(E>=S&&S>=0&&E<c&&S>=L&&E<=I&&S<=R.first&&E>=R.last))throw new Error('Bad window calculation '+JSON.stringify({first:S,last:E,itemCount:c,overscanFirst:L,overscanLast:I,visible:R}));return{first:S,last:E}},e.keyExtractor=function(t,n){if('object'==typeof t&&null!=(null==t?void 0:t.key))return t.key;if('object'==typeof t&&null!=(null==t?void 0:t.id))return t.id;return String(n)}},198,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},199,[]);
__d(function(g,r,_i2,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return l}});var t=Number.isNaN||function(t){return'number'==typeof t&&t!=t};function n(n,u){return n===u||!(!t(n)||!t(u))}function u(t,u){if(t.length!==u.length)return!1;for(var l=0;l<t.length;l++)if(!n(t[l],u[l]))return!1;return!0}function l(t,n){void 0===n&&(n=u);var l=null;function i(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];if(l&&l.lastThis===this&&n(u,l.lastArgs))return l.lastResult;var s=t.apply(this,u);return l={lastResult:s,lastArgs:u,lastThis:this},s}return i.clear=function(){l=null},i}},200,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var t=e(r(_d[0])),u=e(r(_d[1])),n=e(r(_d[2])),f=e(r(_d[3]));r(_d[4]),r(_d[5]);var l=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(u){var n=Object.getOwnPropertyDescriptor(e,u);Object.defineProperty(t,u,n.get?n:{enumerable:!0,get:function(){return e[u]}})}),t.default=e,t})(r(_d[6])),o=["style"];function c(e){return l.forwardRef((c,d)=>{var s=(0,n.default)(c),y=s[0],p=s[1],_=(0,f.default)(p,d),b=y.passthroughAnimatedPropExplicitValues,v=y.style,O=null!=b?b:{},j=O.style,P=(0,u.default)(O,o),h=[v,j];return l.createElement(e,(0,t.default)({},y,P,{style:h,ref:_}))})}},201,[18,27,202,220,26,85,13]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return _}});var t=e(r(d[0])),u=e(r(d[1])),n=r(d[2]),l=e(r(d[3])),c=e(r(d[4])),f=r(d[5]),o=e(r(d[6]));function _(e){var t=(0,f.useReducer)(e=>e+1,0)[1],c=(0,f.useRef)(null),o=(0,f.useMemo)(()=>new u.default(e,()=>null==c.current?void 0:c.current()),[e]);v(o);var _=(0,f.useCallback)(u=>{o.setNativeView(u),c.current=()=>{t()};var l=b(u),f=[];for(var _ in e){var s=e[_];s instanceof n.AnimatedEvent&&s.__isNative&&(s.__attach(l,_),f.push([_,s]))}return()=>{c.current=null;for(var e=0,t=f;e<t.length;e++){var u=t[e],n=u[0];u[1].__detach(l,n)}}},[e,o]),h=(0,l.default)(_);return[s(o),h]}function s(e){return(0,t.default)((0,t.default)({},e.__getValue()),{},{collapsable:!1})}function v(e){var t=(0,f.useRef)(null),u=(0,f.useRef)(!1);(0,f.useEffect)(()=>{c.default.API.flushQueue()}),(0,o.default)(()=>(u.current=!1,()=>{u.current=!0}),[]),(0,o.default)(()=>{if(e.__attach(),null!=t.current){var n=t.current;n.__restoreDefaultValues(),n.__detach(),t.current=null}return()=>{u.current?e.__detach():t.current=e}},[e])}function b(e){return'object'==typeof e&&'function'==typeof(null==e?void 0:e.getScrollableNode)?e.getScrollableNode():e}},202,[4,203,204,219,209,13,97]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var t=e(r(d[0])),_=r(d[1]),s=e(r(d[2])),n=e(r(d[3])),o=e(r(d[4])),l=e(r(d[5]));class h extends s.default{constructor(e,_){super(),e.style&&(e=(0,t.default)((0,t.default)({},e),{},{style:new n.default(e.style)})),this._props=e,this._callback=_,this.__attach()}__getValue(){var e={};for(var t in this._props){var o=this._props[t];o instanceof s.default?(!o.__isNative||o instanceof n.default)&&(e[t]=o.__getValue()):o instanceof _.AnimatedEvent?e[t]=o.__getHandler():e[t]=o}return e}__getAnimatedValue(){var e={};for(var t in this._props){var _=this._props[t];_ instanceof s.default&&(e[t]=_.__getAnimatedValue())}return e}__attach(){for(var e in this._props){var t=this._props[e];t instanceof s.default&&t.__addChild(this)}}__detach(){for(var e in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var t=this._props[e];t instanceof s.default&&t.__removeChild(this)}super.__detach()}update(){this._callback()}__makeNative(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof s.default&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}setNativeView(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}__connectAnimatedView(){(0,l.default)(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;(0,l.default)(null!=e,'Unable to locate attached view in the native tree'),o.default.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}__disconnectAnimatedView(){(0,l.default)(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;(0,l.default)(null!=e,'Unable to locate attached view in the native tree'),o.default.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}__restoreDefaultValues(){this.__isNative&&o.default.API.restoreDefaultValues(this.__getNativeTag())}__getNativeConfig(){var e={};for(var t in this._props){var _=this._props[t];_ instanceof s.default&&(_.__makeNative(),e[t]=_.__getNativeTag())}return{type:'props',props:e}}}var u=h},203,[4,204,208,217,209,9]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.attachNativeEvent=v,Object.defineProperty(_e,"AnimatedEvent",{enumerable:!0,get:function(){return _}});var t=e(r(d[0])),n=r(d[1]),s=e(n),l=e(r(d[2]));function v(e,n,v){var _=[],o=(e,n)=>{if(e instanceof t.default)e.__makeNative(),_.push({nativeEventPath:n,animatedValueTag:e.__getNativeTag()});else if('object'==typeof e)for(var s in e)o(e[s],n.concat(s))};return(0,l.default)(v[0]&&v[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),o(v[0].nativeEvent,[]),null!=e&&_.forEach(t=>{s.default.API.addAnimatedEventToView(e,n,t)}),{detach(){null!=e&&_.forEach(t=>{s.default.API.removeAnimatedEventFromView(e,n,t.animatedValueTag)})}}}class _{constructor(e,t){this._listeners=[],this._argMapping=e,null==t&&(console.warn('Animated.event now requires a second argument for options'),t={useNativeDriver:!1}),t.listener&&this.__addListener(t.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=(0,n.shouldUseNativeDriver)(t)}__addListener(e){this._listeners.push(e)}__removeListener(e){this._listeners=this._listeners.filter(t=>t!==e)}__attach(e,t){(0,l.default)(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=v(e,t,this._argMapping)}__detach(e,t){(0,l.default)(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}__getHandler(){var e=this;if(this.__isNative)return this._callListeners;return function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];var v=(e,n,s)=>{if(e instanceof t.default)'number'==typeof n&&e.setValue(n);else if('object'==typeof e)for(var l in e)v(e[l],n[l],l)};e._argMapping.forEach((e,t)=>{v(e,s[t],'arg'+t)}),e._callListeners(...s)}}_callListeners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach(e=>e(...t))}}},204,[205,209,9]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return h}});var e=t(r(d[0])),s=t(r(d[1])),n=t(r(d[2])),_=t(r(d[3])).default.API;class u extends s.default{constructor(t,e){if(super(),'number'!=typeof t)throw new Error('AnimatedValue: Attempting to set value to undefined');this._startingValue=this._value=t,this._offset=0,this._animation=null,e&&e.useNativeDriver&&this.__makeNative()}__detach(){this.__isNative&&_.getValue(this.__getNativeTag(),t=>{this._value=t-this._offset}),this.stopAnimation(),super.__detach()}__getValue(){return this._value+this._offset}setValue(t){var e,s;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&(e=this.__getNativeTag().toString(),s=()=>_.setAnimatedNodeValue(this.__getNativeTag(),t),_.setWaitingForIdentifier(e),s(),_.unsetWaitingForIdentifier(e))}setOffset(t){this._offset=t,this.__isNative&&_.setAnimatedNodeOffset(this.__getNativeTag(),t)}flattenOffset(){this._value+=this._offset,this._offset=0,this.__isNative&&_.flattenAnimatedNodeOffset(this.__getNativeTag())}extractOffset(){this._offset+=this._value,this._value=0,this.__isNative&&_.extractAnimatedNodeOffset(this.__getNativeTag())}stopAnimation(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&(this.__isNative?_.getValue(this.__getNativeTag(),t):t(this.__getValue()))}resetAnimation(t){this.stopAnimation(t),this._value=this._startingValue,this.__isNative&&_.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}__onAnimatedValueUpdateReceived(t){this._updateValue(t,!1)}interpolate(t){return new e.default(this,t)}animate(t,e){var s=null;t.__isInteraction&&(s=n.default.createInteractionHandle());var _=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,t=>{this._updateValue(t,!0)},t=>{this._animation=null,null!==s&&n.default.clearInteractionHandle(s),e&&e(t)},_,this)}stopTracking(){this._tracking&&this._tracking.__detach(),this._tracking=null}track(t){this.stopTracking(),this._tracking=t,this._tracking&&this._tracking.update()}_updateValue(t,e){if(void 0===t)throw new Error('AnimatedValue: Attempting to set value to undefined');var s,n;this._value=t,e&&(s=this,n=new Set,(function t(e){'function'==typeof e.update?n.add(e):e.__getChildren().forEach(t)})(s),n.forEach(t=>t.update())),super.__callListeners(this.__getValue())}__getNativeConfig(){return{type:'value',value:this._value,offset:this._offset}}}var h=u},205,[206,207,185,209]);
__d(function(_g,_r,_i,_a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return g}});var e=t(_r(d[0])),a=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),i=t(_r(d[4])),o=t=>t;function u(t){if(t.outputRange&&'string'==typeof t.outputRange[0])return _(t);var e=t.outputRange,a=t.inputRange,n=t.easing||o,i='extend';void 0!==t.extrapolateLeft?i=t.extrapolateLeft:void 0!==t.extrapolate&&(i=t.extrapolate);var u='extend';return void 0!==t.extrapolateRight?u=t.extrapolateRight:void 0!==t.extrapolate&&(u=t.extrapolate),t=>{(0,r.default)('number'==typeof t,'Cannot interpolation an input which is not a number');var o=s(t,a);return p(t,a[o],a[o+1],e[o],e[o+1],n,i,u)}}function p(t,e,a,n,r,i,o,u){var p=t;if(p<e){if('identity'===o)return p;'clamp'===o&&(p=e)}if(p>a){if('identity'===u)return p;'clamp'===u&&(p=a)}return n===r?n:e===a?t<=e?n:r:(e===-1/0?p=-p:a===1/0?p-=e:p=(p-e)/(a-e),p=i(p),n===-1/0?p=-p:r===1/0?p+=n:p=p*(r-n)+n,p)}function l(t){var e=(0,i.default)(t);return null===e||'number'!=typeof e?t:"rgba("+((4278190080&(e=e||0))>>>24)+", "+((16711680&e)>>>16)+", "+((65280&e)>>>8)+", "+(255&e)/255+")"}var f=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function _(t){var a=t.outputRange;(0,r.default)(a.length>=2,'Bad output range'),h(a=a.map(l));var n=a[0].match(f).map(()=>[]);a.forEach(t=>{t.match(f).forEach((t,e)=>{n[e].push(+t)})});var i,o=a[0].match(f).map((a,r)=>u((0,e.default)((0,e.default)({},t),{},{outputRange:n[r]}))),p='string'==typeof(i=a[0])&&i.startsWith('rgb');return t=>{var e=0;return a[0].replace(f,()=>{var a=+o[e++](t);return p&&(a=e<4?Math.round(a):Math.round(1e3*a)/1e3),String(a)})}}function h(t){for(var e=t[0].replace(f,''),a=1;a<t.length;++a)(0,r.default)(e===t[a].replace(f,''),'invalid pattern '+t[0]+' and '+t[a])}function s(t,e){var a;for(a=1;a<e.length-1&&!(e[a]>=t);++a);return a-1}class c extends a.default{constructor(t,e){super(),this._parent=t,this._config=e,this._interpolation=u(e)}__makeNative(t){this._parent.__makeNative(t),super.__makeNative(t)}__getValue(){var t=this._parent.__getValue();return(0,r.default)('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._interpolation(t)}interpolate(t){return new c(this,t)}__attach(){this._parent.__addChild(this)}__detach(){this._parent.__removeChild(this),super.__detach()}__transformDataType(t){return t.map(n.default.transformDataType)}__getNativeConfig(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation'}}}c.__createInterpolation=u;var g=c},206,[4,207,209,9,35]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var t=e(r(d[0])),_=e(r(d[1])),s=e(r(d[2]));class n extends _.default{constructor(){super(),this._children=[]}__makeNative(e){if(!this.__isNative){this.__isNative=!0;for(var _,n=(0,t.default)(this._children);!(_=n()).done;){var l=_.value;l.__makeNative(e),s.default.API.connectAnimatedNodes(this.__getNativeTag(),l.__getNativeTag())}}super.__makeNative(e)}__addChild(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(this.__getPlatformConfig()),s.default.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))}__removeChild(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&s.default.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}__getChildren(){return this._children}__callListeners(e){if(super.__callListeners(e),!this.__isNative)for(var _,s=(0,t.default)(this._children);!(_=s()).done;){var n=_.value;n.__getValue&&n.__callListeners(n.__getValue())}}}var l=n},207,[173,208,209]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t=e(r(d[0])),s=e(r(d[1])),n=t.default.API,_=1;var o=class{__attach(){}__detach(){this.__isNative&&null!=this.__nativeTag&&(t.default.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}__getValue(){}__getAnimatedValue(){return this.__getValue()}__addChild(e){}__removeChild(e){}__getChildren(){return[]}constructor(){this._listeners={}}__makeNative(e){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=e,this.hasListeners()&&this._startListeningToNativeValueUpdates()}addListener(e){var t=String(_++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t}removeListener(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}removeAllListeners(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}hasListeners(){return!!Object.keys(this._listeners).length}_startListeningToNativeValueUpdates(){this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),n.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=t.default.nativeEventEmitter.addListener('onAnimatedValueUpdate',e=>{e.tag===this.__getNativeTag()&&this.__onAnimatedValueUpdateReceived(e.value)}))}__onAnimatedValueUpdateReceived(e){this.__callListeners(e)}__callListeners(e){for(var t in this._listeners)this._listeners[t]({value:e})}_stopListeningForNativeValueUpdates(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,n.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}__getNativeTag(){var e;t.default.assertNativeAnimatedModule(),(0,s.default)(this.__isNative,'Attempt to get native tag from node not marked as "native"');var n=null!==(e=this.__nativeTag)&&void 0!==e?e:t.default.generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=n;var _=this.__getNativeConfig();this._platformConfig&&(_.platformConfig=this._platformConfig),t.default.API.createAnimatedNode(n,_),this.__shouldUpdateListenersForNewNativeTag=!0}return n}__getNativeConfig(){throw new Error('This JS animated node type cannot be used as native animated node')}toJSON(){return this.__getValue()}__getPlatformConfig(){return this._platformConfig}__setPlatformConfig(e){this._platformConfig=e}}},208,[209,9]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return k}}),Object.defineProperty(_e,"API",{enumerable:!0,get:function(){return A}}),Object.defineProperty(_e,"isSupportedColorStyleProp",{enumerable:!0,get:function(){return j}}),Object.defineProperty(_e,"isSupportedStyleProp",{enumerable:!0,get:function(){return R}}),Object.defineProperty(_e,"isSupportedTransformProp",{enumerable:!0,get:function(){return I}}),Object.defineProperty(_e,"isSupportedInterpolationParam",{enumerable:!0,get:function(){return D}}),Object.defineProperty(_e,"addWhitelistedStyleProp",{enumerable:!0,get:function(){return S}}),Object.defineProperty(_e,"addWhitelistedTransformProp",{enumerable:!0,get:function(){return q}}),Object.defineProperty(_e,"addWhitelistedInterpolationParam",{enumerable:!0,get:function(){return V}}),Object.defineProperty(_e,"validateStyles",{enumerable:!0,get:function(){return E}}),Object.defineProperty(_e,"validateTransform",{enumerable:!0,get:function(){return C}}),Object.defineProperty(_e,"validateInterpolation",{enumerable:!0,get:function(){return F}}),Object.defineProperty(_e,"generateNewNodeTag",{enumerable:!0,get:function(){return x}}),Object.defineProperty(_e,"generateNewAnimationId",{enumerable:!0,get:function(){return L}}),Object.defineProperty(_e,"assertNativeAnimatedModule",{enumerable:!0,get:function(){return W}}),Object.defineProperty(_e,"shouldUseNativeDriver",{enumerable:!0,get:function(){return M}}),Object.defineProperty(_e,"transformDataType",{enumerable:!0,get:function(){return _}});var t=e(r(d[0])),n=e(r(d[1])),o=(e(r(d[2])),e(r(d[3])));r(d[4]);var u,l=e(r(d[5])),s=e(r(d[6])),f=(e(r(d[7])),n.default),p=1,c=1,v=new Set,b=!1,N=[],O=null,y=f,A={getValue:function(e,t){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.getValue,e,t)},setWaitingForIdentifier:function(e){v.add(e),b=!0,l.default.animatedShouldDebounceQueueFlush()&&O&&clearTimeout(O)},unsetWaitingForIdentifier:function(e){v.delete(e),0===v.size&&(b=!1,A.disableQueue())},disableQueue:function(){((0,s.default)(y,'Native animated module is not available'),l.default.animatedShouldDebounceQueueFlush())?(clearImmediate(O),O=setImmediate(A.flushQueue)):A.flushQueue()},flushQueue:function(){},queueOperation:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];b||0!==N.length?N.push(()=>e(...n)):e(...n)},createAnimatedNode:function(e,t){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.createAnimatedNode,e,t)},updateAnimatedNodeConfig:function(e,t){(0,s.default)(y,'Native animated module is not available')},startListeningToAnimatedNodeValue:function(e){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.startListeningToAnimatedNodeValue,e)},stopListeningToAnimatedNodeValue:function(e){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.stopListeningToAnimatedNodeValue,e)},connectAnimatedNodes:function(e,t){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.connectAnimatedNodes,e,t)},disconnectAnimatedNodes:function(e,t){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.disconnectAnimatedNodes,e,t)},startAnimatingNode:function(e,t,n,o){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.startAnimatingNode,e,t,n,o)},stopAnimation:function(e){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.stopAnimation,e)},setAnimatedNodeValue:function(e,t){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.setAnimatedNodeValue,e,t)},setAnimatedNodeOffset:function(e,t){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.setAnimatedNodeOffset,e,t)},flattenAnimatedNodeOffset:function(e){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.flattenAnimatedNodeOffset,e)},extractAnimatedNodeOffset:function(e){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.extractAnimatedNodeOffset,e)},connectAnimatedNodeToView:function(e,t){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.connectAnimatedNodeToView,e,t)},disconnectAnimatedNodeFromView:function(e,t){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.disconnectAnimatedNodeFromView,e,t)},restoreDefaultValues:function(e){(0,s.default)(y,'Native animated module is not available'),null!=y.restoreDefaultValues&&A.queueOperation(y.restoreDefaultValues,e)},dropAnimatedNode:function(e){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.dropAnimatedNode,e)},addAnimatedEventToView:function(e,t,n){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.addAnimatedEventToView,e,t,n)},removeAnimatedEventFromView(e,t,n){(0,s.default)(y,'Native animated module is not available'),A.queueOperation(y.removeAnimatedEventFromView,e,t,n)}},P={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},h=(0,t.default)((0,t.default)({},P),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),w={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},T={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function S(e){h[e]=!0}function q(e){w[e]=!0}function V(e){T[e]=!0}function j(e){return P.hasOwnProperty(e)}function R(e){return h.hasOwnProperty(e)}function I(e){return w.hasOwnProperty(e)}function D(e){return T.hasOwnProperty(e)}function C(e){e.forEach(e=>{if(!I(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")})}function E(e){for(var t in e)if(!R(t))throw new Error("Style property '"+t+"' is not supported by native animated module")}function F(e){for(var t in e)if(!D(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")}function x(){return p++}function L(){return c++}function W(){(0,s.default)(f,'Native animated module is not available')}var Q=!1;function M(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==e.useNativeDriver||f?e.useNativeDriver||!1:(Q||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),Q=!0),!1)}function _(e){return'string'!=typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e}var k={API:A,isSupportedColorStyleProp:j,isSupportedStyleProp:R,isSupportedTransformProp:I,isSupportedInterpolationParam:D,addWhitelistedStyleProp:S,addWhitelistedTransformProp:q,addWhitelistedInterpolationParam:V,validateStyles:E,validateTransform:C,validateInterpolation:F,generateNewNodeTag:x,generateNewAnimationId:L,assertNativeAnimatedModule:W,shouldUseNativeDriver:M,transformDataType:_,get nativeEventEmitter(){return u||(u=new o.default(null)),u}}},209,[4,210,212,213,215,216,9,214]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}});var e=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])).get('NativeAnimatedModule')},210,[211]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),_e.get=u,_e.getEnforcing=function(e){var n=null;return(0,t.default)(null!=n,"TurboModuleRegistry.getEnforcing(...): '"+e+"' could not be found. Verify that a module by this name is registered in the native binary."),n};var e,n=r(d[0]),t=(e=n)&&e.__esModule?e:{default:e};function u(e){return null}},211,[9]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}});var e=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])).get('NativeAnimatedTurboModule')},212,[211]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}}),r(d[0]);var t=e(r(d[1])),n=e(r(d[2]));class l{constructor(e){}addListener(e,n,l){var u;null==(u=this._nativeModule)||u.addListener(e);var s=t.default.addListener(e,n,l);return{remove:()=>{var e;null!=s&&(null==(e=this._nativeModule)||e.removeListeners(1),s.remove(),s=null)}}}removeListener(e,n){var l;null==(l=this._nativeModule)||l.removeListeners(1),t.default.removeListener(e,n)}emit(e){for(var n=arguments.length,l=new Array(n>1?n-1:0),u=1;u<n;u++)l[u-1]=arguments[u];t.default.emit(e,...l)}removeAllListeners(e){var l;(0,n.default)(null!=e,'`NativeEventEmitter.removeAllListener()` requires a non-null argument.'),null==(l=this._nativeModule)||l.removeListeners(this.listenerCount(e)),t.default.removeAllListeners(e)}listenerCount(e){return t.default.listenerCount(e)}}},213,[82,214,9]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=new((e=t)&&e.__esModule?e:{default:e}).default},214,[187]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},215,[82]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t={isLayoutAnimationEnabled:()=>!0,shouldEmitW3CPointerEvents:()=>!1,shouldPressibilityUseW3CPointerEventsForHover:()=>!1,animatedShouldDebounceQueueFlush:()=>!1,animatedShouldUseSingleOp:()=>!1}},216,[]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return y}});var t=e(r(d[0])),s=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),_=e(r(d[4])).default.flatten;function u(e){var l=_(e),n={};for(var f in l){var y=l[f];'transform'===f&&Array.isArray(y)?n[f]=new s.default(y):y instanceof t.default?n[f]=y:y&&!Array.isArray(y)&&'object'==typeof y&&(n[f]=u(y))}return n}class f extends l.default{constructor(e){super(),this._inputStyle=e,this._style=u(e)}_walkStyleAndGetValues(e){var s={};for(var l in e){var n=e[l];n instanceof t.default?n.__isNative||(s[l]=n.__getValue()):n&&!Array.isArray(n)&&'object'==typeof n?s[l]=this._walkStyleAndGetValues(n):s[l]=n}return s}__getValue(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}_walkStyleAndGetAnimatedValues(e){var s={};for(var l in e){var n=e[l];n instanceof t.default?s[l]=n.__getAnimatedValue():n&&!Array.isArray(n)&&'object'==typeof n&&(s[l]=this._walkStyleAndGetAnimatedValues(n))}return s}__getAnimatedValue(){return this._walkStyleAndGetAnimatedValues(this._style)}__attach(){for(var e in this._style){var s=this._style[e];s instanceof t.default&&s.__addChild(this)}}__detach(){for(var e in this._style){var s=this._style[e];s instanceof t.default&&s.__removeChild(this)}super.__detach()}__makeNative(){for(var e in this._style){var s=this._style[e];s instanceof t.default&&s.__makeNative()}super.__makeNative()}__getNativeConfig(){var e={};for(var s in this._style)if(this._style[s]instanceof t.default){var l=this._style[s];l.__makeNative(),e[s]=l.__getNativeTag()}return n.default.validateStyles(e),{type:'style',style:e}}}var y=f},217,[208,218,207,209,26]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e=t(r(d[0])),n=t(r(d[1])),s=t(r(d[2]));class f extends n.default{constructor(t){super(),this._transforms=t}__makeNative(){this._transforms.forEach(t=>{for(var n in t){var s=t[n];s instanceof e.default&&s.__makeNative()}}),super.__makeNative()}__getValue(){return this._transforms.map(t=>{var n={};for(var s in t){var f=t[s];f instanceof e.default?n[s]=f.__getValue():n[s]=f}return n})}__getAnimatedValue(){return this._transforms.map(t=>{var n={};for(var s in t){var f=t[s];f instanceof e.default?n[s]=f.__getAnimatedValue():n[s]=f}return n})}__attach(){this._transforms.forEach(t=>{for(var n in t){var s=t[n];s instanceof e.default&&s.__addChild(this)}})}__detach(){this._transforms.forEach(t=>{for(var n in t){var s=t[n];s instanceof e.default&&s.__removeChild(this)}}),super.__detach()}__getNativeConfig(){var t=[];return this._transforms.forEach(n=>{for(var f in n){var o=n[f];o instanceof e.default?t.push({type:'animated',property:f,nodeTag:o.__getNativeTag()}):t.push({type:'static',property:f,value:s.default.transformDataType(o)})}}),s.default.validateTransform(t),{type:'transform',transforms:t}}}var o=f},218,[208,207,209]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return u}});var t=r(d[0]);function u(u){var n=(0,t.useRef)(void 0);return(0,t.useCallback)(t=>{n.current&&(n.current(),n.current=void 0),null!=t&&(n.current=u(t))},[u])}},219,[13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var n=r(d[0]);function t(){for(var t=arguments.length,u=new Array(t),f=0;f<t;f++)u[f]=arguments[f];return(0,n.useCallback)(n=>{for(var t=0,f=u;t<f.length;t++){var l=f[t];null!=l&&('function'==typeof l?l(n):l.current=n)}},[...u])}},220,[13]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}}),r(d[0]);var t=e(r(d[1])),u=(0,e(r(d[2])).default)(t.default)},221,[13,222,201]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return P}});var t=e(r(_d[0])),n=e(r(_d[1])),o=e(r(_d[2])),l=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[3])),u=e(r(_d[4])),d=r(_d[5]),s=r(_d[6]),c=e(r(_d[7])),f=e(r(_d[8])),h=e(r(_d[9])),p=e(r(_d[10])),b=e(r(_d[11])),y=r(_d[12]),v=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],w='LOADED',E='LOADING',z=0,S=/^(data:image\/svg\+xml;utf8,)(.*)/;function k(e,t){return e&&null!=t?l.createElement("svg",{style:{position:'absolute',height:0,visibility:'hidden',width:0}},l.createElement("defs",null,l.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},l.createElement("feFlood",{floodColor:""+e,key:e}),l.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function I(e,t,n,o){var l=h.default.flatten(e),u=l.filter,d=l.resizeMode,c=l.shadowOffset,f=l.tintColor;l.resizeMode&&(0,y.warnOnce)('Image.style.resizeMode','Image: style.resizeMode is deprecated. Please use props.resizeMode.'),l.tintColor&&(0,y.warnOnce)('Image.style.tintColor','Image: style.tintColor is deprecated. Please use props.tintColor.');var p=[],b=null;if(u&&p.push(u),t&&p.push("blur("+t+"px)"),c){var v=(0,s.createBoxShadowValue)(l);v&&p.push("drop-shadow("+v+")")}return(o||f)&&null!=n&&p.push("url(#tint-"+n+")"),p.length>0&&(b=p.join(' ')),[d,b,f]}function C(e){if('number'==typeof e){var t=(0,d.getAssetByID)(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&'object'==typeof e)return{height:e.height,width:e.width}}function O(e){var t=null;if('number'==typeof e){var n=(0,d.getAssetByID)(e);if(null==n)throw new Error("Image: asset with ID \""+e+"\" could not be found. Please check the image source or packager.");var o=n.scales[0];if(n.scales.length>1){var l=f.default.get();o=n.scales.reduce((e,t)=>Math.abs(t-l)<Math.abs(e-l)?t:e)}var u=1!==o?"@"+o+"x":'';t=n?n.httpServerLocation+"/"+n.name+u+"."+n.type:''}else'string'==typeof e?t=e:e&&'string'==typeof e.uri&&(t=e.uri);if(t){var s=t.match(S);if(s){var c=s[1],h=s[2];return""+c+encodeURIComponent(h)}}return t}var L=l.forwardRef((e,t)=>{var d=e['aria-label'],s=e.accessibilityLabel,f=e.blurRadius,h=e.defaultSource,y=e.draggable,S=e.onError,L=e.onLayout,M=e.onLoad,P=e.onLoadEnd,j=e.onLoadStart,D=e.pointerEvents,_=e.source,A=e.style,B=(0,o.default)(e,v),F=d||s,H=l.useState(()=>{var e=O(_);if(null!=e&&c.default.has(e))return w;return"IDLE"}),W=H[0],q=H[1],N=l.useState({}),$=N[0],G=N[1],U=l.useContext(p.default),V=l.useRef(null),J=l.useRef(z++),K=l.useRef(null),Q=W===w||W===E&&null==h,T=I(A,f,J.current,e.tintColor),X=T[0],Y=T[1],Z=T[2],ee=e.resizeMode||X||'cover',te=e.tintColor||Z,re=Q?_:h,ae=O(re),ne=C(re),oe=ae?"url(\""+ae+"\")":null,le=(function(){if(null!=V.current&&('center'===ee||'repeat'===ee)){var e=V.current,t=e.naturalHeight,n=e.naturalWidth,o=$.height,l=$.width;if(t&&n&&o&&l){var u=Math.min(1,l/n,o/t);return Math.ceil(u*n)+"px "+Math.ceil(u*t)+"px"}}})(),ue=ae?(0,u.default)('img',{alt:F||'',style:R.accessibilityImage$raw,draggable:y||!1,ref:V,src:ae}):null;var ie=O(_);return l.useEffect(()=>{function e(){null!=K.current&&(c.default.abort(K.current),K.current=null)}return e(),null!=ie&&(q(E),j&&j(),K.current=c.default.load(ie,function(e){q(w),M&&M(e),P&&P()},function(){q("ERRORED"),S&&S({nativeEvent:{error:"Failed to load resource "+ie}}),P&&P()})),e},[ie,K,q,S,M,P,j]),l.createElement(b.default,(0,n.default)({},B,{"aria-label":F,onLayout:function(e){if('center'===ee||'repeat'===ee||L){var t=e.nativeEvent.layout;L&&L(e),G(t)}},pointerEvents:D,ref:t,style:[R.root,U&&R.inline,ne,A,R.undo,{boxShadow:null}]}),l.createElement(b.default,{style:[R.image,x[ee],{backgroundImage:oe,filter:Y},null!=le&&{backgroundSize:le}],suppressHydrationWarning:!0}),ue,k(te,J.current))});L.displayName='Image';var M=L;M.getSize=function(e,t,n){c.default.getSize(e,t,n)},M.prefetch=function(e){return c.default.prefetch(e)},M.queryCache=function(e){return c.default.queryCache(e)};var R=h.default.create({root:{flexBasis:'auto',overflow:'hidden',zIndex:0},inline:{display:'inline-flex'},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,t.default)((0,t.default)({},h.default.absoluteFillObject),{},{backgroundColor:'transparent',backgroundPosition:'center',backgroundRepeat:'no-repeat',backgroundSize:'cover',height:'100%',width:'100%',zIndex:-1}),accessibilityImage$raw:(0,t.default)((0,t.default)({},h.default.absoluteFillObject),{},{height:'100%',opacity:0,width:'100%',zIndex:-1})}),x=h.default.create({center:{backgroundSize:'auto'},contain:{backgroundSize:'contain'},cover:{backgroundSize:'cover'},none:{backgroundPosition:'0',backgroundSize:'auto'},repeat:{backgroundPosition:'0',backgroundRepeat:'repeat',backgroundSize:'auto'},stretch:{backgroundSize:'100% 100%'}}),P=M},222,[4,18,27,13,86,223,73,224,225,26,114,85,74]);
__d(function(g,r,i,a,m,e,d){const s=[];m.exports={registerAsset:t=>s.push(t),getAssetByID:t=>s[t-1]}},223,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"ImageUriCache",{enumerable:!0,get:function(){return t}});var e=/^data:/;class t{static has(n){var o=t._entries;return e.test(n)||Boolean(o[n])}static add(e){var n=t._entries,o=Date.now();n[e]?(n[e].lastUsedTimestamp=o,n[e].refCount+=1):n[e]={lastUsedTimestamp:o,refCount:1}}static remove(e){var n=t._entries;n[e]&&(n[e].refCount-=1),t._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e,n,o=t._entries,s=Object.keys(o);s.length+1>t._maximumEntries&&(s.forEach(t=>{var s=o[t];(!n||s.lastUsedTimestamp<n.lastUsedTimestamp)&&0===s.refCount&&(e=t,n=s)}),e&&delete o[e])}}t._maximumEntries=256,t._entries={};var n=0,o={},s={abort(e){var t=o[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete o[""+e])},getSize(e,t,n){var l=!1,u=setInterval(f,16),c=s.load(e,f,function(){'function'==typeof n&&n();s.abort(c),clearInterval(u)});function f(){var e=o[""+c];if(e){var n=e.naturalHeight,f=e.naturalWidth;n&&f&&(t(f,n),l=!0)}l&&(s.abort(c),clearInterval(u))}},has:e=>t.has(e),load(e,t,s){n+=1;var l=new window.Image;return l.onerror=s,l.onload=e=>{var n=()=>t({nativeEvent:e});'function'==typeof l.decode?l.decode().then(n,n):setTimeout(n,0)},l.src=e,o[""+n]=l,n},prefetch:e=>new Promise((n,o)=>{s.load(e,()=>{t.add(e),t.remove(e),n()},o)}),queryCache(e){var n={};return e.forEach(e=>{t.has(e)&&(n[e]='disk/memory')}),Promise.resolve(n)}},l=s},224,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};class n{static get(){return u.default.get('window').scale}static getFontScale(){return u.default.get('window').fontScale||n.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*n.get())}static roundToNearestPixel(e){var t=n.get();return Math.round(e*t)/t}}},225,[120]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var t=e(r(_d[0])),n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[1])),u=e(r(_d[2])),f=e(r(_d[3])),o=n.forwardRef((e,f)=>n.createElement(u.default,(0,t.default)({scrollEventThrottle:1e-4},e,{ref:f}))),c=(0,f.default)(o)},226,[18,13,177,201]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var t=e(r(_d[0])),n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[1])),u=e(r(_d[2])),f=e(r(_d[3])),o=n.forwardRef((e,f)=>n.createElement(u.default,(0,t.default)({scrollEventThrottle:1e-4},e,{ref:f}))),c=(0,f.default)(o)},227,[18,13,228,201]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},228,[229]);
__d(function(g,r,i,a,m,_e,_d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var t=e(r(_d[0])),s=e(r(_d[1]));r(_d[2]);var n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t})(r(_d[3])),o=e(r(_d[4])),c=["stickySectionHeadersEnabled"];class l extends n.PureComponent{constructor(){super(...arguments),this._captureRef=e=>{this._wrapperListRef=e}}scrollToLocation(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}recordInteraction(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}flashScrollIndicators(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}getScrollResponder(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}getScrollableNode(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}render(){var e=this.props,l=e.stickySectionHeadersEnabled,f=(0,s.default)(e,c),p=null!=l&&l;return n.createElement(o.default,(0,t.default)({},f,{stickySectionHeadersEnabled:p,ref:this._captureRef,getItemCount:e=>e.length,getItem:(e,t)=>e[t]}))}}},229,[18,27,82,13,230]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var t=e(r(_d[0])),i=e(r(_d[1])),n=e(r(_d[2])),o=e(r(_d[3])),s=e(r(_d[4])),l=e(r(_d[5])),d=r(_d[6]),p=e(r(_d[7])),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t})(r(_d[8])),c=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];class h extends u.PureComponent{constructor(){super(...arguments),this._keyExtractor=(e,t)=>{var i=this._subExtractor(t);return i&&i.key||String(t)},this._convertViewable=e=>{var t;(0,p.default)(null!=e.index,'Received a broken ViewToken');var i=this._subExtractor(e.index);if(!i)return null;var n=i.section.keyExtractor,s=this.props.keyExtractor||d.keyExtractor,l=null!=n?n(e.item,i.index):s(e.item,null!==(t=i.index)&&void 0!==t?t:0);return(0,o.default)((0,o.default)({},e),{},{index:i.index,key:l,section:i.section})},this._onViewableItemsChanged=e=>{var t=e.viewableItems,i=e.changed,n=this.props.onViewableItemsChanged;null!=n&&n({viewableItems:t.map(this._convertViewable,this).filter(Boolean),changed:i.map(this._convertViewable,this).filter(Boolean)})},this._renderItem=e=>t=>{var i=t.item,n=t.index,o=this._subExtractor(n);if(!o)return null;var s=o.index;if(null==s){var l=o.section;if(!0===o.header){var d=this.props.renderSectionHeader;return d?d({section:l}):null}var c=this.props.renderSectionFooter;return c?c({section:l}):null}var h=o.section.renderItem||this.props.renderItem,S=this._getSeparatorComponent(n,o,e);return(0,p.default)(h,'no renderItem!'),u.createElement(f,{SeparatorComponent:S,LeadingSeparatorComponent:0===s?this.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:s,item:i,leadingItem:o.leadingItem,leadingSection:o.leadingSection,prevCellKey:(this._subExtractor(n-1)||{}).key,setSelfHighlightCallback:this._setUpdateHighlightFor,setSelfUpdatePropsCallback:this._setUpdatePropsFor,updateHighlightFor:this._updateHighlightFor,updatePropsFor:this._updatePropsFor,renderItem:h,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection,inverted:!!this.props.inverted})},this._updatePropsFor=(e,t)=>{var i=this._updatePropsMap[e];null!=i&&i(t)},this._updateHighlightFor=(e,t)=>{var i=this._updateHighlightMap[e];null!=i&&i(t)},this._setUpdateHighlightFor=(e,t)=>{null!=t?this._updateHighlightMap[e]=t:delete this._updateHighlightFor[e]},this._setUpdatePropsFor=(e,t)=>{null!=t?this._updatePropsMap[e]=t:delete this._updatePropsMap[e]},this._updateHighlightMap={},this._updatePropsMap={},this._captureRef=e=>{this._listRef=e}}scrollToLocation(e){for(var t=e.itemIndex,i=0;i<e.sectionIndex;i++)t+=this.props.getItemCount(this.props.sections[i].data)+2;var n=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)n+=this._listRef.__getFrameMetricsApprox(t-e.itemIndex,this._listRef.props).length;var s=(0,o.default)((0,o.default)({},e),{},{viewOffset:n,index:t});this._listRef.scrollToIndex(s)}}getListRef(){return this._listRef}render(){for(var e,o=this.props,s=(o.ItemSeparatorComponent,o.SectionSeparatorComponent,o.renderItem,o.renderSectionFooter,o.renderSectionHeader,o.sections,o.stickySectionHeadersEnabled,(0,n.default)(o,c)),d=this.props.ListHeaderComponent?1:0,p=this.props.stickySectionHeadersEnabled?[]:void 0,h=0,f=(0,i.default)(this.props.sections);!(e=f()).done;){var S=e.value;null!=p&&p.push(h+d),h+=2,h+=this.props.getItemCount(S.data)}var _=this._renderItem(h);return u.createElement(l.default,(0,t.default)({},s,{keyExtractor:this._keyExtractor,stickyHeaderIndices:p,renderItem:_,data:this.props.sections,getItem:(e,t)=>this._getItem(this.props,e,t),getItemCount:()=>h,onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}_getItem(e,t,i){if(!t)return null;for(var n=i-1,o=0;o<t.length;o++){var s=t[o],l=s.data,d=e.getItemCount(l);if(-1===n||n===d)return s;if(n<d)return e.getItem(l,n);n-=d+2}return null}_subExtractor(e){for(var t=e,i=this.props,n=i.getItem,o=i.getItemCount,s=i.keyExtractor,l=i.sections,p=0;p<l.length;p++){var u=l[p],c=u.data,h=u.key||String(p);if(!((t-=1)>=o(c)+1))return-1===t?{section:u,key:h+':header',index:null,header:!0,trailingSection:l[p+1]}:t===o(c)?{section:u,key:h+':footer',index:null,header:!1,trailingSection:l[p+1]}:{section:u,key:h+':'+(u.keyExtractor||s||d.keyExtractor)(n(c,t),t),index:t,leadingItem:n(c,t-1),leadingSection:l[p-1],trailingItem:n(c,t+1),trailingSection:l[p+1]};t-=o(c)+1}}_getSeparatorComponent(e,t,i){if(!(t=t||this._subExtractor(e)))return null;var n=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,o=this.props.SectionSeparatorComponent,s=e===i-1,l=t.index===this.props.getItemCount(t.section.data)-1;return o&&l?o:!n||l||s?null:n}}function f(e){var i=e.LeadingSeparatorComponent,n=e.SeparatorComponent,l=e.cellKey,d=e.prevCellKey,p=e.setSelfHighlightCallback,c=e.updateHighlightFor,h=e.setSelfUpdatePropsCallback,f=e.updatePropsFor,S=e.item,_=e.index,I=e.section,v=e.inverted,x=u.useState(!1),C=x[0],b=x[1],y=u.useState(!1),k=y[0],E=y[1],H=u.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),P=H[0],F=H[1],w=u.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),M=w[0],R=w[1];u.useEffect(()=>(p(l,E),h(l,R),()=>{h(l,null),p(l,null)}),[l,p,R,h]);var V={highlight:()=>{b(!0),E(!0),null!=d&&c(d,!0)},unhighlight:()=>{b(!1),E(!1),null!=d&&c(d,!1)},updateProps:(e,t)=>{'leading'===e?null!=i?F((0,o.default)((0,o.default)({},P),t)):null!=d&&f(d,(0,o.default)((0,o.default)({},P),t)):'trailing'===e&&null!=n&&R((0,o.default)((0,o.default)({},M),t))}},O=e.renderItem({item:S,index:_,section:I,separators:V}),U=null!=i&&u.createElement(i,(0,t.default)({highlighted:C},P)),j=null!=n&&u.createElement(n,(0,t.default)({highlighted:k},M));return U||j?u.createElement(s.default,null,!1===v?U:j,O,!1===v?j:U):O}var S=h},230,[18,173,27,4,85,172,198,9,13]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}}),r(d[0]);var t=e(r(d[1])),u=(0,e(r(d[2])).default)(t.default)},231,[13,161,201]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}}),r(d[0]);var t=e(r(d[1])),u=(0,e(r(d[2])).default)(t.default)},232,[13,85,201]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return h}});var e=t(r(d[0])),n=r(d[1]),u=t(r(d[2])),l=t(r(d[3])),f=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),v=t(r(d[8])),p=!1;function E(t){return e=>{var n=null==e?e:function(){if(p)console.warn('Ignoring recursive animation callback when running mock animations');else{p=!0;try{e(...arguments)}finally{p=!1}}};t(n)}}var y={start:()=>{},stop:()=>{},reset:()=>{},_startNativeLoop:()=>{},_isUsingNativeDriver:()=>!1},_=t=>(0,e.default)((0,e.default)({},y),{},{start:E(e=>{t.forEach(t=>t.start()),null==e||e({finished:!0})})}),h={Value:o.default,ValueXY:c.default,Color:v.default,Interpolation:l.default,Node:f.default,decay:function(t,e){return y},timing:function(t,n){var u=t;return(0,e.default)((0,e.default)({},y),{},{start:E(t=>{u.setValue(n.toValue),null==t||t({finished:!0})})})},spring:function(t,n){var u=t;return(0,e.default)((0,e.default)({},y),{},{start:E(t=>{u.setValue(n.toValue),null==t||t({finished:!0})})})},add:u.default.add,subtract:u.default.subtract,divide:u.default.divide,multiply:u.default.multiply,modulo:u.default.modulo,diffClamp:u.default.diffClamp,delay:function(t){return y},sequence:function(t){return _(t)},parallel:function(t,e){return _(t)},stagger:function(t,e){return _(e)},loop:function(t,e){(void 0===e?{}:e).iterations;return y},event:u.default.event,createAnimatedComponent:s.default,attachNativeEvent:n.attachNativeEvent,forkEvent:u.default.forkEvent,unforkEvent:u.default.unforkEvent,Event:n.AnimatedEvent}},233,[4,204,234,206,208,205,242,201,247]);
__d(function(_g,_r,_i,_a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return k}});var n=t(_r(d[0])),e=_r(d[1]),i=t(_r(d[2])),r=t(_r(d[3])),a=t(_r(d[4])),o=t(_r(d[5])),u=t(_r(d[6])),f=t(_r(d[7])),s=t(_r(d[8]));_r(d[9]);var c=t(_r(d[10])),v=t(_r(d[11])),l=t(_r(d[12])),p=t(_r(d[13])),g=t(_r(d[14])),_=t(_r(d[15])),h=t(_r(d[16])),N=t(_r(d[17])),w=t(_r(d[18])),E=function(t,n){return t&&n.onComplete?function(){n.onComplete&&n.onComplete(...arguments),t&&t(...arguments)}:t||n.onComplete},A=function(t,e,i){if(t instanceof p.default){var r=(0,n.default)({},e),a=(0,n.default)({},e);for(var o in e){var u=e[o],f=u.x,s=u.y;void 0!==f&&void 0!==s&&(r[o]=f,a[o]=s)}var c=i(t.x,r),v=i(t.y,a);return y([c,v],{stopTogether:!1})}if(t instanceof w.default){var l=(0,n.default)({},e),g=(0,n.default)({},e),_=(0,n.default)({},e),h=(0,n.default)({},e);for(var N in e){var E=e[N],A=E.r,D=E.g,L=E.b,U=E.a;void 0!==A&&void 0!==D&&void 0!==L&&void 0!==U&&(l[N]=A,g[N]=D,_[N]=L,h[N]=U)}var k=i(t.r,l),C=i(t.g,g),V=i(t.b,_),b=i(t.a,h);return y([k,C,V,b],{stopTogether:!1})}return null},D=function t(e,i){var r=function(t,n,e){e=E(e,n);var i=t,r=n;i.stopTracking(),n.toValue instanceof s.default?i.track(new v.default(i,n.toValue,h.default,r,e)):i.animate(new h.default(r),e)};return A(e,i,t)||{start:function(t){r(e,i,t)},stop:function(){e.stopAnimation()},reset:function(){e.resetAnimation()},_startNativeLoop:function(t){var a=(0,n.default)((0,n.default)({},i),{},{iterations:t});r(e,a)},_isUsingNativeDriver:function(){return i.useNativeDriver||!1}}},L=function(t){var n=0;return{start:function(e){0===t.length?e&&e({finished:!0}):t[n].start(function i(r){r.finished&&++n!==t.length?t[n].start(i):e&&e(r)})},stop:function(){n<t.length&&t[n].stop()},reset:function(){t.forEach((t,e)=>{e<=n&&t.reset()}),n=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},y=function(t,n){var e=0,i={},r=!(n&&!1===n.stopTogether),a={start:function(n){e!==t.length?t.forEach((o,u)=>{var f=function(o){if(i[u]=!0,++e===t.length)return e=0,void(n&&n(o));!o.finished&&r&&a.stop()};o?o.start(f):f({finished:!0})}):n&&n({finished:!0})},stop:function(){t.forEach((t,n)=>{!i[n]&&t.stop(),i[n]=!0})},reset:function(){t.forEach((t,n)=>{t.reset(),i[n]=!1,e=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return a},U=function(t){return D(new l.default(0),{toValue:0,delay:t,duration:0,useNativeDriver:!1})};var k={Value:l.default,ValueXY:p.default,Color:w.default,Interpolation:o.default,Node:s.default,decay:function t(e,i){var r=function(t,n,e){e=E(e,n);var i=t,r=n;i.stopTracking(),i.animate(new g.default(r),e)};return A(e,i,t)||{start:function(t){r(e,i,t)},stop:function(){e.stopAnimation()},reset:function(){e.resetAnimation()},_startNativeLoop:function(t){var a=(0,n.default)((0,n.default)({},i),{},{iterations:t});r(e,a)},_isUsingNativeDriver:function(){return i.useNativeDriver||!1}}},timing:D,spring:function t(e,i){var r=function(t,n,e){e=E(e,n);var i=t,r=n;i.stopTracking(),n.toValue instanceof s.default?i.track(new v.default(i,n.toValue,_.default,r,e)):i.animate(new _.default(r),e)};return A(e,i,t)||{start:function(t){r(e,i,t)},stop:function(){e.stopAnimation()},reset:function(){e.resetAnimation()},_startNativeLoop:function(t){var a=(0,n.default)((0,n.default)({},i),{},{iterations:t});r(e,a)},_isUsingNativeDriver:function(){return i.useNativeDriver||!1}}},add:function(t,n){return new i.default(t,n)},subtract:function(t,n){return new c.default(t,n)},divide:function(t,n){return new a.default(t,n)},multiply:function(t,n){return new f.default(t,n)},modulo:function(t,n){return new u.default(t,n)},diffClamp:function(t,n,e){return new r.default(t,n,e)},delay:U,sequence:L,parallel:y,stagger:function(t,n){return y(n.map((n,e)=>L([U(t*e),n])))},loop:function(t,n){var e=void 0===n?{}:n,i=e.iterations,r=void 0===i?-1:i,a=e.resetBeforeIteration,o=void 0===a||a,u=!1,f=0;return{start:function(n){t&&0!==r?t._isUsingNativeDriver()?t._startNativeLoop(r):(function e(i){void 0===i&&(i={finished:!0}),u||f===r||!1===i.finished?n&&n(i):(f++,o&&t.reset(),t.start(e))})():n&&n({finished:!0})},stop:function(){u=!0,t.stop()},reset:function(){f=0,u=!1,t.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return t._isUsingNativeDriver()}}},event:function(t,n){var i=new e.AnimatedEvent(t,n);return i.__isNative?i:i.__getHandler()},createAnimatedComponent:N.default,attachNativeEvent:e.attachNativeEvent,forkEvent:function(t,n){return t?t instanceof e.AnimatedEvent?(t.__addListener(n),t):function(){'function'==typeof t&&t(...arguments),n(...arguments)}:n},unforkEvent:function(t,n){t&&t instanceof e.AnimatedEvent&&t.__removeListener(n)},Event:e.AnimatedEvent}},234,[4,204,235,236,237,206,238,239,208,203,240,241,205,242,243,245,248,201,247]);
__d(function(g,r,i,_a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var t=e(r(d[0])),_=e(r(d[1])),a=e(r(d[2]));class u extends a.default{constructor(e,t){super(),this._a='number'==typeof e?new _.default(e):e,this._b='number'==typeof t?new _.default(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()+this._b.__getValue()}interpolate(e){return new t.default(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}var s=u},235,[206,205,207]);
__d(function(g,r,i,_a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var e=t(r(d[0])),a=t(r(d[1]));class _ extends a.default{constructor(t,e,a){super(),this._a=t,this._min=e,this._max=a,this._value=this._lastValue=this._a.__getValue()}__makeNative(t){this._a.__makeNative(t),super.__makeNative(t)}interpolate(t){return new e.default(this,t)}__getValue(){var t=this._a.__getValue(),e=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+e,this._min),this._max),this._value}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max}}}var s=_},236,[206,207]);
__d(function(g,r,i,_a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t=e(r(d[0])),_=e(r(d[1])),a=e(r(d[2])),n=e(r(d[3]));class s extends n.default{constructor(e,t){super(),this._warnedAboutDivideByZero=!1,(0===t||t instanceof _.default&&0===t.__getValue())&&console.error('Detected potential division by zero in AnimatedDivision'),this._a='number'==typeof e?new a.default(e):e,this._b='number'==typeof t?new a.default(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error('Detected division by zero in AnimatedDivision'),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}interpolate(e){return new t.default(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}var o=s},237,[206,208,205,207]);
__d(function(g,r,i,_a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return a}});var t=e(r(d[0])),_=e(r(d[1]));class u extends _.default{constructor(e,t){super(),this._a=e,this._modulus=t}__makeNative(e){this._a.__makeNative(e),super.__makeNative(e)}__getValue(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}interpolate(e){return new t.default(this,e)}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus}}}var a=u},238,[206,207]);
__d(function(g,r,i,_a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var t=e(r(d[0])),_=e(r(d[1])),a=e(r(d[2]));class u extends a.default{constructor(e,t){super(),this._a='number'==typeof e?new _.default(e):e,this._b='number'==typeof t?new _.default(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()*this._b.__getValue()}interpolate(e){return new t.default(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}var s=u},239,[206,205,207]);
__d(function(g,r,i,_a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var t=e(r(d[0])),_=e(r(d[1])),a=e(r(d[2]));class u extends a.default{constructor(e,t){super(),this._a='number'==typeof e?new _.default(e):e,this._b='number'==typeof t?new _.default(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()-this._b.__getValue()}interpolate(e){return new t.default(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}var s=u},240,[206,205,207]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e=t(r(d[0]));r(d[1]);var _=t(r(d[2])),n=r(d[3]);class s extends _.default{constructor(t,e,_,s,u){super(),this._value=t,this._parent=e,this._animationClass=_,this._animationConfig=s,this._useNativeDriver=(0,n.shouldUseNativeDriver)(s),this._callback=u,this.__attach()}__makeNative(){this.__isNative=!0,this._parent.__makeNative(),super.__makeNative(),this._value.__makeNative()}__getValue(){return this._parent.__getValue()}__attach(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}__detach(){this._parent.__removeChild(this),super.__detach()}update(){this._value.animate(new this._animationClass((0,e.default)((0,e.default)({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}__getNativeConfig(){var t=new this._animationClass((0,e.default)((0,e.default)({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:(0,n.generateNewAnimationId)(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}var u=s},241,[4,205,208,209]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e=t(r(d[0])),s=t(r(d[1])),n=t(r(d[2])),l=1;class f extends s.default{constructor(t){super();var s=t||{x:0,y:0};'number'==typeof s.x&&'number'==typeof s.y?(this.x=new e.default(s.x),this.y=new e.default(s.y)):((0,n.default)(s.x instanceof e.default&&s.y instanceof e.default,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),this.x=s.x,this.y=s.y),this._listeners={}}setValue(t){this.x.setValue(t.x),this.y.setValue(t.y)}setOffset(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}flattenOffset(){this.x.flattenOffset(),this.y.flattenOffset()}extractOffset(){this.x.extractOffset(),this.y.extractOffset()}__getValue(){return{x:this.x.__getValue(),y:this.y.__getValue()}}resetAnimation(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}stopAnimation(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}addListener(t){var e=String(l++),s=e=>{e.value;t(this.__getValue())};return this._listeners[e]={x:this.x.addListener(s),y:this.y.addListener(s)},e}removeListener(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}removeAllListeners(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}getLayout(){return{left:this.x,top:this.y}}getTranslateTransform(){return[{translateX:this.x},{translateY:this.y}]}}var u=f},242,[205,207,9]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return _}});var t,e=r(d[0]),s=(t=e)&&t.__esModule?t:{default:t},n=r(d[1]);class o extends s.default{constructor(t){var e,s,o;super(),this._deceleration=null!==(e=t.deceleration)&&void 0!==e?e:.998,this._velocity=t.velocity,this._useNativeDriver=(0,n.shouldUseNativeDriver)(t),this.__isInteraction=null!==(s=t.isInteraction)&&void 0!==s?s:!this._useNativeDriver,this.__iterations=null!==(o=t.iterations)&&void 0!==o?o:1}__getNativeAnimationConfig(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}start(t,e,s,n,o){this.__active=!0,this._lastValue=t,this._fromValue=t,this._onUpdate=e,this.__onEnd=s,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(o):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}onUpdate(){var t=Date.now(),e=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(e),Math.abs(this._lastValue-e)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=e,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}stop(){super.stop(),this.__active=!1,g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}var _=o},243,[244,209]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return _}});var t,e=r(d[0]),n=(t=e)&&t.__esModule?t:{default:t},o=1;var _=class{start(t,e,n,o,_){}stop(){this.__nativeId&&n.default.API.stopAnimation(this.__nativeId)}__getNativeAnimationConfig(){throw new Error('This animation type cannot be offloaded to native')}__debouncedOnEnd(t){var e=this.__onEnd;this.__onEnd=null,e&&e(t)}__startNativeAnimation(t){var e=o+":startAnimation";o+=1,n.default.API.setWaitingForIdentifier(e);try{var _=this.__getNativeAnimationConfig();t.__makeNative(_.platformConfig),this.__nativeId=n.default.generateNewAnimationId(),n.default.API.startAnimatingNode(this.__nativeId,t.__getNativeTag(),_,this.__debouncedOnEnd.bind(this))}catch(t){throw t}finally{n.default.API.unsetWaitingForIdentifier(e)}}}},244,[209]);
__d(function(g,r,i,a,_m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var s=t(r(d[0])),e=t(r(d[1])),n=t(r(d[2])),o=r(d[3]);r(d[4]);class h extends s.default{constructor(t){var s,h,l,_,f,u,m,v,c,p,V;if(super(),this._overshootClamping=null!==(s=t.overshootClamping)&&void 0!==s&&s,this._restDisplacementThreshold=null!==(h=t.restDisplacementThreshold)&&void 0!==h?h:.001,this._restSpeedThreshold=null!==(l=t.restSpeedThreshold)&&void 0!==l?l:.001,this._initialVelocity=null!==(_=t.velocity)&&void 0!==_?_:0,this._lastVelocity=null!==(f=t.velocity)&&void 0!==f?f:0,this._toValue=t.toValue,this._delay=null!==(u=t.delay)&&void 0!==u?u:0,this._useNativeDriver=(0,o.shouldUseNativeDriver)(t),this._platformConfig=t.platformConfig,this.__isInteraction=null!==(m=t.isInteraction)&&void 0!==m?m:!this._useNativeDriver,this.__iterations=null!==(v=t.iterations)&&void 0!==v?v:1,void 0!==t.stiffness||void 0!==t.damping||void 0!==t.mass)(0,n.default)(void 0===t.bounciness&&void 0===t.speed&&void 0===t.tension&&void 0===t.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),this._stiffness=null!==(c=t.stiffness)&&void 0!==c?c:100,this._damping=null!==(p=t.damping)&&void 0!==p?p:10,this._mass=null!==(V=t.mass)&&void 0!==V?V:1;else if(void 0!==t.bounciness||void 0!==t.speed){var T,y;(0,n.default)(void 0===t.tension&&void 0===t.friction&&void 0===t.stiffness&&void 0===t.damping&&void 0===t.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var b=e.default.fromBouncinessAndSpeed(null!==(T=t.bounciness)&&void 0!==T?T:8,null!==(y=t.speed)&&void 0!==y?y:12);this._stiffness=b.stiffness,this._damping=b.damping,this._mass=1}else{var M,P,D=e.default.fromOrigamiTensionAndFriction(null!==(M=t.tension)&&void 0!==M?M:40,null!==(P=t.friction)&&void 0!==P?P:7);this._stiffness=D.stiffness,this._damping=D.damping,this._mass=1}(0,n.default)(this._stiffness>0,'Stiffness value must be greater than 0'),(0,n.default)(this._damping>0,'Damping value must be greater than 0'),(0,n.default)(this._mass>0,'Mass value must be greater than 0')}__getNativeAnimationConfig(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(t=this._initialVelocity)&&void 0!==t?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(t,s,e,n,o){if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=s,this.__onEnd=e,this._lastTime=Date.now(),this._frameTime=0,n instanceof h){var l=n.getInternalState();this._lastPosition=l.lastPosition,this._lastVelocity=l.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=l.lastTime}var _=()=>{this._useNativeDriver?this.__startNativeAnimation(o):this.onUpdate()};this._delay?this._timeout=setTimeout(_,this._delay):_()}getInternalState(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}onUpdate(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var s=(t-this._lastTime)/1e3;this._frameTime+=s;var e=this._damping,n=this._mass,o=this._stiffness,h=-this._initialVelocity,l=e/(2*Math.sqrt(o*n)),_=Math.sqrt(o/n),f=_*Math.sqrt(1-l*l),u=this._toValue-this._startPosition,m=0,v=0,c=this._frameTime;if(l<1){var p=Math.exp(-l*_*c);m=this._toValue-p*((h+l*_*u)/f*Math.sin(f*c)+u*Math.cos(f*c)),v=l*_*p*(Math.sin(f*c)*(h+l*_*u)/f+u*Math.cos(f*c))-p*(Math.cos(f*c)*(h+l*_*u)-f*u*Math.sin(f*c))}else{var V=Math.exp(-_*c);m=this._toValue-V*(u+(h+_*u)*c),v=V*(h*(c*_-1)+c*u*(_*_))}if(this._lastTime=t,this._lastPosition=m,this._lastVelocity=v,this._onUpdate(m),this.__active){var T=!1;this._overshootClamping&&0!==this._stiffness&&(T=this._startPosition<this._toValue?m>this._toValue:m<this._toValue);var y=Math.abs(v)<=this._restSpeedThreshold,b=!0;if(0!==this._stiffness&&(b=Math.abs(this._toValue-m)<=this._restDisplacementThreshold),T||y&&b)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}var l=h},245,[244,246,9,209,247]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return u}});var u={fromOrigamiTensionAndFriction:function(u,o){return{stiffness:n(u),damping:t(o)}},fromBouncinessAndSpeed:function(u,o){function f(n,t,u){return(n-t)/(u-t)}function c(n,t,u){return t+n*(u-t)}function s(n,t,u){return n*u+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function M(n){return 45e-8*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var h=f(u/1.7,0,20);h=c(h,0,.8);var w,l,v,_,b=c(f(o/1.7,0,20),.5,200),O=(w=h,l=(v=b)<=18?(_=v,7e-4*Math.pow(_,3)-.031*Math.pow(_,2)+.64*_+1.28):v>18&&v<=44?p(v):M(v),s(2*w-w*w,l,.01));return{stiffness:n(b),damping:t(O)}}}},246,[]);
__d(function(_g,_r,i,_a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e=t(_r(d[0])),s=t(_r(d[1])),a=t(_r(d[2])),r=t(_r(d[3])).default.API,n={r:0,g:0,b:0,a:1},h=1;function l(t){if(null==t)return null;if(_(t))return t;var e=(0,a.default)(t);if(null==e)return null;if('object'==typeof e){if(null!=e)return e}else if('number'==typeof e){return{r:(4278190080&e)>>>24,g:(16711680&e)>>>16,b:(65280&e)>>>8,a:(255&e)/255}}return null}function _(t){return t&&'number'==typeof t.r&&'number'==typeof t.g&&'number'==typeof t.b&&'number'==typeof t.a}function o(t){return t&&t.r instanceof e.default&&t.g instanceof e.default&&t.b instanceof e.default&&t.a instanceof e.default}class f extends s.default{constructor(t,s){super(),this._listeners={};var a=null!=t?t:n;if(o(a)){var r=a;this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a}else{var h,f=null!==(h=l(a))&&void 0!==h?h:n,u=n;_(f)?u=f:this.nativeColor=f,this.r=new e.default(u.r),this.g=new e.default(u.g),this.b=new e.default(u.b),this.a=new e.default(u.a)}(this.nativeColor||s&&s.useNativeDriver)&&this.__makeNative()}setValue(t){var e,s=!1;if(this.__isNative){var a=this.__getNativeTag();r.setWaitingForIdentifier(a.toString())}var h=null!==(e=l(t))&&void 0!==e?e:n;if(_(h)){var o=h;this.r.setValue(o.r),this.g.setValue(o.g),this.b.setValue(o.b),this.a.setValue(o.a),null!=this.nativeColor&&(this.nativeColor=null,s=!0)}else{var f=h;this.nativeColor!==f&&(this.nativeColor=f,s=!0)}if(this.__isNative){var u=this.__getNativeTag();s&&r.updateAnimatedNodeConfig(u,this.__getNativeConfig()),r.unsetWaitingForIdentifier(u.toString())}}setOffset(t){this.r.setOffset(t.r),this.g.setOffset(t.g),this.b.setOffset(t.b),this.a.setOffset(t.a)}flattenOffset(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}extractOffset(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}addListener(t){var e=String(h++),s=e=>{e.value;t(this.__getValue())};return this._listeners[e]={r:this.r.addListener(s),g:this.g.addListener(s),b:this.b.addListener(s),a:this.a.addListener(s)},e}removeListener(t){this.r.removeListener(this._listeners[t].r),this.g.removeListener(this._listeners[t].g),this.b.removeListener(this._listeners[t].b),this.a.removeListener(this._listeners[t].a),delete this._listeners[t]}removeAllListeners(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}stopAnimation(t){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),t&&t(this.__getValue())}resetAnimation(t){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),t&&t(this.__getValue())}__getValue(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}__attach(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),super.__attach()}__detach(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),super.__detach()}__makeNative(t){this.r.__makeNative(t),this.g.__makeNative(t),this.b.__makeNative(t),this.a.__makeNative(t),super.__makeNative(t)}__getNativeConfig(){return{type:'color',r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}},247,[205,207,35,209]);
__d(function(g,r,i,a,m,_e,d){'use strict';function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return h}}),r(d[0]),r(d[1]),r(d[2]);var e,s=t(r(d[3])),n=t(r(d[4])),o=r(d[5]);r(d[6]);class _ extends n.default{constructor(t){var n,_,h,u,l;super(),this._toValue=t.toValue,this._easing=null!==(n=t.easing)&&void 0!==n?n:(e||(e=s.default.inOut(s.default.ease)),e),this._duration=null!==(_=t.duration)&&void 0!==_?_:500,this._delay=null!==(h=t.delay)&&void 0!==h?h:0,this.__iterations=null!==(u=t.iterations)&&void 0!==u?u:1,this._useNativeDriver=(0,o.shouldUseNativeDriver)(t),this._platformConfig=t.platformConfig,this.__isInteraction=null!==(l=t.isInteraction)&&void 0!==l?l:!this._useNativeDriver}__getNativeAnimationConfig(){for(var t=[],e=Math.round(this._duration/16.666666666666668),s=0;s<e;s++)t.push(this._easing(s/e));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(t,e,s,n,o){this.__active=!0,this._fromValue=t,this._onUpdate=e,this.__onEnd=s;var _=()=>{0!==this._duration||this._useNativeDriver?(this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(o):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))):(this._onUpdate(this._toValue),this.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(_,this._delay):_()}onUpdate(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}var h=_},248,[205,242,206,249,244,209,247]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},249,[250]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var t,e,u=r(d[0]),c=(t=u)&&t.__esModule?t:{default:t};class n{static step0(t){return t>0?1:0}static step1(t){return t>=1?1:0}static linear(t){return t}static ease(t){return e||(e=n.bezier(.42,0,1,1)),e(t)}static quad(t){return t*t}static cubic(t){return t*t*t}static poly(t){return e=>Math.pow(e,t)}static sin(t){return 1-Math.cos(t*Math.PI/2)}static circle(t){return 1-Math.sqrt(1-t*t)}static exp(t){return Math.pow(2,10*(t-1))}static elastic(t){void 0===t&&(t=1);var e=t*Math.PI;return t=>1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*e)}static back(t){return void 0===t&&(t=1.70158),e=>e*e*((t+1)*e-t)}static bounce(t){if(t<.36363636363636365)return 7.5625*t*t;if(t<.7272727272727273){var e=t-.5454545454545454;return 7.5625*e*e+.75}if(t<.9090909090909091){var u=t-.8181818181818182;return 7.5625*u*u+.9375}var c=t-.9545454545454546;return 7.5625*c*c+.984375}static bezier(t,e,u,n){return(0,c.default)(t,e,u,n)}static in(t){return t}static out(t){return e=>1-t(1-e)}static inOut(t){return e=>e<.5?t(2*e)/2:1-t(2*(1-e))/2}}var s=n},250,[251]);
__d(function(g,r,_i,a,m,e,d){
/**
   * BezierEasing - use bezier curve for transition easing function
   * https://github.com/gre/bezier-easing
   * @copyright 2014-2015 Gatan Renaudeau. MIT License.
   */
'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return h}});var n=4,t=.001,u=1e-7,o=10,f=11,i=.1,c='function'==typeof Float32Array;function v(n,t){return 1-3*t+3*n}function l(n,t){return 3*t-6*n}function b(n){return 3*n}function s(n,t,u){return((v(t,u)*n+l(t,u))*n+b(t))*n}function y(n,t,u){return 3*v(t,u)*n*n+2*l(t,u)*n+b(t)}function w(n,t,f,i,c){var v,l,b=0,y=t,w=f;do{(v=s(l=y+(w-y)/2,i,c)-n)>0?w=l:y=l}while(Math.abs(v)>u&&++b<o);return l}function _(t,u,o,f){for(var i=u,c=0;c<n;++c){var v=y(i,o,f);if(0===v)return i;i-=(s(i,o,f)-t)/v}return i}function h(n,u,o,v){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var l=c?new Float32Array(f):new Array(f);if(n!==u||o!==v)for(var b=0;b<f;++b)l[b]=s(b*i,n,o);function h(u){for(var f=0,c=1;10!==c&&l[c]<=u;++c)f+=i;--c;var v=f+(u-l[c])/(l[c+1]-l[c])*i,b=y(v,n,o);return b>=t?_(u,v,n,o):0===b?v:w(u,f,f+i,n,o)}return function(t){return n===u&&o===v?t:0===t?0:1===t?1:s(h(t),u,v)}}},251,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"Video",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"Audio",{enumerable:!0,get:function(){return t}});var e,t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=r(_d[1]),o=(e=n)&&e.__esModule?e:{default:e},c=r(_d[2]);Object.keys(c).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return c[e]}})});var u=r(_d[3]);Object.keys(u).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return u[e]}})});var f=r(_d[4]);Object.keys(f).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return f[e]}})});let l=!1;l||(console.warn('[expo-av]: Expo AV has been deprecated and will be removed in SDK 54. Use the `expo-audio` and `expo-video` packages to replace the required functionality.'),l=!0)},252,[253,310,308,254,314]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"setIsEnabledAsync",{enumerable:!0,get:function(){return l.setIsEnabledAsync}}),Object.defineProperty(_e,"PitchCorrectionQuality",{enumerable:!0,get:function(){return s.PitchCorrectionQuality}}),_e.setAudioModeAsync=async function(e){const n=p(e,O());if(!o.InterruptionModeIOS[n.interruptionModeIOS])throw new Error("\"interruptionModeIOS\" was set to an invalid value.");if(!o.InterruptionModeAndroid[n.interruptionModeAndroid])throw new Error("\"interruptionModeAndroid\" was set to an invalid value.");if('boolean'!=typeof n.allowsRecordingIOS||'boolean'!=typeof n.playsInSilentModeIOS||'boolean'!=typeof n.staysActiveInBackground||'boolean'!=typeof n.shouldDuckAndroid||'boolean'!=typeof n.playThroughEarpieceAndroid)throw new Error('"allowsRecordingIOS", "playsInSilentModeIOS", "playThroughEarpieceAndroid", "staysActiveInBackground" and "shouldDuckAndroid" must be booleans.');return f=n,await t.default.setAudioMode(n)};var e,o=r(d[0]),n=r(d[1]),t=(e=n)&&e.__esModule?e:{default:e},u=r(d[2]);Object.keys(u).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return u[e]}})});var c=r(d[3]);Object.keys(c).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return c[e]}})});var l=r(d[4]),s=r(d[5]);const p=(e,o)=>{for(const n in o)if(!e.hasOwnProperty(n)){const t=n;e[t]=o[t]}return e},y={allowsRecordingIOS:!1,interruptionModeIOS:o.InterruptionModeIOS.MixWithOthers,playsInSilentModeIOS:!1,staysActiveInBackground:!1,interruptionModeAndroid:o.InterruptionModeAndroid.DuckOthers,shouldDuckAndroid:!0,playThroughEarpieceAndroid:!1};let f=null;function O(){return f||y}},253,[254,255,292,294,293,295]);
__d(function(g,r,i,a,m,e,d){"use strict";var t,n;Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"InterruptionModeIOS",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"InterruptionModeAndroid",{enumerable:!0,get:function(){return n}}),(function(t){t[t.MixWithOthers=0]="MixWithOthers",t[t.DoNotMix=1]="DoNotMix",t[t.DuckOthers=2]="DuckOthers"})(t||(t={})),(function(t){t[t.DoNotMix=1]="DoNotMix",t[t.DuckOthers=2]="DuckOthers"})(n||(n={}))},254,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";const e=["uri"];function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return E}});var n=t(r(d[0])),o=r(d[1]),s=t(r(d[2])),u=r(d[3]);async function c(e){if(!navigator||!navigator.permissions||!navigator.permissions.query)return null;try{const{state:t}=await navigator.permissions.query({name:e});switch(t){case'granted':return o.PermissionStatus.GRANTED;case'denied':return o.PermissionStatus.DENIED;default:return o.PermissionStatus.UNDETERMINED}}catch{return o.PermissionStatus.UNDETERMINED}}function l(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);const t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||function(){const e=new Error('Permission unimplemented');throw e.code=0,e.name='NotAllowedError',e};return new Promise((n,o)=>{t.call(navigator,e,n,o)})}function p(e){if(!e)return{isLoaded:!1,error:void 0};const t=!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2);return{isLoaded:!0,uri:e.src,progressUpdateIntervalMillis:100,durationMillis:1e3*e.duration,positionMillis:1e3*e.currentTime,shouldPlay:e.autoplay,isPlaying:t,isBuffering:!1,rate:e.playbackRate,shouldCorrectPitch:!1,volume:e.volume,audioPan:0,isMuted:e.muted,isLooping:e.loop,didJustFinish:e.ended}}async function v(e,t){return void 0!==t.positionMillis&&(e.currentTime=t.positionMillis/1e3),void 0!==t.shouldPlay&&(t.shouldPlay?await e.play():await e.pause()),void 0!==t.rate&&(e.playbackRate=t.rate),void 0!==t.shouldCorrectPitch&&(e.preservesPitch=t.shouldCorrectPitch),void 0!==t.volume&&(e.volume=t.volume),void 0!==t.isMuted&&(e.muted=t.isMuted),void 0!==t.isLooping&&(e.loop=t.isLooping),p(e)}let y=null,w=0,f=0,A=!1;function R(){let e=f;return A&&w>0&&(e+=Date.now()-w),e}var E={getStatusForVideo:async e=>p(e),loadForVideo:async(e,t,n)=>p(e),unloadForVideo:async e=>p(e),setStatusForVideo:async(e,t)=>v(e,t),replayVideo:async(e,t)=>v(e,t),async setAudioMode(){},async setAudioIsEnabled(){},getStatusForSound:async e=>p(e),async loadForSound(e,t){const n='string'==typeof e?e:e.uri,o=new Audio(n);o.ontimeupdate=()=>{s.default.emit('didUpdatePlaybackStatus',{key:o,status:p(o)})},o.onerror=()=>{s.default.emit('ExponentAV.onError',{key:o,error:o.error.message})};const u=await v(o,t);return[o,u]},unloadForSound:async e=>(e.pause(),e.removeAttribute('src'),e.load(),p(e)),setStatusForSound:async(e,t)=>v(e,t),replaySound:async(e,t)=>v(e,t),getAudioRecordingStatus:async()=>({canRecord:'recording'===y?.state||'inactive'===y?.state,isRecording:'recording'===y?.state,isDoneRecording:!1,durationMillis:R(),uri:null}),async prepareAudioRecorder(t){if('undefined'!=typeof navigator&&!navigator.mediaDevices)throw new Error('No media devices available');w=0,f=0;const o=await l({audio:!0});y=new window.MediaRecorder(o,t?.web||u.RecordingOptionsPresets.HIGH_QUALITY.web),y.addEventListener('pause',()=>{f=R(),A=!1}),y.addEventListener('resume',()=>{w=Date.now(),A=!0}),y.addEventListener('start',()=>{w=Date.now(),f=0,A=!0}),y.addEventListener('stop',()=>{f=R(),A=!1,o.getTracks().forEach(e=>e.stop())});const s=await this.getAudioRecordingStatus();return{uri:null,status:(0,n.default)(s,e)}},async startAudioRecording(){if(null===y)throw new Error('Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.');return'paused'===y.state?y.resume():y.start(),this.getAudioRecordingStatus()},async pauseAudioRecording(){if(null===y)throw new Error('Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.');return y.pause(),this.getAudioRecordingStatus()},async stopAudioRecording(){const e=y;if(null===e)throw new Error('Cannot start an audio recording without initializing a MediaRecorder. Run prepareToRecordAsync() before attempting to start an audio recording.');if('inactive'===e.state)return this.getAudioRecordingStatus();const t=new Promise(t=>e.addEventListener('dataavailable',e=>t(e.data)));e.stop();const n=await t,o=URL.createObjectURL(n);return Object.assign({},await this.getAudioRecordingStatus(),{uri:o})},async unloadAudioRecorder(){y=null},async getPermissionsAsync(){switch(await c('microphone')){case o.PermissionStatus.GRANTED:return{status:o.PermissionStatus.GRANTED,expires:'never',canAskAgain:!0,granted:!0};case o.PermissionStatus.DENIED:return{status:o.PermissionStatus.DENIED,expires:'never',canAskAgain:!0,granted:!1};default:return await this.requestPermissionsAsync()}},async requestPermissionsAsync(){try{return(await l({audio:!0})).getTracks().forEach(e=>e.stop()),{status:o.PermissionStatus.GRANTED,expires:'never',canAskAgain:!0,granted:!0}}catch{return{status:o.PermissionStatus.DENIED,expires:'never',canAskAgain:!0,granted:!1}}}}},255,[119,256,290,291]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"uuid",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(_e,"Platform",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(_e,"requireNativeViewManager",{enumerable:!0,get:function(){return c.requireNativeViewManager}}),Object.defineProperty(_e,"EventEmitter",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(_e,"SharedObject",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(_e,"SharedRef",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(_e,"NativeModule",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(_e,"CodedError",{enumerable:!0,get:function(){return y.CodedError}}),Object.defineProperty(_e,"UnavailabilityError",{enumerable:!0,get:function(){return O.UnavailabilityError}}),Object.defineProperty(_e,"NativeModulesProxy",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"LegacyEventEmitter",{enumerable:!0,get:function(){return n.LegacyEventEmitter}});var t=e(r(d[0])),n=r(d[1]),u=e(r(d[2])),o=e(r(d[3])),c=r(d[4]),f=e(r(d[5])),l=e(r(d[6])),b=e(r(d[7])),y=r(d[8]),O=r(d[9]);r(d[10]),r(d[11]);var p=e(r(d[12])),j=r(d[13]);Object.keys(j).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return j[e]}})});var P=r(d[14]);Object.keys(P).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return P[e]}})});var s=r(d[15]);Object.keys(s).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return s[e]}})});var v=r(d[16]);Object.keys(v).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return v[e]}})});var h=r(d[17]);Object.keys(h).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return h[e]}})});var E=r(d[18]);Object.keys(E).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return E[e]}})});var w=r(d[19]);Object.keys(w).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return w[e]}})});var k=r(d[20]);Object.keys(k).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return k[e]}})})},256,[257,269,272,273,274,277,279,280,276,275,281,260,262,282,283,284,285,286,287,288,289]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),(0,r(d[0]).ensureNativeModulesAreInstalled)();var t=globalThis.expo.EventEmitter},257,[258]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.ensureNativeModulesAreInstalled=function(){if(globalThis.expo)return;try{(0,o.registerWebGlobals)()}catch(e){console.error(`Unable to install Expo modules: ${e}`)}};var e,l=r(d[0]);(e=l)&&e.__esModule;r(d[1]);var o=r(d[2])},258,[259,82,260]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u={UIManager:((e=t)&&e.__esModule?e:{default:e}).default}},259,[98]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.registerWebGlobals=u;var e,t=r(d[0]),o=r(d[1]),l=(e=o)&&e.__esModule?e:{default:e},n=r(d[2]);function u(){globalThis.expo||(globalThis.expo={EventEmitter:t.EventEmitter,NativeModule:t.NativeModule,SharedObject:t.SharedObject,SharedRef:t.SharedRef,modules:globalThis.ExpoDomWebView?.expoModulesProxy??{},uuidv4:l.default.v4,uuidv5:l.default.v5,getViewConfig:()=>{throw new Error('Method not implemented.')},reloadAppAsync:async()=>{window.location.reload()}})}Object.keys(n).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return n[e]}})}),u()},260,[261,262,268]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"EventEmitter",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"NativeModule",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"SharedObject",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"SharedRef",{enumerable:!0,get:function(){return o}});class t{addListener(t,s){this.listeners||(this.listeners=new Map),this.listeners?.has(t)||this.listeners?.set(t,new Set);const n=this.listenerCount(t);return this.listeners?.get(t)?.add(s),0===n&&1===this.listenerCount(t)&&this.startObserving(t),{remove:()=>{this.removeListener(t,s)}}}removeListener(t,s){const n=this.listeners?.get(t)?.delete(s);0===this.listenerCount(t)&&n&&this.stopObserving(t)}removeAllListeners(t){const s=this.listenerCount(t);this.listeners?.get(t)?.clear(),s>0&&this.stopObserving(t)}emit(t,...s){new Set(this.listeners?.get(t)).forEach(t=>{try{t(...s)}catch(t){console.error(t)}})}listenerCount(t){return this.listeners?.get(t)?.size??0}startObserving(t){}stopObserving(t){}}class s extends t{}class n extends t{release(){}}class o extends n{nativeRefType='unknown'}},261,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u.default}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},262,[263]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var t=r(d[0]),n=e(t),u=r(d[1]),c=e(u),o=r(d[2]);function f(){return crypto.randomUUID()}const l={v4:f,v5:(0,c.default)('v5',80,n.default),namespace:o.Uuidv5Namespace};var s=l},263,[264,265,267]);
__d(function(g,r,_i,_a,m,_e,_d){'use strict';function e(e,t,n,o){switch(e){case 0:return t&n^~t&o;case 1:case 3:return t^n^o;case 2:return t&n^t&o^n&o;default:return 0}}function t(e,t){return e<<t|e>>>32-t}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var n=function(n){const o=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof n){const e=unescape(encodeURIComponent(n));n=new Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t)}n.push(128);const l=n.length/4+2,f=Math.ceil(l/16),u=new Array(f);for(let e=0;e<f;e++){u[e]=new Array(16);for(let t=0;t<16;t++)u[e][t]=n[64*e+4*t]<<24|n[64*e+4*t+1]<<16|n[64*e+4*t+2]<<8|n[64*e+4*t+3]}u[f-1][14]=8*(n.length-1)/Math.pow(2,32),u[f-1][14]=Math.floor(u[f-1][14]),u[f-1][15]=8*(n.length-1)&4294967295;for(let n=0;n<f;n++){const l=new Array(80);for(let e=0;e<16;e++)l[e]=u[n][e];for(let e=16;e<80;e++)l[e]=t(l[e-3]^l[e-8]^l[e-14]^l[e-16],1);let f=c[0],a=c[1],s=c[2],h=c[3],i=c[4];for(let n=0;n<80;n++){const c=Math.floor(n/20),u=t(f,5)+e(c,a,s,h)+i+o[c]+l[n]>>>0;i=h,h=s,s=t(a,30)>>>0,a=f,f=u}c[0]=c[0]+f>>>0,c[1]=c[1]+a>>>0,c[2]=c[2]+s>>>0,c[3]=c[3]+h>>>0,c[4]=c[4]+i>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]}},264,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e};function o(e){const t=[];return e.replace(/[a-fA-F0-9]{2}/g,e=>(t.push(parseInt(e,16)),'')),t}function c(e){e=unescape(encodeURIComponent(e));const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function u(e,t,u){const f=function(e,f,s,i){const y=s&&i||0;if('string'==typeof e&&(e=c(e)),'string'==typeof f&&(f=o(f)),!Array.isArray(e))throw TypeError('value must be an array of bytes');if(!Array.isArray(f)||16!==f.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');const l=u(f.concat(e));if(l[6]=15&l[6]|t,l[8]=63&l[8]|128,s)for(let e=0;e<16;++e)s[y+e]=l[e];return(0,n.default)(l)};try{f.name=e}catch{}return f.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',f.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',f}},265,[266]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});const t=[];for(let n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var n=function(n,o){let u=o||0;const c=t;return[c[n[u++]],c[n[u++]],c[n[u++]],c[n[u++]],'-',c[n[u++]],c[n[u++]],'-',c[n[u++]],c[n[u++]],'-',c[n[u++]],c[n[u++]],'-',c[n[u++]],c[n[u++]],c[n[u++]],c[n[u++]],c[n[u++]],c[n[u++]]].join('')}},266,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"Uuidv5Namespace",{enumerable:!0,get:function(){return b}});let b=(function(b){return b.dns="6ba7b810-9dad-11d1-80b4-00c04fd430c8",b.url="6ba7b811-9dad-11d1-80b4-00c04fd430c8",b.oid="6ba7b812-9dad-11d1-80b4-00c04fd430c8",b.x500="6ba7b814-9dad-11d1-80b4-00c04fd430c8",b})({})},267,[]);
__d(function(g,r,i,a,m,e,d){},268,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"LegacyEventEmitter",{enumerable:!0,get:function(){return o}});var t=e(r(d[0])),n=e(r(d[1]));r(d[2]);const s='@@nativeEmitterSubscription@@';class o{_listenerCount=0;constructor(e){if(e.__expo_module_name__)return e;this._nativeModule=e,this._eventEmitter=new n.default(e)}addListener(e,t){!this._listenerCount&&this._nativeModule.startObserving&&this._nativeModule.startObserving(),this._listenerCount++;const n=this._eventEmitter.addListener(e,t),o={[s]:n,remove:()=>{this.removeSubscription(o)}};return o}removeAllListeners(e){const n=this._eventEmitter.listenerCount?this._eventEmitter.listenerCount(e):this._eventEmitter.listeners(e).length;this._eventEmitter.removeAllListeners(e),this._listenerCount-=n,(0,t.default)(this._listenerCount>=0,"EventEmitter must have a non-negative number of listeners"),!this._listenerCount&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving()}removeSubscription(e){const t=e[s];t&&('remove'in t&&t.remove(),this._listenerCount--,delete e[s],e.remove=()=>{},!this._listenerCount&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving())}emit(e,...t){this._eventEmitter.emit(e,...t)}}},269,[270,271,82]);
__d(function(g,r,i,_a,m,_e,_d){'use strict';m.exports=function(e,n,o,t,a,f,s,d){if(!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,t,a,f,s,d],l=0;(u=new Error(n.replace(/%s/g,function(){return c[l++]}))).name='Invariant Violation'}throw u.framesToPop=1,u}}},270,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},271,[213]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),(0,r(d[0]).ensureNativeModulesAreInstalled)();var t=globalThis.expo.NativeModule},272,[258]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t={}},273,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.requireNativeViewManager=function(n){throw new t.UnavailabilityError('expo-modules-core','requireNativeViewManager')};var t=r(d[0])},274,[275]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"UnavailabilityError",{enumerable:!0,get:function(){return o}});var t=r(d[0]);r(d[1]);class o extends t.CodedError{constructor(t,o){super('ERR_UNAVAILABLE',`The method or property ${t}.${o} is not available on web, are you sure you've linked all the native dependencies properly?`)}}},275,[276,277]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"CodedError",{enumerable:!0,get:function(){return t}});class t extends Error{constructor(t,o){super(o),this.code=t}}},276,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},s=r(d[1]);var c={OS:"web",select:n.default.select,isDOMAvailable:s.isDOMAvailable,canUseEventListeners:s.canUseEventListeners,canUseViewport:s.canUseViewport,isAsyncDebugging:s.isAsyncDebugging}},277,[82,278]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"isDOMAvailable",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"canUseEventListeners",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"canUseViewport",{enumerable:!0,get:function(){return c}}),Object.defineProperty(e,"isAsyncDebugging",{enumerable:!0,get:function(){return o}});const n=!!window.document?.createElement,t=n&&!(!window.addEventListener&&!window.attachEvent),c=n&&!!window.screen,o=!1},278,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),(0,r(d[0]).ensureNativeModulesAreInstalled)();var t=globalThis.expo.SharedObject},279,[258]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),(0,r(d[0]).ensureNativeModulesAreInstalled)();var t=globalThis.expo.SharedRef},280,[258]);
__d(function(g,r,i,a,m,e,d){},281,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function o(o){return'object'==typeof globalThis.ExpoDomWebView&&null!=globalThis?.expo?.modules?globalThis.expo?.modules?.[o]??null:null}Object.defineProperty(e,'__esModule',{value:!0}),e.requireNativeModule=function(l){const n=o(l);if(null!=n)return n;throw new Error(`Cannot find native module '${l}'`)},e.requireOptionalNativeModule=o},282,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.registerWebModule=function(l){(0,o.ensureNativeModulesAreInstalled)();const s=l.name;if(!s)throw new Error('Module implementation must be a class');globalThis?.expo?.modules||(globalThis.expo.modules={});if(globalThis.expo.modules[s])return globalThis.expo.modules[s];return globalThis.expo.modules[s]=new l,globalThis.expo.modules[s]};var o=r(d[0])},283,[258]);
__d(function(g,r,i,a,m,e,d){},284,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"PermissionStatus",{enumerable:!0,get:function(){return t}});let t=(function(t){return t.GRANTED="granted",t.UNDETERMINED="undetermined",t.DENIED="denied",t})({})},285,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";const e=["get","request"];Object.defineProperty(_e,'__esModule',{value:!0}),_e.createPermissionHook=function(e){return t=>s(e,t)};var t,u=r(d[0]),n=(t=u)&&t.__esModule?t:{default:t},c=r(d[1]);function s(t,u){const s=(0,c.useRef)(!0),[o,f]=(0,c.useState)(null),l=u||{},{get:h=!0,request:M=!1}=l,_=(0,n.default)(l,e),b=(0,c.useCallback)(async()=>{const e=await t.getMethod(Object.keys(_).length>0?_:void 0);return s.current&&f(e),e},[t.getMethod]),k=(0,c.useCallback)(async()=>{const e=await t.requestMethod(Object.keys(_).length>0?_:void 0);return s.current&&f(e),e},[t.requestMethod]);return(0,c.useEffect)(function(){M&&k(),!M&&h&&b()},[h,M,k,b]),(0,c.useEffect)(function(){return s.current=!0,()=>{s.current=!1}},[]),[o,k,b]}},286,[119,13]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.createSnapshotFriendlyRef=function(){return u.default.createRef()};var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},287,[13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.useReleasingSharedObject=function(n,u){const c=(0,t.useRef)(null),s=(0,t.useRef)(!1),l=(0,t.useRef)(u);null==c.current&&(c.current=n());const f=(0,t.useMemo)(()=>{let t=c.current;const f=l.current?.length===u.length&&u.every((t,n)=>t===l.current[n]);return t&&f?s.current=!0:(c.current?.release(),t=n(),c.current=t,l.current=u),t},u);return(0,t.useEffect)(()=>(s.current=!1,()=>{!s.current&&c.current&&c.current.release()}),[]),f};var t=r(d[0])},288,[13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.reloadAppAsync=async function(o="Reloaded from JS call"){await(globalThis.expo?.reloadAppAsync(o))}},289,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},290,[214]);
__d(function(g,r,i,a,m,e,d){"use strict";var A,t,n,E,M;Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"AndroidOutputFormat",{enumerable:!0,get:function(){return A}}),Object.defineProperty(e,"AndroidAudioEncoder",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"IOSOutputFormat",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"IOSAudioQuality",{enumerable:!0,get:function(){return E}}),Object.defineProperty(e,"IOSBitRateStrategy",{enumerable:!0,get:function(){return M}}),Object.defineProperty(e,"RecordingOptionsPresets",{enumerable:!0,get:function(){return o}}),(function(A){A[A.DEFAULT=0]="DEFAULT",A[A.THREE_GPP=1]="THREE_GPP",A[A.MPEG_4=2]="MPEG_4",A[A.AMR_NB=3]="AMR_NB",A[A.AMR_WB=4]="AMR_WB",A[A.AAC_ADIF=5]="AAC_ADIF",A[A.AAC_ADTS=6]="AAC_ADTS",A[A.RTP_AVP=7]="RTP_AVP",A[A.MPEG2TS=8]="MPEG2TS",A[A.WEBM=9]="WEBM"})(A||(A={})),(function(A){A[A.DEFAULT=0]="DEFAULT",A[A.AMR_NB=1]="AMR_NB",A[A.AMR_WB=2]="AMR_WB",A[A.AAC=3]="AAC",A[A.HE_AAC=4]="HE_AAC",A[A.AAC_ELD=5]="AAC_ELD"})(t||(t={})),(function(A){A.LINEARPCM="lpcm",A.AC3="ac-3",A["60958AC3"]="cac3",A.APPLEIMA4="ima4",A.MPEG4AAC="aac ",A.MPEG4CELP="celp",A.MPEG4HVXC="hvxc",A.MPEG4TWINVQ="twvq",A.MACE3="MAC3",A.MACE6="MAC6",A.ULAW="ulaw",A.ALAW="alaw",A.QDESIGN="QDMC",A.QDESIGN2="QDM2",A.QUALCOMM="Qclp",A.MPEGLAYER1=".mp1",A.MPEGLAYER2=".mp2",A.MPEGLAYER3=".mp3",A.APPLELOSSLESS="alac",A.MPEG4AAC_HE="aach",A.MPEG4AAC_LD="aacl",A.MPEG4AAC_ELD="aace",A.MPEG4AAC_ELD_SBR="aacf",A.MPEG4AAC_ELD_V2="aacg",A.MPEG4AAC_HE_V2="aacp",A.MPEG4AAC_SPATIAL="aacs",A.AMR="samr",A.AMR_WB="sawb",A.AUDIBLE="AUDB",A.ILBC="ilbc",A[A.DVIINTELIMA=1836253201]="DVIINTELIMA",A[A.MICROSOFTGSM=1836253233]="MICROSOFTGSM",A.AES3="aes3",A.ENHANCEDAC3="ec-3"})(n||(n={})),(function(A){A[A.MIN=0]="MIN",A[A.LOW=32]="LOW",A[A.MEDIUM=64]="MEDIUM",A[A.HIGH=96]="HIGH",A[A.MAX=127]="MAX"})(E||(E={})),(function(A){A[A.CONSTANT=0]="CONSTANT",A[A.LONG_TERM_AVERAGE=1]="LONG_TERM_AVERAGE",A[A.VARIABLE_CONSTRAINED=2]="VARIABLE_CONSTRAINED",A[A.VARIABLE=3]="VARIABLE"})(M||(M={}));const o={HIGH_QUALITY:{isMeteringEnabled:!0,android:{extension:'.m4a',outputFormat:A.MPEG_4,audioEncoder:t.AAC,sampleRate:44100,numberOfChannels:2,bitRate:128e3},ios:{extension:'.m4a',outputFormat:n.MPEG4AAC,audioQuality:E.MAX,sampleRate:44100,numberOfChannels:2,bitRate:128e3,linearPCMBitDepth:16,linearPCMIsBigEndian:!1,linearPCMIsFloat:!1},web:{mimeType:'audio/webm',bitsPerSecond:128e3}},LOW_QUALITY:{isMeteringEnabled:!0,android:{extension:'.3gp',outputFormat:A.THREE_GPP,audioEncoder:t.AMR_NB,sampleRate:44100,numberOfChannels:2,bitRate:128e3},ios:{extension:'.m4a',audioQuality:E.MIN,outputFormat:n.MPEG4AAC,sampleRate:44100,numberOfChannels:2,bitRate:64e3,linearPCMBitDepth:16,linearPCMIsBigEndian:!1,linearPCMIsFloat:!1},web:{mimeType:'audio/webm',bitsPerSecond:128e3}}}},291,[]);
__d(function(g,r,i,a,m,_e2,d){"use strict";Object.defineProperty(_e2,'__esModule',{value:!0}),_e2.getPermissionsAsync=_,_e2.requestPermissionsAsync=y,Object.defineProperty(_e2,"usePermissions",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e2,"Recording",{enumerable:!0,get:function(){return A}}),Object.defineProperty(_e2,"PermissionStatus",{enumerable:!0,get:function(){return e.PermissionStatus}});var e=r(d[0]),t=r(d[1]),n=r(d[2]);Object.keys(n).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e2,e)||Object.defineProperty(_e2,e,{enumerable:!0,get:function(){return n[e]}})});var s,o=r(d[3]),c=r(d[4]),u=r(d[5]),l=(s=u)&&s.__esModule?s:{default:s},p=r(d[6]);Object.keys(p).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e2,e)||Object.defineProperty(_e2,e,{enumerable:!0,get:function(){return p[e]}})});let h=!1;async function _(){return l.default.getPermissionsAsync()}async function y(){return l.default.requestPermissionsAsync()}const f=(0,e.createPermissionHook)({getMethod:_,requestMethod:y});class A{_subscription=null;_canRecord=!1;_isDoneRecording=!1;_finalDurationMillis=0;_uri=null;_onRecordingStatusUpdate=null;_progressUpdateTimeoutVariable=null;_progressUpdateIntervalMillis=c._DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS;_options=null;_cleanupForUnloadedRecorder=async e=>(this._canRecord=!1,this._isDoneRecording=!0,this._finalDurationMillis=e?.durationMillis??0,h=!1,this._subscription&&(this._subscription.remove(),this._subscription=null),this._disablePolling(),await this.getStatusAsync());_pollingLoop=async()=>{if((0,t.isAudioEnabled)()&&this._canRecord&&null!=this._onRecordingStatusUpdate){this._progressUpdateTimeoutVariable=setTimeout(this._pollingLoop,this._progressUpdateIntervalMillis);try{await this.getStatusAsync()}catch{this._disablePolling()}}};_disablePolling(){null!=this._progressUpdateTimeoutVariable&&(clearTimeout(this._progressUpdateTimeoutVariable),this._progressUpdateTimeoutVariable=null)}_enablePollingIfNecessaryAndPossible(){(0,t.isAudioEnabled)()&&this._canRecord&&null!=this._onRecordingStatusUpdate&&(this._disablePolling(),this._pollingLoop())}_callOnRecordingStatusUpdateForNewStatus(e){null!=this._onRecordingStatusUpdate&&this._onRecordingStatusUpdate(e)}async _performOperationAndHandleStatusAsync(e){if((0,t.throwIfAudioIsDisabled)(),this._canRecord){const t=await e();return this._callOnRecordingStatusUpdateForNewStatus(t),t}throw new Error('Cannot complete operation because this recorder is not ready to record.')}static createAsync=async(e=n.RecordingOptionsPresets.LOW_QUALITY,t=null,s=null)=>{const o=new A;s&&(o._progressUpdateIntervalMillis=s),o.setOnRecordingStatusUpdate(t),await o.prepareToRecordAsync(Object.assign({},e,{keepAudioActiveHint:!0}));try{const e=await o.startAsync();return{recording:o,status:e}}catch(e){throw o.stopAndUnloadAsync().catch(e=>{}),e}};getStatusAsync=async()=>{if(this._canRecord)return this._performOperationAndHandleStatusAsync(()=>l.default.getAudioRecordingStatus());const e={canRecord:!1,isRecording:!1,isDoneRecording:this._isDoneRecording,durationMillis:this._finalDurationMillis};return this._callOnRecordingStatusUpdateForNewStatus(e),e};setOnRecordingStatusUpdate(e){this._onRecordingStatusUpdate=e,null==e?this._disablePolling():this._enablePollingIfNecessaryAndPossible(),this.getStatusAsync()}setProgressUpdateInterval(e){this._progressUpdateIntervalMillis=e,this.getStatusAsync()}async prepareToRecordAsync(e=n.RecordingOptionsPresets.LOW_QUALITY){if((0,t.throwIfAudioIsDisabled)(),h)throw new Error('Only one Recording object can be prepared at a given time.');if(this._isDoneRecording)throw new Error('This Recording object is done recording; you must make a new one.');if(!e||!e.android||!e.ios)throw new Error('You must provide recording options for android and ios in order to prepare to record.');const s=/^\.\w+$/;if(!(e.android.extension&&e.ios.extension&&s.test(e.android.extension)&&s.test(e.ios.extension)))throw new Error(`Your file extensions must match ${s.toString()}.`);if(this._canRecord)throw new Error('This Recording object is already prepared to record.');{const{uri:t,status:n}=await l.default.prepareAudioRecorder(e);h=!0,this._uri=t,this._options=e,this._canRecord=!0;const s=Object.assign({},n,{canRecord:!0});return this._callOnRecordingStatusUpdateForNewStatus(s),this._enablePollingIfNecessaryAndPossible(),s}}async getAvailableInputs(){return l.default.getAvailableInputs()}async getCurrentInput(){return l.default.getCurrentInput()}async setInput(e){return l.default.setInput(e)}async startAsync(){return this._performOperationAndHandleStatusAsync(()=>l.default.startAudioRecording())}async pauseAsync(){return this._performOperationAndHandleStatusAsync(()=>l.default.pauseAudioRecording())}async stopAndUnloadAsync(){if(!this._canRecord)throw this._isDoneRecording?new Error('Cannot unload a Recording that has already been unloaded.'):new Error('Cannot unload a Recording that has not been prepared.');let e,t;try{e=await l.default.stopAudioRecording()}catch(e){t=e}void 0!==e?.uri&&(this._uri=e.uri),await l.default.unloadAudioRecorder();const n=await this._cleanupForUnloadedRecorder(e);return t?Promise.reject(t):n}getURI(){return this._uri}async createNewLoadedSound(e={},t=null){return console.warn("createNewLoadedSound is deprecated in favor of createNewLoadedSoundAsync, which has the same API aside from the method name"),this.createNewLoadedSoundAsync(e,t)}async createNewLoadedSoundAsync(e={},t=null){if(null==this._uri||!this._isDoneRecording)throw new Error('Cannot create sound when the Recording has not finished!');return o.Sound.createAsync({uri:this._uri},e,t,!1)}}},292,[256,293,291,294,295,255,309]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.isAudioEnabled=function(){return o},_e.throwIfAudioIsDisabled=function(){if(!o)throw new Error('Cannot complete operation because audio is not enabled.')},_e.setIsEnabledAsync=async function(e){o=e,await t.default.setAudioIsEnabled(e)};var e,n=r(d[0]),t=(e=n)&&e.__esModule?e:{default:e};let o=!0},293,[255]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"Sound",{enumerable:!0,get:function(){return u}});var t,e=r(d[0]),s=r(d[1]),n=r(d[2]),l=r(d[3]),o=(t=l)&&t.__esModule?t:{default:t};class u{_loaded=!1;_loading=!1;_key=null;_lastStatusUpdate=null;_lastStatusUpdateTime=null;_subscriptions=[];_eventEmitter=new e.LegacyEventEmitter(o.default);_coalesceStatusUpdatesInMillis=100;_onPlaybackStatusUpdate=null;_onMetadataUpdate=null;_onAudioSampleReceived=null;static create=async(t,e={},s=null,n=!0)=>(console.warn("Sound.create is deprecated in favor of Sound.createAsync with the same API except for the new method name"),u.createAsync(t,e,s,n));static createAsync=async(t,e={},s=null,n=!0)=>{const l=new u;l.setOnPlaybackStatusUpdate(s);const o=await l.loadAsync(t,e,n);return{sound:l,status:o}};_callOnPlaybackStatusUpdateForNewStatus(t){const e=this._lastStatusUpdateTime&&JSON.stringify(t)===this._lastStatusUpdate&&Date.now()-this._lastStatusUpdateTime.getTime()<this._coalesceStatusUpdatesInMillis;null==this._onPlaybackStatusUpdate||e||(this._onPlaybackStatusUpdate(t),this._lastStatusUpdateTime=new Date,this._lastStatusUpdate=JSON.stringify(t))}async _performOperationAndHandleStatusAsync(t){if((0,s.throwIfAudioIsDisabled)(),this._loaded){const e=await t();return this._callOnPlaybackStatusUpdateForNewStatus(e),e}throw new Error('Cannot complete operation because sound is not loaded.')}_updateAudioSampleReceivedCallback(){if(null==globalThis.__EXAV_setOnAudioSampleReceivedCallback)throw new e.UnavailabilityError('expo-av','setOnAudioSampleReceived');if(null==this._key)throw new Error('Cannot set Audio Sample Buffer callback when the Sound instance has not been successfully loaded/initialized!');if('number'!=typeof this._key)throw new Error(`Cannot set Audio Sample Buffer callback when Sound instance key is of type ${typeof this._key}! (expected: number)`);globalThis.__EXAV_setOnAudioSampleReceivedCallback(this._key,this._onAudioSampleReceived)}_internalStatusUpdateCallback=({key:t,status:e})=>{this._key===t&&this._callOnPlaybackStatusUpdateForNewStatus(e)};_internalMetadataUpdateCallback=({key:t,metadata:e})=>{this._key===t&&this._onMetadataUpdate?.(e)};_internalErrorCallback=({key:t,error:e})=>{this._key===t&&this._errorCallback(e)};_subscribeToNativeEvents(){this._loaded&&(this._subscriptions.push(this._eventEmitter.addListener('didUpdatePlaybackStatus',this._internalStatusUpdateCallback),this._eventEmitter.addListener('didUpdateMetadata',this._internalMetadataUpdateCallback)),this._subscriptions.push(this._eventEmitter.addListener('ExponentAV.onError',this._internalErrorCallback)))}_clearSubscriptions(){this._subscriptions.forEach(t=>t.remove()),this._subscriptions=[]}_errorCallback=t=>{this._clearSubscriptions(),this._loaded=!1,this._key=null,this._callOnPlaybackStatusUpdateForNewStatus((0,n.getUnloadedStatus)(t))};getStatusAsync=async()=>{if(this._loaded)return this._performOperationAndHandleStatusAsync(()=>o.default.getStatusForSound(this._key));const t=(0,n.getUnloadedStatus)();return this._callOnPlaybackStatusUpdateForNewStatus(t),t};setOnPlaybackStatusUpdate(t){this._onPlaybackStatusUpdate=t,this.getStatusAsync()}setOnMetadataUpdate(t){this._onMetadataUpdate=t}setOnAudioSampleReceived(t){this._onAudioSampleReceived=t,null!=this._key&&this._updateAudioSampleReceivedCallback()}async loadAsync(t,e={},l=!0){if((0,s.throwIfAudioIsDisabled)(),this._loading)throw new Error('The Sound is already loading.');if(this._loaded)throw new Error('The Sound is already loaded.');{this._loading=!0;const{nativeSource:s,fullInitialStatus:u}=await(0,n.getNativeSourceAndFullInitialStatusForLoadAsync)(t,e,l);return new Promise((t,e)=>{o.default.loadForSound(s,u).then(e=>{const[s,n]=e;this._key=s,this._loaded=!0,this._loading=!1,this._subscribeToNativeEvents(),this._callOnPlaybackStatusUpdateForNewStatus(n),t(n)}).catch(t=>{this._loading=!1,e(t)})})}}async unloadAsync(){if(this._loaded){this._loaded=!1;const t=this._key;this._key=null;const e=await o.default.unloadForSound(t);return this._callOnPlaybackStatusUpdateForNewStatus(e),this._clearSubscriptions(),e}return this.getStatusAsync()}async setStatusAsync(t){return(0,n.assertStatusValuesInBounds)(t),this._performOperationAndHandleStatusAsync(()=>o.default.setStatusForSound(this._key,t))}async replayAsync(t={}){if(t.positionMillis&&0!==t.positionMillis)throw new Error('Requested position after replay has to be 0.');return this._performOperationAndHandleStatusAsync(()=>o.default.replaySound(this._key,Object.assign({},t,{positionMillis:0,shouldPlay:!0})))}}Object.assign(u.prototype,n.PlaybackMixin)},294,[256,293,295,255]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"_DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"_DEFAULT_INITIAL_PLAYBACK_STATUS",{enumerable:!0,get:function(){return o}}),e.getNativeSourceFromSource=l,e.assertStatusValuesInBounds=c,e.getNativeSourceAndFullInitialStatusForLoadAsync=async function(t,n,s){const y=null==n?o:Object.assign({},o,n);if(c(y),'string'==typeof t&&!0)return{nativeSource:{uri:t,overridingExtension:null},fullInitialStatus:y};const f=u(t);s&&f&&await f.downloadAsync();const A=l(t);if(null===A)throw new Error("Cannot load an AV asset from a null playback source");f&&f.localUri&&(A.uri=f.localUri);return{nativeSource:A,fullInitialStatus:y}},e.getUnloadedStatus=function(t=null){return Object.assign({isLoaded:!1},t?{error:t}:null)},Object.defineProperty(e,"PlaybackMixin",{enumerable:!0,get:function(){return y}});var t=r(d[0]);r(d[1]);var n=r(d[2]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});const s=500,o={positionMillis:0,progressUpdateIntervalMillis:s,shouldPlay:!1,rate:1,shouldCorrectPitch:!1,volume:1,audioPan:0,isMuted:!1,isLooping:!1};function l(t){let n,s=null,o=null;if('string'==typeof t)return{uri:t,overridingExtension:o,headers:n};const l=u(t);return null!=l?s=l.localUri||l.uri:null!=t&&'number'!=typeof t&&'uri'in t&&'string'==typeof t.uri&&(s=t.uri),null==s?null:(null!=t&&'number'!=typeof t&&'overrideFileExtensionAndroid'in t&&'string'==typeof t.overrideFileExtensionAndroid&&(o=t.overrideFileExtensionAndroid),null!=t&&'number'!=typeof t&&'headers'in t&&'object'==typeof t.headers&&(n=t.headers),{uri:s,overridingExtension:o,headers:n})}function u(n){if(null==n)return null;let s=null;return'number'==typeof n?s=t.Asset.fromModule(n):n instanceof t.Asset&&(s=n),s}function c(t){if('number'==typeof t.rate&&(t.rate<0||t.rate>32))throw new RangeError('Rate value must be between 0.0 and 32.0');if('number'==typeof t.volume&&(t.volume<0||t.volume>1))throw new RangeError('Volume value must be between 0.0 and 1.0');if('number'==typeof t.audioPan&&(t.audioPan<-1||t.audioPan>1))throw new RangeError('Pan value must be between -1.0 and 1.0')}const y={async playAsync(){return this.setStatusAsync({shouldPlay:!0})},async playFromPositionAsync(t,n={}){return this.setStatusAsync({positionMillis:t,shouldPlay:!0,seekMillisToleranceAfter:n.toleranceMillisAfter,seekMillisToleranceBefore:n.toleranceMillisBefore})},async pauseAsync(){return this.setStatusAsync({shouldPlay:!1})},async stopAsync(){return this.setStatusAsync({positionMillis:0,shouldPlay:!1})},async setPositionAsync(t,n={}){return this.setStatusAsync({positionMillis:t,seekMillisToleranceAfter:n.toleranceMillisAfter,seekMillisToleranceBefore:n.toleranceMillisBefore})},async setRateAsync(t,s=!1,o=n.PitchCorrectionQuality.Medium){return this.setStatusAsync({rate:t,shouldCorrectPitch:s,pitchCorrectionQuality:o})},async setVolumeAsync(t,n){return this.setStatusAsync({volume:t,audioPan:n})},async setIsMutedAsync(t){return this.setStatusAsync({isMuted:t})},async setIsLoopingAsync(t){return this.setStatusAsync({isLooping:t})},async setProgressUpdateIntervalAsync(t){return this.setStatusAsync({progressUpdateIntervalMillis:t})}}},295,[296,256,308]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=r(d[1]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[2]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},296,[297,298,307]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),s=r(d[1]),o=r(d[2]);s.IS_ENV_WITH_LOCAL_ASSETS&&(0,o.setCustomSourceTransformer)(s=>{try{if(s.asset.fileHashes){const o=t.Asset.fromMetadata(s.asset);return s.fromSource(o.downloaded?o.localUri:o.uri)}return s.defaultAsset()}catch{return s.defaultAsset()}})},297,[298,301,306]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function t(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),e.default=t,e}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"Asset",{enumerable:!0,get:function(){return f}});var e=r(_d[0]);r(_d[1]);var s,n=r(_d[2]),h=t(r(_d[3])),o=r(_d[4]),l=t(r(_d[5])),d=r(_d[6]),u=r(_d[7]),c=r(_d[8]),y=(s=c)&&s.__esModule?s:{default:s};class f{static byHash={};static byUri={};hash=null;localUri=null;width=null;height=null;downloading=!1;downloaded=!1;_downloadCallbacks=[];constructor({name:t,type:e,hash:s=null,uri:n,width:o,height:l}){this.name=t,this.type=e,this.hash=s,this.uri=n,'number'==typeof o&&(this.width=o),'number'==typeof l&&(this.height=l),s&&(this.localUri=(0,d.getLocalAssetUri)(s,e),this.localUri&&(this.downloaded=!0)),t||(this.name=h.getFilename(n)),e||(this.type=h.getFileExtension(n))}static loadAsync(t){const e=Array.isArray(t)?t:[t];return Promise.all(e.map(t=>f.fromModule(t).downloadAsync()))}static fromModule(t){if('string'==typeof t)return f.fromURI(t);if('object'==typeof t&&'uri'in t&&'string'==typeof t.uri){const e=h.getFileExtension(t.uri);return new f({name:'',type:e.startsWith('.')?e.substring(1):e,hash:null,uri:t.uri,width:t.width,height:t.height})}const s=(0,e.getAssetByID)(t);if(!s)throw new Error(`Module "${t}" is missing from the asset registry`);if(!u.IS_ENV_WITH_LOCAL_ASSETS){const{uri:e}=(0,y.default)(t),n=new f({name:s.name,type:s.type,hash:s.hash,uri:e,width:s.width,height:s.height});return f.byHash[s.hash]=n,n}return f.fromMetadata(s)}static fromMetadata(t){const e=t.hash;if(f.byHash[e])return f.byHash[e];const{uri:s,hash:h}=(0,n.selectAssetSource)(t),o=new f({name:t.name,type:t.type,hash:h,uri:s,width:t.width,height:t.height});return f.byHash[e]=o,o}static fromURI(t){if(f.byUri[t])return f.byUri[t];let e='';if(t.indexOf(';base64')>-1)e=t.split(';')[0].split('/')[1];else{const s=h.getFileExtension(t);e=s.startsWith('.')?s.substring(1):s}const s=new f({name:'',type:e,hash:null,uri:t});return f.byUri[t]=s,s}async downloadAsync(){if(this.downloaded)return this;if(this.downloading)return await new Promise((t,e)=>{this._downloadCallbacks.push({resolve:t,reject:e})}),this;this.downloading=!0;try{if(l.isImageType(this.type)){const{width:t,height:e,name:s}=await l.getImageInfoAsync(this.uri);this.width=t,this.height=e,this.name=s}else this.name=h.getFilename(this.uri);this.localUri=await(0,o.downloadAsync)(this.uri,this.hash,this.type),this.downloaded=!0,this._downloadCallbacks.forEach(({resolve:t})=>t())}catch(t){throw this._downloadCallbacks.forEach(({reject:e})=>e(t)),t}finally{this.downloading=!1,this._downloadCallbacks=[]}return this}}},298,[223,256,299,302,303,304,305,301,306]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.selectAssetSource=function(e){const c=n.default.pickScale(e.scales,t.default.get()),u=e.scales.findIndex(e=>e===c),f=e.fileHashes?e.fileHashes[u]??e.fileHashes[0]:e.hash,l=e.fileUris?e.fileUris[u]??e.fileUris[0]:e.uri;if(l)return{uri:h(l),hash:f};const p=1===c?'':`@${c}x`,U=e.type?`.${encodeURIComponent(e.type)}`:'',v=`/${encodeURIComponent(e.name)}${p}${U}`,x=new URLSearchParams({platform:"web",hash:e.hash});if(/^https?:\/\//.test(e.httpServerLocation)){return{uri:e.httpServerLocation+v+'?'+x,hash:f}}const L=(0,o.getManifest2)(),R=L?.extra?.expoGo?.developer?'http://'+L.extra.expoGo.debuggerHost:null;if(R){const t=new URL(e.httpServerLocation+v,R);return t.searchParams.set('platform',"web"),t.searchParams.set('hash',e.hash),{uri:t.href,hash:f}}if(s.default.ExponentKernel)return{uri:`https://classic-assets.eascdn.net/~assets/${encodeURIComponent(f)}`,hash:f};return{uri:'',hash:f}},_e.resolveUri=h,r(d[0]);var t=e(r(d[1])),s=e(r(d[2])),n=e(r(d[3])),o=r(d[4]);function h(e){return o.manifestBaseUrl?new URL(e,o.manifestBaseUrl).href:e}},299,[256,225,259,300,301]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}}),r(d[0]);var e,t=r(d[1]),s=(e=t)&&e.__esModule?e:{default:e};function i(e){const t=n.pickScale(e.scales,s.default.get()),i=1===t?'':'@'+t+'x',c=e.type?`.${e.type}`:'';return e.httpServerLocation.replace(/\.\.\//g,'_')+'/'+e.name+i+c}class n{constructor(e,t,s){this.serverUrl=e||'https://expo.dev',this.jsbundleUrl=null,this.asset=s}isLoadedFromServer(){return!0}isLoadedFromFileSystem(){return!1}defaultAsset(){return this.assetServerURL()}assetServerURL(){const e=new URL(i(this.asset),this.serverUrl);return e.searchParams.set('platform',"web"),e.searchParams.set('hash',this.asset.hash),this.fromSource(e.toString().replace(e.origin,''))}fromSource(e){return{__packager_asset:!0,width:this.asset.width??void 0,height:this.asset.height??void 0,uri:e,scale:n.pickScale(this.asset.scales,s.default.get())}}static pickScale(e,t){for(let s=0;s<e.length;s++)if(e[s]>=t)return e[s];return e[e.length-1]||1}}},300,[256,225]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"IS_ENV_WITH_LOCAL_ASSETS",{enumerable:!0,get:function(){return t}}),e.getLocalAssets=function(){return{}},e.getManifest2=function(){return{}},Object.defineProperty(e,"manifestBaseUrl",{enumerable:!0,get:function(){return n}});const t=!1;const n=null},301,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){const{pathname:s,searchParams:o}=new URL(t,'https://e');return n(s)}function n(t){return t.substring(t.lastIndexOf('/')+1)}Object.defineProperty(e,'__esModule',{value:!0}),e.getFilename=t,e.getFileExtension=function(n){const s=t(n),o=s.lastIndexOf('.');return o>0?s.substring(o):''},e.getManifestBaseUrl=function(t){const n=new URL(t);let s=n.protocol;'exp:'===s?s='http:':'exps:'===s&&(s='https:');n.protocol=s;const o=n.pathname.substring(0,n.pathname.lastIndexOf('/')+1);return n.pathname=o,n.search='',n.hash='',n.protocol!==s?n.href.replace(n.protocol,s):n.href}},302,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.downloadAsync=async function(n,t,c){return n}},303,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isImageType=function(t){return/^(jpeg|jpg|gif|png|bmp|webp|heic)$/i.test(t)},e.getImageInfoAsync=function(o){if(!t.Platform.isDOMAvailable)return Promise.resolve({name:(0,n.getFilename)(o),width:0,height:0});return new Promise((t,s)=>{const l=new Image;l.onerror=s,l.onload=()=>{t({name:(0,n.getFilename)(o),width:l.naturalWidth,height:l.naturalHeight})},l.src=o})};var t=r(d[0]),n=r(d[1])},304,[256,302]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.getLocalAssetUri=function(t,n){return null}},305,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}}),_e.setCustomSourceTransformer=c,Object.defineProperty(_e,"pickScale",{enumerable:!0,get:function(){return s}});var e,t=r(d[0]),n=r(d[1]),u=(e=n)&&e.__esModule?e:{default:e};let o;function c(e){o=e}function f(e){if('object'==typeof e)return e;const n=(0,t.getAssetByID)(e);if(!n)return null;const c=new u.default('https://expo.dev',null,n);return o?o(c):c.defaultAsset()}Object.defineProperty(f,'setCustomSourceTransformer',{get:()=>c});const{pickScale:s}=u.default},306,[223,300]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.useAssets=function(u){const[c,n]=(0,t.useState)(),[o,f]=(0,t.useState)();return(0,t.useEffect)(()=>{s.Asset.loadAsync(u).then(n).catch(f)},[]),[c,o]};var t=r(d[0]),s=r(d[1])},307,[13,298]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"PitchCorrectionQuality",{enumerable:!0,get:function(){return t}});var e,t,u=r(d[0]),l=(e=u)&&e.__esModule?e:{default:e};!(function(e){e[e.Low=l.default&&l.default.Qualities&&l.default.Qualities.Low]="Low",e[e.Medium=l.default&&l.default.Qualities&&l.default.Qualities.Medium]="Medium",e[e.High=l.default&&l.default.Qualities&&l.default.Qualities.High]="High"})(t||(t={}))},308,[255]);
__d(function(g,r,i,a,m,e,d){},309,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return O}});var e=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),e.default=t,e})(r(_d[0])),s=(t(r(_d[1])),t(r(_d[2]))),o=t(r(_d[3])),n=t(r(_d[4]));r(_d[5]);var l=r(_d[6]),d=t(r(_d[7])),p=t(r(_d[8])),u=t(r(_d[9])),c=r(_d[10]),h=r(_d[11]);const y=o.default.create({base:{overflow:'hidden',pointerEvents:'box-none'},poster:{position:'absolute',left:0,top:0,right:0,bottom:0,resizeMode:'contain'},video:{position:'absolute',left:0,top:0,right:0,bottom:0}});const f=d.default,S=d.default;class v extends e.Component{_nativeRef=e.createRef();_onPlaybackStatusUpdate=null;constructor(t){super(t),this.state={showPoster:!!t.usePoster}}setNativeProps(t){const e=this._nativeRef.current;if(!e)throw new Error("native video reference is not defined.");e.setNativeProps(t)}_handleNewStatus=t=>{this.state.showPoster&&t.isLoaded&&(t.isPlaying||0!==t.positionMillis)&&this.setState({showPoster:!1}),this.props.onPlaybackStatusUpdate&&this.props.onPlaybackStatusUpdate(t),this._onPlaybackStatusUpdate&&this._onPlaybackStatusUpdate(t)};_performOperationAndHandleStatusAsync=async t=>{if(!this._nativeRef.current)throw new Error("Cannot complete operation because the Video component has not yet loaded");let e=null;if('getVideoElement'in this._nativeRef.current&&(e=this._nativeRef.current.getVideoElement()),!e)throw new Error('failed to find node handle');const s=await t(e);return this._handleNewStatus(s),s};_setFullscreen=async t=>this._performOperationAndHandleStatusAsync(e=>S.setFullscreen(e,t));presentFullscreenPlayer=async()=>this._setFullscreen(!0);dismissFullscreenPlayer=async()=>this._setFullscreen(!1);getStatusAsync=async()=>this._performOperationAndHandleStatusAsync(t=>p.default.getStatusForVideo(t));loadAsync=async(t,e={},s=!0)=>{const{nativeSource:o,fullInitialStatus:n}=await(0,l.getNativeSourceAndFullInitialStatusForLoadAsync)(t,e,s);return this._performOperationAndHandleStatusAsync(t=>p.default.loadForVideo(t,o,n))};unloadAsync=async()=>this._performOperationAndHandleStatusAsync(t=>p.default.unloadForVideo(t));componentWillUnmount(){this.unloadAsync().catch(()=>{})}setStatusAsync=async t=>((0,l.assertStatusValuesInBounds)(t),this._performOperationAndHandleStatusAsync(e=>p.default.setStatusForVideo(e,t)));replayAsync=async(t={})=>{if(t.positionMillis&&0!==t.positionMillis)throw new Error('Requested position after replay has to be 0.');return this._performOperationAndHandleStatusAsync(e=>p.default.replayVideo(e,Object.assign({},t,{positionMillis:0,shouldPlay:!0})))};setOnPlaybackStatusUpdate(t){this._onPlaybackStatusUpdate=t,this.getStatusAsync()}_nativeOnPlaybackStatusUpdate=t=>{this._handleNewStatus(t.nativeEvent)};_nativeOnLoadStart=()=>{this.props.onLoadStart&&this.props.onLoadStart()};_nativeOnLoad=t=>{this.props.onLoad&&this.props.onLoad(t.nativeEvent),this._handleNewStatus(t.nativeEvent)};_nativeOnError=t=>{const e=t.nativeEvent.error;this.props.onError&&this.props.onError(e),this._handleNewStatus((0,l.getUnloadedStatus)(e))};_nativeOnReadyForDisplay=t=>{this.props.onReadyForDisplay&&this.props.onReadyForDisplay(t.nativeEvent)};_nativeOnFullscreenUpdate=t=>{this.props.onFullscreenUpdate&&this.props.onFullscreenUpdate(t.nativeEvent)};_renderPoster=()=>{const t=this.props.PosterComponent??s.default;return this.props.usePoster&&this.state.showPoster?(0,h.jsx)(t,{style:[y.poster,this.props.posterStyle],source:this.props.posterSource}):null};render(){const t=(0,l.getNativeSourceFromSource)(this.props.source)||void 0;let e=f.ScaleNone;if(this.props.resizeMode){const t=this.props.resizeMode;t===c.ResizeMode.STRETCH?e=f.ScaleToFill:t===c.ResizeMode.CONTAIN?e=f.ScaleAspectFit:t===c.ResizeMode.COVER&&(e=f.ScaleAspectFill)}const s=Object.assign({},this.props.status);['progressUpdateIntervalMillis','positionMillis','shouldPlay','rate','shouldCorrectPitch','volume','isMuted','isLooping'].forEach(t=>{t in this.props&&(s[t]=this.props[t])});const o=Object.assign({},_(this.props,['source','onPlaybackStatusUpdate','usePoster','posterSource','posterStyle',...Object.keys(s)]),{style:[y.base,this.props.style],videoStyle:[y.video,this.props.videoStyle],source:t,resizeMode:e,status:s,onStatusUpdate:this._nativeOnPlaybackStatusUpdate,onLoadStart:this._nativeOnLoadStart,onLoad:this._nativeOnLoad,onError:this._nativeOnError,onReadyForDisplay:this._nativeOnReadyForDisplay,onFullscreenUpdate:this._nativeOnFullscreenUpdate});return(0,h.jsxs)(n.default,{style:o.style,children:[(0,h.jsx)(u.default,Object.assign({ref:this._nativeRef},o,{style:o.videoStyle})),this._renderPoster()]})}}function _(t,e){const s=Object.assign({},t);for(const t of e)delete s[t];return s}Object.assign(v.prototype,l.PlaybackMixin);var O=v},310,[13,183,222,26,85,82,295,311,255,313,314,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),l=(e=t)&&e.__esModule?e:{default:e},n=r(d[1]),u={get ScaleNone(){return'none'},get ScaleToFill(){return'fill'},get ScaleAspectFit(){return'contain'},get ScaleAspectFill(){return'cover'},setFullscreen:async(e,t)=>(t?await(0,n.requestFullscreen)(e):await(0,n.exitFullscreen)(e),l.default.getStatusForVideo(e))}},311,[255,312]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.requestFullscreen=async function(l){if(n(l))return l.requestFullscreen();if(t(l))l.webkitEnterFullScreen?.();else{if(!u(l))throw new Error('Fullscreen not supported');l.msRequestFullscreen?.()}},e.exitFullscreen=async function(l){if(n(l))return document.exitFullscreen();if(t(l))l.webkitExitFullScreen?.();else{if(!u(l))throw new Error('Fullscreen not supported');document.msExitFullscreen?.()}},e.addFullscreenListener=function(s,o){if(n(s))return c(s,'fullscreenchange',n=>o(document.fullscreenElement===n.target));if(t(s)&&l())return c(s,'webkitfullscreenchange',n=>o(document.webkitFullscreenElement===n.target));if(t(s)){const n=c(s,'webkitbeginfullscreen',()=>o(!0)),t=c(s,'webkitendfullscreen',()=>o(!1));return()=>{n(),t()}}return u(s)?c(document,'MSFullscreenChange',n=>o(document.msFullscreenElement===n.target)):()=>{}};const n=n=>'requestFullscreen'in n,t=n=>'webkitEnterFullScreen'in n,u=n=>'msRequestFullscreen'in n,l=()=>s('video','webkitfullscreenchange');function c(n,t,u){return n.addEventListener(t,u),()=>n.removeEventListener(t,u)}const s=(n,t)=>{const u=document.createElement(n);return u.setAttribute('on'+t,'return;'),'function'==typeof u['on'+t]}},312,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[0])),o=e(r(_d[1])),n=e(r(_d[2])),s=r(_d[3]),d=r(_d[4]),l=r(_d[5]);const p=t.forwardRef((e,t)=>(0,o.default)('video',Object.assign({},e,{ref:t})));class u extends t.Component{componentWillUnmount(){this._removeFullscreenListener?.()}getVideoElement=()=>this._video;onFullscreenChange=e=>{this.props.onFullscreenUpdate&&(e?this.props.onFullscreenUpdate({nativeEvent:{fullscreenUpdate:d.VideoFullscreenUpdate.PLAYER_DID_PRESENT}}):this.props.onFullscreenUpdate({nativeEvent:{fullscreenUpdate:d.VideoFullscreenUpdate.PLAYER_DID_DISMISS}}))};onStatusUpdate=async()=>{if(!this.props.onStatusUpdate)return;const e=await n.default.getStatusForVideo(this._video);this.props.onStatusUpdate({nativeEvent:e})};onLoadStart=()=>{this.props.onLoadStart&&(this.props.onLoadStart(),this.onStatusUpdate())};onLoadedData=e=>{this.props.onLoad&&(this.props.onLoad(e),this.onStatusUpdate())};onError=e=>{this.props.onError&&(this.props.onError(e),this.onStatusUpdate())};onProgress=()=>{this.onStatusUpdate()};onSeeking=()=>{this.onStatusUpdate()};onEnded=()=>{this.onStatusUpdate()};onLoadedMetadata=()=>{this.onStatusUpdate()};onCanPlay=e=>{this.props.onReadyForDisplay&&(this.props.onReadyForDisplay(e),this.onStatusUpdate())};onStalled=()=>{this.onStatusUpdate()};onRef=e=>{this._removeFullscreenListener?.(),e?(this._video=e,this._removeFullscreenListener=(0,s.addFullscreenListener)(this._video,this.onFullscreenChange),this.onStatusUpdate()):this._removeFullscreenListener=void 0};render(){const{source:e,status:t={},resizeMode:o,useNativeControls:n,style:s}=this.props,d={position:void 0,objectFit:o,overflow:'hidden'};return(0,l.jsx)(p,{ref:this.onRef,onLoadStart:this.onLoadStart,onLoadedData:this.onLoadedData,onError:this.onError,onTimeUpdate:this.onProgress,onSeeking:this.onSeeking,onEnded:this.onEnded,onLoadedMetadata:this.onLoadedMetadata,onCanPlay:this.onCanPlay,onStalled:this.onStalled,src:e?.uri||void 0,muted:t.isMuted,loop:t.isLooping,autoPlay:t.shouldPlay,controls:n,style:[s,d],playsInline:!0})}}},313,[13,86,255,312,314,153]);
__d(function(g,r,i,a,m,e,d){"use strict";var t,n;Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"ResizeMode",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"VideoFullscreenUpdate",{enumerable:!0,get:function(){return n}}),(function(t){t.CONTAIN="contain",t.COVER="cover",t.STRETCH="stretch"})(t||(t={})),(function(t){t[t.PLAYER_WILL_PRESENT=0]="PLAYER_WILL_PRESENT",t[t.PLAYER_DID_PRESENT=1]="PLAYER_DID_PRESENT",t[t.PLAYER_WILL_DISMISS=2]="PLAYER_WILL_DISMISS",t[t.PLAYER_DID_DISMISS=3]="PLAYER_DID_DISMISS"})(n||(n={}))},314,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"BlurView",{enumerable:!0,get:function(){return u.default}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},315,[316]);
__d(function(g,r,i,a,m,_e,d){"use strict";const t=["tint","intensity","style"];function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return y}});var n=e(r(d[0])),l=r(d[1]),s=e(r(d[2])),u=e(r(d[3])),o=r(d[4]);function c({intensity:t,tint:e}){const n=`saturate(180%) blur(${.2*Math.min(t,100)}px)`;return{backgroundColor:(0,u.default)(Math.min(t,100),e),backdropFilter:n,WebkitBackdropFilter:n}}var y=(0,l.forwardRef)((e,u)=>{let{tint:y="default",intensity:f=50,style:b}=e,k=(0,n.default)(e,t);const p=(0,l.useRef)(null),F=c({tint:y,intensity:f});return(0,l.useImperativeHandle)(u,()=>({setNativeProps:t=>{if(!p.current?.style)return;const e=c({intensity:t.style?.intensity??f,tint:y??'default'});if(t.style)for(const e in t.style)'intensity'!==e&&(p.current.style[e]=t.style[e]);p.current.style.backgroundColor=e.backgroundColor,p.current.style.backdropFilter=e.backdropFilter,p.current.style.webkitBackdropFilter=e.WebkitBackdropFilter}}),[f,y]),(0,o.jsx)(s.default,Object.assign({},k,{style:[b,F],ref:p}))})},316,[119,13,85,317,153]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,s){const c=t/100;switch(s){case'dark':case'systemMaterialDark':return`rgba(25,25,25,${.78*c})`;case'light':case'extraLight':case'systemMaterialLight':case'systemUltraThinMaterialLight':case'systemThickMaterialLight':return`rgba(249,249,249,${.78*c})`;case'default':case'prominent':case'systemMaterial':return`rgba(255,255,255,${.3*c})`;case'regular':return`rgba(179,179,179,${.82*c})`;case'systemThinMaterial':return`rgba(199,199,199,${.97*c})`;case'systemChromeMaterial':return`rgba(255,255,255,${.75*c})`;case'systemChromeMaterialLight':return`rgba(255,255,255,${.97*c})`;case'systemUltraThinMaterial':case'systemThickMaterial':return`rgba(191,191,191,${.44*c})`;case'systemThickMaterialDark':return`rgba(37,37,37,${.9*c})`;case'systemThinMaterialDark':return`rgba(37,37,37,${.7*c})`;case'systemUltraThinMaterialDark':return`rgba(37,37,37,${.55*c})`;case'systemChromeMaterialDark':return`rgba(0,0,0,${.75*c})`;case'systemThinMaterialLight':return`rgba(199,199,199,${.78*c})`}}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},317,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"AVATARS",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"ACTION_TRIGGERS",{enumerable:!0,get:function(){return o}});const t={CAPTAIN:{id:'captain',name:'The Advocate',description:'Passionate and determined - fights for your justice',calmVideo:r(d[0]),actionVideo:r(d[1]),thumbnail:r(d[2]),primaryColor:'#1E40AF',accentColor:'#60A5FA'},NAVIGATOR:{id:'navigator',name:'Lady Justice',description:'Fair and balanced - upholds truth and righteousness',calmVideo:r(d[3]),actionVideo:r(d[4]),thumbnail:r(d[5]),primaryColor:'#0F766E',accentColor:'#5EEAD4'},STRATEGIST:{id:'strategist',name:'The Paralegal',description:'Organized and thorough - manages every detail expertly',calmVideo:r(d[6]),actionVideo:r(d[7]),thumbnail:r(d[8]),primaryColor:'#7C3AED',accentColor:'#C4B5FD'},ADVOCATE:{id:'advocate',name:'The Judge',description:'Wise and authoritative - guides you with experience',calmVideo:r(d[9]),actionVideo:r(d[10]),thumbnail:r(d[11]),primaryColor:'#DC2626',accentColor:'#FCA5A5'}},o={SUBSTAGE_COMPLETE:'substage_complete',STAGE_COMPLETE:'stage_complete',DAILY_BONUS:'daily_bonus',ACHIEVEMENT:'achievement',MILESTONE:'milestone'}},318,[319,320,321,322,323,324,325,326,327,328,329,330]);
__d(function(a,s,c,t,n,p,b){n.exports="/assets/assets/avatars/captain/captain-calm.851a5fb9c636b720ac9d2c297775031b.mp4"},319,[]);
__d(function(a,s,t,c,e,n,i){e.exports="/assets/assets/avatars/captain/captain-action.09f385044e2766469c6713d209a131e9.mp4"},320,[]);
__d(function(a,t,s,i,c,f,n){c.exports={uri:"/assets/assets/avatars/captain/captain-thumbnail.6f0a2fb4a649ef73403c229a2b3ccf4f.png",width:1408,height:792}},321,[]);
__d(function(a,s,t,c,d,e,n){d.exports="/assets/assets/avatars/navigator/navigator-calm.bc93c32b0c9b54fe8720dfd0cad5a733.mp4"},322,[]);
__d(function(a,s,t,n,o,f,i){o.exports="/assets/assets/avatars/navigator/navigator-action.f6d2851f153646ca847a8f422d6a7785.mp4"},323,[]);
__d(function(a,t,s,i,n,e,r){n.exports={uri:"/assets/assets/avatars/navigator/navigator-thumbnail.fc9fe32606d3526fd5ab3cb869671c3b.png",width:1408,height:792}},324,[]);
__d(function(a,s,t,d,e,c,f){e.exports="/assets/assets/avatars/strategist/strategist-calm.0517dad8fed8caf2df6a7393dc66abb3.mp4"},325,[]);
__d(function(s,t,a,e,i,r,c){i.exports="/assets/assets/avatars/strategist/strategist-action.7260d44952b81c6991f62145707f7e84.mp4"},326,[]);
__d(function(t,s,a,f,i,e,d){i.exports={uri:"/assets/assets/avatars/strategist/strategist-thumbnail.a4b2fd49aaff2b3f66c8b641f0d72fd6.png",width:1408,height:792}},327,[]);
__d(function(a,d,s,t,e,b,c){e.exports="/assets/assets/avatars/advocate/advocate-calm.bb08b27b4971958dd2d9d0d108d78520.mp4"},328,[]);
__d(function(a,s,t,c,d,e,o){d.exports="/assets/assets/avatars/advocate/advocate-action.ef901bc87aaefcdd08df1d9270240c27.mp4"},329,[]);
__d(function(a,t,e,s,f,c,d){f.exports={uri:"/assets/assets/avatars/advocate/advocate-thumbnail.ff9b086cdaf2d9fece5ff3b9b10926c2.png",width:1408,height:792}},330,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return x}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),s=e(r(d[3])),n=e(r(d[4])),u=e(r(d[5])),c=r(d[6]),h=r(d[7]),f=r(d[8]),y=r(d[9]);const b=n.default.create({backgroundVideo:{position:'absolute',top:0,left:0,bottom:0,right:0,width:'100%',height:'100%'},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.3)',zIndex:1},logo:{position:'absolute',top:20,left:'50%',marginLeft:-100,width:200,height:200,zIndex:10},buttonContainer:{paddingHorizontal:20,marginTop:240},featuresContainer:{padding:30,marginTop:30},featureTitle:{fontSize:18,fontWeight:'600',color:'#FFFFFF',marginBottom:20,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},featureRow:{flexDirection:'row',alignItems:'center',marginBottom:16},featureItem:{fontSize:16,color:'#FFFFFF',flex:1,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},iconBadgeMap:{width:40,height:40,borderRadius:20,backgroundColor:f.theme.colors.charcoal,justifyContent:'center',alignItems:'center',marginRight:14,borderWidth:2,borderColor:f.theme.colors.secondary,overflow:'hidden'},treasureMapThumbnail:{width:40,height:40},iconBadgeTreasure:{width:40,height:40,borderRadius:20,backgroundColor:f.theme.colors.charcoal,justifyContent:'center',alignItems:'center',marginRight:14,borderWidth:2,borderColor:f.theme.colors.secondary,overflow:'hidden'},treasureChestThumbnail:{width:40,height:40},iconBadgeVideoCamera:{width:40,height:40,borderRadius:20,backgroundColor:f.theme.colors.charcoal,justifyContent:'center',alignItems:'center',marginRight:14,borderWidth:2,borderColor:f.theme.colors.secondary,overflow:'hidden'},videoCameraThumbnail:{width:40,height:40},iconBadgeMedical:{width:40,height:40,borderRadius:20,backgroundColor:f.theme.colors.charcoal,justifyContent:'center',alignItems:'center',marginRight:14,borderWidth:2,borderColor:f.theme.colors.secondary,overflow:'hidden'},medicalSymbolThumbnail:{width:40,height:40},iconBadgeLocker:{width:40,height:40,borderRadius:20,backgroundColor:f.theme.colors.charcoal,justifyContent:'center',alignItems:'center',marginRight:14,borderWidth:2,borderColor:f.theme.colors.secondary,overflow:'hidden'},vaultThumbnail:{width:40,height:40}});var x=({onNavigate:e})=>{const n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{n.current&&n.current.playAsync()},[]),(0,y.jsxs)(o.default,{style:h.commonStyles.container,children:[(0,y.jsx)(c.Video,{ref:n,source:r(d[10]),style:b.backgroundVideo,resizeMode:c.ResizeMode.CONTAIN,isLooping:!0,isMuted:!0,shouldPlay:!0}),(0,y.jsxs)(o.default,{style:b.overlay,children:[(0,y.jsx)(u.default,{source:r(d[11]),style:b.logo,resizeMode:"contain"}),(0,y.jsxs)(o.default,{style:b.buttonContainer,children:[(0,y.jsx)(s.default,{style:h.commonStyles.primaryButton,onPress:()=>e('register'),children:(0,y.jsx)(l.default,{style:h.commonStyles.buttonText,children:"Get Started"})}),(0,y.jsx)(s.default,{style:h.commonStyles.secondaryButton,onPress:()=>e('login'),children:(0,y.jsx)(l.default,{style:h.commonStyles.secondaryButtonText,children:"Sign In"})})]}),(0,y.jsxs)(o.default,{style:b.featuresContainer,children:[(0,y.jsx)(l.default,{style:b.featureTitle,children:"What You'll Get:"}),(0,y.jsxs)(o.default,{style:b.featureRow,children:[(0,y.jsx)(o.default,{style:b.iconBadgeMap,children:(0,y.jsx)(u.default,{source:r(d[12]),style:b.treasureMapThumbnail,resizeMode:"cover"})}),(0,y.jsx)(l.default,{style:b.featureItem,children:"Interactive case roadmap"})]}),(0,y.jsxs)(o.default,{style:b.featureRow,children:[(0,y.jsx)(o.default,{style:b.iconBadgeTreasure,children:(0,y.jsx)(u.default,{source:r(d[13]),style:b.treasureChestThumbnail,resizeMode:"cover"})}),(0,y.jsx)(l.default,{style:b.featureItem,children:"Earn treasure as you progress"})]}),(0,y.jsxs)(o.default,{style:b.featureRow,children:[(0,y.jsx)(o.default,{style:b.iconBadgeVideoCamera,children:(0,y.jsx)(u.default,{source:r(d[14]),style:b.videoCameraThumbnail,resizeMode:"cover"})}),(0,y.jsx)(l.default,{style:b.featureItem,children:"Educational audio/video tutorials"})]}),(0,y.jsxs)(o.default,{style:b.featureRow,children:[(0,y.jsx)(o.default,{style:b.iconBadgeMedical,children:(0,y.jsx)(u.default,{source:r(d[15]),style:b.medicalSymbolThumbnail,resizeMode:"cover"})}),(0,y.jsx)(l.default,{style:b.featureItem,children:"Medical Hub COMING SOON"})]}),(0,y.jsxs)(o.default,{style:b.featureRow,children:[(0,y.jsx)(o.default,{style:b.iconBadgeLocker,children:(0,y.jsx)(u.default,{source:r(d[16]),style:b.vaultThumbnail,resizeMode:"cover"})}),(0,y.jsx)(l.default,{style:b.featureItem,children:"Evidence Vault"})]})]})]})]})}},331,[13,85,161,162,26,222,252,131,132,153,332,333,334,335,336,337,338]);
__d(function(e,s,t,a,c,d,i){c.exports="/assets/attached_assets/Ship in Medium Weather 10sec_1763359328620.7260d44952b81c6991f62145707f7e84.mp4"},332,[]);
__d(function(a,t,d,e,i,s,g){i.exports={uri:"/assets/attached_assets/Nautical Pirate Logo with Foggy Sea Background_1762830868803.94152a79d39104d466a6d0a4da673c91.png",width:500,height:500}},333,[]);
__d(function(t,a,s,e,c,d,f){c.exports={uri:"/assets/attached_assets/MAP_1763356928680.fa2a933a6fb6f07c9cd68058653072b9.png",width:1408,height:792}},334,[]);
__d(function(e,t,s,_,a,f,d){a.exports={uri:"/assets/attached_assets/_a_pirates_treasure_chest_of_gold_1763356815342.8f749b7534cfdae81ffecedf1fbbb790.png",width:1408,height:792}},335,[]);
__d(function(d,a,e,s,t,c,h){t.exports={uri:"/assets/attached_assets/Old Camera Closeup_1764040319335.9932b6a75e4d31cb43ad01d2d4889c3d.png",width:1080,height:608}},336,[]);
__d(function(e,t,a,s,d,i,b){d.exports={uri:"/assets/attached_assets/Medical Symbol Pirate_1764039521695.fbebdabf799b57111346e6698ec4753d.png",width:1080,height:608}},337,[]);
__d(function(e,t,a,d,s,i,h){s.exports={uri:"/assets/attached_assets/Evidence Vault_1764037430801.6361e97ead6ea47f10ea9645774b5d7d.png",width:1080,height:608}},338,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return T}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),u=e(r(d[5])),c=e(r(d[6])),y=r(d[7]),f=r(d[8]),p=r(d[9]),h=r(d[10]);const x=u.default.create({videoWrapper:{position:'absolute',top:0,left:0,bottom:0,right:0,width:'100%',height:'100%',zIndex:-1},backgroundVideo:{width:'100%',height:'100%'},videoOverlay:{position:'absolute',top:0,left:0,bottom:0,right:0,backgroundColor:'rgba(0, 0, 0, 0.3)'},scrollContainer:{flex:1},scrollContent:{flexGrow:1,justifyContent:'center',paddingVertical:40},formContainer:{padding:20},formTitle:{fontSize:28,fontWeight:'bold',color:'#FFFFFF',marginBottom:30,textAlign:'center',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},sectionLabel:{fontSize:16,fontWeight:'600',color:'#FFFFFF',marginBottom:12,marginTop:10,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},userTypeContainer:{flexDirection:'row',gap:10,marginBottom:20},userTypeButton:{flex:1,paddingVertical:12,paddingHorizontal:8,borderRadius:8,borderWidth:2,borderColor:'rgba(255, 255, 255, 0.4)',backgroundColor:'rgba(255, 255, 255, 0.1)',alignItems:'center'},userTypeButtonActive:{backgroundColor:'rgba(212, 165, 116, 0.7)',borderColor:'#d4a574'},userTypeText:{fontSize:12,fontWeight:'600',color:'#FFFFFF',textAlign:'center'},userTypeTextActive:{color:'#FFFFFF'}});var T=({email:e,setEmail:u,password:T,setPassword:S,onLogin:E,onNavigate:F,userType:b,setUserType:C,firmCode:j,setFirmCode:v})=>{const I=(0,t.useRef)(null);return(0,t.useEffect)(()=>{I.current&&I.current.playAsync()},[]),(0,h.jsxs)(o.default,{style:f.commonStyles.container,children:[(0,h.jsxs)(o.default,{style:x.videoWrapper,pointerEvents:"none",children:[(0,h.jsx)(y.Video,{ref:I,source:r(d[11]),style:x.backgroundVideo,resizeMode:y.ResizeMode.CONTAIN,isLooping:!0,isMuted:!0,shouldPlay:!0}),(0,h.jsx)(o.default,{style:x.videoOverlay})]}),(0,h.jsx)(c.default,{style:x.scrollContainer,contentContainerStyle:x.scrollContent,children:(0,h.jsxs)(o.default,{style:x.formContainer,children:[(0,h.jsx)(n.default,{style:x.formTitle,children:"Welcome Back"}),(0,h.jsx)(n.default,{style:x.sectionLabel,children:"I am a:"}),(0,h.jsxs)(o.default,{style:x.userTypeContainer,children:[(0,h.jsx)(s.default,{style:[x.userTypeButton,b===p.USER_TYPES.INDIVIDUAL&&x.userTypeButtonActive],onPress:()=>C(p.USER_TYPES.INDIVIDUAL),children:(0,h.jsx)(n.default,{style:[x.userTypeText,b===p.USER_TYPES.INDIVIDUAL&&x.userTypeTextActive],children:"Individual"})}),(0,h.jsx)(s.default,{style:[x.userTypeButton,b===p.USER_TYPES.LAW_FIRM&&x.userTypeButtonActive],onPress:()=>C(p.USER_TYPES.LAW_FIRM),children:(0,h.jsx)(n.default,{style:[x.userTypeText,b===p.USER_TYPES.LAW_FIRM&&x.userTypeTextActive],children:"Law Firm"})}),(0,h.jsx)(s.default,{style:[x.userTypeButton,b===p.USER_TYPES.MEDICAL_PROVIDER&&x.userTypeButtonActive],onPress:()=>C(p.USER_TYPES.MEDICAL_PROVIDER),children:(0,h.jsx)(n.default,{style:[x.userTypeText,b===p.USER_TYPES.MEDICAL_PROVIDER&&x.userTypeTextActive],children:"Medical Provider"})})]}),(0,h.jsx)(l.default,{style:f.commonStyles.input,placeholder:"Email Address",value:e,onChangeText:u,keyboardType:"email-address",autoCapitalize:"none"}),(0,h.jsx)(l.default,{style:f.commonStyles.input,placeholder:"Password",value:T,onChangeText:S,secureTextEntry:!0}),(0,h.jsx)(s.default,{style:f.commonStyles.primaryButton,onPress:E,children:(0,h.jsx)(n.default,{style:f.commonStyles.buttonText,children:"Sign In"})}),(0,h.jsx)(s.default,{onPress:()=>F('register'),children:(0,h.jsx)(n.default,{style:f.commonStyles.linkText,children:"Don't have an account? Sign Up"})})]})})]})}},339,[13,85,161,340,162,26,177,252,131,133,153,341]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var n=e(r(_d[0])),o=t(r(_d[1])),l=e(r(_d[2])),u=t(r(_d[3])),d=t(r(_d[4])),c=t(r(_d[5])),s=t(r(_d[6])),p=t(r(_d[7])),h=t(r(_d[8])),v=r(_d[9]),f=t(r(_d[10])),S=t(r(_d[11])),R=(e,t)=>{var n=e.selectionEnd,o=e.selectionStart,l=t.start,u=t.end;return l!==o||u!==n},C=(e,t)=>{if(R(e,t)){var n=t.start,o=t.end;try{e.setSelectionRange(n,o||n)}catch(e){}}},y=Object.assign({},l.defaultProps,l.accessibilityProps,l.clickProps,l.focusProps,l.keyboardProps,l.mouseProps,l.touchProps,l.styleProps,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),b=e=>(0,u.default)(e,y);function x(e){return e.isComposing||229===e.keyCode}var k=null,E=n.forwardRef((e,t)=>{var l,u,f=e.autoCapitalize,R=void 0===f?'sentences':f,y=e.autoComplete,E=e.autoCompleteType,w=e.autoCorrect,O=void 0===w||w,P=e.blurOnSubmit,M=e.caretHidden,F=e.clearTextOnFocus,_=e.dir,j=e.editable,z=e.enterKeyHint,D=e.inputMode,H=e.keyboardType,K=e.multiline,L=void 0!==K&&K,N=e.numberOfLines,q=e.onBlur,A=e.onChange,B=e.onChangeText,G=e.onContentSizeChange,I=e.onFocus,W=e.onKeyPress,$=e.onLayout,V=e.onMoveShouldSetResponder,J=e.onMoveShouldSetResponderCapture,Q=e.onResponderEnd,U=e.onResponderGrant,X=e.onResponderMove,Y=e.onResponderReject,Z=e.onResponderRelease,ee=e.onResponderStart,te=e.onResponderTerminate,ne=e.onResponderTerminationRequest,re=e.onScrollShouldSetResponder,oe=e.onScrollShouldSetResponderCapture,ae=e.onSelectionChange,le=e.onSelectionChangeShouldSetResponder,ue=e.onSelectionChangeShouldSetResponderCapture,de=e.onStartShouldSetResponder,ie=e.onStartShouldSetResponderCapture,ce=e.onSubmitEditing,se=e.placeholderTextColor,pe=e.readOnly,he=void 0!==pe&&pe,ve=e.returnKeyType,fe=e.rows,Se=e.secureTextEntry,Re=void 0!==Se&&Se,ge=e.selection,Ce=e.selectTextOnFocus,ye=e.showSoftInputOnFocus,me=e.spellCheck;if(null!=D)u=D,l='email'===D?'email':'tel'===D?'tel':'search'===D?'search':'url'===D?'url':'text';else if(null!=H)switch(H){case'email-address':l='email';break;case'number-pad':case'numeric':u='numeric';break;case'decimal-pad':u='decimal';break;case'phone-pad':l='tel';break;case'search':case'web-search':l='search';break;case'url':l='url';break;default:l='text'}Re&&(l='password');var be=n.useRef({height:null,width:null}),xe=n.useRef(null),ke=n.useRef(null),Ee=n.useRef(!1);n.useEffect(()=>{xe.current&&ke.current&&C(xe.current,ke.current),Ee.current=Re},[Re]);var Te=n.useCallback(e=>{if(L&&G&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===be.current.height&&n===be.current.width||(be.current.height=t,be.current.width=n,G({nativeEvent:{contentSize:{height:be.current.height,width:be.current.width}}}))}},[L,G]),we=n.useMemo(()=>e=>{null!=e&&(e.clear=function(){null!=e&&(e.value='')},e.isFocused=function(){return null!=e&&S.default.currentlyFocusedField()===e},Te(e))},[Te]);(0,c.default)(()=>{var e=xe.current;null!=e&&null!=ge&&C(e,ge),document.activeElement===e&&(S.default._currentlyFocusedNode=e)},[xe,ge]);var Oe=L?'textarea':'input';(0,d.default)(xe,$),(0,h.default)(xe,{onMoveShouldSetResponder:V,onMoveShouldSetResponderCapture:J,onResponderEnd:Q,onResponderGrant:U,onResponderMove:X,onResponderReject:Y,onResponderRelease:Z,onResponderStart:ee,onResponderTerminate:te,onResponderTerminationRequest:ne,onScrollShouldSetResponder:re,onScrollShouldSetResponderCapture:oe,onSelectionChangeShouldSetResponder:le,onSelectionChangeShouldSetResponderCapture:ue,onStartShouldSetResponder:de,onStartShouldSetResponderCapture:ie});var Pe=(0,v.useLocaleContext)().direction,Me=b(e);Me.autoCapitalize=R,Me.autoComplete=y||E||'on',Me.autoCorrect=O?'on':'off',Me.dir=void 0!==_?_:'auto',Me.enterKeyHint=z||ve,Me.inputMode=u,Me.onBlur=function(e){S.default._currentlyFocusedNode=null,q&&(e.nativeEvent.text=e.target.value,q(e))},Me.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,Te(t),A&&A(e),B&&B(n)},Me.onFocus=function(e){var t=e.target;I&&(e.nativeEvent.text=t.value,I(e)),null!=t&&(S.default._currentlyFocusedNode=t,F&&(t.value=''),Ce&&(null!=k&&clearTimeout(k),k=setTimeout(()=>{null!=t&&document.activeElement===t&&t.select()},0)))},Me.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==P?!L:P,o=e.nativeEvent,l=x(o);W&&W(e),'Enter'!==e.key||e.shiftKey||l||e.isDefaultPrevented()||(!P&&L||!ce||(e.preventDefault(),o.text=e.target.value,ce(e)),n&&null!=t&&setTimeout(()=>t.blur(),0))},Me.onSelect=function(e){try{var t=e.target,n={start:t.selectionStart,end:t.selectionEnd};ae&&(e.nativeEvent.selection=n,e.nativeEvent.text=e.target.value,ae(e)),Ee.current===Re&&(ke.current=n)}catch(e){}},Me.readOnly=!0===he||!1===j,Me.rows=L?null!=fe?fe:N:1,Me.spellCheck=null!=me?me:O,Me.style=[{'--placeholderTextColor':se},T.textinput$raw,T.placeholder,e.style,M&&T.caretHidden],Me.type=L?void 0:l,Me.virtualkeyboardpolicy=!1===ye?'manual':'auto';var Fe=(0,p.default)(Me),je=(0,s.default)(xe,Fe,we,t);Me.ref=je;var ze=null!=e.lang?(0,v.getLocaleDirection)(e.lang):null,De=e.dir||ze||Pe;return(0,o.default)(Oe,Me,{writingDirection:De})});E.displayName='TextInput',E.State=S.default;var T=f.default.create({textinput$raw:{MozAppearance:'textfield',WebkitAppearance:'none',backgroundColor:'transparent',border:'0 solid black',borderRadius:0,boxSizing:'border-box',font:'14px System',margin:0,padding:0,resize:'none'},placeholder:{placeholderTextColor:'var(--placeholderTextColor)'},caretHidden:{caretColor:'transparent'}}),w=E},340,[13,86,94,95,96,97,103,105,107,92,26,179]);
__d(function(d,s,t,a,e,o,b){e.exports="/assets/attached_assets/Cat looking around 10sec_1763360910310.bb08b27b4971958dd2d9d0d108d78520.mp4"},341,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),h=r(d[7]),p=r(d[8]),f=r(d[9]),x=r(d[10]);const y=u.default.create({videoWrapper:{position:'absolute',top:0,left:0,bottom:0,right:0,width:'100%',height:'100%',zIndex:-1},backgroundVideo:{width:'100%',height:'100%'},videoOverlay:{position:'absolute',top:0,left:0,bottom:0,right:0,backgroundColor:'rgba(0, 0, 0, 0.3)'},scrollContainer:{flex:1},scrollContent:{flexGrow:1,paddingBottom:40},formContainer:{padding:20},formTitle:{fontSize:28,fontWeight:'bold',color:'#FFFFFF',marginBottom:30,textAlign:'center',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},label:{fontSize:16,fontWeight:'600',color:'#FFFFFF',marginBottom:10,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},toggleContainer:{flexDirection:'row',marginBottom:20},toggleButton:{flex:1,padding:12,borderWidth:2,borderColor:'rgba(255, 255, 255, 0.4)',backgroundColor:'rgba(255, 255, 255, 0.1)',marginHorizontal:5,borderRadius:8,alignItems:'center'},toggleButtonActive:{borderColor:'#3498db',backgroundColor:'rgba(52, 152, 219, 0.7)'},toggleText:{fontSize:12,color:'#FFFFFF',fontWeight:'600'},toggleTextActive:{color:'#FFFFFF'},disclaimer:{fontSize:12,color:'#FFFFFF',textAlign:'center',marginTop:20,lineHeight:18,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},inviteHint:{fontSize:14,color:'#27ae60',fontWeight:'600',marginTop:-10,marginBottom:10,textAlign:'center'}});var S=({email:e,setEmail:u,password:S,setPassword:C,confirmPassword:v,setConfirmPassword:T,userType:E,setUserType:F,firmCode:P,setFirmCode:R,inviteCode:I,setInviteCode:j,firstName:A,setFirstName:w,lastName:b,setLastName:_,phoneNumber:L,setPhoneNumber:N,firmName:U,setFirmName:D,providerName:Y,setProviderName:M,privacyAccepted:z,setPrivacyAccepted:O,onRegister:B,onNavigate:V})=>{const W=(0,t.useRef)(null);return(0,t.useEffect)(()=>{W.current&&W.current.playAsync()},[]),console.log('RegisterScreen rendering - privacyAccepted:',z),console.log('RegisterScreen rendering - userType:',E),(0,x.jsxs)(o.default,{style:p.commonStyles.container,children:[(0,x.jsxs)(o.default,{style:y.videoWrapper,pointerEvents:"none",children:[(0,x.jsx)(h.Video,{ref:W,source:r(d[11]),style:y.backgroundVideo,resizeMode:h.ResizeMode.CONTAIN,isLooping:!0,isMuted:!0,shouldPlay:!0}),(0,x.jsx)(o.default,{style:y.videoOverlay})]}),(0,x.jsx)(c.default,{style:y.scrollContainer,contentContainerStyle:y.scrollContent,children:(0,x.jsxs)(o.default,{style:y.formContainer,children:[(0,x.jsx)(l.default,{style:y.formTitle,children:"Create Your Account"}),(0,x.jsx)(l.default,{style:y.label,children:"I am a:"}),(0,x.jsxs)(o.default,{style:y.toggleContainer,children:[(0,x.jsx)(s.default,{style:[y.toggleButton,E===f.USER_TYPES.INDIVIDUAL&&y.toggleButtonActive],onPress:()=>F(f.USER_TYPES.INDIVIDUAL),children:(0,x.jsx)(l.default,{style:[y.toggleText,E===f.USER_TYPES.INDIVIDUAL&&y.toggleTextActive],children:"Individual"})}),(0,x.jsx)(s.default,{style:[y.toggleButton,E===f.USER_TYPES.LAW_FIRM&&y.toggleButtonActive],onPress:()=>F(f.USER_TYPES.LAW_FIRM),children:(0,x.jsx)(l.default,{style:[y.toggleText,E===f.USER_TYPES.LAW_FIRM&&y.toggleTextActive],children:"Law Firm"})}),(0,x.jsx)(s.default,{style:[y.toggleButton,E===f.USER_TYPES.MEDICAL_PROVIDER&&y.toggleButtonActive],onPress:()=>F(f.USER_TYPES.MEDICAL_PROVIDER),children:(0,x.jsx)(l.default,{style:[y.toggleText,E===f.USER_TYPES.MEDICAL_PROVIDER&&y.toggleTextActive],children:"Medical Provider"})})]}),E===f.USER_TYPES.INDIVIDUAL&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"First Name",value:A,onChangeText:w,autoCapitalize:"words"}),(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Last Name",value:b,onChangeText:_,autoCapitalize:"words"}),(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Cell Phone Number",value:L,onChangeText:N,keyboardType:"phone-pad",autoComplete:"tel"})]}),E===f.USER_TYPES.LAW_FIRM&&(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Law Firm Name",value:U,onChangeText:D,autoCapitalize:"words"}),E===f.USER_TYPES.MEDICAL_PROVIDER&&(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Medical Provider/Practice Name",value:Y,onChangeText:M,autoCapitalize:"words"}),(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Email Address",value:e,onChangeText:u,keyboardType:"email-address",autoCapitalize:"none",autoComplete:"email"}),(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Password",value:S,onChangeText:C,secureTextEntry:!0,autoComplete:"new-password"}),(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Confirm Password",value:v,onChangeText:T,secureTextEntry:!0,autoComplete:"new-password"}),E===f.USER_TYPES.INDIVIDUAL&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Law Firm or Provider Code (Optional)",value:P,onChangeText:R}),(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Friend's Invite Code (Optional)",value:I,onChangeText:e=>j(e.toUpperCase()),autoCapitalize:"characters",maxLength:8}),I&&(0,x.jsx)(l.default,{style:y.inviteHint,children:"\ud83d\udcb0 You'll help your friend earn 500 coins!"})]}),(E===f.USER_TYPES.LAW_FIRM||E===f.USER_TYPES.MEDICAL_PROVIDER)&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.default,{style:p.commonStyles.input,placeholder:"Referral/Invite Code (Optional)",value:I,onChangeText:e=>j(e.toUpperCase()),autoCapitalize:"characters",maxLength:8}),I&&(0,x.jsx)(l.default,{style:y.inviteHint,children:"\ud83d\udcb0 You'll help your referrer earn rewards!"})]}),(0,x.jsx)(s.default,{style:p.commonStyles.primaryButton,onPress:B,children:(0,x.jsx)(l.default,{style:p.commonStyles.buttonText,children:"Create Account"})}),(0,x.jsx)(s.default,{onPress:()=>V('login'),children:(0,x.jsx)(l.default,{style:p.commonStyles.linkText,children:"Already have an account? Sign In"})}),(0,x.jsx)(l.default,{style:y.disclaimer,children:"By creating an account, you agree to our Terms of Service and Privacy Policy. This app provides educational information, not legal advice."})]})})]})}},342,[13,85,161,340,162,177,26,252,131,133,153,343]);
__d(function(a,t,s,c,e,n,_){e.exports="/assets/attached_assets/Stationary Breathing 10sec_1763360411263.851a5fb9c636b720ac9d2c297775031b.mp4"},343,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return x}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),c=e(r(d[4])),s=e(r(d[5])),u=r(d[6]),f=r(d[7]);const h=s.default.create({header:{backgroundColor:'#8B4513',padding:20,alignItems:'center'},headerTitle:{fontSize:24,fontWeight:'bold',color:'#fff',marginBottom:5},headerSubtitle:{fontSize:14,color:'#f5deb3'},scrollView:{flex:1},scrollContent:{padding:20},content:{flex:1},sectionTitle:{fontSize:20,fontWeight:'bold',color:'#2c3e50',marginBottom:15,textAlign:'center'},paragraph:{fontSize:16,color:'#2c3e50',lineHeight:24,marginBottom:20,textAlign:'center'},documentButton:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',padding:15,borderRadius:10,marginBottom:12,borderWidth:2,borderColor:'#3498db',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},documentIcon:{fontSize:32,marginRight:15},documentTextContainer:{flex:1},documentTitle:{fontSize:16,fontWeight:'bold',color:'#2c3e50',marginBottom:3},documentSubtitle:{fontSize:13,color:'#7f8c8d'},arrow:{fontSize:20,color:'#3498db',fontWeight:'bold'},divider:{height:1,backgroundColor:'#bdc3c7',marginVertical:25},checkboxContainer:{flexDirection:'row',alignItems:'flex-start',backgroundColor:'#fffacd',padding:15,borderRadius:10,borderWidth:2,borderColor:'#8B4513',marginBottom:15},checkbox:{width:28,height:28,borderWidth:3,borderColor:'#8B4513',borderRadius:6,marginRight:12,justifyContent:'center',alignItems:'center',backgroundColor:'#fff'},checkboxChecked:{backgroundColor:'#27ae60',borderColor:'#27ae60'},checkmark:{color:'#fff',fontSize:20,fontWeight:'bold'},checkboxText:{flex:1,fontSize:15,color:'#2c3e50',lineHeight:22,fontWeight:'600'},disclaimer:{fontSize:12,color:'#7f8c8d',textAlign:'center',lineHeight:18},buttonContainer:{flexDirection:'row',padding:15,gap:10,borderTopWidth:1,borderTopColor:'#bdc3c7',backgroundColor:'#f8f9fa'},declineButton:{flex:1,padding:15,borderRadius:10,borderWidth:2,borderColor:'#e74c3c',backgroundColor:'#fff',alignItems:'center'},declineButtonText:{fontSize:16,fontWeight:'bold',color:'#e74c3c'},acceptButton:{flex:2,padding:15,borderRadius:10,backgroundColor:'#27ae60',alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:3},acceptButtonText:{fontSize:16,fontWeight:'bold',color:'#fff'},buttonDisabled:{backgroundColor:'#95a5a6',opacity:.6}});var x=({onAccept:e,onDecline:s,onNavigate:x})=>{const[b,y]=(0,t.useState)(!1);return(0,f.jsxs)(o.default,{style:u.commonStyles.container,children:[(0,f.jsxs)(o.default,{style:h.header,children:[(0,f.jsx)(n.default,{style:h.headerTitle,children:"Legal Documents"}),(0,f.jsx)(n.default,{style:h.headerSubtitle,children:"Please review and accept to continue"})]}),(0,f.jsx)(c.default,{style:h.scrollView,contentContainerStyle:h.scrollContent,children:(0,f.jsxs)(o.default,{style:h.content,children:[(0,f.jsx)(n.default,{style:h.sectionTitle,children:"\ud83d\udcdc Required Reading"}),(0,f.jsx)(n.default,{style:h.paragraph,children:"Before creating your account, please review our legal documents:"}),(0,f.jsxs)(l.default,{style:h.documentButton,onPress:()=>x('privacy-policy'),children:[(0,f.jsx)(n.default,{style:h.documentIcon,children:"\ud83d\udd12"}),(0,f.jsxs)(o.default,{style:h.documentTextContainer,children:[(0,f.jsx)(n.default,{style:h.documentTitle,children:"Privacy Policy"}),(0,f.jsx)(n.default,{style:h.documentSubtitle,children:"How we protect your data"})]}),(0,f.jsx)(n.default,{style:h.arrow,children:"\u2192"})]}),(0,f.jsxs)(l.default,{style:h.documentButton,onPress:()=>x('terms-of-service'),children:[(0,f.jsx)(n.default,{style:h.documentIcon,children:"\ud83d\udccb"}),(0,f.jsxs)(o.default,{style:h.documentTextContainer,children:[(0,f.jsx)(n.default,{style:h.documentTitle,children:"Terms of Service"}),(0,f.jsx)(n.default,{style:h.documentSubtitle,children:"Your rights and responsibilities"})]}),(0,f.jsx)(n.default,{style:h.arrow,children:"\u2192"})]}),(0,f.jsxs)(l.default,{style:h.documentButton,onPress:()=>x('eula'),children:[(0,f.jsx)(n.default,{style:h.documentIcon,children:"\u2696\ufe0f"}),(0,f.jsxs)(o.default,{style:h.documentTextContainer,children:[(0,f.jsx)(n.default,{style:h.documentTitle,children:"EULA"}),(0,f.jsx)(n.default,{style:h.documentSubtitle,children:"End User License Agreement"})]}),(0,f.jsx)(n.default,{style:h.arrow,children:"\u2192"})]}),(0,f.jsx)(o.default,{style:h.divider}),(0,f.jsxs)(l.default,{style:h.checkboxContainer,onPress:()=>{console.log('Checkbox toggled! New value:',!b),y(!b)},children:[(0,f.jsx)(o.default,{style:[h.checkbox,b&&h.checkboxChecked],children:b&&(0,f.jsx)(n.default,{style:h.checkmark,children:"\u2713"})}),(0,f.jsx)(n.default,{style:h.checkboxText,children:"I have read and agree to the Privacy Policy, Terms of Service, and EULA"})]}),(0,f.jsx)(n.default,{style:h.disclaimer,children:"By accepting, you acknowledge that you understand and agree to be bound by these terms."})]})}),(0,f.jsxs)(o.default,{style:h.buttonContainer,children:[(0,f.jsx)(l.default,{style:h.declineButton,onPress:s,children:(0,f.jsx)(n.default,{style:h.declineButtonText,children:"Decline & Go Back"})}),(0,f.jsx)(l.default,{style:[h.acceptButton,!b&&h.buttonDisabled],onPress:()=>{b&&e()},disabled:!b,children:(0,f.jsx)(n.default,{style:h.acceptButtonText,children:b?'Accept & Continue':'Please Check Box Above'})})]})]})}},344,[13,85,161,162,177,26,131,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var t=r(d[0]),l=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6]));e(r(d[7]));r(d[8]);var h=r(d[9]),f=r(d[10]),p=e(r(d[11])),y=r(d[12]);const x={tiers:[{name:'Solo/Shingle',min:1,max:24,standard:{monthly:45,annual:486,features:['Up to 24 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:59,annual:637,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Perfect for solo practitioners'},{name:'Boutique',min:25,max:49,standard:{monthly:80,annual:864,features:['Up to 49 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:104,annual:1123,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Small specialized firms'},{name:'Small Firm',min:50,max:99,standard:{monthly:140,annual:1512,features:['Up to 99 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:175,annual:1890,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Growing practice'},{name:'Medium-Small',min:100,max:199,standard:{monthly:250,annual:2700,features:['Up to 199 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:300,annual:3240,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Established regional firm'},{name:'Medium',min:200,max:349,standard:{monthly:420,annual:4536,features:['Up to 349 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:500,annual:5400,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Multi-location practice'},{name:'Medium-Large',min:350,max:499,standard:{monthly:630,annual:6804,features:['Up to 499 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:750,annual:8100,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Major regional firm'},{name:'Large',min:500,max:749,standard:{monthly:1e3,annual:10800,features:['Up to 749 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:1200,annual:12960,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Large multi-state firm'},{name:'Enterprise',min:750,max:1/0,standard:{monthly:1500,annual:16200,features:['Unlimited clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:1800,annual:19440,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'National firm'}]},b={free:{name:'Free',monthly:0,annual:0,features:['Access to roadmap','Basic notifications','Document storage (500MB)']},basic:{name:'Basic',monthly:9.99,annual:99.99,features:['Everything in Free','Unlimited storage','Priority support','No ads']},premium:{name:'Premium',monthly:19.99,annual:199.99,features:['Everything in Basic','AI document analysis','Video consultations','Premium content']}},T={tiers:[{name:'Shingle Provider',min:1,max:49,basic:{monthly:15,annual:162,features:['Up to 49 patients','Access to your Patients\' Interactive Roadmap','Basic Analytics','Full Access to Push Notifications','Evidence Locker Unlocked','Medical Hub Unlocked']},premium:{monthly:19,annual:205,features:['Everything in Basic','Disbursement Payments Unlocked','Negotiations with Law Firms Unlocked']},description:'Perfect for solo practitioners'},{name:'Boutique Provider',min:50,max:99,basic:{monthly:25,annual:270,features:['Up to 99 patients','Access to your Patients\' Interactive Roadmap','Basic Analytics','Full Access to Push Notifications','Evidence Locker Unlocked','Medical Hub Unlocked']},premium:{monthly:33,annual:356,features:['Everything in Basic','Disbursement Payments Unlocked','Negotiations with Law Firms Unlocked']},description:'Small specialized practice'},{name:'Medium Provider',min:100,max:199,basic:{monthly:38,annual:410,features:['Up to 199 patients','Access to your Patients\' Interactive Roadmap','Basic Analytics','Full Access to Push Notifications','Evidence Locker Unlocked','Medical Hub Unlocked']},premium:{monthly:48,annual:518,features:['Everything in Basic','Disbursement Payments Unlocked','Negotiations with Law Firms Unlocked']},description:'Growing practice'},{name:'Large Provider',min:200,max:1/0,basic:{monthly:50,annual:540,features:['Unlimited patients','Access to your Patients\' Interactive Roadmap','Basic Analytics','Full Access to Push Notifications','Evidence Locker Unlocked','Medical Hub Unlocked']},premium:{monthly:63,annual:680,features:['Everything in Basic','Disbursement Payments Unlocked','Negotiations with Law Firms Unlocked']},description:'Large multi-location practice'}]},C=o.default.create({container:{flex:1,backgroundColor:f.theme.colors.background,position:'relative'},videoWrapper:{position:'absolute',top:0,left:0,bottom:0,right:0,width:'100%',height:'100%',zIndex:-1},backgroundVideo:{width:'100%',height:'100%'},videoOverlay:{position:'absolute',top:0,left:0,bottom:0,right:0,backgroundColor:'rgba(0, 0, 0, 0.3)'},scrollContainer:{flex:1,position:'relative',zIndex:1},lawFirmContainer:{padding:20},backButton:{flexDirection:'row',alignItems:'center',paddingVertical:12,paddingHorizontal:16,marginBottom:16,backgroundColor:'rgba(255, 255, 255, 0.2)',borderRadius:12,alignSelf:'flex-start',borderWidth:2,borderColor:'rgba(255, 255, 255, 0.4)'},backButtonText:{fontSize:16,fontWeight:'600',color:'#FFFFFF'},calculator:{backgroundColor:'rgba(255, 255, 255, 0.15)',borderRadius:16,padding:24,borderWidth:2,borderColor:'rgba(255, 255, 255, 0.3)',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:8,elevation:4,marginBottom:20},calculatorTitle:{fontSize:28,fontWeight:'bold',color:'#FFFFFF',marginBottom:8,textAlign:'center',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},calculatorSubtitle:{fontSize:16,color:'#FFFFFF',textAlign:'center',marginBottom:24,textShadowColor:'rgba(0, 0, 0, 0.6)',textShadowOffset:{width:1,height:1},textShadowRadius:2},inputGroup:{marginBottom:24},inputLabel:{fontSize:16,fontWeight:'600',color:'#FFFFFF',marginBottom:4,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},inputHint:{fontSize:13,color:'#E0E0E0',marginBottom:8,fontStyle:'italic',textShadowColor:'rgba(0, 0, 0, 0.6)',textShadowOffset:{width:1,height:1},textShadowRadius:2},input:{backgroundColor:'rgba(255, 255, 255, 0.15)',borderRadius:12,padding:16,fontSize:18,borderWidth:2,borderColor:'rgba(255, 255, 255, 0.4)',color:'#FFFFFF'},planTypeSelector:{marginBottom:24},planTypeSelectorLabel:{fontSize:16,fontWeight:'600',color:'#FFFFFF',marginBottom:12,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},planTypeButtons:{flexDirection:'row',gap:12},planTypeButton:{flex:1,backgroundColor:'rgba(255, 255, 255, 0.1)',borderRadius:12,padding:16,alignItems:'center',borderWidth:2,borderColor:'rgba(255, 255, 255, 0.3)'},planTypeButtonActive:{backgroundColor:'rgba(212, 165, 116, 0.3)',borderColor:'#d4a574'},planTypeButtonText:{fontSize:18,fontWeight:'600',color:'#FFFFFF',marginBottom:4},planTypeButtonTextActive:{color:'#FFD700'},planTypeButtonSubtext:{fontSize:13,color:'#E0E0E0'},premiumBadgeSmall:{backgroundColor:'#FFD700',paddingHorizontal:8,paddingVertical:4,borderRadius:6,marginBottom:8},premiumBadgeText:{fontSize:10,fontWeight:'bold',color:'#333'},billingToggle:{flexDirection:'row',backgroundColor:'rgba(255, 255, 255, 0.1)',borderRadius:12,padding:4,marginBottom:24,borderWidth:2,borderColor:'rgba(255, 255, 255, 0.3)'},toggleButton:{flex:1,paddingVertical:12,alignItems:'center',borderRadius:8,position:'relative'},toggleActive:{backgroundColor:'rgba(212, 165, 116, 0.4)',shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:.3,shadowRadius:2,elevation:2},toggleText:{fontSize:16,fontWeight:'500',color:'#E0E0E0'},toggleTextActive:{color:'#FFD700',fontWeight:'600'},savingsBadge:{position:'absolute',top:-6,right:8,backgroundColor:'#4CAF50',paddingHorizontal:6,paddingVertical:2,borderRadius:4},savingsText:{fontSize:10,fontWeight:'bold',color:'#fff'},results:{marginTop:24,paddingTop:24,borderTopWidth:1,borderTopColor:'rgba(255, 255, 255, 0.3)'},tierBadgeContainer:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',marginBottom:12},tierBadge:{flex:1},tierName:{fontSize:24,fontWeight:'bold',color:'#FFD700',marginBottom:4,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},tierRange:{fontSize:14,color:'#E0E0E0'},premiumPill:{backgroundColor:'#FFD700',paddingHorizontal:12,paddingVertical:6,borderRadius:12},premiumPillText:{fontSize:12,fontWeight:'bold',color:'#333'},tierDescription:{fontSize:15,color:'#E0E0E0',marginBottom:16},priceDisplay:{flexDirection:'row',alignItems:'baseline',marginBottom:12},priceAmount:{fontSize:48,fontWeight:'bold',color:'#FFD700',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},pricePeriod:{fontSize:20,color:'#E0E0E0',marginLeft:4},priceDetails:{marginBottom:24},perClientText:{fontSize:16,color:'#FFFFFF',marginBottom:4,textShadowColor:'rgba(0, 0, 0, 0.6)',textShadowOffset:{width:1,height:1},textShadowRadius:2},savingsHighlight:{fontSize:16,fontWeight:'600',color:'#4CAF50'},featuresContainer:{backgroundColor:'rgba(255, 255, 255, 0.1)',borderRadius:12,padding:16,marginBottom:20,borderWidth:2,borderColor:'rgba(255, 255, 255, 0.3)'},featuresTitle:{fontSize:16,fontWeight:'600',color:'#FFFFFF',marginBottom:12,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},featureRow:{flexDirection:'row',alignItems:'flex-start',marginBottom:8},featureCheck:{fontSize:16,color:'#4CAF50',marginRight:8,marginTop:2},featureText:{flex:1,fontSize:15,color:'#FFFFFF',lineHeight:22},selectButton:{backgroundColor:f.theme.colors.primary,borderRadius:12,padding:18,alignItems:'center',marginBottom:12},selectButtonPremium:{backgroundColor:'#FFD700'},selectButtonText:{fontSize:18,fontWeight:'bold',color:'#fff'},upgradeHint:{padding:12,alignItems:'center',marginBottom:12},upgradeHintText:{fontSize:14,color:f.theme.colors.primary,textDecorationLine:'underline'},nextTierHint:{fontSize:13,color:f.theme.colors.textSecondary,textAlign:'center',fontStyle:'italic'},pricingTableContainer:{marginTop:32,paddingTop:24,borderTopWidth:1,borderTopColor:'rgba(255, 255, 255, 0.3)'},pricingTableHeader:{marginBottom:16},pricingTableTitle:{fontSize:20,fontWeight:'bold',color:'#FFFFFF',marginBottom:12,textAlign:'center',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},pricingTableToggle:{flexDirection:'row',backgroundColor:'rgba(255, 255, 255, 0.1)',borderRadius:8,padding:4,alignSelf:'center',borderWidth:2,borderColor:'rgba(255, 255, 255, 0.3)'},tableToggleButton:{paddingHorizontal:20,paddingVertical:8,borderRadius:6},tableToggleActive:{backgroundColor:'rgba(212, 165, 116, 0.4)'},tableToggleText:{fontSize:14,color:'#E0E0E0'},tableToggleTextActive:{color:'#FFD700',fontWeight:'600'},pricingTable:{flexDirection:'row',gap:12},pricingTableColumn:{width:120,backgroundColor:'rgba(255, 255, 255, 0.1)',borderRadius:12,padding:12,alignItems:'center',borderWidth:2,borderColor:'rgba(255, 255, 255, 0.3)'},pricingTableColumnActive:{backgroundColor:'rgba(212, 165, 116, 0.3)',borderColor:'#d4a574'},tableColumnName:{fontSize:14,fontWeight:'600',color:'#FFFFFF',textAlign:'center',marginBottom:4},tableColumnRange:{fontSize:11,color:'#E0E0E0',marginBottom:8},tableColumnPrice:{fontSize:20,fontWeight:'bold',color:'#FFD700'},tableColumnPeriod:{fontSize:12,color:'#E0E0E0'},additionalRevenueBox:{backgroundColor:'#E8F5E9',borderRadius:16,padding:20,borderWidth:2,borderColor:'#4CAF50'},revenueBoxTitle:{fontSize:20,fontWeight:'bold',color:'#2E7D32',marginBottom:12},revenueBoxText:{fontSize:15,color:'#1B5E20',lineHeight:22,marginBottom:12},revenueBoxExample:{fontSize:16,fontWeight:'600',color:'#2E7D32',marginBottom:12},comingSoonBadge:{backgroundColor:'#4CAF50',paddingHorizontal:16,paddingVertical:8,borderRadius:8,alignSelf:'flex-start'},comingSoonText:{fontSize:13,fontWeight:'bold',color:'#fff'},individualContainer:{padding:20},title:{fontSize:32,fontWeight:'bold',color:'#FFFFFF',textAlign:'center',marginBottom:8,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},subtitle:{fontSize:16,color:'#E0E0E0',textAlign:'center',marginBottom:32,textShadowColor:'rgba(0, 0, 0, 0.6)',textShadowOffset:{width:1,height:1},textShadowRadius:2},planCard:{backgroundColor:'rgba(255, 255, 255, 0.15)',borderRadius:16,padding:24,marginBottom:16,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:8,elevation:4,borderWidth:2,borderColor:'rgba(255, 255, 255, 0.3)',position:'relative'},planCardPremium:{borderColor:'#FFD700',transform:[{scale:1.02}],backgroundColor:'rgba(255, 215, 0, 0.15)'},premiumBadgeTop:{position:'absolute',top:-12,right:20,backgroundColor:'#FFD700',paddingHorizontal:16,paddingVertical:6,borderRadius:12},premiumBadgeTopText:{fontSize:12,fontWeight:'bold',color:'#333'},planName:{fontSize:24,fontWeight:'bold',color:'#FFD700',marginBottom:12,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},planPrice:{flexDirection:'row',alignItems:'baseline',marginBottom:20},planPriceAmount:{fontSize:42,fontWeight:'bold',color:'#FFFFFF',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:3},planPricePeriod:{fontSize:18,color:'#E0E0E0',marginLeft:4},planFeatures:{marginBottom:20},selectButtonContainer:{backgroundColor:f.theme.colors.primary,borderRadius:12,padding:16,alignItems:'center'},selectButtonTextPremium:{backgroundColor:'#FFD700'}});var S=({userType:e,onSelectSubscription:o,onNavigate:f,viewOnly:S=!1,onBack:j=null})=>{const B=(0,t.useRef)(null),[v,P]=(0,t.useState)(''),[F,w]=(0,t.useState)('monthly'),[O,A]=(0,t.useState)('medicalprovider'===e?'basic':'standard'),[k,N]=(0,t.useState)(null),[E,D]=(0,t.useState)('lawfirm'===e||'medicalprovider'===e);(0,t.useEffect)(()=>{B.current&&B.current.playAsync()},[]);const M=(t=>{const l=parseInt(t);return isNaN(l)||l<1?null:'medicalprovider'===e?T.tiers.find(e=>l>=e.min&&l<=e.max):x.tiers.find(e=>l>=e.min&&l<=e.max)})(v),R=e=>{if(!e)return 0;const t=e[O];return'monthly'===F?t.monthly:t.annual},I=(e,t)=>{if(!e||!t)return 0;return(R(e)/parseInt(t)).toFixed(2)},z=e=>{if(!e)return 0;const t=e[O];return(12*t.monthly-t.annual).toFixed(2)},U=(t,l=null,n=!1)=>{if(S)window.confirm('Ready to get started? Click OK to create your account.')&&o();else if('lawfirm'===e||'medicalprovider'===e){const t=l||M;if(!t){return void alert('Please select a tier from the table below or enter your client/patient count to continue')}if(n&&(!v||0===parseInt(v))){const e=t.max===1/0?t.min:Math.floor((t.min+t.max)/2);P(e.toString())}const s='premium'===O?'Premium':'medicalprovider'===e?'Basic':'Standard',c='medicalprovider'===e?'Patients':'Clients',u=t.max===1/0?`${t.min}+ ${c.toLowerCase()}`:`${t.min}-${t.max} ${c.toLowerCase()}`;let h=`Select ${t.name} ${s} plan?\n\nTier Range: ${u}\nPrice: $${R(t)}/${'monthly'===F?'month':'year'}`;v&&parseInt(v)>0&&(h+=`\n${c}: ${v}\nPer ${c.toLowerCase().slice(0,-1)}: $${I(t,v)}`);((e,t,l)=>{window.confirm(t)&&l[1].onPress()})('Confirm Selection',h,[{text:'Cancel',style:'cancel'},{text:'Continue',onPress:()=>{o(t.name.toLowerCase().replace(/[^a-z]/g,''),{clientCount:v?parseInt(v):null,tierName:t.name,billingPeriod:F,planType:O})}}])}else{const e=b[t],l='monthly'===F?e.monthly:e.annual;if('free'===t)o('free',null);else{((e,t,l)=>{window.confirm(t)&&l[1].onPress()})('Confirm Selection',`Select ${e.name} plan?\n\nPrice: $${l}/${'monthly'===F?'month':'year'}`,[{text:'Cancel',style:'cancel'},{text:'Continue',onPress:()=>{o(t,{billingPeriod:F})}}])}}};return(0,y.jsxs)(l.default,{style:C.container,children:[(0,y.jsxs)(l.default,{style:C.videoWrapper,pointerEvents:"none",children:[(0,y.jsx)(h.Video,{ref:B,source:r(d[13]),style:C.backgroundVideo,resizeMode:h.ResizeMode.COVER,isLooping:!0,isMuted:!0,shouldPlay:!0}),(0,y.jsx)(l.default,{style:C.videoOverlay})]}),(0,y.jsx)(s.default,{style:C.scrollContainer,children:'lawfirm'===e?(0,y.jsxs)(l.default,{style:C.lawFirmContainer,children:[(0,y.jsx)(c.default,{style:C.backButton,onPress:()=>S&&j?j():f('register'),children:(0,y.jsx)(n.default,{style:C.backButtonText,children:"\u2190 Back"})}),(0,y.jsx)(p.default,{heading:"\ud83d\udcca Compare Plans",subheading:"Choose the plan that best fits your firm's needs",standardFeatures:['Client limits vary by tier','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access'],premiumFeatures:['\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Settlement Disbursements','\ud83e\udd1d Negotiations Portal','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83c\udfe5 Medical Provider Payments (COMING SOON)'],showDisbursementNote:!0}),(0,y.jsxs)(l.default,{style:C.calculator,children:[(0,y.jsx)(n.default,{style:C.calculatorTitle,children:"\ud83d\udcbc Calculate Your Price"}),(0,y.jsx)(n.default,{style:C.calculatorSubtitle,children:"Simple, transparent pricing based on your client count"}),(0,y.jsxs)(l.default,{style:C.inputGroup,children:[(0,y.jsx)(n.default,{style:C.inputLabel,children:"How many clients do you have? (Optional)"}),(0,y.jsx)(n.default,{style:C.inputHint,children:"Enter a count for per-client pricing, or skip to select a tier below"}),(0,y.jsx)(u.default,{style:C.input,keyboardType:"number-pad",value:v,onChangeText:P,placeholder:"Enter number of clients (optional)",placeholderTextColor:"#999"})]}),(0,y.jsxs)(l.default,{style:C.planTypeSelector,children:[(0,y.jsx)(n.default,{style:C.planTypeSelectorLabel,children:"Select Plan Type:"}),(0,y.jsxs)(l.default,{style:C.planTypeButtons,children:[(0,y.jsxs)(c.default,{style:[C.planTypeButton,'standard'===O&&C.planTypeButtonActive],onPress:()=>A('standard'),children:[(0,y.jsx)(n.default,{style:[C.planTypeButtonText,'standard'===O&&C.planTypeButtonTextActive],children:"Standard"}),(0,y.jsx)(n.default,{style:C.planTypeButtonSubtext,children:"Essential features"})]}),(0,y.jsxs)(c.default,{style:[C.planTypeButton,'premium'===O&&C.planTypeButtonActive],onPress:()=>A('premium'),children:[(0,y.jsx)(l.default,{style:C.premiumBadgeSmall,children:(0,y.jsx)(n.default,{style:C.premiumBadgeText,children:"\u2b50 PREMIUM"})}),(0,y.jsx)(n.default,{style:[C.planTypeButtonText,'premium'===O&&C.planTypeButtonTextActive],children:"Premium"}),(0,y.jsx)(n.default,{style:C.planTypeButtonSubtext,children:"+19-31% - Advanced features"})]})]})]}),(0,y.jsxs)(l.default,{style:C.billingToggle,children:[(0,y.jsx)(c.default,{style:[C.toggleButton,'monthly'===F&&C.toggleActive],onPress:()=>w('monthly'),children:(0,y.jsx)(n.default,{style:[C.toggleText,'monthly'===F&&C.toggleTextActive],children:"Monthly"})}),(0,y.jsxs)(c.default,{style:[C.toggleButton,'annual'===F&&C.toggleActive],onPress:()=>w('annual'),children:[(0,y.jsx)(n.default,{style:[C.toggleText,'annual'===F&&C.toggleTextActive],children:"Annual"}),(0,y.jsx)(l.default,{style:C.savingsBadge,children:(0,y.jsx)(n.default,{style:C.savingsText,children:"Save 10%"})})]})]}),M&&(0,y.jsxs)(l.default,{style:C.results,children:[(0,y.jsxs)(l.default,{style:C.tierBadgeContainer,children:[(0,y.jsxs)(l.default,{style:C.tierBadge,children:[(0,y.jsx)(n.default,{style:C.tierName,children:M.name}),(0,y.jsxs)(n.default,{style:C.tierRange,children:[M.min,"-",M.max===1/0?'999+':M.max," clients"]})]}),'premium'===O&&(0,y.jsx)(l.default,{style:C.premiumPill,children:(0,y.jsx)(n.default,{style:C.premiumPillText,children:"\u2b50 PREMIUM"})})]}),(0,y.jsx)(n.default,{style:C.tierDescription,children:M.description}),(0,y.jsxs)(l.default,{style:C.priceDisplay,children:[(0,y.jsxs)(n.default,{style:C.priceAmount,children:["$",R(M)]}),(0,y.jsxs)(n.default,{style:C.pricePeriod,children:["/",'monthly'===F?'mo':'yr']})]}),(0,y.jsxs)(l.default,{style:C.priceDetails,children:[(0,y.jsxs)(n.default,{style:C.perClientText,children:["Just $",I(M,v)," per client"]}),'annual'===F&&(0,y.jsxs)(n.default,{style:C.savingsHighlight,children:["\ud83d\udcb0 Save $",z(M),"/year"]})]}),(0,y.jsxs)(l.default,{style:C.featuresContainer,children:[(0,y.jsx)(n.default,{style:C.featuresTitle,children:'premium'===O?'\u2b50 Premium Features:':'\ud83d\udce6 Basic Features:'}),M[O].features.map((e,t)=>(0,y.jsxs)(l.default,{style:C.featureRow,children:[(0,y.jsx)(n.default,{style:C.featureCheck,children:"\u2713"}),(0,y.jsx)(n.default,{style:C.featureText,children:e})]},t))]}),(0,y.jsx)(c.default,{style:[C.selectButton,'premium'===O&&C.selectButtonPremium],onPress:()=>U('lawfirm',M),children:(0,y.jsxs)(n.default,{style:C.selectButtonText,children:["Select ",M.name," ",'premium'===O?'Premium':'Standard']})}),'standard'===O&&(0,y.jsx)(c.default,{style:C.upgradeHint,onPress:()=>A('premium'),children:(0,y.jsx)(n.default,{style:C.upgradeHintText,children:"\u2b50 Upgrade to Premium for advanced features"})}),M.max!==1/0&&(0,y.jsxs)(n.default,{style:C.nextTierHint,children:["\ud83d\udca1 At ",M.max+1," clients, you'll upgrade to ",x.tiers[x.tiers.indexOf(M)+1]?.name]})]}),(0,y.jsxs)(l.default,{style:C.pricingTableContainer,children:[(0,y.jsxs)(l.default,{style:C.pricingTableHeader,children:[(0,y.jsx)(n.default,{style:C.pricingTableTitle,children:"All Tiers at a Glance"}),(0,y.jsxs)(l.default,{style:C.pricingTableToggle,children:[(0,y.jsx)(c.default,{style:[C.tableToggleButton,'standard'===O&&C.tableToggleActive],onPress:()=>A('standard'),children:(0,y.jsx)(n.default,{style:[C.tableToggleText,'standard'===O&&C.tableToggleTextActive],children:"Standard"})}),(0,y.jsx)(c.default,{style:[C.tableToggleButton,'premium'===O&&C.tableToggleActive],onPress:()=>A('premium'),children:(0,y.jsx)(n.default,{style:[C.tableToggleText,'premium'===O&&C.tableToggleTextActive],children:"Premium"})})]})]}),(0,y.jsx)(s.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,y.jsx)(l.default,{style:C.pricingTable,children:x.tiers.map((e,t)=>{const l=e[O],o='monthly'===F?l.monthly:l.annual;return(0,y.jsxs)(c.default,{style:[C.pricingTableColumn,M?.name===e.name&&C.pricingTableColumnActive],onPress:()=>U('lawfirm',e,!0),children:[(0,y.jsx)(n.default,{style:C.tableColumnName,children:e.name}),(0,y.jsxs)(n.default,{style:C.tableColumnRange,children:[e.min,"-",e.max===1/0?'999+':e.max]}),(0,y.jsxs)(n.default,{style:C.tableColumnPrice,children:["$",o]}),(0,y.jsxs)(n.default,{style:C.tableColumnPeriod,children:["/",'monthly'===F?'mo':'yr']})]},t)})})})]})]}),(0,y.jsxs)(l.default,{style:C.additionalRevenueBox,children:[(0,y.jsx)(n.default,{style:C.revenueBoxTitle,children:"\ud83d\udcb0 Unlock Disbursements with Premium"}),(0,y.jsx)(n.default,{style:C.revenueBoxText,children:"Premium plan unlocks the ability to process settlement disbursements and pay clients and participating medical providers through the app."}),(0,y.jsx)(l.default,{style:C.comingSoonBadge,children:(0,y.jsx)(n.default,{style:C.comingSoonText,children:"\ud83d\ude80 COMING SOON"})})]})]}):'medicalprovider'===e?(0,y.jsxs)(l.default,{style:C.lawFirmContainer,children:[(0,y.jsx)(c.default,{style:C.backButton,onPress:()=>S&&j?j():f('register'),children:(0,y.jsx)(n.default,{style:C.backButtonText,children:"\u2190 Back"})}),(0,y.jsx)(p.default,{heading:"\ud83d\udcca Compare Plans",subheading:"Choose the plan that best fits your practice",standardFeatures:['Patient limits vary by tier','\ud83d\udccd Access to Patients\' Interactive Roadmap','\ud83d\udcca Basic Analytics','\ud83d\udd14 Full Access to Push Notifications','\ud83d\udd12 Evidence Locker Unlocked','\ud83c\udfe5 Medical Hub Unlocked'],premiumFeatures:['\ud83d\udcb0 Disbursement Payments Unlocked','\ud83e\udd1d Negotiations with Law Firms Unlocked'],showDisbursementNote:!0,disbursementNoteText:"Settlement Disbursements is a premium-only feature. Upgrade to Premium to receive payments from law firms.",standardLabel:"Basic",standardDescription:"Core features for your practice",premiumLabel:"Premium",premiumDescription:"Advanced features"}),(0,y.jsxs)(l.default,{style:C.calculator,children:[(0,y.jsx)(n.default,{style:C.calculatorTitle,children:"\ud83c\udfe5 Calculate Your Price"}),(0,y.jsx)(n.default,{style:C.calculatorSubtitle,children:"Simple, transparent pricing based on your patient count"}),(0,y.jsxs)(l.default,{style:C.inputGroup,children:[(0,y.jsx)(n.default,{style:C.inputLabel,children:"How many patients do you have? (Optional)"}),(0,y.jsx)(n.default,{style:C.inputHint,children:"Enter a count for per-patient pricing, or skip to select a tier below"}),(0,y.jsx)(u.default,{style:C.input,keyboardType:"number-pad",value:v,onChangeText:P,placeholder:"Enter number of patients (optional)",placeholderTextColor:"#999"})]}),(0,y.jsxs)(l.default,{style:C.planTypeSelector,children:[(0,y.jsx)(n.default,{style:C.planTypeSelectorLabel,children:"Select Plan Type:"}),(0,y.jsxs)(l.default,{style:C.planTypeButtons,children:[(0,y.jsxs)(c.default,{style:[C.planTypeButton,'basic'===O&&C.planTypeButtonActive],onPress:()=>A('basic'),children:[(0,y.jsx)(n.default,{style:[C.planTypeButtonText,'basic'===O&&C.planTypeButtonTextActive],children:"Basic"}),(0,y.jsx)(n.default,{style:C.planTypeButtonSubtext,children:"Essential features"})]}),(0,y.jsxs)(c.default,{style:[C.planTypeButton,'premium'===O&&C.planTypeButtonActive],onPress:()=>A('premium'),children:[(0,y.jsx)(l.default,{style:C.premiumBadgeSmall,children:(0,y.jsx)(n.default,{style:C.premiumBadgeText,children:"\u2b50 PREMIUM"})}),(0,y.jsx)(n.default,{style:[C.planTypeButtonText,'premium'===O&&C.planTypeButtonTextActive],children:"Premium"}),(0,y.jsx)(n.default,{style:C.planTypeButtonSubtext,children:"Advanced features"})]})]})]}),(0,y.jsxs)(l.default,{style:C.billingToggle,children:[(0,y.jsx)(c.default,{style:[C.toggleButton,'monthly'===F&&C.toggleActive],onPress:()=>w('monthly'),children:(0,y.jsx)(n.default,{style:[C.toggleText,'monthly'===F&&C.toggleTextActive],children:"Monthly"})}),(0,y.jsxs)(c.default,{style:[C.toggleButton,'annual'===F&&C.toggleActive],onPress:()=>w('annual'),children:[(0,y.jsx)(n.default,{style:[C.toggleText,'annual'===F&&C.toggleTextActive],children:"Annual"}),(0,y.jsx)(l.default,{style:C.savingsBadge,children:(0,y.jsx)(n.default,{style:C.savingsText,children:"Save 10%"})})]})]}),M&&(0,y.jsxs)(l.default,{style:C.results,children:[(0,y.jsxs)(l.default,{style:C.tierBadgeContainer,children:[(0,y.jsxs)(l.default,{style:C.tierBadge,children:[(0,y.jsx)(n.default,{style:C.tierName,children:M.name}),(0,y.jsxs)(n.default,{style:C.tierRange,children:[M.min,"-",M.max===1/0?'999+':M.max," patients"]})]}),'premium'===O&&(0,y.jsx)(l.default,{style:C.premiumPill,children:(0,y.jsx)(n.default,{style:C.premiumPillText,children:"\u2b50 PREMIUM"})})]}),(0,y.jsx)(n.default,{style:C.tierDescription,children:M.description}),(0,y.jsxs)(l.default,{style:C.priceDisplay,children:[(0,y.jsxs)(n.default,{style:C.priceAmount,children:["$",R(M)]}),(0,y.jsxs)(n.default,{style:C.pricePeriod,children:["/",'monthly'===F?'mo':'yr']})]}),(0,y.jsxs)(l.default,{style:C.priceDetails,children:[(0,y.jsxs)(n.default,{style:C.perClientText,children:["Just $",I(M,v)," per patient"]}),'annual'===F&&(0,y.jsxs)(n.default,{style:C.savingsHighlight,children:["\ud83d\udcb0 Save $",z(M),"/year"]})]}),(0,y.jsxs)(l.default,{style:C.featuresContainer,children:[(0,y.jsx)(n.default,{style:C.featuresTitle,children:'premium'===O?'\u2b50 Premium Features:':'\ud83d\udce6 Basic Features:'}),M[O].features.map((e,t)=>(0,y.jsxs)(l.default,{style:C.featureRow,children:[(0,y.jsx)(n.default,{style:C.featureCheck,children:"\u2713"}),(0,y.jsx)(n.default,{style:C.featureText,children:e})]},t))]}),(0,y.jsx)(c.default,{style:[C.selectButton,'premium'===O&&C.selectButtonPremium],onPress:()=>U('medicalprovider',M),children:(0,y.jsxs)(n.default,{style:C.selectButtonText,children:["Select ",M.name," ",'premium'===O?'Premium':'Basic']})}),'basic'===O&&(0,y.jsx)(c.default,{style:C.upgradeHint,onPress:()=>A('premium'),children:(0,y.jsx)(n.default,{style:C.upgradeHintText,children:"\u2b50 Upgrade to Premium for advanced features"})}),M.max!==1/0&&(0,y.jsxs)(n.default,{style:C.nextTierHint,children:["\ud83d\udca1 At ",M.max+1," patients, you'll upgrade to ",T.tiers[T.tiers.indexOf(M)+1]?.name]})]}),(0,y.jsxs)(l.default,{style:C.pricingTableContainer,children:[(0,y.jsxs)(l.default,{style:C.pricingTableHeader,children:[(0,y.jsx)(n.default,{style:C.pricingTableTitle,children:"All Tiers at a Glance"}),(0,y.jsxs)(l.default,{style:C.pricingTableToggle,children:[(0,y.jsx)(c.default,{style:[C.tableToggleButton,'basic'===O&&C.tableToggleActive],onPress:()=>A('basic'),children:(0,y.jsx)(n.default,{style:[C.tableToggleText,'basic'===O&&C.tableToggleTextActive],children:"Basic"})}),(0,y.jsx)(c.default,{style:[C.tableToggleButton,'premium'===O&&C.tableToggleActive],onPress:()=>A('premium'),children:(0,y.jsx)(n.default,{style:[C.tableToggleText,'premium'===O&&C.tableToggleTextActive],children:"Premium"})})]})]}),(0,y.jsx)(s.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,y.jsx)(l.default,{style:C.pricingTable,children:T.tiers.map((e,t)=>{const l=e[O],o='monthly'===F?l.monthly:l.annual;return(0,y.jsxs)(c.default,{style:[C.pricingTableColumn,M?.name===e.name&&C.pricingTableColumnActive],onPress:()=>U('medicalprovider',e,!0),children:[(0,y.jsx)(n.default,{style:C.tableColumnName,children:e.name}),(0,y.jsxs)(n.default,{style:C.tableColumnRange,children:[e.min,"-",e.max===1/0?'999+':e.max]}),(0,y.jsxs)(n.default,{style:C.tableColumnPrice,children:["$",o]}),(0,y.jsxs)(n.default,{style:C.tableColumnPeriod,children:["/",'monthly'===F?'mo':'yr']})]},t)})})})]})]})]}):(0,y.jsxs)(l.default,{style:C.individualContainer,children:[(0,y.jsx)(c.default,{style:C.backButton,onPress:()=>S&&j?j():f('register'),children:(0,y.jsx)(n.default,{style:C.backButtonText,children:"\u2190 Back"})}),(0,y.jsx)(n.default,{style:C.title,children:"Choose Your Plan"}),(0,y.jsx)(n.default,{style:C.subtitle,children:"Navigate your legal journey with confidence"}),(0,y.jsxs)(l.default,{style:C.billingToggle,children:[(0,y.jsx)(c.default,{style:[C.toggleButton,'monthly'===F&&C.toggleActive],onPress:()=>w('monthly'),children:(0,y.jsx)(n.default,{style:[C.toggleText,'monthly'===F&&C.toggleTextActive],children:"Monthly"})}),(0,y.jsxs)(c.default,{style:[C.toggleButton,'annual'===F&&C.toggleActive],onPress:()=>w('annual'),children:[(0,y.jsx)(n.default,{style:[C.toggleText,'annual'===F&&C.toggleTextActive],children:"Annual"}),(0,y.jsx)(l.default,{style:C.savingsBadge,children:(0,y.jsx)(n.default,{style:C.savingsText,children:"Save 17%"})})]})]}),Object.keys(b).map(e=>{const t=b[e],o='monthly'===F?t.monthly:t.annual;return(0,y.jsxs)(c.default,{style:[C.planCard,'premium'===e&&C.planCardPremium],onPress:()=>U(e),children:['premium'===e&&(0,y.jsx)(l.default,{style:C.premiumBadgeTop,children:(0,y.jsx)(n.default,{style:C.premiumBadgeTopText,children:"\u2b50 BEST VALUE"})}),(0,y.jsx)(n.default,{style:C.planName,children:t.name}),(0,y.jsxs)(l.default,{style:C.planPrice,children:[(0,y.jsxs)(n.default,{style:C.planPriceAmount,children:["$",o]}),(0,y.jsxs)(n.default,{style:C.planPricePeriod,children:["/",'monthly'===F?'month':'year']})]}),(0,y.jsx)(l.default,{style:C.planFeatures,children:t.features.map((e,t)=>(0,y.jsxs)(l.default,{style:C.featureRow,children:[(0,y.jsx)(n.default,{style:C.featureCheck,children:"\u2713"}),(0,y.jsx)(n.default,{style:C.featureText,children:e})]},t))}),(0,y.jsx)(l.default,{style:C.selectButtonContainer,children:(0,y.jsxs)(n.default,{style:[C.selectButtonText,'premium'===e&&C.selectButtonTextPremium],children:["Select ",t.name]})})]},e)})]})})]})}},345,[13,85,161,26,177,162,340,116,82,252,132,346,153,347]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}}),r(d[0]);var t=e(r(d[1])),o=e(r(d[2])),l=e(r(d[3])),n=r(d[4]),s=r(d[5]);const c=l.default.create({container:{backgroundColor:'#fff',marginHorizontal:20,marginVertical:16,padding:20,borderRadius:12,borderWidth:2,borderColor:n.theme.colors.border,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},title:{fontSize:22,fontWeight:'bold',color:n.theme.colors.mahogany,textAlign:'center',marginBottom:8},subtitle:{fontSize:14,color:n.theme.colors.textSecondary,textAlign:'center',marginBottom:20},grid:{flexDirection:'row',gap:16,marginBottom:16},column:{flex:1,backgroundColor:'#f9f9f9',borderRadius:10,padding:16,borderWidth:2,borderColor:'#e0e0e0'},columnPremium:{backgroundColor:'#fff9e6',borderColor:n.theme.colors.warmGold,borderWidth:2},header:{marginBottom:16,paddingBottom:12,borderBottomWidth:2,borderBottomColor:'#e0e0e0'},headerPremium:{borderBottomColor:n.theme.colors.warmGold},planName:{fontSize:18,fontWeight:'bold',color:n.theme.colors.text,marginBottom:4},planNamePremium:{color:n.theme.colors.mahogany},planDescription:{fontSize:13,color:n.theme.colors.textSecondary,fontStyle:'italic'},features:{gap:10},featuresTitle:{fontSize:14,fontWeight:'600',color:n.theme.colors.text,marginBottom:8},featureItem:{flexDirection:'row',alignItems:'flex-start',gap:8},featureCheck:{fontSize:14,color:'#4CAF50',fontWeight:'bold',marginTop:2},featureText:{flex:1,fontSize:13,color:n.theme.colors.text,lineHeight:18},badge:{backgroundColor:n.theme.colors.warmGold,paddingVertical:4,paddingHorizontal:10,borderRadius:12,alignSelf:'flex-start',marginBottom:8,borderWidth:1,borderColor:n.theme.colors.secondary},badgeText:{fontSize:10,fontWeight:'bold',color:n.theme.colors.navy},note:{backgroundColor:'#e8f4ff',padding:12,borderRadius:8,flexDirection:'row',alignItems:'flex-start',gap:10,borderLeftWidth:4,borderLeftColor:n.theme.colors.primary},noteIcon:{fontSize:18,marginTop:2},noteText:{flex:1,fontSize:13,color:n.theme.colors.text,lineHeight:18}});var u=({heading:e="\ud83d\udcca Compare Plans",subheading:l="Choose the plan that best fits your firm's needs",standardFeatures:n=[],premiumFeatures:u=[],showDisbursementNote:f=!0,disbursementNoteText:h=null,standardLabel:x="Standard",standardDescription:b="Core features for your practice",premiumLabel:p="Premium",premiumDescription:y=null})=>{const j=y||`Everything in ${x}, plus:`,C=h||'Settlement Disbursements is a premium-only feature. Upgrade to Premium to process payments to clients and medical providers.';return(0,s.jsxs)(t.default,{style:c.container,children:[(0,s.jsx)(o.default,{style:c.title,children:e}),(0,s.jsx)(o.default,{style:c.subtitle,children:l}),(0,s.jsxs)(t.default,{style:c.grid,children:[(0,s.jsxs)(t.default,{style:c.column,children:[(0,s.jsxs)(t.default,{style:c.header,children:[(0,s.jsx)(o.default,{style:c.planName,children:x}),(0,s.jsx)(o.default,{style:c.planDescription,children:b})]}),(0,s.jsxs)(t.default,{style:c.features,children:[(0,s.jsx)(o.default,{style:c.featuresTitle,children:"Included:"}),n.map((e,l)=>(0,s.jsxs)(t.default,{style:c.featureItem,children:[(0,s.jsx)(o.default,{style:c.featureCheck,children:"\u2713"}),(0,s.jsx)(o.default,{style:c.featureText,children:e})]},l))]})]}),(0,s.jsxs)(t.default,{style:[c.column,c.columnPremium],children:[(0,s.jsxs)(t.default,{style:[c.header,c.headerPremium],children:[(0,s.jsx)(t.default,{style:c.badge,children:(0,s.jsx)(o.default,{style:c.badgeText,children:"\u2b50 PREMIUM"})}),(0,s.jsx)(o.default,{style:[c.planName,c.planNamePremium],children:p}),(0,s.jsx)(o.default,{style:c.planDescription,children:j})]}),(0,s.jsxs)(t.default,{style:c.features,children:[(0,s.jsx)(o.default,{style:c.featuresTitle,children:"Additional Features:"}),u.map((e,l)=>(0,s.jsxs)(t.default,{style:c.featureItem,children:[(0,s.jsx)(o.default,{style:c.featureCheck,children:"\u2713"}),(0,s.jsx)(o.default,{style:c.featureText,children:e})]},l))]})]})]}),f&&(0,s.jsxs)(t.default,{style:c.note,children:[(0,s.jsx)(o.default,{style:c.noteIcon,children:"\ud83d\udca1"}),(0,s.jsx)(o.default,{style:c.noteText,children:C})]})]})}},346,[13,85,161,26,132,153]);
__d(function(a,e,s,t,c,d,f){c.exports="/assets/attached_assets/Femal Pirate on Cliff Brathing 10sec_1763360451626.bc93c32b0c9b54fe8720dfd0cad5a733.mp4"},347,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return A}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),s=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),h=e(r(d[7])),f=e(r(d[8])),x=e(r(d[9])),C=e(r(d[10])),w=e(r(d[11])),b=e(r(d[12])),y=r(d[13]),j=r(d[14]),F=r(d[15]),S=r(d[16]),p=r(d[17]);const{width:v}=u.default.get('window'),B=({icon:e,imageSource:t,title:s,color:l,onPress:u,badge:h})=>(0,p.jsxs)(c.default,{style:[T.quickActionCard,{borderColor:l}],onPress:u,children:[(0,p.jsxs)(o.default,{style:T.iconContainer,children:[t?(0,p.jsx)(f.default,{source:t,style:T.quickActionImage,resizeMode:"contain"}):(0,p.jsx)(n.default,{style:T.quickActionIcon,children:e}),void 0!==h&&h>0&&(0,p.jsx)(o.default,{style:T.badgeContainer,children:(0,p.jsx)(n.default,{style:T.badgeText,children:h>99?'99+':h})})]}),(0,p.jsx)(n.default,{style:T.quickActionTitle,children:s})]}),T=l.default.create({container:{flex:1,backgroundColor:'#000'},scrollView:{flex:1,zIndex:1},content:{padding:20,paddingBottom:120},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'flex-start',marginBottom:30,marginTop:60},headerLeft:{flex:1},headerButtons:{flexDirection:'column',gap:10},welcomeText:{fontSize:16,color:'#E0E0E0',fontWeight:'500'},userName:{fontSize:36,fontWeight:'bold',color:'#FFFFFF',marginTop:5,textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:4},avatarName:{fontSize:18,color:'#FFD700',fontStyle:'italic',marginTop:5,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:3},inviteButton:{flexDirection:'row',alignItems:'center',backgroundColor:'#FFD700',paddingHorizontal:20,paddingVertical:12,borderRadius:25,borderWidth:3,borderColor:'#FFA500',shadowColor:'#FFD700',shadowOffset:{width:0,height:4},shadowOpacity:.6,shadowRadius:8,elevation:8},inviteIcon:{fontSize:22,marginRight:8},inviteButtonText:{color:'#000000',fontSize:16,fontWeight:'800',textShadowColor:'rgba(255, 255, 255, 0.3)',textShadowOffset:{width:0,height:1},textShadowRadius:2},avatarButton:{paddingHorizontal:18,paddingVertical:10,borderRadius:25,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:5},avatarButtonText:{color:'#FFFFFF',fontSize:14,fontWeight:'700'},statsContainer:{flexDirection:'row',justifyContent:'space-between',marginBottom:25},statCard:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.6)',padding:20,borderRadius:20,marginHorizontal:6,borderWidth:3,alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:6,elevation:8},statLabel:{fontSize:16,color:'#E0E0E0',marginBottom:10,fontWeight:'600'},statValue:{fontSize:32,fontWeight:'bold',color:'#FFFFFF',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:3},bonusButton:{padding:20,borderRadius:20,alignItems:'center',marginBottom:25,shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.4,shadowRadius:6,elevation:8},bonusButtonText:{color:'#FFFFFF',fontSize:20,fontWeight:'bold'},quickActions:{flexDirection:'row',flexWrap:'wrap',justifyContent:'space-between',marginBottom:25},quickActionCard:{width:(v-60)/2,backgroundColor:'rgba(0, 0, 0, 0.6)',padding:20,borderRadius:20,marginBottom:15,alignItems:'center',borderWidth:2,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:6},iconContainer:{position:'relative',alignItems:'center',justifyContent:'center'},quickActionIcon:{fontSize:44,marginBottom:12},quickActionImage:{width:50,height:50,marginBottom:12,borderRadius:8},badgeContainer:{position:'absolute',top:-5,right:-5,backgroundColor:'#e74c3c',borderRadius:12,minWidth:24,height:24,alignItems:'center',justifyContent:'center',paddingHorizontal:6,borderWidth:2,borderColor:'#1a1a1a'},badgeText:{color:'#FFFFFF',fontSize:12,fontWeight:'bold'},quickActionTitle:{color:'#FFFFFF',fontSize:16,fontWeight:'700',textAlign:'center'},treasureButton:{backgroundColor:'rgba(139, 69, 19, 0.4)',padding:18,borderRadius:15,alignItems:'center',borderWidth:2,marginBottom:20,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:6},treasureButtonText:{color:'#FFD700',fontSize:18,fontWeight:'700'},logoutButton:{padding:15,alignItems:'center'},logoutText:{color:'#FF6B6B',fontSize:16,fontWeight:'600'}});var A=({user:e,coins:l,loginStreak:u,onClaimBonus:f,onNavigate:v,onLogout:A})=>{const[k,P]=(0,t.useState)(!1),[R,z]=(0,t.useState)(''),[I,O]=(0,t.useState)(0),[W,D]=(0,t.useState)(!1),[V,E]=(0,t.useState)(!1),[q,L]=(0,t.useState)(!1),[N,_]=(0,t.useState)({lawFirm:null,medicalProviders:[]}),[H,M]=(0,t.useState)(!0),U=e?.avatarType||'captain',$=y.AVATARS[U.toUpperCase()]||y.AVATARS.CAPTAIN,{videosLoaded:G}=(0,j.useVideoPreloader)(U),{unreadCount:J}=(0,F.useNotifications)();(0,t.useEffect)(()=>{console.log('[Dashboard] Videos loaded:',G)},[G]),(0,t.useEffect)(()=>{K()},[]);const K=async()=>{try{M(!0);const t=await fetch(`${S.API_BASE_URL}/api/connections/my-connections`,{method:'GET',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e?.token}`}});if(t.ok){const e=await t.json();_({lawFirm:e.lawFirm,medicalProviders:e.medicalProviders||[]})}}catch(e){console.error('Error fetching connections:',e)}finally{M(!1)}},Q=(e,t=0,o=!1)=>{console.log('[Dashboard] Triggering action video:',e,'celebration:',o),z(e),O(t),D(o),P(!0)};return(0,p.jsxs)(o.default,{style:T.container,children:[(0,p.jsx)(h.default,{barStyle:"light-content"}),(0,p.jsx)(x.default,{videoSource:$.calmVideo,opacity:.7}),(0,p.jsxs)(s.default,{style:T.scrollView,contentContainerStyle:T.content,showsVerticalScrollIndicator:!1,children:[(0,p.jsxs)(o.default,{style:T.header,children:[(0,p.jsxs)(o.default,{style:T.headerLeft,children:[(0,p.jsx)(n.default,{style:T.welcomeText,children:"Welcome back,"}),(0,p.jsx)(n.default,{style:T.userName,children:e?.firstName||'Captain'}),(0,p.jsxs)(n.default,{style:T.avatarName,children:["\"",$.name,"\""]})]}),(0,p.jsxs)(o.default,{style:T.headerButtons,children:[(0,p.jsxs)(c.default,{style:T.inviteButton,onPress:()=>E(!0),children:[(0,p.jsx)(n.default,{style:T.inviteIcon,children:"\ud83d\udc4d"}),(0,p.jsx)(n.default,{style:T.inviteButtonText,children:"Invite"})]}),(0,p.jsx)(c.default,{style:[T.avatarButton,{backgroundColor:$.primaryColor}],onPress:()=>v('avatar-selection'),children:(0,p.jsx)(n.default,{style:T.avatarButtonText,children:"Change Avatar"})})]})]}),(0,p.jsxs)(o.default,{style:T.statsContainer,children:[(0,p.jsxs)(o.default,{style:[T.statCard,{borderColor:$.accentColor}],children:[(0,p.jsx)(n.default,{style:T.statLabel,children:"\u2693 Coins"}),(0,p.jsx)(n.default,{style:T.statValue,children:l.toLocaleString()})]}),(0,p.jsxs)(o.default,{style:[T.statCard,{borderColor:$.accentColor}],children:[(0,p.jsx)(n.default,{style:T.statLabel,children:"\ud83d\udd25 Streak"}),(0,p.jsxs)(n.default,{style:T.statValue,children:[u," days"]})]})]}),(0,p.jsx)(c.default,{style:[T.bonusButton,{backgroundColor:$.primaryColor}],onPress:async()=>{try{await f(),Q('Daily Bonus Claimed! \ud83c\udf89',50,!0)}catch(e){console.error('[Dashboard] Claim bonus error:',e)}},children:(0,p.jsx)(n.default,{style:T.bonusButtonText,children:"\u2693 Claim Daily Bonus"})}),(0,p.jsxs)(o.default,{style:T.quickActions,children:[(0,p.jsx)(B,{imageSource:r(d[18]),title:"Roadmap",color:$.accentColor,onPress:()=>v('roadmap')}),(0,p.jsx)(B,{imageSource:r(d[19]),title:"Medical Hub",color:$.accentColor,onPress:()=>v('medical')}),(0,p.jsx)(B,{imageSource:r(d[20]),title:"Tasks",color:$.accentColor,onPress:()=>v('actions')}),(0,p.jsx)(B,{icon:"\ud83d\udd14",title:"Notifications",color:$.accentColor,onPress:()=>v('notifications'),badge:J}),(0,p.jsx)(B,{icon:"\ud83d\udcc5",title:"Calendar",color:$.accentColor,onPress:()=>v('calendar')}),(0,p.jsx)(B,{icon:"\ud83c\udfc6",title:"Achievements",color:$.accentColor,onPress:()=>v('achievements')}),(0,p.jsx)(B,{icon:"\ud83c\udf96\ufe0f",title:"Badges",color:$.accentColor,onPress:()=>v('badges')}),(0,p.jsx)(B,{icon:"\ud83d\udd17",title:"Connections",color:$.accentColor,onPress:()=>L(!0)})]}),(0,p.jsx)(c.default,{style:[T.treasureButton,{borderColor:$.accentColor}],onPress:()=>v('treasure-chest'),children:(0,p.jsx)(n.default,{style:T.treasureButtonText,children:"\ud83c\udff4\u200d\u2620\ufe0f Open Treasure Chest"})}),(0,p.jsx)(c.default,{style:T.logoutButton,onPress:A,children:(0,p.jsx)(n.default,{style:T.logoutText,children:"Logout"})})]}),(0,p.jsx)(C.default,{visible:k,onClose:()=>P(!1),avatarType:U,message:R,coinsEarned:I,useCelebrationVideo:W}),(0,p.jsx)(w.default,{visible:V,onClose:()=>E(!1),user:e}),(0,p.jsx)(b.default,{visible:q,onClose:()=>{L(!1),K()},user:e})]})}},348,[13,85,161,177,26,162,120,115,222,349,155,353,364,318,365,136,135,153,334,366,367]);
__d(function(g,r,i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),s=t(r(d[3]));r(d[4]);var l=r(d[5]),u=r(d[6]),c=r(d[7]);const h=n.default.create({container:{position:'absolute',top:0,left:0,right:0,bottom:0,zIndex:0,overflow:'hidden',backgroundColor:'#0A1128'},video:{backgroundColor:'#0A1128'},poster:{backgroundColor:'#0A1128'},gradient:{position:'absolute',top:0,left:0,right:0,bottom:0}});var f=({videoSource:t,opacity:n=.6})=>{const{width:f,height:b}=(0,s.default)(),p=(0,e.useRef)(null),[y,v]=(0,e.useState)(!1),j=f<375,w=f<768,A=f>=768&&f<1024,O=f>=1024,k=f>=1440,M=b/f,V=M>1.8,_=M<1.5;(0,e.useEffect)(()=>(L(),()=>{p.current&&p.current.unloadAsync()}),[t]);const L=async()=>{if(p.current)try{await p.current.unloadAsync(),await p.current.loadAsync(t,{shouldPlay:!0,isLooping:!0,isMuted:!0,volume:0}),v(!0)}catch(t){console.error('[AvatarVideoBackground] Load error:',t)}},P=j?{top:.5*n,middle:.75*n,bottom:1.1*n}:w?{top:.4*n,middle:.7*n,bottom:n}:A?{top:.35*n,middle:.65*n,bottom:.95*n}:{top:.3*n,middle:.6*n,bottom:.9*n};return(0,c.jsxs)(o.default,{style:h.container,children:[(0,c.jsx)(l.Video,{ref:p,source:t,rate:1,volume:0,isMuted:!0,isLooping:!0,shouldPlay:!0,resizeMode:l.ResizeMode.COVER,style:[h.video,(()=>{const t={position:'absolute'};if(k)return Object.assign({},t,{width:1.1*f,height:1.1*b,top:.05*-b,left:.05*-f});if(O)return Object.assign({},t,{width:f,height:b,top:0,left:0});if(A){const e=V?1.15:1.05;return Object.assign({},t,{width:f*e,height:b*e,top:(e-1)/2*-b,left:(e-1)/2*-f})}return V?Object.assign({},t,{width:1.3*f,height:b,top:0,left:.15*-f}):_?Object.assign({},t,{width:f,height:1.2*b,top:.1*-b,left:0}):Object.assign({},t,{width:1.1*f,height:1.1*b,top:.05*-b,left:.05*-f})})()],onLoad:()=>{console.log('[AvatarVideoBackground] Video loaded'),v(!0)},onError:t=>{console.error('[AvatarVideoBackground] Error:',t)},posterStyle:h.poster,usePoster:!y}),(0,c.jsx)(u.LinearGradient,{colors:[`rgba(0, 0, 0, ${P.top})`,`rgba(0, 0, 0, ${P.middle})`,`rgba(0, 0, 0, ${P.bottom})`],locations:[0,.5,1],style:h.gradient})]})}},349,[13,85,26,165,82,252,350,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";const e=["colors","locations","start","end","dither"];function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"LinearGradient",{enumerable:!0,get:function(){return c}});var n=t(r(d[0])),o=r(d[1]);r(d[2]),r(d[3]);var s=t(r(d[4])),l=r(d[5]);class c extends o.Component{render(){const t=this.props,{colors:o,locations:c,start:f,end:h,dither:y}=t,p=(0,n.default)(t,e);let b=c;return c&&o.length!==c.length&&(console.warn('LinearGradient colors and locations props should be arrays of the same length'),b=c.slice(0,o.length)),(0,l.jsx)(s.default,Object.assign({},p,{colors:o,dither:void 0,locations:b,startPoint:u(f),endPoint:u(h)}))}}function u(e){if(e){if(!Array.isArray(e)||2===e.length)return Array.isArray(e)?e:[e.x,e.y];console.warn('start and end props for LinearGradient must be of the format [x,y] or {x, y}')}}},350,[119,13,82,34,351,153]);
__d(function(g,r,i,a,m,_e,_d){"use strict";const t=["colors","locations","startPoint","endPoint"];function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}}),_e.getLinearGradientBackgroundImage=d;var n=e(r(_d[0])),o=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),e.default=t,e})(r(_d[1])),u=e(r(_d[2])),c=r(_d[3]),l=r(_d[4]);function s(e){let{colors:c,locations:s,startPoint:f,endPoint:h}=e,y=(0,n.default)(e,t);const[{height:b,width:P},j]=o.useState({height:1,width:1}),M=o.useMemo(()=>d(c,s,f,h,P,b),[c,s,f,h,P,b]);return(0,l.jsx)(u.default,Object.assign({},y,{style:[y.style,{backgroundImage:M}],onLayout:t=>{const{width:e,height:n}=t.nativeEvent.layout;j(t=>e!==t.width||n!==t.height?{height:n,width:e}:t),y.onLayout&&y.onLayout(t)}}))}function d(t,e,n,o,u=1,c=1){const l=h(t,e);return`linear-gradient(${f(u,c,n,o)}deg, ${l.join(', ')})`}function f(t,e,n,o){const[u,c]=(()=>{let t=[0,0];Array.isArray(n)&&(t=[null!=n[0]?n[0]:0,null!=n[1]?n[1]:0]);let e=[0,1];return Array.isArray(o)&&(e=[null!=o[0]?o[0]:0,null!=o[1]?o[1]:1]),[t,e]})();u[0]*=t,c[0]*=t,u[1]*=e,c[1]*=e;const l=c[1]-u[1],s=c[0]-u[0];return 90+180*Math.atan2(l,s)/Math.PI}function h(t,e){return t.map((t,n)=>{const o=(0,c.normalizeColor)(t);if(e&&e[n]){return`${o} ${100*Math.max(0,Math.min(1,e[n]))}%`}return o})}},351,[119,13,85,352,153]);
__d(function(_g,_r,i,_a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.normalizeColor=function(e,r=1){if(null==e)return;if('string'==typeof e&&n(e))return e;const o=(0,t.default)(e);if('number'==typeof o){return`rgba(${o>>16&255},${o>>8&255},${255&o},${((o>>24&255)/255*r).toFixed(2)})`}};var e,r=_r(d[0]),t=(e=r)&&e.__esModule?e:{default:e};const n=e=>'currentcolor'===e||'currentColor'===e||'inherit'===e||0===e.indexOf('var(')},352,[34]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(_d[0]),o=e(r(_d[1])),n=e(r(_d[2])),l=e(r(_d[3])),s=e(r(_d[4])),c=e(r(_d[5])),d=e(r(_d[6]));e(r(_d[7]));r(_d[8]);var h=e(r(_d[9])),f=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[10])),u=r(_d[11]),y=r(_d[12]),p=r(_d[13]);const x=l.default.create({overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.7)',justifyContent:'center',alignItems:'center',padding:20},modalContainer:{backgroundColor:u.theme.colors.cream,borderRadius:16,width:'95%',maxWidth:600,maxHeight:'90%',borderWidth:3,borderColor:u.theme.colors.secondary,shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},header:{padding:20,borderBottomWidth:2,borderBottomColor:u.theme.colors.secondary,backgroundColor:u.theme.colors.mahogany,borderTopLeftRadius:13,borderTopRightRadius:13,alignItems:'center',position:'relative'},headerTitle:{fontSize:22,fontWeight:'bold',color:'#fff'},closeButton:{position:'absolute',top:15,right:15,width:32,height:32,borderRadius:16,backgroundColor:'rgba(255, 255, 255, 0.2)',justifyContent:'center',alignItems:'center',zIndex:10},closeButtonText:{color:'#fff',fontSize:22,fontWeight:'bold',lineHeight:22},scrollView:{maxHeight:500},loadingContainer:{padding:40,alignItems:'center'},loadingText:{marginTop:15,color:u.theme.colors.textSecondary,fontSize:14},content:{padding:20,paddingBottom:10},infoSection:{backgroundColor:u.theme.colors.lightCream,padding:16,borderRadius:10,borderWidth:2,borderColor:u.theme.colors.warmGold,flexDirection:'row',alignItems:'center',marginBottom:20},infoIcon:{fontSize:28,marginRight:12},infoText:{flex:1,fontSize:14,color:u.theme.colors.navy,lineHeight:20,fontWeight:'600'},codeSection:{marginBottom:20,alignItems:'center'},codeLabel:{fontSize:14,color:u.theme.colors.textSecondary,marginBottom:10,fontWeight:'600'},codeContainer:{backgroundColor:'#fff',paddingVertical:16,paddingHorizontal:24,borderRadius:12,borderWidth:2,borderColor:u.theme.colors.warmGold,marginBottom:12,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},codeText:{fontSize:28,fontWeight:'bold',color:u.theme.colors.mahogany,letterSpacing:6,fontFamily:'monospace',textAlign:'center'},copyButton:{backgroundColor:u.theme.colors.warmGold,paddingVertical:12,paddingHorizontal:24,borderRadius:10,borderWidth:2,borderColor:u.theme.colors.secondary},copyButtonText:{color:u.theme.colors.navy,fontSize:16,fontWeight:'600'},divider:{height:2,backgroundColor:u.theme.colors.secondary,marginVertical:20},shareTitle:{fontSize:16,fontWeight:'bold',color:u.theme.colors.mahogany,marginBottom:15},shareOption:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',padding:16,borderRadius:10,borderWidth:1,borderColor:u.theme.colors.warmGold,marginBottom:10,shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:.05,shadowRadius:2,elevation:1},shareIcon:{fontSize:32,marginRight:15},shareTextContainer:{flex:1},shareOptionTitle:{fontSize:16,fontWeight:'600',color:u.theme.colors.mahogany,marginBottom:4},shareOptionDescription:{fontSize:13,color:u.theme.colors.textSecondary},selectionTitle:{fontSize:16,fontWeight:'bold',color:u.theme.colors.mahogany,marginBottom:15},selectionOption:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',padding:16,borderRadius:10,borderWidth:1,borderColor:u.theme.colors.warmGold,marginBottom:10,shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:.05,shadowRadius:2,elevation:1},selectionIcon:{fontSize:32,marginRight:15},selectionTextContainer:{flex:1},selectionOptionTitle:{fontSize:16,fontWeight:'600',color:u.theme.colors.mahogany,marginBottom:4},selectionOptionDescription:{fontSize:13,color:u.theme.colors.textSecondary},selectionArrow:{fontSize:20,color:u.theme.colors.mahogany,fontWeight:'bold'},backButton:{marginBottom:15,alignSelf:'flex-start'},backButtonText:{color:u.theme.colors.mahogany,fontSize:14,fontWeight:'600'}});var j=({visible:e,onClose:l,user:j})=>{const[v,w]=(0,t.useState)(!1),[b,C]=(0,t.useState)(null),[T,S]=(0,t.useState)(!1),[I,O]=(0,t.useState)(null),P='medical_provider'===j?.userType;(0,t.useEffect)(()=>{e&&j?.token&&(P?O(null):k())},[e,j]),(0,t.useEffect)(()=>{I&&j?.token&&k()},[I]);const k=async()=>{try{w(!0);const e=await fetch(y.API_ENDPOINTS.INVITES.MY_CODE,{headers:{Authorization:`Bearer ${j.token}`}});if(e.ok){const t=await e.json();C(t)}else console.error('Failed to fetch invite code')}catch(e){console.error('Error fetching invite code:',e)}finally{w(!1)}},B=async()=>{b?.shareUrl&&(await f.setStringAsync(b.shareUrl),S(!0),setTimeout(()=>S(!1),2e3))};return(0,p.jsx)(s.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:l,children:(0,p.jsx)(c.default,{style:x.overlay,activeOpacity:1,onPress:l,children:(0,p.jsxs)(c.default,{style:x.modalContainer,activeOpacity:1,onPress:e=>e.stopPropagation(),children:[(0,p.jsxs)(o.default,{style:x.header,children:[(0,p.jsx)(n.default,{style:x.headerTitle,children:"\ud83c\udf81 Invite Friends"}),(0,p.jsx)(c.default,{style:x.closeButton,onPress:l,children:(0,p.jsx)(n.default,{style:x.closeButtonText,children:"\u2715"})})]}),v?(0,p.jsxs)(o.default,{style:x.loadingContainer,children:[(0,p.jsx)(d.default,{size:"large",color:u.theme.colors.mahogany}),(0,p.jsx)(n.default,{style:x.loadingText,children:"Generating your invite code..."})]}):P&&!I?(0,p.jsxs)(h.default,{style:x.scrollView,contentContainerStyle:x.content,showsVerticalScrollIndicator:!0,children:[(0,p.jsxs)(o.default,{style:x.infoSection,children:[(0,p.jsx)(n.default,{style:x.infoIcon,children:"\u2695\ufe0f"}),(0,p.jsx)(n.default,{style:x.infoText,children:"Who would you like to invite to Verdict Path? Select the type of person you want to invite:"})]}),(0,p.jsx)(n.default,{style:x.selectionTitle,children:"Select Invite Type:"}),(0,p.jsxs)(c.default,{style:x.selectionOption,onPress:()=>O('patient'),children:[(0,p.jsx)(n.default,{style:x.selectionIcon,children:"\ud83d\udc64"}),(0,p.jsxs)(o.default,{style:x.selectionTextContainer,children:[(0,p.jsx)(n.default,{style:x.selectionOptionTitle,children:"Invite a Patient"}),(0,p.jsx)(n.default,{style:x.selectionOptionDescription,children:"Invite patients to track their legal case progress"})]}),(0,p.jsx)(n.default,{style:x.selectionArrow,children:"\u2192"})]}),(0,p.jsxs)(c.default,{style:x.selectionOption,onPress:()=>O('lawfirm'),children:[(0,p.jsx)(n.default,{style:x.selectionIcon,children:"\u2696\ufe0f"}),(0,p.jsxs)(o.default,{style:x.selectionTextContainer,children:[(0,p.jsx)(n.default,{style:x.selectionOptionTitle,children:"Invite a Law Firm"}),(0,p.jsx)(n.default,{style:x.selectionOptionDescription,children:"Connect with law firms for collaboration and bill negotiations"})]}),(0,p.jsx)(n.default,{style:x.selectionArrow,children:"\u2192"})]}),(0,p.jsxs)(c.default,{style:x.selectionOption,onPress:()=>O('colleague'),children:[(0,p.jsx)(n.default,{style:x.selectionIcon,children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,p.jsxs)(o.default,{style:x.selectionTextContainer,children:[(0,p.jsx)(n.default,{style:x.selectionOptionTitle,children:"Invite a Colleague"}),(0,p.jsx)(n.default,{style:x.selectionOptionDescription,children:"Invite other medical providers to join your practice"})]}),(0,p.jsx)(n.default,{style:x.selectionArrow,children:"\u2192"})]})]}):b?(0,p.jsxs)(h.default,{style:x.scrollView,contentContainerStyle:x.content,showsVerticalScrollIndicator:!0,children:[P&&I&&(0,p.jsx)(c.default,{style:x.backButton,onPress:()=>O(null),children:(0,p.jsx)(n.default,{style:x.backButtonText,children:"\u2190 Back to Selection"})}),'individual'===j?.userType||'client'===j?.userType?(0,p.jsxs)(o.default,{style:x.infoSection,children:[(0,p.jsx)(n.default,{style:x.infoIcon,children:"\ud83d\udcb0"}),(0,p.jsx)(n.default,{style:x.infoText,children:"Invite your friends, peers, medical providers and even your lawyer to join Verdict Path! Earn 500 coins for each person who signs up using your invite code!"})]}):'lawfirm'===j?.userType?(0,p.jsxs)(o.default,{style:x.infoSection,children:[(0,p.jsx)(n.default,{style:x.infoIcon,children:"\u2696\ufe0f"}),(0,p.jsx)(n.default,{style:x.infoText,children:"Invite your clients, colleagues, and peers to join Verdict Path! Help them navigate their legal journey with our interactive case management platform. Share your invite code to connect and collaborate seamlessly."})]}):'lawfirm'===I?(0,p.jsxs)(o.default,{style:x.infoSection,children:[(0,p.jsx)(n.default,{style:x.infoIcon,children:"\u2696\ufe0f"}),(0,p.jsx)(n.default,{style:x.infoText,children:"Invite law firms to join Verdict Path! Connect with legal professionals to coordinate patient care, share medical information securely, and negotiate medical bills directly in the platform."})]}):'patient'===I?(0,p.jsxs)(o.default,{style:x.infoSection,children:[(0,p.jsx)(n.default,{style:x.infoIcon,children:"\ud83d\udc64"}),(0,p.jsx)(n.default,{style:x.infoText,children:"Invite your patients to join Verdict Path! Help them track their legal case progress, store medical records securely, and stay connected with their legal team through our HIPAA-compliant platform."})]}):(0,p.jsxs)(o.default,{style:x.infoSection,children:[(0,p.jsx)(n.default,{style:x.infoIcon,children:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,p.jsx)(n.default,{style:x.infoText,children:"Invite colleagues to join your practice on Verdict Path! Collaborate with other medical providers, share patient information securely, and coordinate care efficiently."})]}),(0,p.jsxs)(o.default,{style:x.codeSection,children:[(0,p.jsx)(n.default,{style:x.codeLabel,children:"Your Invite Code:"}),(0,p.jsx)(o.default,{style:x.codeContainer,children:(0,p.jsx)(n.default,{style:x.codeText,children:b.inviteCode})}),(0,p.jsx)(c.default,{style:x.copyButton,onPress:async()=>{b?.inviteCode&&(await f.setStringAsync(b.inviteCode),S(!0),setTimeout(()=>S(!1),2e3))},children:(0,p.jsx)(n.default,{style:x.copyButtonText,children:T?'\u2713 Copied!':'\ud83d\udccb Copy Code'})})]}),(0,p.jsx)(o.default,{style:x.divider}),(0,p.jsx)(n.default,{style:x.shareTitle,children:"Share via:"}),(0,p.jsxs)(c.default,{style:x.shareOption,onPress:async()=>{if(b?.shareText)if(navigator.share)try{await navigator.share({title:'Join Verdict Path',text:b.shareText,url:b.shareUrl})}catch(e){console.log('Share cancelled or failed:',e)}else await B()},children:[(0,p.jsx)(n.default,{style:x.shareIcon,children:"\ud83d\udcf1"}),(0,p.jsxs)(o.default,{style:x.shareTextContainer,children:[(0,p.jsx)(n.default,{style:x.shareOptionTitle,children:"Text Message"}),(0,p.jsx)(n.default,{style:x.shareOptionDescription,children:"Share your invite code via SMS"})]})]}),(0,p.jsxs)(c.default,{style:x.shareOption,onPress:()=>{if(!b)return;const e=encodeURIComponent('Join Verdict Path - Legal Case Management');let t;t='individual'===j?.userType||'client'===j?.userType?encodeURIComponent(`Hi there!\n\nI've been using Verdict Path to navigate my legal journey and wanted to invite you to join.\n\nVerdict Path is an interactive legal case management platform for individuals who are not familiar with the litigation process, law firms who want their clients informed, and medical providers who want to stay in the loop.\n\nKey features:\n\u2022 Track litigation progress step-by-step\n\u2022 Earn rewards for completing milestones\n\u2022 Store medical records securely (HIPAA-compliant)\n\u2022 Connect with legal and medical professionals\n\u2022 Learn about the legal process\n\nUse my invite code: ${b.inviteCode}\nOr click here: ${b.shareUrl}\n\nWhether you're learning about litigation and navigating your case, providing legal services, or treating your patients, Verdict Path has the tools you need!\n\nBest regards`):'lawfirm'===j?.userType?encodeURIComponent(`Hi there!\n\nI'm inviting you to join our firm on Verdict Path - a comprehensive legal case management platform.\n\nVerdict Path helps law firms:\n\u2022 Manage client cases efficiently\n\u2022 Track litigation progress\n\u2022 Access secure client records\n\u2022 Connect with clients and medical providers\n\nUse my invite code: ${b.inviteCode}\nOr click here: ${b.shareUrl}\n\nBest regards`):P&&'lawfirm'===I?encodeURIComponent(`Hi there!\n\nI'm inviting your law firm to join Verdict Path - a HIPAA-compliant platform connecting medical providers and law firms.\n\nVerdict Path helps law firms:\n\u2022 Coordinate with medical providers seamlessly\n\u2022 Access patient medical information securely\n\u2022 Negotiate medical bills directly in the platform\n\u2022 Track client litigation progress\n\u2022 Manage cases efficiently\n\nUse this invite code to connect: ${b.inviteCode}\nOr click here: ${b.shareUrl}\n\nLooking forward to collaborating with you!\n\nBest regards`):P&&'patient'===I?encodeURIComponent(`Hi there!\n\nI'm inviting you to join Verdict Path - a HIPAA-compliant platform for tracking your legal case.\n\nVerdict Path helps patients:\n\u2022 Stay informed about your legal case progress\n\u2022 Securely store and share medical records\n\u2022 Connect with your medical providers and law firm\n\u2022 Track litigation milestones step-by-step\n\u2022 Communicate with your legal team\n\nUse my invite code: ${b.inviteCode}\nOr click here: ${b.shareUrl}\n\nBest regards`):encodeURIComponent(`Hi there!\n\nI'm inviting you to join our practice on Verdict Path - a HIPAA-compliant platform for medical providers.\n\nVerdict Path helps medical providers:\n\u2022 Manage patient records securely\n\u2022 Coordinate with law firms\n\u2022 Track case-related medical information\n\u2022 Streamline legal-medical collaboration\n\nUse my invite code: ${b.inviteCode}\nOr click here: ${b.shareUrl}\n\nBest regards`),window.open(`mailto:?subject=${e}&body=${t}`,'_blank')},children:[(0,p.jsx)(n.default,{style:x.shareIcon,children:"\u2709\ufe0f"}),(0,p.jsxs)(o.default,{style:x.shareTextContainer,children:[(0,p.jsx)(n.default,{style:x.shareOptionTitle,children:"Email"}),(0,p.jsx)(n.default,{style:x.shareOptionDescription,children:"Send an email invitation"})]})]}),(0,p.jsxs)(c.default,{style:x.shareOption,onPress:B,children:[(0,p.jsx)(n.default,{style:x.shareIcon,children:"\ud83d\udd17"}),(0,p.jsxs)(o.default,{style:x.shareTextContainer,children:[(0,p.jsx)(n.default,{style:x.shareOptionTitle,children:"Copy Link"}),(0,p.jsx)(n.default,{style:x.shareOptionDescription,children:T?'Link copied to clipboard!':'Share invite link anywhere'})]})]})]}):null]})})})}},353,[13,85,161,26,156,162,354,355,82,177,356,132,135,153]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return y}});var t=e(r(_d[0])),n=e(r(_d[1])),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),l=e(r(_d[3])),d=e(r(_d[4])),s=["animating","color","hidesWhenStopped","size","style"],u=e=>o.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e}),c=o.forwardRef((e,l)=>{var c=e.animating,y=void 0===c||c,p=e.color,v=void 0===p?'#1976D2':p,b=e.hidesWhenStopped,_=void 0===b||b,w=e.size,P=void 0===w?'small':w,j=e.style,k=(0,n.default)(e,s),O=o.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},u({stroke:v,opacity:.2}),u({stroke:v,strokeDasharray:80,strokeDashoffset:60}));return o.createElement(d.default,(0,t.default)({},k,{"aria-valuemax":1,"aria-valuemin":0,ref:l,role:"progressbar",style:[f.container,j]}),o.createElement(d.default,{children:O,style:['number'==typeof P?{height:P,width:P}:h[P],f.animation,!y&&f.animationPause,!y&&_&&f.hidesWhenStopped]}))});c.displayName='ActivityIndicator';var f=l.default.create({container:{alignItems:'center',justifyContent:'center'},hidesWhenStopped:{visibility:'hidden'},animation:{animationDuration:'0.75s',animationKeyframes:[{'0%':{transform:'rotate(0deg)'},'100%':{transform:'rotate(360deg)'}}],animationTimingFunction:'linear',animationIterationCount:'infinite'},animationPause:{animationPlayState:'paused'}}),h=l.default.create({small:{width:20,height:20},large:{width:36,height:36}}),y=c},354,[18,27,13,26,85]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e,t=r(d[0]),s=(e=t)&&e.__esModule?e:{default:e};var o=class{static share(e,t){return void 0===t&&(t={}),(0,s.default)('object'==typeof e&&null!==e,'Content to share must be a valid object'),(0,s.default)('string'==typeof e.url||'string'==typeof e.message,'At least one of URL and message is required'),(0,s.default)('object'==typeof t&&null!==t,'Options must be a valid object'),(0,s.default)(!e.title||'string'==typeof e.title,'Invalid title: title should be a string.'),void 0!==window.navigator.share?window.navigator.share({title:e.title,text:e.message,url:e.url}):Promise.reject(new Error('Share is not supported in this browser'))}static get sharedAction(){return'sharedAction'}static get dismissedAction(){return'dismissedAction'}}},355,[9]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.getStringAsync=async function(t={}){if(!c.default.getStringAsync)throw new n.UnavailabilityError('Clipboard','getStringAsync');return await c.default.getStringAsync(t)},_e.setStringAsync=async function(t,e={}){if(!c.default.setStringAsync)throw new n.UnavailabilityError('Clipboard','setStringAsync');return c.default.setStringAsync(t,e)},_e.setString=function(t){return c.default.setString(t)},_e.hasStringAsync=function(){if(!c.default.hasStringAsync)throw new n.UnavailabilityError('Clipboard','hasStringAsync');return c.default.hasStringAsync()},_e.getUrlAsync=async function(){if(!c.default.getUrlAsync)throw new n.UnavailabilityError('Clipboard','getUrlAsync');return await c.default.getUrlAsync()},_e.setUrlAsync=async function(t){if(!c.default.setUrlAsync)throw new n.UnavailabilityError('Clipboard','setUrlAsync');return c.default.setUrlAsync(t)},_e.hasUrlAsync=async function(){if(!c.default.hasUrlAsync)throw new n.UnavailabilityError('Clipboard','hasUrlAsync');return await c.default.hasUrlAsync()},_e.getImageAsync=async function(t){if(!c.default.getImageAsync)throw new n.UnavailabilityError('Clipboard','getImageAsync');return await c.default.getImageAsync(t)},_e.setImageAsync=async function(t){if(!c.default.setImageAsync)throw new n.UnavailabilityError('Clipboard','setImageAsync');return c.default.setImageAsync(t)},_e.hasImageAsync=async function(){if(!c.default.hasImageAsync)throw new n.UnavailabilityError('Clipboard','hasImageAsync');return c.default.hasImageAsync()},_e.addClipboardListener=function(t){return c.default.addListener(o,n=>{const e=Object.assign({},n,{get content(){return console.warn("The 'content' property of the clipboard event is deprecated. Use 'getStringAsync()' instead to get clipboard content"),''}});t(e)})},_e.removeClipboardListener=function(t){t.remove()},Object.defineProperty(_e,"isPasteButtonAvailable",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"ClipboardPasteButton",{enumerable:!0,get:function(){return e.ClipboardPasteButton}});var t,n=r(d[0]),e=r(d[1]),s=r(d[2]),c=(t=s)&&t.__esModule?t:{default:t},l=r(d[3]);Object.keys(l).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(_e,t)||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return l[t]}})});const o='onClipboardChanged';const u=!1},356,[256,357,359,363]);
__d(function(g,r,i,a,m,_e,d){"use strict";const e=["onPress"];function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.ClipboardPasteButton=function(t){let{onPress:o}=t,l=(0,n.default)(t,e);if(!s.default)return null;return(0,u.jsx)(s.default,Object.assign({onPastePressed:({nativeEvent:e})=>{o(e)}},l))};var n=t(r(d[0]));r(d[1]);var s=t(r(d[2])),u=r(d[3])},357,[119,13,358,153]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});r(d[0]);r(d[1]);var t=undefined},358,[256,82]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u.default}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},359,[360]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t=r(d[0]),e=r(d[1]),n=r(d[2]),o={async getStringAsync(o){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{if(o.preferredFormat===n.StringFormat.HTML){const t=await navigator.clipboard.read(),n=await(0,e.findHtmlInClipboardAsync)(t);return n?await new Response(n).text():await navigator.clipboard.readText()}{let t=await navigator.clipboard.readText();if(!t||''===t){const n=await navigator.clipboard.read(),o=await(0,e.findHtmlInClipboardAsync)(n),c=await(o?.text());t=(0,e.htmlToPlainText)(c??'')}return t}}catch(n){if('NotAllowedError'===n.name||await(0,e.isClipboardPermissionDeniedAsync)())throw new t.NoPermissionException;try{return window.clipboardData.getData('Text')}catch{return Promise.reject(new Error('Unable to retrieve item from clipboard'))}}},setString(t){const e=document.createElement('textarea');e.textContent=t,document.body.appendChild(e),e.select();try{return document.execCommand('copy'),!0}catch{return!1}finally{document.body.removeChild(e)}},async setStringAsync(o,c){if(c.inputFormat===n.StringFormat.HTML){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{const t=(l=o,new ClipboardItem({'text/html':new Blob([l],{type:'text/html'}),'text/plain':new Blob([(0,e.htmlToPlainText)(l)],{type:'text/plain'})}));return await navigator.clipboard.write([t]),!0}catch(n){if('NotAllowedError'===n.name||await(0,e.isClipboardPermissionDeniedAsync)())throw new t.NoPermissionException;throw new t.CopyFailureException(n.message)}}try{if(!navigator.clipboard)throw new Error;return await navigator.clipboard.writeText(o),!0}catch{return this.setString(o)}var l},hasStringAsync:async()=>await c(['text/plain','text/html']),async getImageAsync(n){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{const t=await navigator.clipboard.read(),n=await(0,e.findImageInClipboardAsync)(t);if(!n)return null;const[o,c]=await Promise.all([(0,e.blobToBase64Async)(n),(0,e.getImageSizeFromBlobAsync)(n)]);return{data:o,size:c}}catch(n){if('NotAllowedError'===n.name||await(0,e.isClipboardPermissionDeniedAsync)())throw new t.NoPermissionException;throw new t.PasteFailureException(n.message)}},async setImageAsync(n){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{const t=(0,e.base64toBlob)(n,'image/png');await navigator.clipboard.write([new ClipboardItem({[t.type]:t})])}catch(e){throw new t.CopyFailureException(e.message)}},hasImageAsync:async()=>await c(['image/png','image/jpeg']),addClipboardListener(){},removeClipboardListener(){}};async function c(n){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{return(await navigator.clipboard.read()).flatMap(t=>t.types).some(t=>n.includes(t))}catch(n){if('NotAllowedError'===n.name||await(0,e.isClipboardPermissionDeniedAsync)())throw new t.NoPermissionException;throw n}}},360,[361,362,363]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"ClipboardUnavailableException",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"CopyFailureException",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"PasteFailureException",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"NoPermissionException",{enumerable:!0,get:function(){return c}});var o=r(d[0]);class t extends o.CodedError{constructor(){super('ERR_CLIPBOARD_UNAVAILABLE',"The 'AsyncClipboard' API is not available on this browser")}}class n extends o.CodedError{constructor(o){super('ERR_COPY_FAILURE',`Failed to copy to clipboard: ${o}`)}}class s extends o.CodedError{constructor(o){super('ERR_COPY_FAILURE',`Failed to paste from clipboard: ${o}`)}}class c extends o.CodedError{constructor(){super('ERR_NO_PERMISSION','User denied permission to access clipboard')}}},361,[256]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.base64toBlob=function(n,t){t=t||'';const o=1024,i=atob(n),s=i.length,c=Math.ceil(s/o),l=new Array(c);for(let n=0;n<c;++n){const t=n*o,c=Math.min(t+o,s),u=new Array(c-t);for(let n=t,o=0;n<c;++o,++n)u[o]=i[n].charCodeAt(0);l[n]=new Uint8Array(u)}return new Blob(l,{type:t})},e.blobToBase64Async=function(n){return new Promise((t,o)=>{const i=new FileReader;i.onloadend=()=>t(i.result),i.readAsDataURL(n)})},e.htmlToPlainText=function(n){const t=document.createElement('div');return t.innerHTML=n,t.textContent||t.innerText||''},e.getImageSizeFromBlobAsync=function(n){return new Promise((t,o)=>{const i=URL.createObjectURL(n),s=document.createElement('img');s.src=i,s.onload=function(){t({width:s.width,height:s.height})}})},e.findImageInClipboardAsync=async function(n){for(const t of n){if(t.types.some(n=>'image/png'===n))return await t.getType('image/png');if(t.types.some(n=>'image/jpeg'===n))return await t.getType('image/jpeg')}return null},e.findHtmlInClipboardAsync=async function(n){for(const t of n)if(t.types.some(n=>'text/html'===n))return await t.getType('text/html');return null},e.isClipboardPermissionDeniedAsync=async function(){return'denied'===(await navigator.permissions.query({name:'clipboard-read'})).state}},362,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t,n;Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"ContentType",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"StringFormat",{enumerable:!0,get:function(){return n}}),(function(t){t.PLAIN_TEXT="plain-text",t.HTML="html",t.IMAGE="image",t.URL="url"})(t||(t={})),(function(t){t.PLAIN_TEXT="plainText",t.HTML="html"})(n||(n={}))},363,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return C}});var o=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),c=e(r(d[4])),s=e(r(d[5])),f=e(r(d[6])),u=e(r(d[7])),h=e(r(d[8])),p=e(r(d[9])),y=r(d[10]),x=r(d[11]),v=r(d[12]);const b=c.default.create({overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.5)',justifyContent:'center',alignItems:'center'},modalContainer:{backgroundColor:y.theme.colors.cream,borderRadius:15,padding:0,width:'90%',maxWidth:500,maxHeight:'85%',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:10,elevation:10},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',padding:20,borderBottomWidth:2,borderBottomColor:y.theme.colors.secondary,backgroundColor:y.theme.colors.mahogany,borderTopLeftRadius:15,borderTopRightRadius:15},title:{fontSize:22,fontWeight:'bold',color:'#fff'},closeButton:{padding:5},closeButtonText:{fontSize:24,color:'#fff',fontWeight:'bold'},loadingContainer:{padding:40,alignItems:'center'},loadingText:{marginTop:15,fontSize:14,color:y.theme.colors.textSecondary},scrollView:{flex:1},content:{padding:20,paddingBottom:30},description:{fontSize:14,color:y.theme.colors.textSecondary,marginBottom:20,lineHeight:20,textAlign:'center'},section:{marginBottom:25,backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:10,borderWidth:2,borderColor:y.theme.colors.secondary},sectionTitle:{fontSize:18,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:12},currentConnection:{backgroundColor:y.theme.colors.cream,padding:12,borderRadius:8,marginBottom:12,borderLeftWidth:4,borderLeftColor:y.theme.colors.warmGold},connectedLabel:{fontSize:12,color:y.theme.colors.textSecondary,marginBottom:4},connectedName:{fontSize:16,fontWeight:'600',color:y.theme.colors.navy,marginBottom:2},connectedEmail:{fontSize:13,color:y.theme.colors.textSecondary},notConnected:{fontSize:14,color:y.theme.colors.warmGray,fontStyle:'italic',marginBottom:12},input:{backgroundColor:'#fff',borderWidth:2,borderColor:y.theme.colors.secondary,borderRadius:8,padding:12,fontSize:16,marginBottom:12,fontFamily:'monospace',textAlign:'center'},updateButton:{backgroundColor:y.theme.colors.mahogany,padding:12,borderRadius:8,alignItems:'center'},updateButtonDisabled:{opacity:.6},updateButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},providersList:{marginBottom:15},providerItem:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',backgroundColor:y.theme.colors.cream,padding:12,borderRadius:8,marginTop:8,borderLeftWidth:4,borderLeftColor:y.theme.colors.warmGold},providerInfo:{flex:1},providerName:{fontSize:16,fontWeight:'600',color:y.theme.colors.navy,marginBottom:2},providerEmail:{fontSize:13,color:y.theme.colors.textSecondary},removeButton:{backgroundColor:'#e74c3c',paddingHorizontal:12,paddingVertical:6,borderRadius:6,marginLeft:10},removeButtonText:{color:'#fff',fontSize:13,fontWeight:'600'},addLabel:{fontSize:14,color:y.theme.colors.textSecondary,marginTop:15,marginBottom:8,fontWeight:'600'},addButton:{backgroundColor:'#27ae60',padding:12,borderRadius:8,alignItems:'center'},addButtonDisabled:{opacity:.6},addButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},infoBox:{flexDirection:'row',backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:8,borderLeftWidth:4,borderLeftColor:y.theme.colors.warmGold,marginTop:10},infoIcon:{fontSize:20,marginRight:10},infoText:{flex:1,fontSize:13,color:y.theme.colors.textSecondary,lineHeight:18}});var C=({visible:e,onClose:c,user:C,onConnectionsUpdated:j,userType:w="individual"})=>{const[S,B]=(0,o.useState)(!1),[T,L]=(0,o.useState)(!1),[P,E]=(0,o.useState)(''),[z,A]=(0,o.useState)(''),[k,R]=(0,o.useState)(null),I='lawfirm'===w;(0,o.useEffect)(()=>{e&&C?.token&&_()},[e,C]);const _=async()=>{try{if(B(!0),I){const e=await fetch(`${x.API_BASE_URL}/api/connections/medical-providers`,{headers:{Authorization:`Bearer ${C.token}`}});if(e.ok){const o=await e.json();R({medicalProviders:o.medicalProviders||[]})}}else{const e=await fetch(`${x.API_BASE_URL}/api/connections/my-connections`,{headers:{Authorization:`Bearer ${C.token}`}});if(e.ok){const o=await e.json();R(o),E(o.lawFirmCode||'')}}}catch(e){console.error('Error fetching connections:',e)}finally{B(!1)}},F=async e=>{try{L(!0);const o=I?`${x.API_BASE_URL}/api/connections/remove-medical-provider-lawfirm`:`${x.API_BASE_URL}/api/connections/remove-medical-provider`,t=await fetch(o,{method:'POST',headers:{Authorization:`Bearer ${C.token}`,'Content-Type':'application/json'},body:JSON.stringify({providerId:e})}),n=await t.json();t.ok?(h.default.alert('Success',n.message||'Medical provider removed successfully'),_(),j&&j()):h.default.alert('Error',n.error||'Failed to remove medical provider')}catch(e){console.error('Error removing medical provider:',e),h.default.alert('Error','Failed to remove medical provider')}finally{L(!1)}};return(0,v.jsx)(s.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:c,children:(0,v.jsx)(f.default,{style:b.overlay,activeOpacity:1,onPress:c,children:(0,v.jsxs)(f.default,{style:b.modalContainer,activeOpacity:1,onPress:e=>e.stopPropagation(),children:[(0,v.jsxs)(t.default,{style:b.header,children:[(0,v.jsx)(n.default,{style:b.title,children:"My Connections"}),(0,v.jsx)(f.default,{onPress:c,style:b.closeButton,children:(0,v.jsx)(n.default,{style:b.closeButtonText,children:"\u2715"})})]}),S?(0,v.jsxs)(t.default,{style:b.loadingContainer,children:[(0,v.jsx)(u.default,{size:"large",color:y.theme.colors.mahogany}),(0,v.jsx)(n.default,{style:b.loadingText,children:"Loading your connections..."})]}):(0,v.jsxs)(p.default,{style:b.scrollView,contentContainerStyle:b.content,showsVerticalScrollIndicator:!0,bounces:!1,children:[(0,v.jsx)(n.default,{style:b.description,children:I?'Manage your medical provider connections to access client medical records and billing information.':'Connect with your law firm and medical provider to share your case information securely.'}),!I&&(0,v.jsxs)(t.default,{style:b.section,children:[(0,v.jsx)(n.default,{style:b.sectionTitle,children:"\u2696\ufe0f Law Firm Connection"}),k?.lawFirm?(0,v.jsxs)(t.default,{style:b.currentConnection,children:[(0,v.jsx)(n.default,{style:b.connectedLabel,children:"Currently Connected:"}),(0,v.jsx)(n.default,{style:b.connectedName,children:k.lawFirm.firm_name||k.lawFirm.email}),(0,v.jsx)(n.default,{style:b.connectedEmail,children:k.lawFirm.email})]}):(0,v.jsx)(n.default,{style:b.notConnected,children:"Not connected to a law firm"}),(0,v.jsx)(l.default,{style:b.input,placeholder:"Enter law firm code",value:P,onChangeText:e=>E(e.toUpperCase()),autoCapitalize:"characters",maxLength:20}),(0,v.jsx)(f.default,{style:[b.updateButton,T&&b.updateButtonDisabled],onPress:async()=>{if(P.trim())try{L(!0);const e=await fetch(`${x.API_BASE_URL}/api/connections/update-lawfirm`,{method:'POST',headers:{Authorization:`Bearer ${C.token}`,'Content-Type':'application/json'},body:JSON.stringify({lawFirmCode:P.trim()})}),o=await e.json();e.ok?(h.default.alert('Success',o.message||'Law firm connection updated successfully'),_(),j&&j()):h.default.alert('Error',o.error||'Failed to update law firm connection')}catch(e){console.error('Error updating law firm:',e),h.default.alert('Error','Failed to update law firm connection')}finally{L(!1)}else h.default.alert('Error','Please enter a law firm code')},disabled:T,children:T?(0,v.jsx)(u.default,{color:"#fff"}):(0,v.jsx)(n.default,{style:b.updateButtonText,children:k?.lawFirm?'Change Law Firm':'Connect Law Firm'})})]}),(0,v.jsxs)(t.default,{style:b.section,children:[(0,v.jsx)(n.default,{style:b.sectionTitle,children:"\ud83c\udfe5 Medical Provider Connections"}),k?.medicalProviders?.length>0?(0,v.jsxs)(t.default,{style:b.providersList,children:[(0,v.jsx)(n.default,{style:b.connectedLabel,children:"Connected Providers:"}),k.medicalProviders.map(e=>(0,v.jsxs)(t.default,{style:b.providerItem,children:[(0,v.jsxs)(t.default,{style:b.providerInfo,children:[(0,v.jsx)(n.default,{style:b.providerName,children:e.provider_name||e.email}),(0,v.jsx)(n.default,{style:b.providerEmail,children:e.email})]}),(0,v.jsx)(f.default,{style:b.removeButton,onPress:()=>F(e.id),disabled:T,children:(0,v.jsx)(n.default,{style:b.removeButtonText,children:"Remove"})})]},e.id))]}):(0,v.jsx)(n.default,{style:b.notConnected,children:"No medical providers connected"}),(0,v.jsx)(n.default,{style:b.addLabel,children:"Add Medical Provider:"}),(0,v.jsx)(l.default,{style:b.input,placeholder:"Enter medical provider code",value:z,onChangeText:e=>A(e.toUpperCase()),autoCapitalize:"characters",maxLength:20}),(0,v.jsx)(f.default,{style:[b.addButton,T&&b.addButtonDisabled],onPress:async()=>{if(z.trim())try{L(!0);const e=I?`${x.API_BASE_URL}/api/connections/add-medical-provider-lawfirm`:`${x.API_BASE_URL}/api/connections/add-medical-provider`,o=await fetch(e,{method:'POST',headers:{Authorization:`Bearer ${C.token}`,'Content-Type':'application/json'},body:JSON.stringify({medicalProviderCode:z.trim()})}),t=await o.json();o.ok?(h.default.alert('Success',t.message||'Medical provider added successfully'),A(''),_(),j&&j()):h.default.alert('Error',t.error||'Failed to add medical provider')}catch(e){console.error('Error adding medical provider:',e),h.default.alert('Error','Failed to add medical provider')}finally{L(!1)}else h.default.alert('Error','Please enter a medical provider code')},disabled:T,children:T?(0,v.jsx)(u.default,{color:"#fff"}):(0,v.jsx)(n.default,{style:b.addButtonText,children:"Add Medical Provider"})})]}),(0,v.jsxs)(t.default,{style:b.infoBox,children:[(0,v.jsx)(n.default,{style:b.infoIcon,children:"\u2139\ufe0f"}),(0,v.jsx)(n.default,{style:b.infoText,children:I?'Connect with medical providers using their connection codes. This allows you to access client medical records and negotiate bills directly.':'You can connect with ONE law firm and MULTIPLE medical providers. Ask them for their connection codes to share medical records and case information securely.'})]})]})]})})})}},364,[13,85,161,340,26,156,162,354,116,177,132,135,153]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"useVideoPreloader",{enumerable:!0,get:function(){return l}});var o=r(d[0]),t=r(d[1]),n=r(d[2]);const l=(l="captain")=>{const[s,c]=(0,o.useState)(!1),[u,V]=(0,o.useState)(null),[f,y]=(0,o.useState)(null);(0,o.useEffect)(()=>{p()},[l]);const p=async()=>{const o=n.AVATARS[l.toUpperCase()];if(o)try{console.log('[VideoPreloader] Starting preload for',l);const{sound:n}=await t.Video.createAsync(o.calmVideo,{shouldPlay:!1},null,!1);V(n);const{sound:s}=await t.Video.createAsync(o.actionVideo,{shouldPlay:!1},null,!1);y(s),c(!0),console.log('[VideoPreloader] \u2713 Videos preloaded successfully')}catch(o){console.error('[VideoPreloader] Error preloading videos:',o),c(!0)}};return{videosLoaded:s,calmVideoRef:u,actionVideoRef:f}}},365,[13,252,318]);
__d(function(a,e,t,s,d,i,c){d.exports={uri:"/assets/attached_assets/Medical Symbol Latin_1764039151974.faa3e055508517cd327960eefd7a7445.png",width:1080,height:608}},366,[]);
__d(function(t,e,s,i,a,d,h){a.exports={uri:"/assets/attached_assets/Fighting Ships_1764038386285.28a95eed342a1df5851103966d5fc4e6.png",width:1080,height:608}},367,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return W}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=e(r(d[8])),p=e(r(d[9]));r(d[10]),r(d[11]);var b=e(r(d[12])),y=e(r(d[13])),x=r(d[14]),S=e(r(d[15])),C=r(d[16]),j=e(C),B=r(d[17]),w=e(r(d[18])),v=r(d[19]),R=r(d[20]),T=r(d[21]);const I=h.default.createAnimatedComponent(C.Path),k=({progressPercentage:e,completedSubstages:l,totalSubstages:s,avatarType:c})=>{const u=(0,t.useRef)(new h.default.Value(0)).current,f=c?R.AVATARS[c.toUpperCase()]:null;(0,t.useEffect)(()=>{u.setValue(0),h.default.timing(u,{toValue:e,duration:800,useNativeDriver:!1}).start()},[e]);const p=u.interpolate({inputRange:[0,100],outputRange:['0%','100%']});return(0,T.jsxs)(o.default,{style:z.progressContainer,children:[(0,T.jsxs)(o.default,{style:z.progressHeader,children:[f&&(0,T.jsx)(o.default,{style:z.avatarBadge,children:(0,T.jsx)(b.default,{source:f.thumbnail,style:z.avatarThumbnail,resizeMode:"cover"})}),(0,T.jsxs)(o.default,{style:z.progressTitleContainer,children:[(0,T.jsx)(n.default,{style:z.progressTitle,children:"\u2693 Your Journey Progress"}),f&&(0,T.jsx)(n.default,{style:[z.avatarLabel,{color:f.primaryColor}],children:f.name})]}),(0,T.jsxs)(n.default,{style:z.progressPercentage,children:[e,"%"]})]}),(0,T.jsx)(o.default,{style:z.progressBarBackground,children:(0,T.jsx)(h.default.View,{style:[z.progressBarFill,{width:p,backgroundColor:f?.primaryColor||'#8B4513'}]})}),(0,T.jsxs)(n.default,{style:z.progressSubtext,children:[l," of ",s," milestones completed"]})]})},z=c.default.create({header:{backgroundColor:'#0f3460',padding:20,paddingTop:15,flexDirection:'row',justifyContent:'space-between',alignItems:'center',borderBottomWidth:3,borderBottomColor:'#d4af37'},phaseIndicator:{padding:12,alignItems:'center',justifyContent:'center'},phaseIndicatorText:{color:'#fff',fontSize:14,fontWeight:'bold',textShadowColor:'rgba(0, 0, 0, 0.3)',textShadowOffset:{width:1,height:1},textShadowRadius:2},progressContainer:{backgroundColor:'#f9f6f0',padding:20,marginHorizontal:15,marginTop:15,marginBottom:10,borderRadius:15,borderWidth:2,borderColor:'#d4a574',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},progressHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:10},avatarBadge:{width:50,height:50,borderRadius:25,overflow:'hidden',marginRight:12,borderWidth:3,borderColor:'#FFD700',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:5},avatarThumbnail:{width:'100%',height:'100%'},progressTitleContainer:{flex:1},progressTitle:{fontSize:18,fontWeight:'bold',color:'#2c3e50'},avatarLabel:{fontSize:13,fontWeight:'600',fontStyle:'italic',marginTop:2},progressPercentage:{fontSize:24,fontWeight:'bold',color:'#d4a574'},progressBarBackground:{height:20,backgroundColor:'#e0d9cc',borderRadius:10,overflow:'hidden',borderWidth:1,borderColor:'#8b4513'},progressBarFill:{height:'100%',backgroundColor:'#d4a574',borderRadius:10},progressSubtext:{fontSize:12,color:'#666',marginTop:5,textAlign:'center'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#d4af37',flex:1,textAlign:'center'},changeAvatarButton:{width:40,height:40,borderRadius:20,backgroundColor:'#16213e',justifyContent:'center',alignItems:'center',borderWidth:2,borderColor:'#d4af37'},heroEmoji:{fontSize:22},avatarSelectorContainer:{flex:1,backgroundColor:'#c9a86a'},mapScrollView:{flex:1},mapContainer:{},pirateMap:{width:'100%',position:'relative',overflow:'hidden',backgroundColor:'#c9a86a'},treasureMapImage:{},mapOverlay:{position:'absolute',top:0,left:0,right:0,bottom:0,padding:20},treasurePath:{position:'absolute',top:'15%',left:'15%',right:'15%',bottom:'10%',borderWidth:3,borderColor:'#654321',borderStyle:'dashed',borderRadius:20,opacity:.3},treasureContainer:{position:'absolute',alignItems:'center',width:80},treasureChest:{width:60,height:60,justifyContent:'center',alignItems:'center',backgroundColor:'#f4e4c1',borderRadius:30,borderWidth:3,borderColor:'#8b4513',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.4,shadowRadius:5,elevation:8},stageName:{fontSize:9,color:'#FFFFFF',fontWeight:'bold',textAlign:'center',marginTop:4,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:1,height:1},textShadowRadius:2},treasureChestCurrent:{borderWidth:4,borderColor:'#f39c12',backgroundColor:'#fff'},treasureIcon:{fontSize:35},xMarksSpotImage:{width:40,height:40},avatarIcon:{fontSize:32},completeBadge:{position:'absolute',top:-5,right:-5,width:24,height:24,borderRadius:12,backgroundColor:'#27ae60',justifyContent:'center',alignItems:'center',borderWidth:2,borderColor:'#fff'},completeBadgeText:{color:'#fff',fontSize:14,fontWeight:'bold'},mapDecor:{position:'absolute',fontSize:30,opacity:.6},legend:{position:'absolute',bottom:15,left:15,backgroundColor:'#f4e4c1',padding:8,borderRadius:8,borderWidth:2,borderColor:'#8b4513',maxWidth:140},legendTitle:{fontSize:11,fontWeight:'bold',color:'#654321',marginBottom:5},legendItem:{fontSize:10,color:'#654321',marginBottom:2},legendItemWithIcon:{flexDirection:'row',alignItems:'center',marginBottom:2},legendIcon:{width:14,height:14},legendItemText:{fontSize:10,color:'#654321',marginLeft:4},modalOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.8)',justifyContent:'flex-end'},modalContent:{backgroundColor:'#fff',borderTopLeftRadius:25,borderTopRightRadius:25,padding:20},modalHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:15,paddingBottom:15,borderBottomWidth:2,borderBottomColor:'#d4af37'},modalTitle:{fontSize:24,fontWeight:'bold',color:'#0f3460',flex:1},closeButton:{width:35,height:35,borderRadius:17.5,backgroundColor:'#ecf0f1',justifyContent:'center',alignItems:'center'},closeButtonText:{fontSize:20,color:'#7f8c8d',fontWeight:'bold'},modalDescription:{fontSize:15,color:'#555',lineHeight:22,marginBottom:20},progressSection:{marginBottom:20},progressLabel:{fontSize:14,color:'#7f8c8d',marginBottom:8,fontWeight:'600'},progressBarContainer:{height:12,backgroundColor:'#ecf0f1',borderRadius:6,overflow:'hidden'},progressBarFill:{height:'100%',backgroundColor:'#27ae60',borderRadius:6},coinsSection:{backgroundColor:'#fff9e6',padding:15,borderRadius:12,marginBottom:20,borderWidth:2,borderColor:'#d4af37',alignItems:'center'},coinsSectionTitle:{fontSize:16,fontWeight:'600',color:'#654321',marginBottom:5},coinsAmount:{fontSize:28,fontWeight:'bold',color:'#d4af37'},sectionTitle:{fontSize:18,fontWeight:'bold',color:'#2c3e50',marginBottom:12,marginTop:5},subStagesSection:{marginBottom:20},subStageCard:{backgroundColor:'#f8f9fa',padding:15,borderRadius:12,marginBottom:12,borderLeftWidth:4,borderLeftColor:'#3498db'},subStageHeader:{flexDirection:'row',marginBottom:12},subStageRowIcon:{fontSize:24,marginRight:12},subStageInfo:{flex:1},audioButton:{width:46,height:46,backgroundColor:'#3498db',borderRadius:23,alignItems:'center',justifyContent:'center',marginLeft:10,borderWidth:2,borderColor:'#2980b9',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:3,elevation:3},audioIcon:{width:32,height:32},subStageRowName:{fontSize:16,fontWeight:'600',color:'#2c3e50',marginBottom:4},subStageDescription:{fontSize:13,color:'#7f8c8d',marginBottom:6,lineHeight:18},subStageRowCoins:{fontSize:13,color:'#f39c12',fontWeight:'600'},uploadSection:{flexDirection:'row',marginBottom:10,gap:8},comingSoonBanner:{backgroundColor:'#fff3cd',paddingVertical:12,paddingHorizontal:16,borderRadius:8,borderWidth:1,borderColor:'#ffc107',alignItems:'center',flex:1},comingSoonText:{color:'#856404',fontSize:13,fontWeight:'600',textAlign:'center'},uploadButton:{flex:1,flexDirection:'row',backgroundColor:'#3498db',paddingVertical:10,paddingHorizontal:12,borderRadius:8,alignItems:'center',justifyContent:'center'},uploadIcon:{fontSize:16,marginRight:6},uploadButtonText:{color:'#fff',fontSize:13,fontWeight:'600'},viewFilesButton:{backgroundColor:'#ecf0f1',paddingVertical:10,paddingHorizontal:12,borderRadius:8,justifyContent:'center'},viewFilesText:{color:'#2c3e50',fontSize:12,fontWeight:'600'},medicalHubButton:{flex:1,flexDirection:'row',backgroundColor:'#e8f5e9',paddingVertical:10,paddingHorizontal:12,borderRadius:8,alignItems:'center',justifyContent:'center',borderWidth:1,borderColor:'#4caf50'},medicalHubIcon:{fontSize:16,marginRight:6},medicalHubText:{color:'#2e7d32',fontSize:13,fontWeight:'600'},dataEntryButton:{flex:1,flexDirection:'row',backgroundColor:'#9b59b6',paddingVertical:10,paddingHorizontal:12,borderRadius:8,alignItems:'center',justifyContent:'center'},dataEntryIcon:{fontSize:16,marginRight:6},dataEntryButtonText:{color:'#fff',fontSize:13,fontWeight:'600'},dataEntryDisplay:{backgroundColor:'#f3e5f5',paddingVertical:8,paddingHorizontal:12,borderRadius:8,borderWidth:1,borderColor:'#9b59b6',flex:1},dataEntryLabel:{fontSize:10,color:'#7f8c8d',marginBottom:2},dataEntryValue:{fontSize:12,color:'#2c3e50',fontWeight:'600'},completeSection:{marginTop:8},miniCompleteButton:{backgroundColor:'#e74c3c',paddingVertical:10,paddingHorizontal:16,borderRadius:8,alignItems:'center'},miniCompleteButtonText:{color:'#fff',fontSize:14,fontWeight:'600'},disabledButton:{backgroundColor:'#bdc3c7',opacity:.6},checkmarkLarge:{backgroundColor:'#27ae60',paddingVertical:10,paddingHorizontal:16,borderRadius:8,alignItems:'center'},checkmarkText:{color:'#fff',fontSize:14,fontWeight:'bold'},videosSection:{marginBottom:20},videoCard:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',backgroundColor:'#fff',padding:15,borderRadius:10,marginBottom:10,borderWidth:1,borderColor:'#ddd',shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},videoLeft:{flexDirection:'row',alignItems:'center',flex:1},videoPlayIcon:{fontSize:24,marginRight:12},videoInfo:{flex:1},videoTitle:{fontSize:15,fontWeight:'600',color:'#2c3e50',marginBottom:3},videoDuration:{fontSize:12,color:'#7f8c8d'},videoPrice:{fontSize:18,fontWeight:'bold',color:'#27ae60'},completeStageButton:{backgroundColor:'#27ae60',padding:18,borderRadius:12,alignItems:'center',marginTop:10,marginBottom:20},completeStageButtonText:{color:'#fff',fontSize:16,fontWeight:'bold'},completedBanner:{backgroundColor:'#d5f4e6',padding:15,borderRadius:12,alignItems:'center',marginBottom:20,borderWidth:2,borderColor:'#27ae60'},completedBannerText:{fontSize:16,fontWeight:'bold',color:'#27ae60'},uncompleteStageButton:{backgroundColor:'#e74c3c',padding:18,borderRadius:12,alignItems:'center',marginBottom:20},uncompleteStageButtonText:{color:'#fff',fontSize:16,fontWeight:'bold'},dataEntryModalOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.85)',justifyContent:'center',alignItems:'center',zIndex:9999},dataEntryModalContent:{backgroundColor:'#fff',borderRadius:20,padding:25,width:'90%',maxWidth:400,shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:10,elevation:10},dataEntryInstruction:{fontSize:14,color:'#7f8c8d',marginBottom:15},dataEntryInput:{borderWidth:1,borderColor:'#ddd',borderRadius:8,padding:12,fontSize:16,marginBottom:20,backgroundColor:'#f9f9f9'},dataEntryButtons:{flexDirection:'row',justifyContent:'space-between',gap:10},dataEntryButton:{flex:1,padding:15,borderRadius:8,alignItems:'center'},dataEntryCancelButton:{backgroundColor:'#ecf0f1'},dataEntrySaveButton:{backgroundColor:'#27ae60'},dataEntryCancelText:{color:'#34495e',fontSize:16,fontWeight:'600'},dataEntrySaveText:{color:'#fff',fontSize:16,fontWeight:'600'},confirmModalOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.9)',justifyContent:'center',alignItems:'center',zIndex:99999},confirmModalContent:{backgroundColor:'#fff',borderRadius:20,padding:30,width:'90%',maxWidth:450,shadowColor:'#000',shadowOffset:{width:0,height:8},shadowOpacity:.5,shadowRadius:20,elevation:20,zIndex:1e5},confirmModalTitle:{fontSize:22,fontWeight:'bold',color:'#2c3e50',marginBottom:15,textAlign:'center'},confirmModalMessage:{fontSize:15,color:'#34495e',marginBottom:25,lineHeight:22},confirmModalButtons:{flexDirection:'row',justifyContent:'space-between',gap:15},confirmButton:{flex:1,padding:15,borderRadius:10,alignItems:'center'},confirmCancelButton:{backgroundColor:'#95a5a6'},confirmRevertButton:{backgroundColor:'#e74c3c'},confirmCancelText:{color:'#fff',fontSize:16,fontWeight:'bold'},confirmRevertText:{color:'#fff',fontSize:16,fontWeight:'bold'},incompleteBadge:{backgroundColor:'#ecf0f1',paddingVertical:8,paddingHorizontal:15,borderRadius:8,borderWidth:1,borderColor:'#bdc3c7'},incompleteBadgeText:{color:'#7f8c8d',fontSize:14,fontWeight:'600'}});var W=({litigationStages:e,onCompleteStage:C,onUncompleteStage:R,onNavigate:W,selectedAvatar:E,onSelectAvatar:M,onCompleteSubStage:P,onPurchaseVideo:D,onUploadFile:O,onDataEntry:A,medicalHubUploads:$,authToken:H,readOnly:V=!1,clientId:F=null,clientRoadmapData:L=null,user:N=null})=>{const{width:_,height:U}=(0,f.default)(),[q,Y]=(0,t.useState)(!1),[J,G]=(0,t.useState)(null),[K,Q]=(0,t.useState)([]),X=(0,t.useRef)({}),[Z,ee]=(0,t.useState)(!1),[te,oe]=(0,t.useState)(''),[ne,ae]=(0,t.useState)(null),[re,le]=(0,t.useState)(!1),[ie,de]=(0,t.useState)(null),[se,ce]=(0,t.useState)(!1),[ue,fe]=(0,t.useState)(''),[ge,he]=(0,t.useState)(100),me={mapContainer:{minHeight:U},pirateMap:{minHeight:U,height:U},modalContent:{maxHeight:.85*U}},pe=e=>{G(e),Y(!0)},be=()=>{Y(!1),setTimeout(()=>G(null),300)},ye=e=>{e.audioFile?(0,w.default)('\ud83c\udfa7 Playing Audio',`Audio description for "${e.name}" would play here.`):(0,w.default)('\ud83c\udfa7 Audio Description',`Audio description for "${e.name}" is coming soon!\n\nThis feature will help you understand each step with detailed audio explanations.`)},xe=()=>{ee(!1),oe(''),ae(null)},Se=async(e,t)=>{if(console.log('[RoadmapScreen] handleSubStageComplete v2.0 - NO UPLOAD VALIDATION'),console.log('[RoadmapScreen] SubstageId:',e,'Coins:',t),!H)return console.error('[RoadmapScreen] No auth token - user not logged in'),void(0,w.default)('Error','You must be logged in to complete tasks.');await Ce(e,t)},Ce=async(t,o)=>{console.log('[RoadmapScreen] completeSubstageOnBackend started');try{const n=e.find(e=>e.id===J.id),l=n.subStages.find(e=>e.id===t),s=(e.flatMap(e=>e.subStages.filter(e=>e.completed).map(e=>e.id)),(0,v.checkPhaseTransition)(t)),c={stageId:n.id,stageName:n.name,substageId:t,substageName:l.name,substageType:l.isDataEntry?'data_entry':'upload',coinsEarned:o};console.log('[RoadmapScreen] Making API request to:',`${B.API_BASE_URL}/api/litigation/substage/complete`),console.log('[RoadmapScreen] Request body:',c),console.log('[RoadmapScreen] Auth token present:',!!H);const u=await fetch(`${B.API_BASE_URL}/api/litigation/substage/complete`,{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${H}`},body:JSON.stringify(c)});console.log('[RoadmapScreen] Response status:',u.status);const f=await u.json();if(console.log('[RoadmapScreen] Response data:',f),u.ok){console.log('[RoadmapScreen] Success! Updating local state...'),console.log('[RoadmapScreen] Coins earned from backend:',f.coinsEarned);const e=f.coinsEarned||0;P(J.id,t,e),!f.coinsAlreadyEarnedBefore&&e>0&&(fe(l.name),he(e),ce(!0),s&&setTimeout(()=>{const e=(0,v.getPhaseCelebrationMessage)(s);(0,w.default)('\ud83c\udf89 Major Milestone!',e)},2800))}else console.error('[RoadmapScreen] API error:',f.error),f.error&&f.error.includes('already completed')?P(J.id,t,0):(0,w.default)('Error',f.error||'Failed to complete task.')}catch(e){console.error('[RoadmapScreen] Exception in completeSubstageOnBackend:',e),(0,w.default)('Error','Failed to complete task. Please try again.')}},je=()=>{const t=e.find(e=>e.id===J.id);if(t.subStages&&0!==t.subStages.length){const e=t.subStages.filter(e=>!e.completed),o=e.reduce((e,t)=>e+t.coins,0),n=o+t.coins;(0,w.default)('Complete Stage?',`Mark "${t.name}" as complete?\n\nYou'll earn:\n\u2022 ${o} coins from ${e.length} steps\n\u2022 ${t.coins} bonus coins\n\nTotal: ${n} coins`,[{text:'Cancel',style:'cancel'},{text:'Complete All',onPress:()=>{e.forEach(e=>{P(t.id,e.id,e.coins)}),n>0&&(fe(`${t.name} Complete! \ud83c\udfc6`),he(n),ce(!0)),be()}}])}else C(t.id,t.coins),t.coins>0&&(fe(`${t.name} Complete! \ud83c\udfc6`),he(t.coins),ce(!0)),be()},Be=()=>{const t=e.find(e=>e.id===J.id),o=(t.subStages?.filter(e=>e.completed)||[]).reduce((e,t)=>e+t.coins,0)+t.coins;de({title:'Revert Stage?',message:`Mark "${t.name}" as incomplete?\n\n\ud83d\udcb0 Note: Previously earned coins (${o} total) are preserved and cannot be earned again when you re-complete this stage.\n\nThis prevents coin farming while allowing you to update your progress.`,onConfirm:()=>{R(t.id,t.coins),le(!1),be()},onCancel:()=>{le(!1)}}),le(!0)},we=(()=>{const t=e.findIndex(e=>!e.completed);return-1===t?e.length-1:Math.max(0,t)})();(0,t.useEffect)(()=>{e.forEach((t,o)=>{if(t.completed&&o<e.length-1){const n=`${t.id}-${e[o+1].id}`;if(!K.find(e=>e.key===n)){const l=e[o+1];X.current[n]||(X.current[n]=new h.default.Value(0)),Q(e=>[...e,{key:n,from:t,to:l,animValue:X.current[n]}]),h.default.timing(X.current[n],{toValue:1,duration:1500,useNativeDriver:!1}).start()}}}),Q(t=>t.filter(t=>{const o=e.find(e=>e.id===t.from.id);return o&&o.completed}))},[e]);const ve=(e,t)=>parseFloat(e)/100*('width'===t?_-40:1.1*U-40),Re=(e,t)=>{const s=we===t&&!e.completed;return(0,T.jsxs)(o.default,{style:[z.treasureContainer,{top:e.position.top,left:e.position.left}],children:[(0,T.jsxs)(l.default,{style:[z.treasureChest,s&&!e.completed&&z.treasureChestCurrent],onPress:()=>pe(e),activeOpacity:.7,children:[s&&E&&!e.completed&&!V?(0,T.jsx)(n.default,{style:z.avatarIcon,children:E.emoji}):e.completed?(0,T.jsx)(n.default,{style:z.treasureIcon,children:"\ud83c\udfc6"}):(0,T.jsx)(b.default,{source:r(d[22]),style:z.xMarksSpotImage,resizeMode:"contain"}),e.completed&&(0,T.jsx)(o.default,{style:z.completeBadge,children:(0,T.jsx)(n.default,{style:z.completeBadgeText,children:"\u2713"})})]}),(0,T.jsx)(n.default,{style:z.stageName,children:e.name})]},e.id)};return(0,T.jsxs)(o.default,{style:x.commonStyles.containerWithNav,children:[(0,T.jsxs)(o.default,{style:z.header,children:[(0,T.jsx)(l.default,{onPress:()=>{V&&N?'lawfirm'===N.userType?W('lawfirm-client-details'):'medicalprovider'===N.userType?W('medicalprovider-patient-details'):W('dashboard'):W('dashboard')},children:(0,T.jsx)(n.default,{style:x.commonStyles.backButton,children:"\u2190 Back"})}),(0,T.jsx)(n.default,{style:z.headerTitle,children:"Litigation Map"}),E&&!V&&(0,T.jsx)(l.default,{style:z.changeAvatarButton,onPress:()=>M(null),children:(0,T.jsx)(n.default,{style:z.heroEmoji,children:E.emoji})})]}),E&&(()=>{const t=e.flatMap(e=>e.subStages.filter(e=>e.completed).map(e=>e.id)),l=(0,v.getCurrentPhase)(t),s=(0,v.getPhaseProgress)(t);return(0,T.jsx)(o.default,{style:[z.phaseIndicator,{backgroundColor:l.color}],children:(0,T.jsxs)(n.default,{style:z.phaseIndicatorText,children:[(0,v.formatPhaseDisplay)(l)," \u2022 ",s.completedStages,"/",s.totalStages," stages completed"]})})})(),!V&&(()=>{const t=e.reduce((e,t)=>e+t.subStages.length,0),o=e.reduce((e,t)=>e+t.subStages.filter(e=>e.completed).length,0),n=t>0?Math.round(o/t*100):0;return(0,T.jsx)(k,{progressPercentage:n,completedSubstages:o,totalSubstages:t,avatarType:N?.avatarType})})(),(0,T.jsx)(s.default,{style:z.mapScrollView,contentContainerStyle:[z.mapContainer,me.mapContainer],children:(0,T.jsx)(y.default,{source:r(d[24]),style:[z.pirateMap,me.pirateMap],resizeMode:"stretch",imageStyle:z.treasureMapImage,children:(0,T.jsxs)(o.default,{style:z.mapOverlay,children:[(0,T.jsx)(n.default,{style:[z.mapDecor,{top:'5%',left:'5%'}],children:"\u2693"}),(0,T.jsx)(n.default,{style:[z.mapDecor,{top:'10%',right:'8%'}],children:"\ud83e\udd9c"}),(0,T.jsx)(n.default,{style:[z.mapDecor,{top:'30%',left:'85%'}],children:"\ud83c\udff4\u200d\u2620\ufe0f"}),(0,T.jsx)(n.default,{style:[z.mapDecor,{top:'55%',left:'5%'}],children:"\ud83d\udde1\ufe0f"}),(0,T.jsx)(n.default,{style:[z.mapDecor,{top:'70%',right:'10%'}],children:"\ud83c\udf0a"}),(0,T.jsx)(n.default,{style:[z.mapDecor,{bottom:'8%',left:'15%'}],children:"\ud83e\udded"}),(0,T.jsx)(o.default,{style:z.treasurePath}),(()=>{if(!K||0===K.length)return null;const e=_-40,t=1.1*U-40;return(0,T.jsx)(j.default,{style:c.default.absoluteFill,width:e,height:t,children:K.map(e=>{const t=ve(e.from.position.left,'width')+40,o=ve(e.from.position.top,'height')+30,n=ve(e.to.position.left,'width')+40,l=ve(e.to.position.top,'height')+30,s=n-t,c=l-o,u=Math.sqrt(s*s+c*c),f=-c/u,h=s/u,p=Math.min(.25*u,60),b=`M ${t} ${o} C ${t+.25*s+f*p*.5} ${o+.25*c+h*p*.5}, ${t+.45*s-f*p*.4} ${o+.45*c-h*p*.4}, ${t+.5*s} ${o+.5*c} S ${t+.75*s+f*p*.3} ${o+.75*c+h*p*.3}, ${n} ${l}`,y=1.8*u,x=e.animValue.interpolate({inputRange:[0,1],outputRange:[y,0]});return(0,T.jsx)(I,{d:b,stroke:"#27ae60",strokeWidth:"4",strokeDasharray:"10, 5",strokeDashoffset:x,strokeLinecap:"round",fill:"none"},e.key)})})})(),e.map((e,t)=>Re(e,t)),(0,T.jsxs)(o.default,{style:z.legend,children:[(0,T.jsx)(n.default,{style:z.legendTitle,children:"\ud83d\uddfa\ufe0f Map Legend"}),(0,T.jsxs)(o.default,{style:z.legendItemWithIcon,children:[(0,T.jsx)(b.default,{source:r(d[22]),style:z.legendIcon,resizeMode:"contain"}),(0,T.jsx)(n.default,{style:z.legendItemText,children:" = Treasure to Claim"})]}),(0,T.jsx)(n.default,{style:z.legendItem,children:"\ud83c\udfc6 = Treasure Found!"})]})]})})}),(()=>{if(!J)return null;const t=e.find(e=>e.id===J.id)||J,c=t.subStages?.filter(e=>e.completed).length||0,f=t.subStages?.length||0,h=f>0?Math.round(c/f*100):0;return(0,T.jsx)(u.default,{animationType:"slide",transparent:!0,visible:q&&!Z&&!re,onRequestClose:be,children:(0,T.jsx)(o.default,{style:z.modalOverlay,children:(0,T.jsxs)(o.default,{style:[z.modalContent,me.modalContent],children:[(0,T.jsxs)(o.default,{style:z.modalHeader,children:[(0,T.jsx)(n.default,{style:z.modalTitle,children:t.name}),(0,T.jsx)(l.default,{onPress:be,style:z.closeButton,children:(0,T.jsx)(n.default,{style:z.closeButtonText,children:"\u2715"})})]}),(0,T.jsxs)(s.default,{showsVerticalScrollIndicator:!1,children:[(0,T.jsx)(n.default,{style:z.modalDescription,children:t.description}),f>0&&(0,T.jsxs)(o.default,{style:z.progressSection,children:[(0,T.jsxs)(n.default,{style:z.progressLabel,children:["Progress: ",c,"/",f," steps"]}),(0,T.jsx)(o.default,{style:z.progressBarContainer,children:(0,T.jsx)(o.default,{style:[z.progressBarFill,{width:`${h}%`}]})})]}),(0,T.jsxs)(o.default,{style:z.coinsSection,children:[(0,T.jsx)(n.default,{style:z.coinsSectionTitle,children:"\ud83e\ude99 Bonus Reward"}),(0,T.jsxs)(n.default,{style:z.coinsAmount,children:[t.coins," coins"]})]}),t.subStages&&t.subStages.length>0&&(0,T.jsxs)(o.default,{style:z.subStagesSection,children:[(0,T.jsx)(n.default,{style:z.sectionTitle,children:"\ud83d\udccb Steps in this Stage"}),t.subStages.map(e=>(0,T.jsxs)(o.default,{style:z.subStageCard,children:[(0,T.jsxs)(o.default,{style:z.subStageHeader,children:[(0,T.jsx)(n.default,{style:z.subStageRowIcon,children:e.icon}),(0,T.jsxs)(o.default,{style:z.subStageInfo,children:[(0,T.jsx)(n.default,{style:z.subStageRowName,children:e.name}),(0,T.jsx)(n.default,{style:z.subStageDescription,children:e.description}),(0,T.jsxs)(n.default,{style:z.subStageRowCoins,children:["+",e.coins," coins"]})]}),(0,T.jsx)(l.default,{style:z.audioButton,onPress:()=>ye(e),children:(0,T.jsx)(b.default,{source:r(d[23]),style:z.audioIcon,resizeMode:"contain"})})]}),e.isDataEntry?(0,T.jsxs)(o.default,{style:z.uploadSection,children:[(0,T.jsxs)(l.default,{style:z.dataEntryButton,onPress:()=>{return t=e.id,o=e.name,n=e.enteredData,ae({id:t,name:o}),oe(n||''),void ee(!0);var t,o,n},children:[(0,T.jsx)(n.default,{style:z.dataEntryIcon,children:"\u270f\ufe0f"}),(0,T.jsx)(n.default,{style:z.dataEntryButtonText,children:e.enteredData?'Edit Information':'Enter Information'})]}),e.enteredData&&(0,T.jsxs)(o.default,{style:z.dataEntryDisplay,children:[(0,T.jsx)(n.default,{style:z.dataEntryLabel,children:"Saved:"}),(0,T.jsx)(n.default,{style:z.dataEntryValue,numberOfLines:1,children:e.enteredData})]})]}):e.acceptedFormats?(0,T.jsx)(o.default,{style:z.uploadSection,children:(0,T.jsx)(o.default,{style:z.comingSoonBanner,children:(0,T.jsx)(n.default,{style:z.comingSoonText,children:"\ud83c\udff4\u200d\u2620\ufe0f File upload coming soon!"})})}):null,(0,T.jsx)(o.default,{style:z.completeSection,children:e.completed?(0,T.jsx)(o.default,{style:z.checkmarkLarge,children:(0,T.jsx)(n.default,{style:z.checkmarkText,children:"\u2713 Completed"})}):V?(0,T.jsx)(o.default,{style:z.incompleteBadge,children:(0,T.jsx)(n.default,{style:z.incompleteBadgeText,children:"Not Completed"})}):(0,T.jsx)(l.default,{style:z.miniCompleteButton,onPress:()=>Se(e.id,e.coins),children:(0,T.jsx)(n.default,{style:z.miniCompleteButtonText,children:"Mark Complete"})})})]},e.id))]}),t.videos&&t.videos.length>0&&(0,T.jsxs)(o.default,{style:z.videosSection,children:[(0,T.jsx)(n.default,{style:z.sectionTitle,children:"\ud83c\udfac Tutorial Videos"}),t.videos.map(e=>(0,T.jsxs)(l.default,{style:z.videoCard,onPress:()=>D(e),children:[(0,T.jsxs)(o.default,{style:z.videoLeft,children:[(0,T.jsx)(n.default,{style:z.videoPlayIcon,children:"\u25b6\ufe0f"}),(0,T.jsxs)(o.default,{style:z.videoInfo,children:[(0,T.jsx)(n.default,{style:z.videoTitle,children:e.title}),(0,T.jsx)(n.default,{style:z.videoDuration,children:e.duration})]})]}),(0,T.jsxs)(n.default,{style:z.videoPrice,children:["$",e.price]})]},e.id))]}),!t.completed&&!V&&(0,T.jsx)(l.default,{style:[z.completeStageButton,E&&{backgroundColor:E.color}],onPress:je,children:(0,T.jsx)(n.default,{style:z.completeStageButtonText,children:"\u2713 Mark Entire Stage Complete"})}),t.completed&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(o.default,{style:z.completedBanner,children:(0,T.jsx)(n.default,{style:z.completedBannerText,children:"\ud83c\udfc6 Stage Completed!"})}),(0,T.jsx)(l.default,{style:z.uncompleteStageButton,onPress:Be,children:(0,T.jsx)(n.default,{style:z.uncompleteStageButtonText,children:"\u21a9\ufe0f Unmark as Complete"})})]})]})]})})})})(),(0,T.jsx)(u.default,{animationType:"fade",transparent:!0,visible:Z,onRequestClose:xe,children:(0,T.jsx)(o.default,{style:z.dataEntryModalOverlay,children:(0,T.jsxs)(o.default,{style:z.dataEntryModalContent,children:[(0,T.jsxs)(o.default,{style:z.modalHeader,children:[(0,T.jsxs)(n.default,{style:z.modalTitle,children:["\u270f\ufe0f ",ne?.name]}),(0,T.jsx)(l.default,{onPress:xe,style:z.closeButton,children:(0,T.jsx)(n.default,{style:z.closeButtonText,children:"\u2715"})})]}),(0,T.jsx)(n.default,{style:z.dataEntryInstruction,children:"Please enter the information:"}),(0,T.jsx)(p.default,{style:z.dataEntryInput,value:te,onChangeText:oe,placeholder:"Type here...",autoFocus:!0}),(0,T.jsxs)(o.default,{style:z.dataEntryButtons,children:[(0,T.jsx)(l.default,{style:[z.dataEntryButton,z.dataEntryCancelButton],onPress:xe,children:(0,T.jsx)(n.default,{style:z.dataEntryCancelText,children:"Cancel"})}),(0,T.jsx)(l.default,{style:[z.dataEntryButton,z.dataEntrySaveButton],onPress:()=>{te&&te.trim()&&ne&&(A(J.id,ne.id,te.trim()),ee(!1),oe(''),ae(null),(0,w.default)('\u2705 Saved!','Information has been saved successfully.'))},children:(0,T.jsx)(n.default,{style:z.dataEntrySaveText,children:"Save"})})]})]})})}),(0,T.jsx)(u.default,{animationType:"fade",transparent:!0,visible:re,onRequestClose:()=>ie?.onCancel(),children:(0,T.jsx)(o.default,{style:z.confirmModalOverlay,children:(0,T.jsxs)(o.default,{style:z.confirmModalContent,children:[(0,T.jsx)(n.default,{style:z.confirmModalTitle,children:ie?.title}),(0,T.jsx)(n.default,{style:z.confirmModalMessage,children:ie?.message}),(0,T.jsxs)(o.default,{style:z.confirmModalButtons,children:[(0,T.jsx)(l.default,{style:[z.confirmButton,z.confirmCancelButton],onPress:()=>ie?.onCancel(),children:(0,T.jsx)(n.default,{style:z.confirmCancelText,children:"Cancel"})}),(0,T.jsx)(l.default,{style:[z.confirmButton,z.confirmRevertButton],onPress:()=>ie?.onConfirm(),children:(0,T.jsx)(n.default,{style:z.confirmRevertText,children:"Revert"})})]})]})})}),(0,T.jsx)(S.default,{visible:se,milestone:ue,coinsEarned:ge,onComplete:()=>ce(!1)})]})}},368,[13,85,161,162,177,26,156,165,166,340,82,354,222,369,131,370,372,135,398,399,318,153,400,401,334]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return h}});var t=e(r(_d[0])),n=e(r(_d[1])),l=r(_d[2]),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(l),f=e(r(_d[3])),d=e(r(_d[4])),c=e(r(_d[5])),o=["children","style","imageStyle","imageRef"],s={},y=(0,l.forwardRef)((e,l)=>{var y=e.children,h=e.style,b=void 0===h?s:h,_=e.imageStyle,v=e.imageRef,p=(0,n.default)(e,o),O=d.default.flatten(b),j=O.height,w=O.width;return u.createElement(c.default,{ref:l,style:b},u.createElement(f.default,(0,t.default)({},p,{ref:v,style:[{width:w,height:j,zIndex:-1},d.default.absoluteFill,_]})),y)});y.displayName='ImageBackground';var h=y},369,[18,27,13,222,26,85]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return x}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),u=e(r(d[5])),c=e(r(d[6])),f=r(d[7]),h=r(d[8]);const{width:w,height:y}=c.default.get('window'),v=u.default.create({overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.5)',justifyContent:'center',alignItems:'center'},confetti:{position:'absolute',width:10,height:10,borderRadius:5},celebrationCard:{backgroundColor:'#1a1a1a',borderRadius:20,padding:15,alignItems:'center',borderWidth:4,borderColor:'#FFD700',width:.85*w,maxWidth:450,shadowColor:'#FFD700',shadowOffset:{width:0,height:0},shadowOpacity:.8,shadowRadius:15,elevation:15},videoContainer:{width:'100%',height:250,borderRadius:15,overflow:'hidden',marginBottom:15,backgroundColor:'#000'},video:{width:'100%',height:'100%'},messageContainer:{alignItems:'center'},congratsText:{fontSize:26,fontWeight:'900',color:'#FFD700',marginBottom:10,textShadowColor:'#FF6B00',textShadowOffset:{width:2,height:2},textShadowRadius:4,letterSpacing:2},coinsContainer:{flexDirection:'row',alignItems:'center',justifyContent:'center',gap:10},coinsBig:{fontSize:48},coinsEarnedText:{fontSize:42,fontWeight:'bold',color:'#FFD700',textShadowColor:'#FF6B00',textShadowOffset:{width:2,height:2},textShadowRadius:4}});var x=({visible:e,onComplete:u,milestone:c,coinsEarned:x=100})=>{const p=(0,t.useRef)(null),V=(0,t.useRef)(new s.default.Value(0)).current,b=(0,t.useRef)(new s.default.Value(.5)).current,C=(0,t.useRef)(new s.default.Value(0)).current,R=(0,t.useRef)(new s.default.Value(0)).current,j=(0,t.useRef)(Array.from({length:30},()=>({x:new s.default.Value(Math.random()*w),y:new s.default.Value(-50),rotation:new s.default.Value(0)}))).current;(0,t.useEffect)(()=>{if(e){D(),V.setValue(0),b.setValue(.3),C.setValue(0),R.setValue(0),j.forEach(e=>{e.x.setValue(Math.random()*w),e.y.setValue(-50),e.rotation.setValue(0)}),s.default.parallel([s.default.timing(V,{toValue:1,duration:150,useNativeDriver:!0}),s.default.spring(b,{toValue:1,tension:80,friction:5,useNativeDriver:!0}),s.default.sequence([s.default.timing(C,{toValue:1,duration:200,useNativeDriver:!0}),s.default.spring(C,{toValue:0,tension:100,friction:3,useNativeDriver:!0})]),s.default.timing(R,{toValue:1,duration:400,useNativeDriver:!0})]).start();const e=j.map(e=>s.default.parallel([s.default.timing(e.y,{toValue:y+100,duration:800+400*Math.random(),useNativeDriver:!0}),s.default.timing(e.rotation,{toValue:1080*Math.random(),duration:1e3,useNativeDriver:!0})]));s.default.parallel(e).start(),setTimeout(()=>{s.default.timing(V,{toValue:0,duration:300,useNativeDriver:!0}).start(()=>u())},2500)}},[e]);const D=async()=>{if(p.current)try{await p.current.unloadAsync(),await p.current.loadAsync(r(d[9],"../../attached_assets/raining_small_gold_coins_from_the_sky_1764036908152.mp4"),{shouldPlay:!0,isLooping:!1,volume:.8}),console.log('[CelebrationAnimation] Playing raining coins celebration video')}catch(e){console.error('[CelebrationAnimation] Video error:',e)}};return e?(0,h.jsx)(l.default,{transparent:!0,visible:e,animationType:"none",children:(0,h.jsxs)(n.default,{style:v.overlay,children:[j.map((e,t)=>(0,h.jsx)(s.default.View,{style:[v.confetti,{left:e.x,transform:[{translateY:e.y},{rotate:e.rotation.interpolate({inputRange:[0,360],outputRange:['0deg','360deg']})}],backgroundColor:['#d4a574','#2c3e50','#8b4513','#f39c12'][t%4]}]},t)),(0,h.jsxs)(s.default.View,{style:[v.celebrationCard,{opacity:V,transform:[{scale:b},{translateY:C.interpolate({inputRange:[0,1],outputRange:[0,-20]})}]}],children:[(0,h.jsx)(n.default,{style:v.videoContainer,children:(0,h.jsx)(f.Video,{ref:p,rate:1,volume:.8,isMuted:!1,isLooping:!1,shouldPlay:e,resizeMode:f.ResizeMode.CONTAIN,style:v.video})}),(0,h.jsxs)(n.default,{style:v.messageContainer,children:[(0,h.jsx)(o.default,{style:v.congratsText,children:"\ud83d\udcb0 COINS RAINING DOWN! \ud83d\udcb0"}),(0,h.jsxs)(n.default,{style:v.coinsContainer,children:[(0,h.jsx)(o.default,{style:v.coinsBig,children:"\ud83e\ude99"}),(0,h.jsxs)(o.default,{style:v.coinsEarnedText,children:["+",x]}),(0,h.jsx)(o.default,{style:v.coinsBig,children:"\ud83e\ude99"})]})]})]})]})}):null}},370,[13,85,161,156,166,26,120,252,153,371]);
__d(function(s,_,a,t,e,c,d){e.exports="/assets/attached_assets/raining_small_gold_coins_from_the_sky_1764036908152.14d9c2b716f89003510ad9c1e0511a64.mp4"},371,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n.default}});var e=r(d[0]);Object.keys(e).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(_e,t)||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return e[t]}})});var t,n=(t=e)&&t.__esModule?t:{default:t}},372,[373]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"inlineStyles",{enumerable:!0,get:function(){return n.inlineStyles}}),Object.defineProperty(_e,"loadLocalRawResource",{enumerable:!0,get:function(){return n.loadLocalRawResource}}),Object.defineProperty(_e,"LocalSvg",{enumerable:!0,get:function(){return n.LocalSvg}}),Object.defineProperty(_e,"SvgCss",{enumerable:!0,get:function(){return n.SvgCss}}),Object.defineProperty(_e,"SvgCssUri",{enumerable:!0,get:function(){return n.SvgCssUri}}),Object.defineProperty(_e,"SvgWithCss",{enumerable:!0,get:function(){return n.SvgWithCss}}),Object.defineProperty(_e,"SvgWithCssUri",{enumerable:!0,get:function(){return n.SvgWithCssUri}}),Object.defineProperty(_e,"WithLocalSvg",{enumerable:!0,get:function(){return n.WithLocalSvg}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(_e,"camelCase",{enumerable:!0,get:function(){return e.camelCase}}),Object.defineProperty(_e,"fetchText",{enumerable:!0,get:function(){return t.fetchText}}),Object.defineProperty(_e,"parse",{enumerable:!0,get:function(){return e.parse}}),Object.defineProperty(_e,"SvgAst",{enumerable:!0,get:function(){return e.SvgAst}}),Object.defineProperty(_e,"SvgFromUri",{enumerable:!0,get:function(){return e.SvgFromUri}}),Object.defineProperty(_e,"SvgFromXml",{enumerable:!0,get:function(){return e.SvgFromXml}}),Object.defineProperty(_e,"SvgUri",{enumerable:!0,get:function(){return e.SvgUri}}),Object.defineProperty(_e,"SvgXml",{enumerable:!0,get:function(){return e.SvgXml}});var e=r(d[0]),t=r(d[1]),n=r(d[2]),u=r(d[3]);Object.keys(u).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return u[e]}})});var o=r(d[4]);Object.keys(o).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return o[e]}})});var c,f=(c=o)&&c.__esModule?c:{default:c}},373,[374,375,396,397,380]);
__d(function(g,_r,_i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.SvgAst=c,_e.SvgXml=i,_e.SvgUri=function(r){const{onError:o=l,uri:s,onLoad:c,fallback:u}=r,[f,p]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{s?(0,n.fetchText)(s).then(t=>{p(t),d&&h(!1),null==c||c()}).catch(t=>{o(t),h(!0)}):p(null)},[o,s,c]),d)return u??null;return e.createElement(i,{xml:f,override:r,fallback:u})},Object.defineProperty(_e,"SvgFromXml",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"SvgFromUri",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,"camelCase",{enumerable:!0,get:function(){return d}}),_e.getStyle=h,_e.astToReact=x,_e.parse=j,Object.defineProperty(_e,"tags",{enumerable:!0,get:function(){return r.tags}});var t=_r(_d[0]),e=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e.default=t,e})(t),n=_r(_d[1]),r=_r(_d[2]);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(null,arguments)}function s(){return null}function c({ast:t,override:n}){if(!t)return null;const{props:s,children:c}=t,l=r.tags.svg;return e.createElement(l,o({},s,n),c)}const l=console.error.bind(console);function i(n){const{onError:r=l,xml:o,override:s,fallback:i}=n;try{const r=(0,t.useMemo)(()=>null!==o?j(o):null,[o]);return e.createElement(c,{ast:r,override:s||n})}catch(t){return r(t),i??null}}class u extends t.Component{state={ast:null};componentDidMount(){this.parse(this.props.xml)}componentDidUpdate(t){const{xml:e}=this.props;e!==t.xml&&this.parse(e)}parse(t){const{onError:e=l}=this.props;try{this.setState({ast:t?j(t):null})}catch(t){const n=t;e(Object.assign({},n,{message:`[RNSVG] Couldn't parse SVG, reason: ${n.message}`}))}}render(){const{props:t,state:{ast:n}}=this;return e.createElement(c,{ast:n,override:t.override||t})}}class f extends t.Component{state={xml:null};componentDidMount(){this.fetch(this.props.uri)}componentDidUpdate(t){const{uri:e}=this.props;e!==t.uri&&this.fetch(e)}async fetch(t){try{this.setState({xml:t?await(0,n.fetchText)(t):null})}catch(t){console.error(t)}}render(){const{props:t,state:{xml:n}}=this;return e.createElement(u,{xml:n,override:t,onError:t.onError})}}const p=(t,e)=>e.toUpperCase(),d=t=>t.replace(/[:-]([a-z])/g,p);function h(t){const e={},n=t.split(';').filter(t=>t.trim()),{length:r}=n;for(let t=0;t<r;t++){const r=n[t];if(0!==r.length){const t=r.split(':'),n=t[0],o=t[1];e[d(n.trim())]=o.trim()}}return e}function x(t,n){if('object'==typeof t){const{Tag:r,props:s,children:c}=t;return null!=s&&s.class&&(s.className=s.class,delete s.class),e.createElement(r,o({key:n},s),c.map(x))}return t}function b(t,e){let n='';for(;e--;)n+=t;return n}const y=t=>b('  ',t.length);function v(t,e){const n=t.split('\n'),r=n.length;let o=e,s=0;for(;s<r;s++){const{length:t}=n[s];if(!(o>=t))break;o-=t}const c=t.slice(0,e).replace(/^\t+/,y),l=/(^|\n).*$/.exec(c),i=l&&l[0]||'',u=t.slice(e),f=/.*(\n|$)/.exec(u);return{line:s,column:o,snippet:`${i}${f&&f[0]}\n${b(' ',i.length)}^`}}const E=/[a-zA-Z0-9:_-]/,O=/<!--/,S=/[\s\t\r\n]/,$=/['"]/;function j(t,e){const n=t.length;let o,c=null,l=function(){for(;T+1<n&&('<'!==t[T]||!E.test(t[T+1])&&!O.test(t.slice(T,T+4)));)T++;return p()},i=null;const u=[];function f(e){const{line:n,column:r,snippet:o}=v(t,T);throw new Error(`${e} (${n}:${r}). If this is valid SVG, it's probably a bug. Please raise an issue\n\n${o}`)}function p(){let e,r='';for(;T<n&&'<'!==(e=t[T]);)r+=e,T+=1;return/\S/.test(r)&&i.push(r),'<'===t[T]?b:p}function b(){const e=t[T];if('?'===e)return p;if('!'===e){const e=T+1;if('--'===t.slice(e,T+3))return y;const n=T+8;if('[CDATA['===t.slice(e,n))return j;if(/doctype/i.test(t.slice(e,n)))return p}if('/'===e)return P;const n=U(),l={},d={tag:n,props:l,children:[],parent:c,Tag:r.tags[n]||s};c?i.push(d):o=d,_(l);const{style:x}=l;'string'==typeof x&&(d.styles=x,l.style=h(x));let b=!1;return'/'===t[T]&&(T+=1,b=!0),'>'!==t[T]&&f('Expected >'),b||(c=d,({children:i}=d),u.push(d)),p}function y(){const e=t.indexOf('--\x3e',T);return~e||f('expected --\x3e'),T=e+2,p}function j(){const e=t.indexOf(']]>',T);return~e||f('expected ]]>'),i.push(t.slice(T+7,e)),T=e+2,p}function P(){const e=U();return e||f('Expected tag name'),c&&e!==c.tag&&f(`Expected closing tag </${e}> to match opening tag <${c.tag}>`),D(),'>'!==t[T]&&f('Expected >'),u.pop(),c=u[u.length-1],c&&({children:i}=c),p}function U(){let e,r='';for(;T<n&&E.test(e=t[T]);)r+=e,T+=1;return r}function _(e){for(;T<n;){if(!S.test(t[T]))return;D();const n=U();if(!n)return;let r=!0;D(),'='===t[T]&&(T+=1,D(),r=k(),isNaN(+r)||''===r.trim()||(r=+r)),e[d(n)]=r}}function k(){return $.test(t[T])?C():w()}function w(){let e='';do{const n=t[T];if(' '===n||'>'===n||'/'===n)return e;e+=n,T+=1}while(T<n);return e}function C(){const e=t[T++];let r='',o=!1;for(;T<n;){const n=t[T++];if(n===e&&!o)return r;'\\'!==n||o||(o=!0),r+=o?`\\${n}`:n,o=!1}return r}function D(){for(;T<n&&S.test(t[T]);)T+=1}let T=0;for(;T<n;)l||f('Unexpected character'),l=l(),T+=1;if(l!==p&&f('Unexpected end of input'),o){const t=(e?e(o):o)||o,n=t.children.map(x),r=t;return r.children=n,r}return null}},374,[13,375,379]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.fetchText=async function(t){if(!t)return null;return t.startsWith('data:image/svg+xml;utf8'),t.startsWith('data:image/svg+xml;base64')?s(t):n(t)},r(d[0]);var t=r(d[1]);const s=s=>{const n=decodeURIComponent(s).split(';')[1].split(','),o=n[0],u=n.slice(1).join(',');return t.Buffer.from(u,o).toString('utf-8')};async function n(t){const s=await fetch(t);if(s.ok||0===s.status&&t.startsWith('file://'))return await s.text();throw new Error(`Fetching ${t} failed with status ${s.status}`)}},375,[82,376]);
__d(function(g,r,_i,_a,_m,_e,d){
/*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */
'use strict';var t=r(d[0]),e=r(d[1]),n='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;_e.Buffer=f,_e.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},_e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,n){if('number'==typeof t){if('string'==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}return u(t,e,n)}function u(t,e,n){if('string'==typeof t)return p(t,e);if(ArrayBuffer.isView(t))return l(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($(t,ArrayBuffer)||t&&$(t.buffer,ArrayBuffer))return y(t,e,n);if('undefined'!=typeof SharedArrayBuffer&&($(t,SharedArrayBuffer)||t&&$(t.buffer,SharedArrayBuffer)))return y(t,e,n);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return f.from(i,e,n);var o=w(t);if(o)return o;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]('string'),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function s(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t,e,n){return s(t),t<=0?o(t):void 0!==e?'string'==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}function a(t){return s(t),o(t<0?0:0|v(t))}function p(t,e){if('string'==typeof e&&''!==e||(e='utf8'),!f.isEncoding(e))throw new TypeError('Unknown encoding: '+e);var n=0|b(t,e),i=o(n),u=i.write(t,e);return u!==n&&(i=i.slice(0,u)),i}function c(t){for(var e=t.length<0?0:0|v(t.length),n=o(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function l(t){if($(t,Uint8Array)){var e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return c(t)}function y(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,f.prototype),i}function w(t){if(f.isBuffer(t)){var e=0|v(t.length),n=o(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?'number'!=typeof t.length||G(t.length)?o(0):c(t):'Buffer'===t.type&&Array.isArray(t.data)?c(t.data):void 0}function v(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+' bytes');return 0|t}function b(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(e){case'ascii':case'latin1':case'binary':return n;case'utf8':case'utf-8':return V(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n;case'hex':return n>>>1;case'base64':return J(t).length;default:if(o)return i?-1:V(t).length;e=(''+e).toLowerCase(),o=!0}}function m(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),n<=0)return'';if((n>>>=0)<=(e>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return M(this,e,n);case'utf8':case'utf-8':return R(this,e,n);case'ascii':return P(this,e,n);case'latin1':case'binary':return k(this,e,n);case'base64':return O(this,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return _(this,e,n);default:if(i)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),i=!0}}function E(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function B(t,e,n,i,o){if(0===t.length)return-1;if('string'==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if('string'==typeof e&&(e=f.from(e,i)),f.isBuffer(e))return 0===e.length?-1:A(t,e,n,i,o);if('number'==typeof e)return e&=255,'function'==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):A(t,[e],n,i,o);throw new TypeError('val must be string, number or Buffer')}function A(t,e,n,i,o){var f,u=1,s=t.length,h=e.length;if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(t.length<2||e.length<2)return-1;u=2,s/=2,h/=2,n/=2}function a(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(o){var p=-1;for(f=n;f<s;f++)if(a(t,f)===a(e,-1===p?0:f-p)){if(-1===p&&(p=f),f-p+1===h)return p*u}else-1!==p&&(f-=f-p),p=-1}else for(n+h>s&&(n=s-h),f=n;f>=0;f--){for(var c=!0,l=0;l<h;l++)if(a(t,f+l)!==a(e,l)){c=!1;break}if(c)return f}return-1}function U(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var f=e.length;i>f/2&&(i=f/2);for(var u=0;u<i;++u){var s=parseInt(e.substr(2*u,2),16);if(G(s))return u;t[n+u]=s}return u}function T(t,e,n,i){return Z(V(e,t.length-n),t,n,i)}function I(t,e,n,i){return Z(W(e),t,n,i)}function L(t,e,n,i){return Z(J(e),t,n,i)}function S(t,e,n,i){return Z(X(e,t.length-n),t,n,i)}function O(e,n,i){return 0===n&&i===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,i))}function R(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var f,u,s,h,a=t[o],p=null,c=a>239?4:a>223?3:a>191?2:1;if(o+c<=n)switch(c){case 1:a<128&&(p=a);break;case 2:128==(192&(f=t[o+1]))&&(h=(31&a)<<6|63&f)>127&&(p=h);break;case 3:f=t[o+1],u=t[o+2],128==(192&f)&&128==(192&u)&&(h=(15&a)<<12|(63&f)<<6|63&u)>2047&&(h<55296||h>57343)&&(p=h);break;case 4:f=t[o+1],u=t[o+2],s=t[o+3],128==(192&f)&&128==(192&u)&&128==(192&s)&&(h=(15&a)<<18|(63&f)<<12|(63&u)<<6|63&s)>65535&&h<1114112&&(p=h)}null===p?(p=65533,c=1):p>65535&&(p-=65536,i.push(p>>>10&1023|55296),p=56320|1023&p),i.push(p),o+=c}return C(i)}_e.kMaxLength=i,f.TYPED_ARRAY_SUPPORT=(function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}})(),f.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,'parent',{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,'offset',{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,n){return h(t,e,n)},f.allocUnsafe=function(t){return a(t)},f.allocUnsafeSlow=function(t){return a(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if($(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),$(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,o=0,u=Math.min(n,i);o<u;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=f.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var u=t[n];if($(u,Uint8Array))o+u.length>i.length?f.from(u).copy(i,o):Uint8Array.prototype.set.call(i,u,o);else{if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o)}o+=u.length}return i},f.byteLength=b,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var e=0;e<t;e+=2)E(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var e=0;e<t;e+=4)E(this,e,e+3),E(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var e=0;e<t;e+=8)E(this,e,e+7),E(this,e+1,e+6),E(this,e+2,e+5),E(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?'':0===arguments.length?R(this,0,t):m.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t='',e=_e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,e).replace(/(.{2})/g,'$1 ').trim(),this.length>e&&(t+=' ... '),'<Buffer '+t+'>'},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(t,e,n,i,o){if($(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError('out of range index');if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var u=(o>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),h=Math.min(u,s),a=this.slice(i,o),p=t.slice(e,n),c=0;c<h;++c)if(a[c]!==p[c]){u=a[c],s=p[c];break}return u<s?-1:s<u?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return B(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return B(this,t,e,n,!1)},f.prototype.write=function(t,e,n,i){if(void 0===e)i='utf8',n=this.length,e=0;else if(void 0===n&&'string'==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');for(var f=!1;;)switch(i){case'hex':return U(this,t,e,n);case'utf8':case'utf-8':return T(this,t,e,n);case'ascii':case'latin1':case'binary':return I(this,t,e,n);case'base64':return L(this,t,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return S(this,t,e,n);default:if(f)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function C(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);for(var n='',i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=x));return n}function P(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function k(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function M(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o='',f=e;f<n;++f)o+=H[t[f]];return o}function _(t,e,n){for(var i=t.slice(e,n),o='',f=0;f<i.length-1;f+=2)o+=String.fromCharCode(i[f]+256*i[f+1]);return o}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+e>n)throw new RangeError('Trying to access beyond buffer length')}function z(t,e,n,i,o,u){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<u)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError('Index out of range')}function D(t,e,n,i,o,f){if(n+i>t.length)throw new RangeError('Index out of range');if(n<0)throw new RangeError('Index out of range')}function F(t,n,i,o,f){return n=+n,i>>>=0,f||D(t,0,i,4),e.write(t,n,i,o,23,4),i+4}function N(t,n,i,o,f){return n=+n,i>>>=0,f||D(t,0,i,8),e.write(t,n,i,o,52,8),i+8}f.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,f.prototype),i},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},f.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);for(var i=e,o=1,f=this[t+--i];i>0&&(o*=256);)f+=this[t+--i]*o;return f>=(o*=128)&&(f-=Math.pow(2,8*e)),f},f.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,n){return t>>>=0,n||j(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,n){return t>>>=0,n||j(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,n){return t>>>=0,n||j(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,n){return t>>>=0,n||j(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||z(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,f=0;for(this[e]=255&t;++f<n&&(o*=256);)this[e+f]=t/o&255;return e+n},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||z(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,f=1;for(this[e+o]=255&t;--o>=0&&(f*=256);)this[e+o]=t/f&255;return e+n},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var f=0,u=1,s=0;for(this[e]=255&t;++f<n&&(u*=256);)t<0&&0===s&&0!==this[e+f-1]&&(s=1),this[e+f]=(t/u|0)-s&255;return e+n},f.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var f=n-1,u=1,s=0;for(this[e+f]=255&t;--f>=0&&(u*=256);)t<0&&0===s&&0!==this[e+f+1]&&(s=1),this[e+f]=(t/u|0)-s&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,i){if(!f.isBuffer(t))throw new TypeError('argument should be a Buffer');if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError('targetStart out of bounds');if(n<0||n>=this.length)throw new RangeError('Index out of range');if(i<0)throw new RangeError('sourceEnd out of bounds');i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o},f.prototype.fill=function(t,e,n,i){if('string'==typeof t){if('string'==typeof e?(i=e,e=0,n=this.length):'string'==typeof n&&(i=n,n=this.length),void 0!==i&&'string'!=typeof i)throw new TypeError('encoding must be a string');if('string'==typeof i&&!f.isEncoding(i))throw new TypeError('Unknown encoding: '+i);if(1===t.length){var o=t.charCodeAt(0);('utf8'===i&&o<128||'latin1'===i)&&(t=o)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError('Out of range index');if(n<=e)return this;var u;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),'number'==typeof t)for(u=e;u<n;++u)this[u]=t;else{var s=f.isBuffer(t)?t:f.from(t,i),h=s.length;if(0===h)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<n-e;++u)this[u+e]=s[u%h]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function q(t){if((t=(t=t.split('=')[0]).trim().replace(Y,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function V(t,e){var n;e=e||1/0;for(var i=t.length,o=null,f=[],u=0;u<i;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(u+1===i){(e-=3)>-1&&f.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&f.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&f.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;f.push(n)}else if(n<2048){if((e-=2)<0)break;f.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;f.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error('Invalid code point');if((e-=4)<0)break;f.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return f}function W(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,i,o,f=[],u=0;u<t.length&&!((e-=2)<0);++u)i=(n=t.charCodeAt(u))>>8,o=n%256,f.push(o),f.push(i);return f}function J(e){return t.toByteArray(q(e))}function Z(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function $(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}var H=(function(){for(var t='0123456789abcdef',e=new Array(256),n=0;n<16;++n)for(var i=16*n,o=0;o<16;++o)e[i+o]=t[n]+t[o];return e})()},376,[377,378]);
__d(function(g,r,_i,a,m,e,d){'use strict';e.byteLength=function(t){var n=h(t),o=n[0],u=n[1];return 3*(o+u)/4-u},e.toByteArray=function(t){var u,c,f=h(t),A=f[0],C=f[1],y=new o(i(t,A,C)),s=0,v=C>0?A-4:A;for(c=0;c<v;c+=4)u=n[t.charCodeAt(c)]<<18|n[t.charCodeAt(c+1)]<<12|n[t.charCodeAt(c+2)]<<6|n[t.charCodeAt(c+3)],y[s++]=u>>16&255,y[s++]=u>>8&255,y[s++]=255&u;2===C&&(u=n[t.charCodeAt(c)]<<2|n[t.charCodeAt(c+1)]>>4,y[s++]=255&u);1===C&&(u=n[t.charCodeAt(c)]<<10|n[t.charCodeAt(c+1)]<<4|n[t.charCodeAt(c+2)]>>2,y[s++]=u>>8&255,y[s++]=255&u);return y},e.fromByteArray=function(n){for(var o,u=n.length,c=u%3,h=[],i=16383,f=0,C=u-c;f<C;f+=i)h.push(A(n,f,f+i>C?C:f+i));1===c?(o=n[u-1],h.push(t[o>>2]+t[o<<4&63]+'==')):2===c&&(o=(n[u-2]<<8)+n[u-1],h.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return h.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,u='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',c=0;c<64;++c)t[c]=u[c],n[u.charCodeAt(c)]=c;function h(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function i(t,n,o){return 3*(n+o)/4-o}function f(n){return t[n>>18&63]+t[n>>12&63]+t[n>>6&63]+t[63&n]}function A(t,n,o){for(var u,c=[],h=n;h<o;h+=3)u=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(255&t[h+2]),c.push(f(u));return c.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},377,[]);
__d(function(g,r,_i,a,_m,_e,_d){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
_e.read=function(o,t,h,M,f){var w,p,i=8*f-M-1,n=(1<<i)-1,N=n>>1,e=-7,u=h?f-1:0,s=h?-1:1,c=o[t+u];for(u+=s,w=c&(1<<-e)-1,c>>=-e,e+=i;e>0;w=256*w+o[t+u],u+=s,e-=8);for(p=w&(1<<-e)-1,w>>=-e,e+=M;e>0;p=256*p+o[t+u],u+=s,e-=8);if(0===w)w=1-N;else{if(w===n)return p?NaN:1/0*(c?-1:1);p+=Math.pow(2,M),w-=N}return(c?-1:1)*p*Math.pow(2,w-M)},_e.write=function(o,t,h,M,f,w){var p,i,n,N=8*w-f-1,e=(1<<N)-1,u=e>>1,s=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,c=M?0:w-1,l=M?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,p=e):(p=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-p))<1&&(p--,n*=2),(t+=p+u>=1?s/n:s*Math.pow(2,1-u))*n>=2&&(p++,n/=2),p+u>=e?(i=0,p=e):p+u>=1?(i=(t*n-1)*Math.pow(2,f),p+=u):(i=t*Math.pow(2,u-1)*Math.pow(2,f),p=0));f>=8;o[h+c]=255&i,c+=l,i/=256,f-=8);for(p=p<<f|i,N+=f;N>0;o[h+c]=255&p,c+=l,p/=256,N-=8);o[h+c-l]|=128*d}},378,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"tags",{enumerable:!0,get:function(){return o}});var t=r(d[0]);const o={circle:t.Circle,clipPath:t.ClipPath,defs:t.Defs,ellipse:t.Ellipse,filter:t.Filter,feBlend:t.FeBlend,feColorMatrix:t.FeColorMatrix,feComponentTransfer:t.FeComponentTransfer,feComposite:t.FeComposite,feConvolveMatrix:t.FeConvolveMatrix,feDiffuseLighting:t.FeDiffuseLighting,feDisplacementMap:t.FeDisplacementMap,feDistantLight:t.FeDistantLight,feDropShadow:t.FeDropShadow,feFlood:t.FeFlood,feGaussianBlur:t.FeGaussianBlur,feImage:t.FeImage,feMerge:t.FeMerge,feMergeNode:t.FeMergeNode,feMorphology:t.FeMorphology,feOffset:t.FeOffset,fePointLight:t.FePointLight,feSpecularLighting:t.FeSpecularLighting,feSpotLight:t.FeSpotLight,feTile:t.FeTile,feTurbulence:t.FeTurbulence,foreignObject:t.ForeignObject,g:t.G,image:t.Image,line:t.Line,linearGradient:t.LinearGradient,marker:t.Marker,mask:t.Mask,path:t.Path,pattern:t.Pattern,polygon:t.Polygon,polyline:t.Polyline,radialGradient:t.RadialGradient,rect:t.Rect,stop:t.Stop,svg:t.Svg,symbol:t.Symbol,text:t.Text,textPath:t.TextPath,tspan:t.TSpan,use:t.Use}},379,[380]);
__d(function(g,r,i,a,m,_e,d){"use strict";const e=["x","y"];Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return ie}}),Object.defineProperty(_e,"Circle",{enumerable:!0,get:function(){return o}}),Object.defineProperty(_e,"ClipPath",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"Defs",{enumerable:!0,get:function(){return b}}),Object.defineProperty(_e,"Ellipse",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,"FeBlend",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,"FeColorMatrix",{enumerable:!0,get:function(){return h}}),Object.defineProperty(_e,"FeComponentTransfer",{enumerable:!0,get:function(){return S}}),Object.defineProperty(_e,"FeComposite",{enumerable:!0,get:function(){return x}}),Object.defineProperty(_e,"FeConvolveMatrix",{enumerable:!0,get:function(){return P}}),Object.defineProperty(_e,"FeDiffuseLighting",{enumerable:!0,get:function(){return y}}),Object.defineProperty(_e,"FeDisplacementMap",{enumerable:!0,get:function(){return O}}),Object.defineProperty(_e,"FeDistantLight",{enumerable:!0,get:function(){return j}}),Object.defineProperty(_e,"FeDropShadow",{enumerable:!0,get:function(){return W}}),Object.defineProperty(_e,"FeFlood",{enumerable:!0,get:function(){return F}}),Object.defineProperty(_e,"FeFuncA",{enumerable:!0,get:function(){return w}}),Object.defineProperty(_e,"FeFuncB",{enumerable:!0,get:function(){return M}}),Object.defineProperty(_e,"FeFuncG",{enumerable:!0,get:function(){return v}}),Object.defineProperty(_e,"FeFuncR",{enumerable:!0,get:function(){return L}}),Object.defineProperty(_e,"FeGaussianBlur",{enumerable:!0,get:function(){return C}}),Object.defineProperty(_e,"FeImage",{enumerable:!0,get:function(){return D}}),Object.defineProperty(_e,"FeMerge",{enumerable:!0,get:function(){return T}}),Object.defineProperty(_e,"FeMergeNode",{enumerable:!0,get:function(){return G}}),Object.defineProperty(_e,"FeMorphology",{enumerable:!0,get:function(){return B}}),Object.defineProperty(_e,"FeOffset",{enumerable:!0,get:function(){return R}}),Object.defineProperty(_e,"FePointLight",{enumerable:!0,get:function(){return N}}),Object.defineProperty(_e,"FeSpecularLighting",{enumerable:!0,get:function(){return _}}),Object.defineProperty(_e,"FeSpotLight",{enumerable:!0,get:function(){return A}}),Object.defineProperty(_e,"FeTile",{enumerable:!0,get:function(){return I}}),Object.defineProperty(_e,"FeTurbulence",{enumerable:!0,get:function(){return $}}),Object.defineProperty(_e,"Filter",{enumerable:!0,get:function(){return k}}),Object.defineProperty(_e,"ForeignObject",{enumerable:!0,get:function(){return E}}),Object.defineProperty(_e,"G",{enumerable:!0,get:function(){return U}}),Object.defineProperty(_e,"Image",{enumerable:!0,get:function(){return z}}),Object.defineProperty(_e,"Line",{enumerable:!0,get:function(){return X}}),Object.defineProperty(_e,"LinearGradient",{enumerable:!0,get:function(){return q}}),Object.defineProperty(_e,"Marker",{enumerable:!0,get:function(){return H}}),Object.defineProperty(_e,"Mask",{enumerable:!0,get:function(){return J}}),Object.defineProperty(_e,"Path",{enumerable:!0,get:function(){return K}}),Object.defineProperty(_e,"Pattern",{enumerable:!0,get:function(){return Q}}),Object.defineProperty(_e,"Polygon",{enumerable:!0,get:function(){return V}}),Object.defineProperty(_e,"Polyline",{enumerable:!0,get:function(){return Y}}),Object.defineProperty(_e,"RadialGradient",{enumerable:!0,get:function(){return Z}}),Object.defineProperty(_e,"Rect",{enumerable:!0,get:function(){return ee}}),Object.defineProperty(_e,"Stop",{enumerable:!0,get:function(){return te}}),Object.defineProperty(_e,"Svg",{enumerable:!0,get:function(){return ne}}),Object.defineProperty(_e,"Symbol",{enumerable:!0,get:function(){return re}}),Object.defineProperty(_e,"TSpan",{enumerable:!0,get:function(){return ae}}),Object.defineProperty(_e,"Text",{enumerable:!0,get:function(){return se}}),Object.defineProperty(_e,"TextPath",{enumerable:!0,get:function(){return ue}}),Object.defineProperty(_e,"Use",{enumerable:!0,get:function(){return ce}});var t,n=r(d[0]),s=(t=n)&&t.__esModule?t:{default:t},u=r(d[1]),c=r(d[2]);class o extends c.WebShape{tag='circle'}class l extends c.WebShape{tag='clipPath'}class b extends c.WebShape{tag='defs'}class f extends c.WebShape{tag='ellipse'}class p extends c.WebShape{tag='feBlend'}class h extends c.WebShape{tag='feColorMatrix'}class S extends c.WebShape{tag='feComponentTransfer'}class x extends c.WebShape{tag='feComposite'}class P extends c.WebShape{tag='feConvolveMatrix'}class y extends c.WebShape{tag='feDiffuseLighting'}class O extends c.WebShape{tag='feDisplacementMap'}class j extends c.WebShape{tag='feDistantLight'}class W extends c.WebShape{tag='feDropShadow'}class F extends c.WebShape{tag='feFlood'}class w extends c.WebShape{tag='feFuncA'}class M extends c.WebShape{tag='feFuncB'}class v extends c.WebShape{tag='feFuncG'}class L extends c.WebShape{tag='feFuncR'}class C extends c.WebShape{tag='feGaussianBlur'}class D extends c.WebShape{tag='feImage'}class T extends c.WebShape{tag='feMerge'}class G extends c.WebShape{tag='feMergeNode'}class B extends c.WebShape{tag='feMorphology'}class R extends c.WebShape{tag='feOffset'}class N extends c.WebShape{tag='fePointLight'}class _ extends c.WebShape{tag='feSpecularLighting'}class A extends c.WebShape{tag='feSpotLight'}class I extends c.WebShape{tag='feTile'}class $ extends c.WebShape{tag='feTurbulence'}class k extends c.WebShape{tag='filter'}class E extends c.WebShape{tag='foreignObject'}class U extends c.WebShape{tag='g';prepareProps(t){const{x:n,y:u}=t,c=(0,s.default)(t,e);return!n&&!u||c.translate||(c.translate=`${n||0}, ${u||0}`),c}}class z extends c.WebShape{tag='image'}class X extends c.WebShape{tag='line'}class q extends c.WebShape{tag='linearGradient'}class H extends c.WebShape{tag='marker'}class J extends c.WebShape{tag='mask'}class K extends c.WebShape{tag='path'}class Q extends c.WebShape{tag='pattern'}class V extends c.WebShape{tag='polygon'}class Y extends c.WebShape{tag='polyline'}class Z extends c.WebShape{tag='radialGradient'}class ee extends c.WebShape{tag='rect'}class te extends c.WebShape{tag='stop'}class ne extends c.WebShape{tag='svg';toDataURL(e,t={}){const n=this.elementRef.current;if(null===n)return;const s=(0,u.getBoundingClientRect)(n),c=Number(t.width)||s.width,o=Number(t.height)||s.height,l=document.createElementNS('http://www.w3.org/2000/svg','svg');l.setAttribute('viewBox',`0 0 ${s.width} ${s.height}`),l.setAttribute('width',String(c)),l.setAttribute('height',String(o)),l.appendChild(n.cloneNode(!0));const b=new window.Image;b.onload=()=>{const t=document.createElement('canvas');t.width=c,t.height=o;const n=t.getContext('2d');null==n||n.drawImage(b,0,0),e(t.toDataURL().replace('data:image/png;base64,',''))},b.src=`data:image/svg+xml;utf8,${(0,u.encodeSvg)((new window.XMLSerializer).serializeToString(l))}`}}class re extends c.WebShape{tag='symbol'}class ae extends c.WebShape{tag='tspan'}class se extends c.WebShape{tag='text'}class ue extends c.WebShape{tag='textPath'}class ce extends c.WebShape{tag='use'}var ie=ne},380,[119,381,386]);
__d(function(g,r,i,a,_m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"hasTouchableProperty",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"camelCaseToDashed",{enumerable:!0,get:function(){return s}}),e.parseTransformProp=function(n,s){const o=[];if(s&&o.push(...l(s)),Array.isArray(n))if('number'==typeof n[0])o.push(`matrix(${n.join(' ')})`);else{const s=(0,t.transformsArrayToProps)(n);o.push(...l(s))}else'string'==typeof n&&o.push(n);return o.length?o.join(' '):void 0},Object.defineProperty(e,"getBoundingClientRect",{enumerable:!0,get:function(){return o}}),e.remeasure=function(){const t=this.state.touchable.responderID;if(null===t)return;u(t,this._handleQueryLayout)},e.encodeSvg=function(t){return t.replace('<svg',~t.indexOf('xmlns')?'<svg':'<svg xmlns="http://www.w3.org/2000/svg"').replace(/"/g,"'").replace(/%/g,'%25').replace(/#/g,'%23').replace(/{/g,'%7B').replace(/}/g,'%7D').replace(/</g,'%3C').replace(/>/g,'%3E').replace(/\s+/g,' ')};var t=r(d[0]);const n=t=>t.onPress||t.onPressIn||t.onPressOut||t.onLongPress,s=t=>t.replace(/[A-Z]/g,t=>'-'+t.toLowerCase());function l(t){const n=[];return null!=t.translate&&n.push(`translate(${t.translate})`),null==t.translateX&&null==t.translateY||n.push(`translate(${t.translateX||0}, ${t.translateY||0})`),null!=t.scale&&n.push(`scale(${t.scale})`),null==t.scaleX&&null==t.scaleY||n.push(`scale(${t.scaleX||1}, ${t.scaleY||1})`),null!=t.rotation&&n.push(`rotate(${t.rotation})`),null!=t.skewX&&n.push(`skewX(${t.skewX})`),null!=t.skewY&&n.push(`skewY(${t.skewY})`),n}const o=t=>{if(t){if(1===t.nodeType&&'function'==typeof t.getBoundingClientRect)return t.getBoundingClientRect()}throw new Error('Can not get boundingClientRect of '+t||'undefined')},u=(t,n)=>{const s=null==t?void 0:t.parentNode;s&&setTimeout(()=>{const l=o(s),{height:u,left:c,top:p,width:f}=o(t),h=c-l.left,w=p-l.top;n(h,w,f,u,c,p)},0)}},381,[382]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}}),_e.transformsArrayToProps=l,_e.props2transform=u,_e.transformToMatrix=c,_e.extractTransformSvgView=function(n){if('string'==typeof n.transform)return(0,t.parse)(n.transform);return n.transform};var n=r(d[0]),e=r(d[1]),t=r(d[2]);function s(e){const{x:t,y:s,originX:o,originY:l,scaleX:u,scaleY:c,rotation:f,skewX:y,skewY:p}=e;(0,n.appendTransform)(t+o,s+l,u,c,f,y,p,o,l)}function o(n,e,t,s){let o,l;if('number'==typeof n)o=l=n;else if('string'==typeof n){const e=n.split(/\s*,\s*/);2===e.length?(o=+e[0],l=+e[1]):1===e.length&&(o=l=+e[0])}else Array.isArray(n)&&(2===n.length?(o=+n[0],l=+n[1]):1===n.length&&(o=l=+n[0]));return e=+e,isNaN(e)||(o=e),t=+t,isNaN(t)||(l=t),[o||s||0,l||s||0]}function l(n){const e={};return null==n||n.forEach(n=>{const t=Object.keys(n);1!==t.length&&console.error('You must specify exactly one property per transform object.');const s=t[0],o=n[s];e[s]=o}),e}function u(n){if(!n)return null;const{rotation:e,translate:t,translateX:s,translateY:l,origin:u,originX:c,originY:f,scale:y,scaleX:p,scaleY:A,skew:h,skewX:Y,skewY:w,x:X,y:b}=n;if(null==e&&null==t&&null==s&&null==l&&null==u&&null==c&&null==f&&null==y&&null==p&&null==A&&null==h&&null==Y&&null==w&&null==X&&null==b)return null;(Array.isArray(X)||Array.isArray(b))&&console.warn('Passing SvgLengthList to x or y attribute where SvgLength expected');const k=o(t,s||(Array.isArray(X)?X[0]:X),l||(Array.isArray(b)?b[0]:b)),x=o(u,c,f),v=o(y,p,A,1),j=o(h,Y,w);return{rotation:null==e?0:+e||0,originX:x[0],originY:x[1],scaleX:v[0],scaleY:v[1],skewX:j[0],skewY:j[1],x:k[0],y:k[1]}}function c(t,o){if(!t&&!o)return null;if((0,n.reset)(),t&&s(t),o)if(Array.isArray(o))if('number'==typeof o[0]){const e=o;(0,n.append)(e[0],e[1],e[2],e[3],e[4],e[5])}else{const n=u(l(o));n&&s(n)}else if('string'==typeof o)try{const t=(0,e.parse)(o);(0,n.append)(t[0],t[3],t[1],t[4],t[2],t[5])}catch(n){console.error(n)}else{const n=u(o);n&&s(n)}return(0,n.toArray)()}function f(t){if(Array.isArray(t)&&'number'==typeof t[0])return t;if('string'==typeof t)try{const n=(0,e.parse)(t);return[n[0],n[3],n[1],n[4],n[2],n[5]]}catch(e){return console.error(e),n.identity}const s=t;return c(u(s),null==s?void 0:s.transform)}},382,[383,384,385]);
__d(function(g,_r,i,_a,m,e,_d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return n}}),e.reset=function(){if(a)return;r=c=1,o=u=f=s=0,a=!0},e.toArray=function(){if(a)return n;return[r,o,u,c,f,s]},e.append=d,e.appendTransform=function(n,l,p,M,h,y,_,b,P){if(0===n&&0===l&&1===p&&1===M&&0===h&&0===y&&0===_&&0===b&&0===P)return;let j,v;if(h%360){const n=h*t;j=Math.cos(n),v=Math.sin(n)}else j=1,v=0;const O=j*p,A=v*p,I=-v*M,T=j*M;if(y||_){const r=Math.tan(_*t),o=Math.tan(y*t);d(O+o*A,r*O+A,I+o*T,r*I+T,n,l)}else d(O,A,I,T,n,l);(b||P)&&(f-=b*r+P*u,s-=b*o+P*c,a=!1)};const t=Math.PI/180,n=[1,0,0,1,0,0];let r=1,o=0,u=0,c=1,f=0,s=0,a=!0;function d(t,n,d,l,p,M){const h=1!==t||0!==n||0!==d||1!==l,y=0!==p||0!==M;if(!h&&!y)return;if(a)return a=!1,r=t,o=n,u=d,c=l,f=p,void(s=M);const _=r,b=o,P=u,j=c;h&&(r=_*t+P*n,o=b*t+j*n,u=_*d+P*l,c=b*d+j*l),y&&(f=_*p+P*M+f,s=b*p+j*M+s)}},383,[]);
__d(function(g,_r,_i,_a,m,_e,_d){"use strict";function e(r,n,t,u){this.message=r,this.expected=n,this.found=t,this.location=u,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}!(function(e,r){function n(){this.constructor=e}n.prototype=r.prototype,e.prototype=new n})(e,Error),e.buildMessage=function(e,r){var n={literal:function(e){return"\""+u(e.text)+"\""},class:function(e){var r,n="";for(r=0;r<e.parts.length;r++)n+=e.parts[r]instanceof Array?o(e.parts[r][0])+"-"+o(e.parts[r][1]):o(e.parts[r]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}function u(e){return e.replace(/\\/g,'\\\\').replace(/"/g,'\\"').replace(/\0/g,'\\0').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/[\x00-\x0F]/g,function(e){return'\\x0'+t(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return'\\x'+t(e)})}function o(e){return e.replace(/\\/g,'\\\\').replace(/\]/g,'\\]').replace(/\^/g,'\\^').replace(/-/g,'\\-').replace(/\0/g,'\\0').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/[\x00-\x0F]/g,function(e){return'\\x0'+t(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return'\\x'+t(e)})}function i(e){return n[e.type](e)}return"Expected "+(function(e){var r,n,t=new Array(e.length);for(r=0;r<e.length;r++)t[r]=i(e[r]);if(t.sort(),t.length>0){for(r=1,n=1;r<t.length;r++)t[r-1]!==t[r]&&(t[n]=t[r],n++);t.length=n}switch(t.length){case 1:return t[0];case 2:return t[0]+" or "+t[1];default:return t.slice(0,-1).join(", ")+", or "+t[t.length-1]}})(e)+" but "+(function(e){return e?"\""+u(e)+"\"":"end of input"})(r)+" found."},m.exports={SyntaxError:e,parse:function(r,n){n=void 0!==n?n:{};var t,u={},o={transformList:ae},i=ae,f=function(e){return e},s=function(e,r){return t=r,u=(n=e)[0],o=n[1],i=n[2],f=n[3],s=n[4],l=n[5],c=t[0],a=t[1],h=t[2],p=t[3],d=t[4],v=t[5],[u*c+o*p,u*a+o*d,u*h+o*v+i,f*c+s*p,f*a+s*d,f*h+s*v+l];var n,t,u,o,i,f,s,l,c,a,h,p,d,v},l="matrix",c=ie("matrix",!1),a="(",h=ie("(",!1),p=")",d=ie(")",!1),v=function(e,r,n,t,u,o){return[e,n,u,r,t,o]},A="translate",x=ie("translate",!1),C=function(e,r){return[1,0,e,0,1,r||0]},y="scale",j=ie("scale",!1),w=function(e,r){return[e,0,0,0,null===r?e:r,0]},b="rotate",E=ie("rotate",!1),F=function(e,r){var n=Math.cos(Pe*e),t=Math.sin(Pe*e);if(null!==r){var u=r[0],o=r[1];return[n,-t,n*-u+-t*-o+u,t,n,t*-u+n*-o+o]}return[n,-t,0,t,n,0]},M="skewX",k=ie("skewX",!1),S=function(e){return[1,Math.tan(Pe*e),0,0,1,0]},R="skewY",I=ie("skewY",!1),T=function(e){return[1,0,0,Math.tan(Pe*e),1,0]},X=function(e){return parseFloat(e.join(""))},Y=function(e){return parseInt(e.join(""))},_=function(e){return e},L=function(e,r){return[e,r]},P=",",U=ie(",",!1),q=function(e){return e.join("")},z=function(e){return e.join("")},B=function(e){return e.join("")},D={type:"other",description:"fractionalConstant"},G=".",H=ie(".",!1),J=function(e,r){return[e?e.join(""):null,".",r.join("")].join("")},K=/^[eE]/,N=fe(["e","E"],!1,!1),O=function(e){return[e[0],e[1],e[2].join("")].join("")},Q=/^[+\-]/,V=fe(["+","-"],!1,!1),W=/^[0-9]/,Z=fe([["0","9"]],!1,!1),$=/^[ \t\r\n]/,ee=fe([" ","\t","\r","\n"],!1,!1),re=0,ne=[{line:1,column:1}],te=0,ue=[],oe=0;if("startRule"in n){if(!(n.startRule in o))throw new Error("Can't start parsing from rule \""+n.startRule+"\".");i=o[n.startRule]}function ie(e,r){return{type:"literal",text:e,ignoreCase:r}}function fe(e,r,n){return{type:"class",parts:e,inverted:r,ignoreCase:n}}function se(e){var n,t=ne[e];if(t)return t;for(n=e-1;!ne[n];)n--;for(t={line:(t=ne[n]).line,column:t.column};n<e;)10===r.charCodeAt(n)?(t.line++,t.column=1):t.column++,n++;return ne[e]=t,t}function le(e,r){var n=se(e),t=se(r);return{start:{offset:e,line:n.line,column:n.column},end:{offset:r,line:t.line,column:t.column}}}function ce(e){re<te||(re>te&&(te=re,ue=[]),ue.push(e))}function ae(){var e,r,n,t,o;for(e=re,r=[],n=Te();n!==u;)r.push(n),n=Te();if(r!==u)if((n=he())===u&&(n=null),n!==u){for(t=[],o=Te();o!==u;)t.push(o),o=Te();t!==u?e=r=f(n):(re=e,e=u)}else re=e,e=u;else re=e,e=u;return e}function he(){var e,r,n,t;if(e=re,(r=pe())!==u){for(n=[],t=we();t!==u;)n.push(t),t=we();n!==u&&(t=he())!==u?e=r=s(r,t):(re=e,e=u)}else re=e,e=u;return e===u&&(e=pe()),e}function pe(){var e;return(e=ge())===u&&(e=de())===u&&(e=ve())===u&&(e=Ae())===u&&(e=xe())===u&&(e=Ce()),e}function ge(){var e,n,t,o,i,f,s,A,x,C,y,j,w;if(e=re,r.substr(re,6)===l?(n=l,re+=6):(n=u,0===oe&&ce(c)),n!==u){for(t=[],o=Te();o!==u;)t.push(o),o=Te();if(t!==u)if(40===r.charCodeAt(re)?(o=a,re++):(o=u,0===oe&&ce(h)),o!==u){for(i=[],f=Te();f!==u;)i.push(f),f=Te();if(i!==u)if((f=me())!==u)if(we()!==u)if((s=me())!==u)if(we()!==u)if((A=me())!==u)if(we()!==u)if((x=me())!==u)if(we()!==u)if((C=me())!==u)if(we()!==u)if((y=me())!==u){for(j=[],w=Te();w!==u;)j.push(w),w=Te();j!==u?(41===r.charCodeAt(re)?(w=p,re++):(w=u,0===oe&&ce(d)),w!==u?e=n=v(f,s,A,x,C,y):(re=e,e=u)):(re=e,e=u)}else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u;else re=e,e=u}else re=e,e=u;else re=e,e=u}else re=e,e=u;return e}function de(){var e,n,t,o,i,f,s,l,c;if(e=re,r.substr(re,9)===A?(n=A,re+=9):(n=u,0===oe&&ce(x)),n!==u){for(t=[],o=Te();o!==u;)t.push(o),o=Te();if(t!==u)if(40===r.charCodeAt(re)?(o=a,re++):(o=u,0===oe&&ce(h)),o!==u){for(i=[],f=Te();f!==u;)i.push(f),f=Te();if(i!==u)if((f=me())!==u)if((s=ye())===u&&(s=null),s!==u){for(l=[],c=Te();c!==u;)l.push(c),c=Te();l!==u?(41===r.charCodeAt(re)?(c=p,re++):(c=u,0===oe&&ce(d)),c!==u?e=n=C(f,s):(re=e,e=u)):(re=e,e=u)}else re=e,e=u;else re=e,e=u;else re=e,e=u}else re=e,e=u;else re=e,e=u}else re=e,e=u;return e}function ve(){var e,n,t,o,i,f,s,l,c;if(e=re,r.substr(re,5)===y?(n=y,re+=5):(n=u,0===oe&&ce(j)),n!==u){for(t=[],o=Te();o!==u;)t.push(o),o=Te();if(t!==u)if(40===r.charCodeAt(re)?(o=a,re++):(o=u,0===oe&&ce(h)),o!==u){for(i=[],f=Te();f!==u;)i.push(f),f=Te();if(i!==u)if((f=me())!==u)if((s=ye())===u&&(s=null),s!==u){for(l=[],c=Te();c!==u;)l.push(c),c=Te();l!==u?(41===r.charCodeAt(re)?(c=p,re++):(c=u,0===oe&&ce(d)),c!==u?e=n=w(f,s):(re=e,e=u)):(re=e,e=u)}else re=e,e=u;else re=e,e=u;else re=e,e=u}else re=e,e=u;else re=e,e=u}else re=e,e=u;return e}function Ae(){var e,n,t,o,i,f,s,l,c;if(e=re,r.substr(re,6)===b?(n=b,re+=6):(n=u,0===oe&&ce(E)),n!==u){for(t=[],o=Te();o!==u;)t.push(o),o=Te();if(t!==u)if(40===r.charCodeAt(re)?(o=a,re++):(o=u,0===oe&&ce(h)),o!==u){for(i=[],f=Te();f!==u;)i.push(f),f=Te();if(i!==u)if((f=me())!==u)if((s=je())===u&&(s=null),s!==u){for(l=[],c=Te();c!==u;)l.push(c),c=Te();l!==u?(41===r.charCodeAt(re)?(c=p,re++):(c=u,0===oe&&ce(d)),c!==u?e=n=F(f,s):(re=e,e=u)):(re=e,e=u)}else re=e,e=u;else re=e,e=u;else re=e,e=u}else re=e,e=u;else re=e,e=u}else re=e,e=u;return e}function xe(){var e,n,t,o,i,f,s,l;if(e=re,r.substr(re,5)===M?(n=M,re+=5):(n=u,0===oe&&ce(k)),n!==u){for(t=[],o=Te();o!==u;)t.push(o),o=Te();if(t!==u)if(40===r.charCodeAt(re)?(o=a,re++):(o=u,0===oe&&ce(h)),o!==u){for(i=[],f=Te();f!==u;)i.push(f),f=Te();if(i!==u)if((f=me())!==u){for(s=[],l=Te();l!==u;)s.push(l),l=Te();s!==u?(41===r.charCodeAt(re)?(l=p,re++):(l=u,0===oe&&ce(d)),l!==u?e=n=S(f):(re=e,e=u)):(re=e,e=u)}else re=e,e=u;else re=e,e=u}else re=e,e=u;else re=e,e=u}else re=e,e=u;return e}function Ce(){var e,n,t,o,i,f,s,l;if(e=re,r.substr(re,5)===R?(n=R,re+=5):(n=u,0===oe&&ce(I)),n!==u){for(t=[],o=Te();o!==u;)t.push(o),o=Te();if(t!==u)if(40===r.charCodeAt(re)?(o=a,re++):(o=u,0===oe&&ce(h)),o!==u){for(i=[],f=Te();f!==u;)i.push(f),f=Te();if(i!==u)if((f=me())!==u){for(s=[],l=Te();l!==u;)s.push(l),l=Te();s!==u?(41===r.charCodeAt(re)?(l=p,re++):(l=u,0===oe&&ce(d)),l!==u?e=n=T(f):(re=e,e=u)):(re=e,e=u)}else re=e,e=u;else re=e,e=u}else re=e,e=u;else re=e,e=u}else re=e,e=u;return e}function me(){var e,r,n,t;return e=re,r=re,(n=Se())===u&&(n=null),n!==u&&(t=Fe())!==u?r=n=[n,t]:(re=r,r=u),r!==u&&(r=X(r)),(e=r)===u&&(e=re,r=re,(n=Se())===u&&(n=null),n!==u&&(t=Ee())!==u?r=n=[n,t]:(re=r,r=u),r!==u&&(r=Y(r)),e=r),e}function ye(){var e,r;return e=re,we()!==u&&(r=me())!==u?e=_(r):(re=e,e=u),e}function je(){var e,r,n;return e=re,we()!==u&&(r=me())!==u&&we()!==u&&(n=me())!==u?e=L(r,n):(re=e,e=u),e}function we(){var e,r,n,t,o;if(e=re,r=[],(n=Te())!==u)for(;n!==u;)r.push(n),n=Te();else r=u;if(r!==u)if((n=be())===u&&(n=null),n!==u){for(t=[],o=Te();o!==u;)t.push(o),o=Te();t!==u?e=r=[r,n,t]:(re=e,e=u)}else re=e,e=u;else re=e,e=u;if(e===u)if(e=re,(r=be())!==u){for(n=[],t=Te();t!==u;)n.push(t),t=Te();n!==u?e=r=[r,n]:(re=e,e=u)}else re=e,e=u;return e}function be(){var e;return 44===r.charCodeAt(re)?(e=P,re++):(e=u,0===oe&&ce(U)),e}function Ee(){var e,r;return e=re,(r=Re())!==u&&(r=q(r)),e=r}function Fe(){var e,r,n,t;return e=re,r=re,(n=Me())!==u?((t=ke())===u&&(t=null),t!==u?r=n=[n,t]:(re=r,r=u)):(re=r,r=u),r!==u&&(r=z(r)),(e=r)===u&&(e=re,r=re,(n=Re())!==u&&(t=ke())!==u?r=n=[n,t]:(re=r,r=u),r!==u&&(r=B(r)),e=r),e}function Me(){var e,n,t,o;return oe++,e=re,(n=Re())===u&&(n=null),n!==u?(46===r.charCodeAt(re)?(t=G,re++):(t=u,0===oe&&ce(H)),t!==u&&(o=Re())!==u?e=n=J(n,o):(re=e,e=u)):(re=e,e=u),e===u&&(e=re,(n=Re())!==u?(46===r.charCodeAt(re)?(t=G,re++):(t=u,0===oe&&ce(H)),t!==u?e=n=B(n):(re=e,e=u)):(re=e,e=u)),oe--,e===u&&(n=u,0===oe&&ce(D)),e}function ke(){var e,n,t,o,i;return e=re,n=re,K.test(r.charAt(re))?(t=r.charAt(re),re++):(t=u,0===oe&&ce(N)),t!==u?((o=Se())===u&&(o=null),o!==u&&(i=Re())!==u?n=t=[t,o,i]:(re=n,n=u)):(re=n,n=u),n!==u&&(n=O(n)),e=n}function Se(){var e;return Q.test(r.charAt(re))?(e=r.charAt(re),re++):(e=u,0===oe&&ce(V)),e}function Re(){var e,r;if(e=[],(r=Ie())!==u)for(;r!==u;)e.push(r),r=Ie();else e=u;return e}function Ie(){var e;return W.test(r.charAt(re))?(e=r.charAt(re),re++):(e=u,0===oe&&ce(Z)),e}function Te(){var e;return $.test(r.charAt(re))?(e=r.charAt(re),re++):(e=u,0===oe&&ce(ee)),e}var Xe,Ye,Le,Pe=Math.PI/180;if((t=i())!==u&&re===r.length)return t;throw t!==u&&re<r.length&&ce({type:"end"}),Xe=ue,Ye=te<r.length?r.charAt(te):null,Le=te<r.length?le(te,te+1):le(te,te),new e(e.buildMessage(Xe,Ye),Xe,Ye,Le)}}},384,[]);
__d(function(_g,r,_i,_a,m,_e,_d){'use strict';function t(e,n,o,u){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,t.prototype),a.expected=n,a.found=o,a.location=u,a.name='SyntaxError',a}function e(t,e,n){return n=n||' ',t.length>e?t:(e-=t.length,t+(n+=n.repeat(e)).slice(0,e))}!(function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n})(t,Error),t.prototype.format=function(t){var n='Error: '+this.message;if(this.location){var o,u=null;for(o=0;o<t.length;o++)if(t[o].source===this.location.source){u=t[o].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,c=this.location.source&&'function'==typeof this.location.source.offset?this.location.source.offset(a):a,s=this.location.source+':'+c.line+':'+c.column;if(u){var i=this.location.end,l=e('',c.line.toString().length,' '),f=u[a.line-1],p=(a.line===i.line?i.column:f.length+1)-a.column||1;n+='\n --\x3e '+s+'\n'+l+' |\n'+c.line+' | '+f+'\n'+l+' | '+e('',a.column-1,' ')+e('',p,'^')}else n+='\n at '+s}return n},t.buildMessage=function(t,e){var n={literal:function(t){return'"'+u(t.text)+'"'},class:function(t){var e=t.parts.map(function(t){return Array.isArray(t)?a(t[0])+'-'+a(t[1]):a(t)});return'['+(t.inverted?'^':'')+e.join('')+']'},any:function(){return'any character'},end:function(){return'end of input'},other:function(t){return t.description}};function o(t){return t.charCodeAt(0).toString(16).toUpperCase()}function u(t){return t.replace(/\\/g,'\\\\').replace(/"/g,'\\"').replace(/\0/g,'\\0').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/[\x00-\x0F]/g,function(t){return'\\x0'+o(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return'\\x'+o(t)})}function a(t){return t.replace(/\\/g,'\\\\').replace(/\]/g,'\\]').replace(/\^/g,'\\^').replace(/-/g,'\\-').replace(/\0/g,'\\0').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/[\x00-\x0F]/g,function(t){return'\\x0'+o(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return'\\x'+o(t)})}function c(t){return n[t.type](t)}return'Expected '+(function(t){var e,n,o=t.map(c);if(o.sort(),o.length>0){for(e=1,n=1;e<o.length;e++)o[e-1]!==o[e]&&(o[n]=o[e],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+' or '+o[1];default:return o.slice(0,-1).join(', ')+', or '+o[o.length-1]}})(t)+' but '+(function(t){return t?'"'+u(t)+'"':'end of input'})(e)+' found.'},m.exports={StartRules:['start'],SyntaxError:t,parse:function(e,n){var o,u,a,c,s={},i=(n=void 0!==n?n:{}).grammarSource,l={start:At},f=At,p='matrix(',h=')',g='translate(',d='scale(',x='rotate(',A='skewX(',v='skewY(',y='.',w='e',F=/^[ \t\n\r,]/,b=/^[ \t\n\r]/,C=/^[+\-]/,$=/^[0-9]/,E=gt('transform functions'),k=gt('transformFunctions'),S=gt('transform function'),P=gt('matrix'),R=pt('matrix(',!1),X=pt(')',!1),Y=gt('translate'),j=pt('translate(',!1),O=gt('scale'),M=pt('scale(',!1),_=gt('rotate'),D=pt('rotate(',!1),I=gt('x, y'),L=gt('skewX'),U=pt('skewX(',!1),q=gt('skewY'),z=pt('skewY(',!1),B=gt('space or comma'),G=ht([' ','\t','\n','\r',','],!1,!1),H=gt('whitespace'),J=ht([' ','\t','\n','\r'],!1,!1),K=ht(['+','-'],!1,!1),N=ht([['0','9']],!1,!1),Q=pt('.',!1),T=pt('e',!1),V=function(t,e){const n=Array.isArray(t)?t:[t];return e.forEach(t=>{Array.isArray(t[1])?n.push(...t[1]):n.push(t[1])}),n},W=function(t,e,n,o,u,a,c,s,i){return{matrix:[t,e,n,o,u,a,c,s,i]}},Z=function(t,e){return null==e?{translate:t}:{translate:[t,e]}},tt=function(t,e){return null==e?{scale:t}:[{scaleX:t},{scaleY:e}]},rt=function(t,e){return null!==e?{rotate:`${t}deg`}:[{rotate:`${t}deg`}]},et=function(t,e){return[t,e]},nt=function(t){return[{skewX:`${t}deg`}]},ot=function(t){return[{skewY:`${t}deg`}]},ut=function(){return parseFloat(e.substring(ct,at))},at=0|n.peg$currPos,ct=at,st=[{line:1,column:1}],it=at,lt=n.peg$maxFailExpected||[],ft=0|n.peg$silentFails;if(n.startRule){if(!(n.startRule in l))throw new Error('Can\'t start parsing from rule "'+n.startRule+'".');f=l[n.startRule]}function pt(t,e){return{type:'literal',text:t,ignoreCase:e}}function ht(t,e,n){return{type:'class',parts:t,inverted:e,ignoreCase:n}}function gt(t){return{type:'other',description:t}}function dt(t){var n,o=st[t];if(o)return o;if(t>=st.length)n=st.length-1;else for(n=t;!st[--n];);for(o={line:(o=st[n]).line,column:o.column};n<t;)10===e.charCodeAt(n)?(o.line++,o.column=1):o.column++,n++;return st[t]=o,o}function xt(t,e,n){var o=dt(t),u=dt(e),a={source:i,start:{offset:t,line:o.line,column:o.column},end:{offset:e,line:u.line,column:u.column}};return n&&i&&'function'==typeof i.offset&&(a.start=i.offset(a.start),a.end=i.offset(a.end)),a}function mt(t){at<it||(at>it&&(it=at,lt=[]),lt.push(t))}function At(){var t;return ft++,t=vt(),ft--,t===s&&(0===ft&&mt(E)),t}function vt(){var t,e,n,o,u,a;if(ft++,t=at,(e=yt())!==s){for(n=[],o=at,u=Pt(),(a=yt())!==s?o=u=[u,a]:(at=o,o=s);o!==s;)n.push(o),o=at,u=Pt(),(a=yt())!==s?o=u=[u,a]:(at=o,o=s);ct=t,t=V(e,n)}else at=t,t=s;return ft--,t===s&&(e=s,0===ft&&mt(k)),t}function yt(){var t;return ft++,(t=wt())===s&&(t=Ft())===s&&(t=bt())===s&&(t=Ct())===s&&(t=Et())===s&&(t=kt()),ft--,t===s&&(0===ft&&mt(S)),t}function wt(){var t,n,o,u,a,c,i,l,f,g,d,x;return ft++,t=at,Pt(),e.substr(at,7)===p?(n=p,at+=7):(n=s,0===ft&&mt(R)),n!==s?(Pt(),(o=Rt())!==s?(St(),(u=Rt())!==s?(St(),(a=Rt())!==s?(St(),(c=Rt())!==s?(St(),(i=Rt())!==s?(St(),(l=Rt())!==s?(St(),(f=Rt())!==s?(St(),(g=Rt())!==s?(St(),(d=Rt())!==s?(Pt(),41===e.charCodeAt(at)?(x=h,at++):(x=s,0===ft&&mt(X)),x!==s?(Pt(),ct=t,t=W(o,u,a,c,i,l,f,g,d)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s),ft--,t===s&&(0===ft&&mt(P)),t}function Ft(){var t,n,o,u,a;return ft++,t=at,Pt(),e.substr(at,10)===g?(n=g,at+=10):(n=s,0===ft&&mt(j)),n!==s?(Pt(),(o=Rt())!==s?(St(),(u=Rt())===s&&(u=null),Pt(),41===e.charCodeAt(at)?(a=h,at++):(a=s,0===ft&&mt(X)),a!==s?(Pt(),ct=t,t=Z(o,u)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s),ft--,t===s&&(0===ft&&mt(Y)),t}function bt(){var t,n,o,u,a;return ft++,t=at,Pt(),e.substr(at,6)===d?(n=d,at+=6):(n=s,0===ft&&mt(M)),n!==s?(Pt(),(o=Rt())!==s?(St(),(u=Rt())===s&&(u=null),Pt(),41===e.charCodeAt(at)?(a=h,at++):(a=s,0===ft&&mt(X)),a!==s?(Pt(),ct=t,t=tt(o,u)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s),ft--,t===s&&(0===ft&&mt(O)),t}function Ct(){var t,n,o,u,a;return ft++,t=at,Pt(),e.substr(at,7)===x?(n=x,at+=7):(n=s,0===ft&&mt(D)),n!==s?(Pt(),(o=Rt())!==s?((u=$t())===s&&(u=null),Pt(),41===e.charCodeAt(at)?(a=h,at++):(a=s,0===ft&&mt(X)),a!==s?(Pt(),ct=t,t=rt(o,u)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s),ft--,t===s&&(0===ft&&mt(_)),t}function $t(){var t,e,n;return ft++,t=at,St(),(e=Rt())!==s?(St(),(n=Rt())!==s?(ct=t,t=et(e,n)):(at=t,t=s)):(at=t,t=s),ft--,t===s&&(0===ft&&mt(I)),t}function Et(){var t,n,o,u;return ft++,t=at,Pt(),e.substr(at,6)===A?(n=A,at+=6):(n=s,0===ft&&mt(U)),n!==s?(Pt(),(o=Rt())!==s?(Pt(),41===e.charCodeAt(at)?(u=h,at++):(u=s,0===ft&&mt(X)),u!==s?(Pt(),ct=t,t=nt(o)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s),ft--,t===s&&(0===ft&&mt(L)),t}function kt(){var t,n,o,u;return ft++,t=at,Pt(),e.substr(at,6)===v?(n=v,at+=6):(n=s,0===ft&&mt(z)),n!==s?(Pt(),(o=Rt())!==s?(Pt(),41===e.charCodeAt(at)?(u=h,at++):(u=s,0===ft&&mt(X)),u!==s?(Pt(),ct=t,t=ot(o)):(at=t,t=s)):(at=t,t=s)):(at=t,t=s),ft--,t===s&&(0===ft&&mt(q)),t}function St(){var t,n;for(ft++,t=[],n=e.charAt(at),F.test(n)?at++:(n=s,0===ft&&mt(G));n!==s;)t.push(n),n=e.charAt(at),F.test(n)?at++:(n=s,0===ft&&mt(G));return ft--,n=s,0===ft&&mt(B),t}function Pt(){var t,n;for(ft++,t=[],n=e.charAt(at),b.test(n)?at++:(n=s,0===ft&&mt(J));n!==s;)t.push(n),n=e.charAt(at),b.test(n)?at++:(n=s,0===ft&&mt(J));return ft--,n=s,0===ft&&mt(H),t}function Rt(){var t,n,o,u,a,c,i,l;for(t=at,n=e.charAt(at),C.test(n)?at++:(n=s,0===ft&&mt(K)),n===s&&(n=null),o=at,u=[],a=e.charAt(at),$.test(a)?at++:(a=s,0===ft&&mt(N));a!==s;)u.push(a),a=e.charAt(at),$.test(a)?at++:(a=s,0===ft&&mt(N));if(46===e.charCodeAt(at)?(a=y,at++):(a=s,0===ft&&mt(Q)),a!==s){if(c=[],i=e.charAt(at),$.test(i)?at++:(i=s,0===ft&&mt(N)),i!==s)for(;i!==s;)c.push(i),i=e.charAt(at),$.test(i)?at++:(i=s,0===ft&&mt(N));else c=s;c!==s?o=u=[u,a,c]:(at=o,o=s)}else at=o,o=s;if(o===s)if(o=[],u=e.charAt(at),$.test(u)?at++:(u=s,0===ft&&mt(N)),u!==s)for(;u!==s;)o.push(u),u=e.charAt(at),$.test(u)?at++:(u=s,0===ft&&mt(N));else o=s;if(o!==s){if(u=at,101===e.charCodeAt(at)?(a=w,at++):(a=s,0===ft&&mt(T)),a!==s){if(c=e.charAt(at),C.test(c)?at++:(c=s,0===ft&&mt(K)),c===s&&(c=null),i=[],l=e.charAt(at),$.test(l)?at++:(l=s,0===ft&&mt(N)),l!==s)for(;l!==s;)i.push(l),l=e.charAt(at),$.test(l)?at++:(l=s,0===ft&&mt(N));else i=s;i!==s?u=a=[a,c,i]:(at=u,u=s)}else at=u,u=s;u===s&&(u=null),ct=t,t=ut()}else at=t,t=s;return t}if(o=f(),n.peg$library)return{peg$result:o,peg$currPos:at,peg$FAILED:s,peg$maxFailExpected:lt,peg$maxFailPos:it};if(o!==s&&at===e.length)return o;throw o!==s&&at<e.length&&mt({type:'end'}),u=lt,a=it<e.length?e.charAt(it):null,c=it<e.length?xt(it,it+1):xt(it,it),new t(t.buildMessage(u,a),u,a,c)}}},385,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"WebShape",{enumerable:!0,get:function(){return l}});var t=e(r(d[0])),s=e(r(d[1])),o=r(d[2]),n=r(d[3]),c=r(d[4]),p=e(r(d[5]));class l extends t.default.Component{prepareProps(e){return e}elementRef=t.default.createRef();lastMergedProps={};setNativeProps(e){const t=Object.assign({},this.props,this.lastMergedProps,e.style);this.lastMergedProps=t;const s=(0,o.prepare)(this,this.prepareProps(t)),p=this.elementRef.current;if(p)for(const e of Object.keys(s)){const t=s[e];switch(e){case'ref':case'children':break;case'style':for(const e of[].concat(s.style??[]))Object.assign(p.style,e);break;case'fill':if(t&&'object'==typeof t){const e=t;p.setAttribute('fill',(0,n.convertInt32ColorToRGBA)(e.payload))}break;case'stroke':if(t&&'object'==typeof t){const e=t;p.setAttribute('stroke',(0,n.convertInt32ColorToRGBA)(e.payload))}break;default:p.setAttribute((0,c.camelCaseToDashed)(e),t)}}}constructor(e){super(e),(0,c.hasTouchableProperty)(e)&&(0,p.default)(this),this._remeasureMetricsOnActivation=c.remeasure.bind(this)}render(){if(!this.tag)throw new Error('When extending `WebShape` you need to overwrite either `tag` or `render`!');return this.lastMergedProps={},(0,s.default)(this.tag,(0,o.prepare)(this,this.prepareProps(this.props)))}}},386,[13,86,387,390,381,391]);
__d(function(g,r,i,a,m,_e,d){"use strict";const e=["transform","origin","originX","originY","fontFamily","fontSize","fontWeight","fontStyle","style","forwardedRef","gradientTransform","patternTransform","onPress"];Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"prepare",{enumerable:!0,get:function(){return u}});var n,o=r(d[0]),t=(n=o)&&n.__esModule?n:{default:n},s=r(d[1]),l=r(d[2]),f=r(d[3]);const u=(n,o=n.props)=>{const{transform:u,origin:p,originX:c,originY:R,fontFamily:h,fontSize:T,fontWeight:y,fontStyle:S,style:b,forwardedRef:v,gradientTransform:P,patternTransform:H,onPress:_}=o,M=(0,t.default)(o,e),j=Object.assign({},(0,s.hasTouchableProperty)(o)?{onStartShouldSetResponder:n.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:n.touchableHandleResponderTerminationRequest,onResponderGrant:n.touchableHandleResponderGrant,onResponderMove:n.touchableHandleResponderMove,onResponderRelease:n.touchableHandleResponderRelease,onResponderTerminate:n.touchableHandleResponderTerminate}:null,M);null!=p?j['transform-origin']=p.toString().replace(',',' '):null==c&&null==R||(j['transform-origin']=`${c||0} ${R||0}`);const z=(0,s.parseTransformProp)(u,o);z&&(j.transform=z);const F=(0,s.parseTransformProp)(P);F&&(j.gradientTransform=F);const O=(0,s.parseTransformProp)(H);O&&(j.patternTransform=O),j.ref=e=>{n.elementRef.current=e,'function'==typeof v?v(e):v&&(v.current=e)};const W={};var q;(null!=h&&(W.fontFamily=h),null!=T&&(W.fontSize=T),null!=y&&(W.fontWeight=y),null!=S&&(W.fontStyle=S),j.style=(0,l.resolve)(b,W),null!==_&&(j.onClick=o.onPress),null!==o.href&&void 0!==o.href)&&(j.href=null===(q=(0,f.resolveAssetUri)(o.href))||void 0===q?void 0:q.uri);return j}},387,[119,381,388,389]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.resolve=function(e,t){return e?s.default?[e,t]:e[Symbol.iterator]?Object.assign({},...e,t):Object.assign({},e,t):t};var e,t=r(d[0]),s=(e=t)&&e.__esModule?e:{default:e}},388,[26]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.resolveAssetUri=function(e){let t={};if('number'==typeof e){const n=(0,o.getAssetByID)(e);if(null==n)throw new Error(`Image: asset with ID "${e}" could not be found. Please check the image source or packager.`);if(t={width:n.width,height:n.height,scale:n.scales[0]},n.scales.length>1){const e=s.default.get();t.scale=n.scales.reduce((t,s)=>Math.abs(s-e)<Math.abs(t-e)?s:t)}const u=1!==t.scale?`@${t.scale}x`:'';t.uri=n?`${n.httpServerLocation}/${n.name}${u}.${n.type}`:''}else'string'==typeof e?t.uri=e:e&&!Array.isArray(e)&&'string'==typeof e.uri&&(t.uri=e.uri);if(t.uri){var u;const e=null===(u=t)||void 0===u||null===(u=u.uri)||void 0===u?void 0:u.match(n);if(e){const[,s,o]=e,n=encodeURIComponent(o);return t.uri=`${s}${n}`,t}}return t};var e,t=r(d[0]),s=(e=t)&&e.__esModule?e:{default:e},o=r(d[1]);const n=/^(data:image\/svg\+xml;utf8,)(.*)/},389,[225,223]);
__d(function(_g,_r,i,_a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.convertInt32ColorToRGBA=function(t){const o=t>>16&255,n=t>>8&255,r=255&t,c=((t>>24&255)/255).toFixed(2);return`rgba(${o},${n},${r},${c})`}},390,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var e,t=r(d[0]),s=(e=t)&&e.__esModule?e:{default:e};const o={top:20,left:20,right:20,bottom:30},{Mixin:n}=s.default,{touchableHandleStartShouldSetResponder:l,touchableHandleResponderTerminationRequest:c,touchableHandleResponderGrant:p,touchableHandleResponderMove:u,touchableHandleResponderRelease:h,touchableHandleResponderTerminate:i,touchableGetInitialState:b}=n,R=Object.assign({},n,{touchableHandleStartShouldSetResponder(e){const{onStartShouldSetResponder:t}=this.props;return t?t(e):l.call(this,e)},touchableHandleResponderTerminationRequest(e){const{onResponderTerminationRequest:t}=this.props;return t?t(e):c.call(this,e)},touchableHandleResponderGrant(e){const{onResponderGrant:t}=this.props;return t?t(e):p.call(this,e)},touchableHandleResponderMove(e){const{onResponderMove:t}=this.props;return t?t(e):u.call(this,e)},touchableHandleResponderRelease(e){const{onResponderRelease:t}=this.props;return t?t(e):h.call(this,e)},touchableHandleResponderTerminate(e){const{onResponderTerminate:t}=this.props;return t?t(e):i.call(this,e)},touchableHandlePress(e){const{onPress:t}=this.props;t&&t(e)},touchableHandleActivePressIn(e){const{onPressIn:t}=this.props;t&&t(e)},touchableHandleActivePressOut(e){const{onPressOut:t}=this.props;t&&t(e)},touchableHandleLongPress(e){const{onLongPress:t}=this.props;t&&t(e)},touchableGetPressRectOffset(){const{pressRetentionOffset:e}=this.props;return e||o},touchableGetHitSlop(){const{hitSlop:e}=this.props;return e},touchableGetHighlightDelayMS(){const{delayPressIn:e}=this.props;return e||0},touchableGetLongPressDelayMS(){const{delayLongPress:e}=this.props;return 0===e?0:e||500},touchableGetPressOutDelayMS(){const{delayPressOut:e}=this.props;return e||0}}),H=Object.keys(R),P=H.map(e=>R[e]),f=H.length;var S=e=>{for(let t=0;t<f;t++){const s=H[t],o=P[t];e[s]='function'==typeof o?o.bind(e):o}e.state=b()}},391,[392]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return F}});var t=e(r(d[0])),o=e(r(d[1])),s=e(r(d[2])),E=e(r(d[3])),n=e(r(d[4])),l=e(r(d[5])),h=e(r(d[6])),u=e(r(d[7])),R=e(r(d[8])),c=r(d[9]),_=e=>{var t=e.touches,o=e.changedTouches,s=t&&t.length>0,E=o&&o.length>0;return!s&&E?o[0]:s?t[0]:e},S='NOT_RESPONDER',T='RESPONDER_INACTIVE_PRESS_IN',P='RESPONDER_INACTIVE_PRESS_OUT',D='RESPONDER_ACTIVE_PRESS_IN',N='RESPONDER_ACTIVE_PRESS_OUT',b='RESPONDER_ACTIVE_LONG_PRESS_IN',O='RESPONDER_ACTIVE_LONG_PRESS_OUT',A='ERROR',p={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},f=(0,o.default)((0,o.default)({},p),{},{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),v=(0,o.default)((0,o.default)({},p),{},{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),L=(0,o.default)((0,o.default)({},p),{},{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),I='DELAY',y='RESPONDER_GRANT',C='RESPONDER_RELEASE',G='RESPONDER_TERMINATED',H='ENTER_PRESS_RECT',V='LEAVE_PRESS_RECT',M='LONG_PRESS_DETECTED',U={NOT_RESPONDER:{DELAY:A,RESPONDER_GRANT:T,RESPONDER_RELEASE:A,RESPONDER_TERMINATED:A,ENTER_PRESS_RECT:A,LEAVE_PRESS_RECT:A,LONG_PRESS_DETECTED:A},RESPONDER_INACTIVE_PRESS_IN:{DELAY:D,RESPONDER_GRANT:A,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:T,LEAVE_PRESS_RECT:P,LONG_PRESS_DETECTED:A},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:N,RESPONDER_GRANT:A,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:T,LEAVE_PRESS_RECT:P,LONG_PRESS_DETECTED:A},RESPONDER_ACTIVE_PRESS_IN:{DELAY:A,RESPONDER_GRANT:A,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:D,LEAVE_PRESS_RECT:N,LONG_PRESS_DETECTED:b},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:A,RESPONDER_GRANT:A,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:D,LEAVE_PRESS_RECT:N,LONG_PRESS_DETECTED:A},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:A,RESPONDER_GRANT:A,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:b,LEAVE_PRESS_RECT:O,LONG_PRESS_DETECTED:b},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:A,RESPONDER_GRANT:A,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:b,LEAVE_PRESS_RECT:O,LONG_PRESS_DETECTED:A},error:{DELAY:S,RESPONDER_GRANT:T,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:S,LONG_PRESS_DETECTED:S}},Y={componentDidMount:function(){(0,c.warnOnce)('TouchableMixin','TouchableMixin is deprecated. Please use Pressable.');var e=this.getTouchableNode&&this.getTouchableNode();e&&e.addEventListener&&(this._touchableBlurListener=e=>{this._isTouchableKeyboardActive&&(this.state.touchable.touchState&&this.state.touchable.touchState!==S&&this.touchableHandleResponderTerminate({nativeEvent:e}),this._isTouchableKeyboardActive=!1)},e.addEventListener('blur',this._touchableBlurListener))},componentWillUnmount:function(){var e=this.getTouchableNode&&this.getTouchableNode();e&&e.addEventListener&&e.removeEventListener('blur',this._touchableBlurListener),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressInLocation=null,this.state.touchable.responderID=null},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(e){var t=e.currentTarget;e.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=S,this.state.touchable.responderID=t,this._receiveSignal(y,e);var o=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(o=isNaN(o)?130:o)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,e),o):this._handleDelay(e);var s=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;s=isNaN(s)?370:s,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,e),s+o)},touchableHandleResponderRelease:function(e){this.pressInLocation=null,this._receiveSignal(C,e)},touchableHandleResponderTerminate:function(e){this.pressInLocation=null,this._receiveSignal(G,e)},touchableHandleResponderMove:function(e){if(this.state.touchable.positionOnActivate){var t=this.state.touchable.positionOnActivate,o=this.state.touchable.dimensionsOnActivate,s=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},E=s.left,n=s.top,l=s.right,h=s.bottom,u=this.touchableGetHitSlop?this.touchableGetHitSlop():null;u&&(E+=u.left||0,n+=u.top||0,l+=u.right||0,h+=u.bottom||0);var R=_(e.nativeEvent),c=R&&R.pageX,S=R&&R.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(c,S,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(c>t.left-E&&S>t.top-n&&c<t.left+o.width+l&&S<t.top+o.height+h){var P=this.state.touchable.touchState;this._receiveSignal(H,e),this.state.touchable.touchState===T&&P!==T&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(V,e)}},touchableHandleFocus:function(e){this.props.onFocus&&this.props.onFocus(e)},touchableHandleBlur:function(e){this.props.onBlur&&this.props.onBlur(e)},_remeasureMetricsOnActivation:function(){var e=this.state.touchable.responderID;null!=e&&u.default.measure(e,this._handleQueryLayout)},_handleQueryLayout:function(e,t,o,s,n,h){(e||t||o||s||n||h)&&(this.state.touchable.positionOnActivate&&l.default.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&E.default.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=l.default.getPooled(n,h),this.state.touchable.dimensionsOnActivate=E.default.getPooled(o,s))},_handleDelay:function(e){this.touchableDelayTimeout=null,this._receiveSignal(I,e)},_handleLongDelay:function(e){this.longPressDelayTimeout=null;var t=this.state.touchable.touchState;t!==D&&t!==b?console.error('Attempted to transition from state `'+t+'` to `'+b+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(M,e)},_receiveSignal:function(e,t){var o=this.state.touchable.responderID,s=this.state.touchable.touchState,E=U[s]&&U[s][e];if(o||e!==C){if(!E)throw new Error('Unrecognized signal `'+e+'` or state `'+s+'` for Touchable responder `'+o+'`');if(E===A)throw new Error('Touchable cannot transition from `'+s+'` to `'+e+'` for responder `'+o+'`');s!==E&&(this._performSideEffectsForTransition(s,E,e,t),this.state.touchable.touchState=E)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(e){return e===D||e===b},_savePressInLocation:function(e){var t=_(e.nativeEvent),o=t&&t.pageX,s=t&&t.pageY,E=t&&t.locationX,n=t&&t.locationY;this.pressInLocation={pageX:o,pageY:s,locationX:E,locationY:n}},_getDistanceBetweenPoints:function(e,t,o,s){var E=e-o,n=t-s;return Math.sqrt(E*E+n*n)},_performSideEffectsForTransition:function(e,t,o,s){var E=this._isHighlight(e),n=this._isHighlight(t);(o===G||o===C)&&this._cancelLongPressDelayTimeout();var l=e===S&&t===T,h=!f[e]&&f[t];if((l||h)&&this._remeasureMetricsOnActivation(),v[e]&&o===M&&this.touchableHandleLongPress&&this.touchableHandleLongPress(s),n&&!E?this._startHighlight(s):!n&&E&&this._endHighlight(s),v[e]&&o===C){var u=!!this.props.onLongPress,R=L[e]&&(!u||!this.touchableLongPressCancelsPress());(!L[e]||R)&&this.touchableHandlePress&&(n||E||(this._startHighlight(s),this._endHighlight(s)),this.touchableHandlePress(s))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_playTouchSound:function(){u.default.playTouchSound()},_startHighlight:function(e){this._savePressInLocation(e),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(e)},_endHighlight:function(e){this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(()=>{this.touchableHandleActivePressOut(e)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(e))},touchableHandleKeyEvent:function(e){var t=e.type,o=e.key;'Enter'!==o&&' '!==o||('keydown'===t?this._isTouchableKeyboardActive||this.state.touchable.touchState&&this.state.touchable.touchState!==S||(this.touchableHandleResponderGrant(e),this._isTouchableKeyboardActive=!0):'keyup'===t&&this._isTouchableKeyboardActive&&this.state.touchable.touchState&&this.state.touchable.touchState!==S&&(this.touchableHandleResponderRelease(e),this._isTouchableKeyboardActive=!1),e.stopPropagation(),'Enter'===o&&'link'===s.default.propsToAriaRole(this.props)||e.preventDefault())},withoutDefaultFocusAndBlur:{}},B=(Y.touchableHandleFocus,Y.touchableHandleBlur,(0,t.default)(Y,["touchableHandleFocus","touchableHandleBlur"]));Y.withoutDefaultFocusAndBlur=B;var w={Mixin:Y,TOUCH_TARGET_DEBUG:!1,renderDebugView:e=>{var t=e.color,s=e.hitSlop;if(!w.TOUCH_TARGET_DEBUG)return null;var E={};for(var l in s=s||{top:0,bottom:0,left:0,right:0})E[l]=-s[l];var u=(0,n.default)(t);if('number'!=typeof u)return null;var c='#'+('00000000'+u.toString(16)).substr(-8);return h.default.createElement(R.default,{pointerEvents:"none",style:(0,o.default)({position:'absolute',borderColor:c.slice(0,-2)+'55',borderWidth:1,borderStyle:'dashed',backgroundColor:c.slice(0,-2)+'0F'},E)})}},F=w},392,[27,4,87,393,35,395,13,98,85,74]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var e,t=r(d[0]),o=(e=t)&&e.__esModule?e:{default:e},n=o.default.twoArgumentPooler;function u(e,t){this.width=e,this.height=t}u.prototype.destructor=function(){this.width=null,this.height=null},u.getPooledFromElement=function(e){return u.getPooled(e.offsetWidth,e.offsetHeight)},o.default.addPoolingTo(u,n);var l=u},393,[394]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return l}}),r(d[0]);var o=function(o,n){var t=this;if(t.instancePool.length){var l=t.instancePool.pop();return t.call(l,o,n),l}return new t(o,n)},n=function(o){var n=this;o.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(o)},t=o,l={addPoolingTo:function(o,l){var u=o;return u.instancePool=[],u.getPooled=l||t,u.poolSize||(u.poolSize=10),u.release=n,u},twoArgumentPooler:o}},394,[9]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t,e=r(d[0]),o=(t=e)&&t.__esModule?t:{default:t},u=o.default.twoArgumentPooler;function l(t,e){this.left=t,this.top=e}l.prototype.destructor=function(){this.left=null,this.top=null},o.default.addPoolingTo(l,u);var n=l},395,[394]);
__d(function(g,r,i,a,m,e,d){"use strict";function o(o,n){throw Error(`[react-native-svg] You are trying to import a ${n} \`${o}\` that has been moved to a sub-package. Change your import from \`react-native-svg\` to \`react-native-svg/css\`.`)}Object.defineProperty(e,'__esModule',{value:!0}),e.showErrorCSS=o,e.SvgCss=function(){o('SvgCss','component')},e.SvgCssUri=function(){o('SvgCssUri','component')},e.SvgWithCss=function(){o('SvgWithCss','component')},e.SvgWithCssUri=function(){o('SvgWithCssUri','component')},e.inlineStyles=function(){o('inlineStyles','function')},e.LocalSvg=function(){o('LocalSvg','component')},e.WithLocalSvg=function(){o('WithLocalSvg','component')},e.loadLocalRawResource=function(){o('loadLocalRawResource','function')}},396,[]);
__d(function(g,r,i,a,m,e,d){},397,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,"alert",{enumerable:!0,get:function(){return o}});var e,t=r(d[0]);(e=t)&&e.__esModule;r(d[1]);const n=(e,t,n=[])=>{if(!n||0===n.length)return void window.alert([e,t].filter(Boolean).join('\n'));const o=[e,t].filter(Boolean).join('\n\n');if(1===n.length){window.alert(o);const e=n[0].onPress;return void(e&&setTimeout(e,0))}const s=n.filter(e=>'cancel'!==e.style),c=n.find(e=>'cancel'===e.style);if(1===s.length){if(window.confirm(o)){const e=s[0].onPress;e&&setTimeout(e,0)}else if(c){const e=c.onPress;e&&setTimeout(e,0)}}else{s.map(e=>e.text).join(' / ');let e=0;for(;e<s.length;){const t=s[e],n=s[e+1];if(!n){if(window.confirm(`${o}\n\n${t.text}?`)){const e=t.onPress;return void(e&&setTimeout(e,0))}if(c){const e=c.onPress;return void(e&&setTimeout(e,0))}return}if(window.confirm(`${o}\n\n${t.text}?\n(Cancel for ${n.text})`)){const e=t.onPress;return void(e&&setTimeout(e,0))}e++}if(c){const e=c.onPress;e&&setTimeout(e,0)}}},o=(e,t,o)=>{n(e,t,o)};var s=o},398,[116,82]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"getCurrentPhase",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"getPhaseForStage",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"checkPhaseTransition",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"generatePhaseAnalytics",{enumerable:!0,get:function(){return S}}),Object.defineProperty(e,"getPhaseProgress",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"getPhaseCelebrationMessage",{enumerable:!0,get:function(){return c}}),Object.defineProperty(e,"calculateAverageProgressByPhase",{enumerable:!0,get:function(){return A}}),Object.defineProperty(e,"formatPhaseDisplay",{enumerable:!0,get:function(){return T}}),Object.defineProperty(e,"getTransitionSubstages",{enumerable:!0,get:function(){return I}});var t=r(d[0]);const n=(n=[])=>n&&0!==n.length?n.includes(t.PHASE_TRANSITION_TASKS.TRIAL_START)?t.CASE_PHASES.TRIAL:n.includes(t.PHASE_TRANSITION_TASKS.LITIGATION_START)?t.CASE_PHASES.LITIGATION:t.CASE_PHASES.PRE_LITIGATION:t.CASE_PHASES.PRE_LITIGATION,o=n=>{const o=t.LITIGATION_STAGES.find(t=>t.id===n);return o&&o.phase&&Object.values(t.CASE_PHASES).find(t=>t.id===o.phase)||t.CASE_PHASES.PRE_LITIGATION},s=n=>n===t.PHASE_TRANSITION_TASKS.LITIGATION_START?t.CASE_PHASES.LITIGATION:n===t.PHASE_TRANSITION_TASKS.TRIAL_START?t.CASE_PHASES.TRIAL:null,S=(o=[])=>{const s={total:o.length,byPhase:{[t.CASE_PHASES.PRE_LITIGATION.id]:{count:0,percentage:0,users:[]},[t.CASE_PHASES.LITIGATION.id]:{count:0,percentage:0,users:[]},[t.CASE_PHASES.TRIAL.id]:{count:0,percentage:0,users:[]}}};return o.forEach(t=>{const o=n(t.completedSubstages||[]);s.byPhase[o.id].count++,s.byPhase[o.id].users.push(t)}),Object.keys(s.byPhase).forEach(t=>{const n=s.byPhase[t].count;s.byPhase[t].percentage=s.total>0?Math.round(n/s.total*100):0}),s},u=(o=[])=>{const s=n(o),S=t.LITIGATION_STAGES.filter(t=>t.phase===s.id),u=S.filter(t=>t.subStages.every(t=>o.includes(t.id)));return{currentPhase:s,completedStages:u.length,totalStages:S.length,percentage:S.length>0?Math.round(u.length/S.length*100):0,stageNames:S.map(t=>t.name)}},c=n=>({[t.CASE_PHASES.LITIGATION.id]:"\ud83c\udf89 Milestone Reached!\n\nYour case has entered the Litigation Phase! You've completed initial preparation and your complaint is filed. The legal process is now in motion.",[t.CASE_PHASES.TRIAL.id]:"\ud83c\udf8a Major Milestone!\n\nYour case has advanced to the Trial Phase! You're in the final stages of your legal journey. Stay focused and keep moving forward!"}[n.id]||`Congratulations! You've entered the ${n.name} phase!`),A=(n=[])=>{const o={[t.CASE_PHASES.PRE_LITIGATION.id]:{total:0,count:0,average:0},[t.CASE_PHASES.LITIGATION.id]:{total:0,count:0,average:0},[t.CASE_PHASES.TRIAL.id]:{total:0,count:0,average:0}};return n.forEach(t=>{const n=u(t.completedSubstages||[]);o[n.currentPhase.id].total+=n.percentage,o[n.currentPhase.id].count++}),Object.keys(o).forEach(t=>{const n=o[t];o[t].average=n.count>0?Math.round(n.total/n.count):0}),o},T=t=>`${t.icon} ${t.name}`,I=()=>Object.values(t.PHASE_TRANSITION_TASKS)},399,[133]);
__d(function(e,t,s,a,h,d,f){h.exports={uri:"/assets/attached_assets/X marks the Spot_1762186694664.b3166f3f358edc461134a0482e9f8747.png",width:5e3,height:5e3}},400,[]);
__d(function(t,b,e,s,a,d,f){a.exports={uri:"/assets/attached_assets/Speaker_1762189140530.3f746f31b2ca9bb88bb33fbdfcb0552d.png",width:3873,height:3873}},401,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}}),r(d[0]);var t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),l=e(r(d[4])),s=e(r(d[5])),c=e(r(d[6])),h=e(r(d[7]));r(d[8]);var u=e(r(d[9])),f=r(d[10]);const x=s.default.create({container:{flex:1},backgroundImage:{flex:1},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.4)'},scrollView:{flex:1},scrollContent:{flexGrow:1,paddingBottom:100},contentWrapper:{flex:1},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingHorizontal:20,paddingBottom:15},backButton:{color:'#FFFFFF',fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:3},headerTitle:{fontWeight:'bold',color:'#FFFFFF',textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:6},secureNotice:{backgroundColor:'rgba(30, 80, 50, 0.85)',flexDirection:'row',justifyContent:'center',alignItems:'center',marginHorizontal:20,borderRadius:12,marginBottom:20,borderWidth:2,borderColor:'rgba(39, 174, 96, 0.6)'},secureIcon:{marginRight:10},secureText:{color:'#90EE90',fontWeight:'700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},medicalContainer:{paddingHorizontal:20},documentSection:{marginBottom:25,backgroundColor:'rgba(26, 26, 26, 0.88)',borderRadius:16,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.5,shadowRadius:8,elevation:8},sectionHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:15},sectionTitle:{fontWeight:'bold',color:'#FFD700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:3},comingSoonBadge:{backgroundColor:'rgba(180, 120, 40, 0.9)',paddingHorizontal:12,paddingVertical:6,borderRadius:8,fontWeight:'700',color:'#FFD700',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)',overflow:'hidden'},comingSoonMessage:{backgroundColor:'rgba(60, 50, 30, 0.85)',padding:15,borderRadius:10,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},comingSoonText:{color:'#E8D5B0',textAlign:'center',lineHeight:22,fontStyle:'italic'},sectionDescription:{color:'#B8A080',marginBottom:15,lineHeight:22},addProviderButton:{backgroundColor:'rgba(80, 70, 60, 0.9)',borderRadius:12,alignItems:'center',borderWidth:2,borderColor:'rgba(150, 140, 130, 0.5)',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.4,shadowRadius:4,elevation:4},primaryButton:{backgroundColor:'rgba(40, 80, 120, 0.9)',borderRadius:12,alignItems:'center',borderWidth:2,borderColor:'rgba(100, 180, 255, 0.4)',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.4,shadowRadius:4,elevation:4},buttonText:{color:'#FFFFFF',fontWeight:'700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2}});var b=({onNavigate:e,onUploadMedicalDocument:s,medicalHubUploads:b,authToken:y})=>{const{width:w,height:S}=(0,h.default)(),p=w>=768&&w<1024,j=w>=1024;return(0,f.jsx)(t.default,{style:x.container,children:(0,f.jsx)(c.default,{source:r(d[11]),style:[x.backgroundImage,{width:w,height:S}],resizeMode:"cover",children:(0,f.jsx)(t.default,{style:x.overlay,children:(0,f.jsx)(l.default,{style:x.scrollView,contentContainerStyle:[x.scrollContent,{alignItems:j||p?'center':'stretch'}],children:(0,f.jsxs)(t.default,{style:[x.contentWrapper,{width:j?Math.min(.6*w,800):p?.85*w:w}],children:[(0,f.jsxs)(t.default,{style:[x.header,{paddingTop:j?30:50}],children:[(0,f.jsx)(n.default,{onPress:()=>e('dashboard'),children:(0,f.jsx)(o.default,{style:[x.backButton,{fontSize:j?20:18}],children:"\u2190 Back"})}),(0,f.jsx)(o.default,{style:[x.headerTitle,{fontSize:j?28:p?24:20}],children:"Medical Documentation Hub"}),(0,f.jsx)(t.default,{style:{width:60}})]}),(0,f.jsxs)(t.default,{style:[x.secureNotice,{padding:j?18:15}],children:[(0,f.jsx)(o.default,{style:[x.secureIcon,{fontSize:j?28:24}],children:"\ud83d\udd12"}),(0,f.jsx)(o.default,{style:[x.secureText,{fontSize:j?18:16}],children:"HIPAA-Compliant Secure Storage"})]}),(0,f.jsxs)(t.default,{style:[x.medicalContainer,{padding:j?30:20}],children:[(0,f.jsxs)(t.default,{style:[x.documentSection,{padding:j?25:20}],children:[(0,f.jsxs)(t.default,{style:x.sectionHeader,children:[(0,f.jsx)(o.default,{style:[x.sectionTitle,{fontSize:j?24:20}],children:"\ud83d\udcb5 Medical Bills"}),(0,f.jsx)(o.default,{style:[x.comingSoonBadge,{fontSize:j?13:11}],children:"\ud83c\udff4\u200d\u2620\ufe0f Coming Soon"})]}),(0,f.jsx)(t.default,{style:x.comingSoonMessage,children:(0,f.jsx)(o.default,{style:[x.comingSoonText,{fontSize:j?16:14}],children:"Blimey! This treasure chest be still under construction. Medical Bills upload will be ready soon! \u2693"})})]}),(0,f.jsxs)(t.default,{style:[x.documentSection,{padding:j?25:20}],children:[(0,f.jsxs)(t.default,{style:x.sectionHeader,children:[(0,f.jsx)(o.default,{style:[x.sectionTitle,{fontSize:j?24:20}],children:"\ud83d\udccb Medical Records"}),(0,f.jsx)(o.default,{style:[x.comingSoonBadge,{fontSize:j?13:11}],children:"\ud83c\udff4\u200d\u2620\ufe0f Coming Soon"})]}),(0,f.jsx)(t.default,{style:x.comingSoonMessage,children:(0,f.jsx)(o.default,{style:[x.comingSoonText,{fontSize:j?16:14}],children:"Arrr! The Medical Records vault be locked tighter than Davy Jones' locker! Upload feature coming soon, savvy? \u2693"})})]}),(0,f.jsx)(n.default,{style:[x.addProviderButton,{paddingVertical:j?18:15,marginBottom:j?35:30}],onPress:()=>{(0,u.default)('\ud83c\udff4\u200d\u2620\ufe0f Aye, Not Quite Ready!','Arrr! Our navigators be still plottin\' the course to add medical providers to yer crew! This feature be comin\' soon, so hold fast and keep yer compass handy! \u2693')},children:(0,f.jsx)(o.default,{style:[x.buttonText,{fontSize:j?18:16}],children:"\u2795 Add Medical Provider"})}),(0,f.jsxs)(t.default,{style:[x.documentSection,{padding:j?25:20}],children:[(0,f.jsx)(o.default,{style:[x.sectionTitle,{fontSize:j?24:20}],children:"\ud83d\udccb HIPAA Forms"}),(0,f.jsx)(o.default,{style:[x.sectionDescription,{fontSize:j?16:14}],children:"Manage consent forms and authorizations for sharing your medical information"}),(0,f.jsx)(n.default,{style:[x.primaryButton,{paddingVertical:j?18:15}],onPress:()=>e('hipaaForms'),children:(0,f.jsx)(o.default,{style:[x.buttonText,{fontSize:j?18:16}],children:"\ud83d\udcc4 View HIPAA Forms"})})]})]})]})})})})})}},402,[13,85,161,162,177,26,369,165,131,398,153,403]);
__d(function(a,e,t,s,d,c,i){d.exports={uri:"/assets/attached_assets/Medical Ward_1764038075699.ee33bfb3131a3c7c2fab4741157fd220.png",width:1080,height:608}},403,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return F}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),u=e(r(d[5])),f=e(r(d[6])),c=e(r(d[7])),h=e(r(d[8])),y=e(r(d[9])),x=r(d[10]),p=r(d[11]);function F({onNavigate:e,user:l}){const[F,j]=(0,t.useState)([]),[S,B]=(0,t.useState)(!0),[C,T]=(0,t.useState)(null),[E,_]=(0,t.useState)(!1),[k,w]=(0,t.useState)('');(0,t.useEffect)(()=>{z()},[]);const z=async()=>{try{if(!l?.token)return void f.default.alert('Error','Please log in to continue');const e=await fetch(`${x.API_BASE_URL}/forms/my-forms`,{headers:{Authorization:`Bearer ${l.token}`,'Content-Type':'application/json'}});if(e.ok){const t=await e.json();j(t.forms)}else f.default.alert('Error','Failed to load forms')}catch(e){console.error('Error loading forms:',e),f.default.alert('Error','Failed to load forms')}finally{B(!1)}},A=async e=>{try{if(!l?.token)return void f.default.alert('Error','Please log in to continue');const t=await fetch(`${x.API_BASE_URL}/forms/submissions/${e}`,{headers:{Authorization:`Bearer ${l.token}`,'Content-Type':'application/json'}});if(t.ok){const e=await t.json();T(e.submission),_(!0)}else f.default.alert('Error','Failed to load form details')}catch(e){console.error('Error loading form:',e),f.default.alert('Error','Failed to load form details')}},D=e=>{switch(e){case'signed':return b.statusSigned;case'pending_signature':return b.statusPending;case'draft':return b.statusDraft;default:return b.statusDefault}},v=(e,t)=>'boolean'==typeof t?(0,p.jsxs)(o.default,{style:b.fieldContainer,children:[(0,p.jsx)(n.default,{style:b.fieldLabel,children:e.replace(/_/g,' ').toUpperCase()}),(0,p.jsx)(n.default,{style:b.fieldValue,children:t?'\u2713 Yes':'\u2717 No'})]},e):t?(0,p.jsxs)(o.default,{style:b.fieldContainer,children:[(0,p.jsx)(n.default,{style:b.fieldLabel,children:e.replace(/_/g,' ').toUpperCase()}),(0,p.jsx)(n.default,{style:b.fieldValue,children:t})]},e):null;return S?(0,p.jsx)(o.default,{style:b.container,children:(0,p.jsx)(n.default,{style:b.loadingText,children:"Loading forms..."})}):(0,p.jsxs)(o.default,{style:b.container,children:[(0,p.jsxs)(o.default,{style:b.header,children:[(0,p.jsx)(u.default,{style:b.backButton,onPress:()=>{e('lawfirm'===l?.userType?'lawfirm-dashboard':'medical_provider'===l?.userType?'medicalprovider-dashboard':'medical')},children:(0,p.jsx)(n.default,{style:b.backButtonText,children:"\u2190 Back"})}),(0,p.jsx)(n.default,{style:b.headerTitle,children:"HIPAA Forms"}),(0,p.jsx)(n.default,{style:b.headerSubtitle,children:"Review and sign important legal documents"})]}),0===F.length?(0,p.jsxs)(o.default,{style:b.emptyState,children:[(0,p.jsx)(n.default,{style:b.emptyText,children:"No forms available"}),(0,p.jsx)(n.default,{style:b.emptySubtext,children:"Your law firm will send you forms to review and sign here"})]}):(0,p.jsx)(s.default,{data:F,keyExtractor:e=>e.id.toString(),renderItem:({item:e})=>(0,p.jsxs)(u.default,{style:b.formCard,onPress:()=>A(e.id),children:[(0,p.jsxs)(o.default,{style:b.formHeader,children:[(0,p.jsx)(n.default,{style:b.formTitle,children:e.template_name}),(0,p.jsx)(o.default,{style:[b.statusBadge,D(e.status)],children:(0,p.jsx)(n.default,{style:b.statusText,children:e.status.replace(/_/g,' ').toUpperCase()})})]}),e.law_firm_name&&(0,p.jsxs)(n.default,{style:b.formMeta,children:["From: ",e.law_firm_name]}),(0,p.jsxs)(n.default,{style:b.formMeta,children:["Created: ",new Date(e.created_at).toLocaleDateString()]}),e.signed_at&&(0,p.jsxs)(n.default,{style:b.formMeta,children:["Signed: ",new Date(e.signed_at).toLocaleDateString()]}),(0,p.jsxs)(n.default,{style:b.formMeta,children:["Signatures: ",e.signature_count||0]}),'pending_signature'===e.status&&(0,p.jsx)(n.default,{style:b.actionText,children:"Tap to review and sign"})]}),contentContainerStyle:b.listContainer}),(0,p.jsx)(y.default,{visible:E,animationType:"slide",transparent:!0,onRequestClose:()=>_(!1),children:(0,p.jsx)(o.default,{style:b.modalOverlay,children:(0,p.jsxs)(o.default,{style:b.modalContent,children:[(0,p.jsx)(c.default,{children:C&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.default,{style:b.modalTitle,children:C.template_name}),(0,p.jsx)(o.default,{style:b.formDetailsContainer,children:C.form_data&&Object.entries(C.form_data).map(([e,t])=>v(e,t))}),'pending_signature'===C.status&&(0,p.jsxs)(o.default,{style:b.signatureSection,children:[(0,p.jsx)(n.default,{style:b.signatureTitle,children:"Digital Signature"}),(0,p.jsx)(n.default,{style:b.signatureSubtitle,children:"By typing your full name below, you acknowledge that you have read and agree to the terms of this form."}),(0,p.jsx)(h.default,{style:b.signatureInput,placeholder:"Type your full legal name",value:k,onChangeText:w,autoCapitalize:"words"}),(0,p.jsx)(u.default,{style:b.signButton,onPress:async()=>{if(k.trim())if(l?.token)try{const e=await fetch(`${x.API_BASE_URL}/forms/submissions/${C.id}/sign`,{method:'POST',headers:{Authorization:`Bearer ${l.token}`,'Content-Type':'application/json'},body:JSON.stringify({signatureData:k})});if(e.ok)f.default.alert('Success','Form signed successfully'),_(!1),T(null),w(''),z();else{const t=await e.json();f.default.alert('Error',t.message||'Failed to sign form')}}catch(e){console.error('Error signing form:',e),f.default.alert('Error','Failed to sign form')}else f.default.alert('Error','Please log in to continue');else f.default.alert('Error','Please type your full name to sign')},children:(0,p.jsx)(n.default,{style:b.signButtonText,children:"Sign Form"})})]}),'signed'===C.status&&(0,p.jsxs)(o.default,{style:b.signedBanner,children:[(0,p.jsx)(n.default,{style:b.signedText,children:"\u2713 This form has been signed"}),C.signatures&&C.signatures.length>0&&(0,p.jsxs)(n.default,{style:b.signedDate,children:["Signed on ",new Date(C.signatures[0].signed_at).toLocaleString()]})]})]})}),(0,p.jsx)(u.default,{style:b.closeButton,onPress:()=>{_(!1),T(null),w('')},children:(0,p.jsx)(n.default,{style:b.closeButtonText,children:"Close"})})]})})})]})}const b=l.default.create({container:{flex:1,backgroundColor:'#F5F1E8',paddingBottom:80},header:{backgroundColor:'#2A4A6F',padding:20,paddingTop:50},backButton:{marginBottom:10,padding:8,alignSelf:'flex-start'},backButtonText:{fontSize:16,color:'#FFFFFF',fontWeight:'600'},headerTitle:{fontSize:28,fontWeight:'bold',color:'#FFFFFF',marginBottom:5},headerSubtitle:{fontSize:14,color:'#E8E4D8'},loadingText:{textAlign:'center',marginTop:50,fontSize:16,color:'#666'},listContainer:{padding:15},formCard:{backgroundColor:'#FFFFFF',borderRadius:12,padding:16,marginBottom:12,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},formHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'flex-start',marginBottom:10},formTitle:{fontSize:16,fontWeight:'600',color:'#2A4A6F',flex:1,marginRight:10},statusBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:12},statusSigned:{backgroundColor:'#E8F5E9'},statusPending:{backgroundColor:'#FFF4E6'},statusDraft:{backgroundColor:'#E3F2FD'},statusDefault:{backgroundColor:'#F5F5F5'},statusText:{fontSize:11,fontWeight:'600',color:'#333'},formMeta:{fontSize:13,color:'#666',marginBottom:4},actionText:{fontSize:13,fontWeight:'600',color:'#8B2500',marginTop:8},emptyState:{flex:1,justifyContent:'center',alignItems:'center',padding:40},emptyText:{fontSize:18,fontWeight:'600',color:'#2A4A6F',marginBottom:8},emptySubtext:{fontSize:14,color:'#666',textAlign:'center'},modalOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.5)',justifyContent:'flex-end'},modalContent:{backgroundColor:'#FFFFFF',borderTopLeftRadius:20,borderTopRightRadius:20,padding:20,maxHeight:'90%'},modalTitle:{fontSize:22,fontWeight:'bold',color:'#2A4A6F',marginBottom:20},formDetailsContainer:{marginBottom:20},fieldContainer:{marginBottom:15,paddingBottom:15,borderBottomWidth:1,borderBottomColor:'#E8E4D8'},fieldLabel:{fontSize:12,fontWeight:'600',color:'#666',marginBottom:4},fieldValue:{fontSize:15,color:'#333'},signatureSection:{backgroundColor:'#F5F1E8',padding:20,borderRadius:12,marginVertical:20},signatureTitle:{fontSize:18,fontWeight:'600',color:'#2A4A6F',marginBottom:8},signatureSubtitle:{fontSize:13,color:'#666',marginBottom:15,lineHeight:18},signatureInput:{backgroundColor:'#FFFFFF',borderWidth:2,borderColor:'#8B2500',borderRadius:8,padding:15,fontSize:16,marginBottom:15},signButton:{backgroundColor:'#8B2500',padding:16,borderRadius:8,alignItems:'center'},signButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},signedBanner:{backgroundColor:'#E8F5E9',padding:20,borderRadius:12,marginVertical:20,alignItems:'center'},signedText:{fontSize:16,fontWeight:'600',color:'#2E7D32',marginBottom:4},signedDate:{fontSize:13,color:'#666'},closeButton:{backgroundColor:'#E8E4D8',padding:16,borderRadius:8,alignItems:'center',marginTop:10},closeButtonText:{color:'#2A4A6F',fontSize:16,fontWeight:'600'}})},404,[13,85,161,26,169,162,116,177,340,156,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return B}});var e=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),f=t(r(d[6])),h=t(r(d[7])),u=t(r(d[8])),x=t(r(d[9])),b=r(d[10]),y=r(d[11]),C=r(d[12]),S=t(r(d[13])),j=t(r(d[14])),p=t(r(d[15]));r(d[16]),r(d[17]),r(d[18]);var w=t(r(d[19])),A=r(d[20]),T=r(d[21]);const I=c.default.create({container:{flex:1},backgroundImage:{flex:1},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.4)'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'rgba(0, 0, 0, 0.7)'},loadingText:{marginTop:10,color:'#FFFFFF',fontSize:16,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:3},header:{backgroundColor:'rgba(26, 26, 26, 0.88)',padding:20,paddingTop:50,borderBottomWidth:2,borderBottomColor:'rgba(255, 215, 0, 0.5)',flexDirection:'row',justifyContent:'space-between',alignItems:'center'},firmInfo:{flex:1,marginRight:12},firmName:{fontSize:24,fontWeight:'bold',color:'#FFD700',marginBottom:5,textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:4},firmCode:{fontSize:14,color:'#E8D5B0',fontFamily:'monospace',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},inviteButton:{backgroundColor:'rgba(180, 120, 40, 0.9)',paddingHorizontal:16,paddingVertical:10,borderRadius:8,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',flexShrink:0},inviteButtonText:{color:'#FFD700',fontSize:14,fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},tabBar:{flexDirection:'row',backgroundColor:'rgba(26, 26, 26, 0.88)',borderBottomWidth:2,borderBottomColor:'rgba(255, 215, 0, 0.5)'},tab:{flex:1,padding:12,alignItems:'center',borderBottomWidth:3,borderBottomColor:'transparent'},activeTab:{borderBottomColor:'#FFD700',backgroundColor:'rgba(255, 215, 0, 0.15)'},tabIconContainer:{position:'relative',marginBottom:4},tabIcon:{fontSize:20},notificationBadge:{position:'absolute',top:-5,right:-10,backgroundColor:'#e74c3c',borderRadius:10,minWidth:20,height:20,justifyContent:'center',alignItems:'center',paddingHorizontal:5},notificationBadgeText:{color:'#fff',fontSize:11,fontWeight:'bold'},tabText:{fontSize:12,color:'#B8A080',fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},activeTabText:{color:'#FFD700'},content:{flex:1,paddingBottom:100},tabContent:{padding:16},section:{backgroundColor:'rgba(26, 26, 26, 0.88)',padding:20,marginBottom:16,borderRadius:16,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.5,shadowRadius:8,elevation:8},sectionTitle:{fontSize:20,fontWeight:'bold',color:'#FFD700',marginBottom:15,paddingBottom:10,borderBottomWidth:2,borderBottomColor:'rgba(255, 215, 0, 0.3)',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:3},sectionDescription:{fontSize:14,color:'#E8D5B0',marginBottom:16,lineHeight:20},notificationActionCard:{flexDirection:'row',alignItems:'center',backgroundColor:'rgba(60, 50, 30, 0.85)',padding:16,borderRadius:12,marginBottom:12,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.4)'},notificationActionIcon:{width:48,height:48,borderRadius:24,backgroundColor:'rgba(180, 120, 40, 0.9)',alignItems:'center',justifyContent:'center',marginRight:16},notificationActionIconText:{fontSize:24},notificationActionContent:{flex:1},notificationActionTitle:{fontSize:16,fontWeight:'700',color:'#FFD700',marginBottom:4,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},notificationActionDescription:{fontSize:13,color:'#E8D5B0'},notificationActionArrow:{fontSize:24,color:'#FFD700',fontWeight:'bold'},templatesList:{gap:12},templateItem:{flexDirection:'row',alignItems:'center',backgroundColor:'rgba(60, 50, 30, 0.85)',padding:14,borderRadius:8,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},templateIcon:{fontSize:20,marginRight:12},templateText:{fontSize:15,color:'#E8D5B0',fontWeight:'500'},searchContainer:{flexDirection:'row',alignItems:'center',backgroundColor:'rgba(60, 50, 30, 0.85)',borderRadius:10,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.4)',paddingHorizontal:12,paddingVertical:8,marginBottom:15},searchIcon:{fontSize:18,marginRight:8},searchInput:{flex:1,fontSize:16,color:'#FFFFFF',padding:0},clearButton:{padding:4,marginLeft:8},clearButtonText:{fontSize:18,color:'#B8A080',fontWeight:'bold'},sectionSubtitle:{fontSize:14,color:'#B8A080',marginBottom:15,lineHeight:20},emptyState:{padding:30,alignItems:'center'},emptyIcon:{fontSize:48,marginBottom:10},emptyText:{fontSize:16,color:'#E8D5B0',marginBottom:10,textAlign:'center',fontWeight:'600'},emptySubtext:{fontSize:14,color:'#B8A080',textAlign:'center'},clientCard:{backgroundColor:'rgba(60, 50, 30, 0.85)',padding:15,borderRadius:10,marginBottom:12,borderLeftWidth:4,borderLeftColor:'#FFD700',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},clientHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},clientName:{fontSize:18,fontWeight:'600',color:'#FFD700',flex:1,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},clientBadge:{backgroundColor:'rgba(180, 120, 40, 0.9)',paddingHorizontal:8,paddingVertical:4,borderRadius:4,fontSize:11,fontWeight:'600',color:'#FFD700',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)',overflow:'hidden'},clientEmail:{fontSize:14,color:'#E8D5B0',marginBottom:8},clientStats:{flexDirection:'row',gap:16,marginBottom:4},clientStat:{fontSize:13,color:'#B8A080'},clientDate:{fontSize:12,color:'#B8A080',marginTop:4},litigationSection:{marginVertical:12,paddingVertical:8,borderTopWidth:1,borderTopColor:'rgba(255, 215, 0, 0.3)'},litigationHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:6},litigationLabel:{fontSize:13,color:'#B8A080',fontWeight:'500'},litigationStage:{fontSize:13,color:'#FFD700',fontWeight:'600'},progressBar:{height:10,backgroundColor:'rgba(40, 40, 40, 0.8)',borderRadius:5,overflow:'hidden',marginVertical:6,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},progressFill:{height:'100%',backgroundColor:'#FFD700',borderRadius:5},progressText:{fontSize:12,color:'#B8A080',textAlign:'right'},statsGrid:{flexDirection:'row',flexWrap:'wrap',gap:12},statCard:{backgroundColor:'rgba(60, 50, 30, 0.85)',padding:16,borderRadius:12,width:'48%',alignItems:'center',borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)'},statIcon:{fontSize:32,marginBottom:8},statValue:{fontSize:28,fontWeight:'bold',color:'#FFD700',marginBottom:4,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},statLabel:{fontSize:12,color:'#E8D5B0',textAlign:'center'},phaseRow:{marginBottom:20},phaseInfo:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},phaseName:{fontSize:16,fontWeight:'600',color:'#FFD700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},phaseCount:{fontSize:14,color:'#B8A080'},progressBarContainer:{height:12,backgroundColor:'rgba(40, 40, 40, 0.8)',borderRadius:6,overflow:'hidden',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},progressBarFill:{height:'100%',backgroundColor:'#27ae60',borderRadius:4},activityList:{gap:12},activityItem:{flexDirection:'row',backgroundColor:'rgba(60, 50, 30, 0.85)',padding:12,borderRadius:8,borderLeftWidth:3,borderLeftColor:'#FFD700',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},activityIcon:{fontSize:24,marginRight:12},activityContent:{flex:1},activityText:{fontSize:14,color:'#E8D5B0',marginBottom:2},activityTime:{fontSize:12,color:'#B8A080'},recordCard:{backgroundColor:'rgba(60, 50, 30, 0.85)',padding:15,borderRadius:10,marginBottom:12,borderLeftWidth:4,borderLeftColor:'#FFD700',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},recordHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},recordTitle:{fontSize:16,fontWeight:'600',color:'#FFD700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},recordBadge:{backgroundColor:'rgba(180, 120, 40, 0.9)',paddingHorizontal:8,paddingVertical:4,borderRadius:4,fontSize:11,fontWeight:'600',color:'#FFD700',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)',overflow:'hidden'},recordClient:{fontSize:14,color:'#E8D5B0',marginBottom:4},recordDetail:{fontSize:13,color:'#E8D5B0',marginBottom:3},recordDate:{fontSize:12,color:'#B8A080'},billingSummary:{gap:12},billingRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',padding:12,backgroundColor:'rgba(60, 50, 30, 0.85)',borderRadius:8,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},billingLabel:{fontSize:14,color:'#B8A080',fontWeight:'600'},billingValue:{fontSize:18,color:'#FFD700',fontWeight:'bold',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},evidenceCard:{backgroundColor:'rgba(60, 50, 30, 0.85)',padding:15,borderRadius:10,marginBottom:12,borderLeftWidth:4,borderLeftColor:'#FFD700',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},evidenceHeader:{flexDirection:'row',alignItems:'center',marginBottom:8},evidenceIcon:{fontSize:24,marginRight:12},evidenceInfo:{flex:1},evidenceTitle:{fontSize:16,fontWeight:'600',color:'#FFD700',marginBottom:2,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},evidenceClient:{fontSize:13,color:'#E8D5B0'},evidenceBadge:{backgroundColor:'rgba(180, 120, 40, 0.9)',paddingHorizontal:8,paddingVertical:4,borderRadius:4,fontSize:11,fontWeight:'600',color:'#FFD700',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)',overflow:'hidden'},evidenceDate:{fontSize:12,color:'#B8A080',marginLeft:36},complianceCard:{backgroundColor:'rgba(30, 80, 50, 0.85)',padding:20,borderRadius:12,alignItems:'center',borderWidth:2,borderColor:'rgba(39, 174, 96, 0.6)'},complianceIcon:{fontSize:48,marginBottom:10},complianceTitle:{fontSize:20,fontWeight:'bold',color:'#90EE90',marginBottom:10,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},complianceText:{fontSize:14,color:'#E8D5B0',textAlign:'center',marginBottom:15,lineHeight:20},complianceFeatures:{alignSelf:'stretch',gap:8},complianceFeature:{fontSize:13,color:'#E8D5B0',paddingVertical:6},hipaaSection:{backgroundColor:'rgba(60, 50, 30, 0.85)',padding:16,borderRadius:10,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},hipaaDescription:{fontSize:14,color:'#E8D5B0',marginBottom:15,lineHeight:20},hipaaButton:{backgroundColor:'rgba(180, 120, 40, 0.9)',padding:15,borderRadius:8,alignItems:'center',borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)'},hipaaButtonText:{color:'#FFD700',fontSize:16,fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},connectionsButton:{backgroundColor:'rgba(180, 120, 40, 0.9)',padding:15,borderRadius:10,margin:16,marginBottom:8,alignItems:'center',borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)'},connectionsButtonText:{color:'#FFD700',fontSize:16,fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},logoutButton:{backgroundColor:'rgba(139, 69, 19, 0.9)',padding:15,borderRadius:10,margin:16,marginTop:8,alignItems:'center',borderWidth:2,borderColor:'rgba(255, 215, 0, 0.4)'},logoutText:{color:'#FFD700',fontSize:16,fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},disbursementCTA:{backgroundColor:'rgba(60, 50, 30, 0.9)',marginHorizontal:16,marginTop:12,marginBottom:8,borderRadius:12,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:4,elevation:6},disbursementCTAContent:{flexDirection:'row',alignItems:'center',padding:20},disbursementCTAIcon:{fontSize:40,marginRight:16},disbursementCTATextContainer:{flex:1},disbursementCTATitle:{fontSize:18,fontWeight:'bold',color:'#FFD700',marginBottom:4,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},disbursementCTASubtitle:{fontSize:14,color:'#E8D5B0',opacity:.9},disbursementCTAArrow:{fontSize:24,color:'#FFD700',fontWeight:'bold'},quickActionsContainer:{marginVertical:16},quickActionsTitle:{fontSize:16,fontWeight:'600',color:'#FFD700',marginBottom:12,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},quickActionsRow:{flexDirection:'row',gap:12,marginBottom:12},quickActionButton:{flex:1,backgroundColor:'rgba(60, 50, 30, 0.85)',borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',borderRadius:12,padding:16,alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:3},quickActionIcon:{fontSize:32,marginBottom:8},quickActionText:{fontSize:14,fontWeight:'600',color:'#FFD700',textAlign:'center',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2}});var B=({user:t,onNavigateToClient:c,onNavigate:B,onLogout:D})=>{const{width:R,height:F}=(0,x.default)(),[z,k]=(0,e.useState)('clients'),[W,v]=(0,e.useState)([]),[L,E]=(0,e.useState)(null),[P,N]=(0,e.useState)(null),[O,H]=(0,e.useState)(!0),[_,q]=(0,e.useState)(!1),[V,G]=(0,e.useState)(!1),[M,$]=(0,e.useState)(''),{unreadCount:U}=(0,A.useNotifications)();(0,e.useEffect)(()=>{J()},[]);const J=async()=>{try{console.log('[Dashboard] Fetching dashboard data...'),console.log('[Dashboard] Token:',t?.token?'Present':'Missing'),console.log('[Dashboard] API URL:',y.API_ENDPOINTS.LAWFIRM.DASHBOARD);const e=await(0,y.apiRequest)(y.API_ENDPOINTS.LAWFIRM.DASHBOARD,{method:'GET',headers:{Authorization:`Bearer ${t.token}`}});console.log('[Dashboard] Data received:',e),console.log('[Dashboard] Clients count:',e.clients?.length||0),E({firmName:e.firmName,firmCode:e.firmCode,totalClients:e.totalClients}),v(e.clients||[]),N(e.analytics||{totalClients:e.totalClients||0,preLitigationCount:0,litigationCount:0,trialCount:0})}catch(t){console.error('[Dashboard] Error fetching dashboard:',t)}finally{H(!1)}},Q=(t,e,l)=>(0,T.jsxs)(s.default,{style:[I.tab,z===t&&I.activeTab],onPress:()=>k(t),children:[(0,T.jsxs)(o.default,{style:I.tabIconContainer,children:[(0,T.jsx)(n.default,{style:I.tabIcon,children:l}),'notifications'===t&&U>0&&(0,T.jsx)(o.default,{style:I.notificationBadge,children:(0,T.jsx)(n.default,{style:I.notificationBadgeText,children:U>99?'99+':U})})]}),(0,T.jsx)(n.default,{style:[I.tabText,z===t&&I.activeTabText],children:e})]}),K=()=>{if(!M.trim())return W;const t=M.toLowerCase();return W.filter(e=>e.displayName?.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t)||e.firstName?.toLowerCase().includes(t)||e.lastName?.toLowerCase().includes(t))};if(O)return(0,T.jsxs)(o.default,{style:I.loadingContainer,children:[(0,T.jsx)(f.default,{size:"large",color:b.theme.colors.mahogany}),(0,T.jsx)(n.default,{style:I.loadingText,children:"Loading the Portal"})]});return(0,T.jsxs)(o.default,{style:I.container,children:[(0,T.jsx)(u.default,{source:r(d[22]),style:[I.backgroundImage,{width:R,height:F}],resizeMode:"cover",children:(0,T.jsxs)(o.default,{style:I.overlay,children:[(0,T.jsxs)(o.default,{style:I.header,children:[(0,T.jsxs)(o.default,{style:I.firmInfo,children:[(0,T.jsxs)(n.default,{style:I.firmName,children:["\u2693 ",L?.firmName||'Law Firm Portal']}),(0,T.jsxs)(n.default,{style:I.firmCode,children:["Firm Code: ",L?.firmCode]})]}),(0,T.jsx)(s.default,{style:I.inviteButton,onPress:()=>q(!0),children:(0,T.jsx)(n.default,{style:I.inviteButtonText,children:"\ud83d\udc4d Invite"})})]}),(0,T.jsx)(s.default,{style:I.disbursementCTA,onPress:()=>{B&&B('disbursement-dashboard')},children:(0,T.jsxs)(o.default,{style:I.disbursementCTAContent,children:[(0,T.jsx)(n.default,{style:I.disbursementCTAIcon,children:"\ud83d\udcb0"}),(0,T.jsxs)(o.default,{style:I.disbursementCTATextContainer,children:[(0,T.jsx)(n.default,{style:I.disbursementCTATitle,children:"Settlement Disbursements"}),(0,T.jsx)(n.default,{style:I.disbursementCTASubtitle,children:"Send payments to clients & medical providers"})]}),(0,T.jsx)(n.default,{style:I.disbursementCTAArrow,children:"\u2192"})]})}),(0,T.jsxs)(o.default,{style:I.tabBar,children:[Q('clients','Clients','\ud83d\udc65'),Q('analytics','Analytics','\ud83d\udcca'),Q('notifications','Notifications','\ud83d\udd14'),Q('subscription','Subscription','\ud83d\udcb3'),Q('settings','Settings','\u2699\ufe0f')]}),(0,T.jsxs)(l.default,{style:I.content,children:['clients'===z&&(()=>{const t=K();return(0,T.jsx)(o.default,{style:I.tabContent,children:(0,T.jsxs)(o.default,{style:I.section,children:[(0,T.jsx)(n.default,{style:I.sectionTitle,children:"\u2693 Active Clients"}),(0,T.jsxs)(o.default,{style:I.searchContainer,children:[(0,T.jsx)(n.default,{style:I.searchIcon,children:"\ud83d\udd0d"}),(0,T.jsx)(h.default,{style:I.searchInput,placeholder:"Search clients by name or email...",placeholderTextColor:b.theme.colors.warmGray,value:M,onChangeText:$}),M.length>0&&(0,T.jsx)(s.default,{onPress:()=>$(''),style:I.clearButton,children:(0,T.jsx)(n.default,{style:I.clearButtonText,children:"\u2715"})})]}),(0,T.jsxs)(o.default,{style:I.quickActionsContainer,children:[(0,T.jsx)(n.default,{style:I.quickActionsTitle,children:"\u26a1 Quick Actions"}),(0,T.jsxs)(o.default,{style:I.quickActionsRow,children:[(0,T.jsxs)(s.default,{style:I.quickActionButton,onPress:()=>B&&B('lawfirm-user-management'),children:[(0,T.jsx)(n.default,{style:I.quickActionIcon,children:"\ud83d\udc65"}),(0,T.jsx)(n.default,{style:I.quickActionText,children:"Manage Users"})]}),(0,T.jsxs)(s.default,{style:I.quickActionButton,onPress:()=>B&&B('lawfirm-activity-dashboard'),children:[(0,T.jsx)(n.default,{style:I.quickActionIcon,children:"\ud83d\udcca"}),(0,T.jsx)(n.default,{style:I.quickActionText,children:"Activity Logs"})]})]}),(0,T.jsxs)(o.default,{style:I.quickActionsRow,children:[(0,T.jsxs)(s.default,{style:I.quickActionButton,onPress:()=>B&&B('lawfirm-negotiations'),children:[(0,T.jsx)(n.default,{style:I.quickActionIcon,children:"\ud83d\udcb0"}),(0,T.jsx)(n.default,{style:I.quickActionText,children:"Bill Negotiations"})]}),(0,T.jsxs)(s.default,{style:I.quickActionButton,onPress:()=>B&&B('lawfirm-disbursements'),children:[(0,T.jsx)(n.default,{style:I.quickActionIcon,children:"\ud83d\udcb5"}),(0,T.jsx)(n.default,{style:I.quickActionText,children:"Disbursements"})]})]})]}),0===W.length?(0,T.jsxs)(o.default,{style:I.emptyState,children:[(0,T.jsx)(n.default,{style:I.emptyIcon,children:"\ud83c\udff4\u200d\u2620\ufe0f"}),(0,T.jsx)(n.default,{style:I.emptyText,children:"No clients aboard yet!"}),(0,T.jsxs)(n.default,{style:I.emptySubtext,children:["Share your firm code with clients to get started: ",L?.firmCode]})]}):0===t.length?(0,T.jsxs)(o.default,{style:I.emptyState,children:[(0,T.jsx)(n.default,{style:I.emptyIcon,children:"\ud83d\udd0d"}),(0,T.jsx)(n.default,{style:I.emptyText,children:"No clients found"}),(0,T.jsx)(n.default,{style:I.emptySubtext,children:"Try a different search term"})]}):t.map(t=>(0,T.jsxs)(s.default,{style:I.clientCard,onPress:()=>c(t.id),children:[(0,T.jsxs)(o.default,{style:I.clientHeader,children:[(0,T.jsxs)(n.default,{style:I.clientName,children:["\ud83e\udded ",t.displayName]}),(0,T.jsx)(n.default,{style:I.clientBadge,children:t.litigationStage||'Not Started'})]}),(0,T.jsx)(n.default,{style:I.clientEmail,children:t.email}),(0,T.jsxs)(o.default,{style:I.litigationSection,children:[(0,T.jsxs)(o.default,{style:I.litigationHeader,children:[(0,T.jsx)(n.default,{style:I.litigationLabel,children:"\u2696\ufe0f Litigation Progress:"}),(0,T.jsx)(n.default,{style:I.litigationStage,children:t.litigationStage||'Not Started'})]}),(0,T.jsx)(o.default,{style:I.progressBarContainer,children:(0,T.jsx)(o.default,{style:[I.progressBarFill,{width:`${t.litigationProgress||0}%`}]})}),(0,T.jsxs)(n.default,{style:I.progressText,children:[t.litigationProgress||0,"% Complete"]})]}),(0,T.jsxs)(o.default,{style:I.clientStats,children:[(0,T.jsxs)(n.default,{style:I.clientStat,children:["\ud83d\udccb ",t.medicalRecordCount||0," Records"]}),(0,T.jsxs)(n.default,{style:I.clientStat,children:["\ud83d\udcb0 $",t.totalBilled||0," Billed"]})]}),(0,T.jsxs)(n.default,{style:I.clientDate,children:["\u23f0 Registered: ",new Date(t.registeredDate).toLocaleDateString()]})]},t.id))]})})})(),'analytics'===z&&(()=>{const t=P?.totalClients||0,e=P?.preLitigationCount||0,l=P?.litigationCount||0,s=P?.trialCount||0,c=t>0?Math.round(e/t*100):0,f=t>0?Math.round(l/t*100):0,h=t>0?Math.round(s/t*100):0;return(0,T.jsxs)(o.default,{style:I.tabContent,children:[(0,T.jsxs)(o.default,{style:I.section,children:[(0,T.jsx)(n.default,{style:I.sectionTitle,children:"\ud83d\udcca Firm Analytics"}),(0,T.jsxs)(o.default,{style:I.statsGrid,children:[(0,T.jsxs)(o.default,{style:I.statCard,children:[(0,T.jsx)(n.default,{style:I.statIcon,children:"\ud83d\udc65"}),(0,T.jsx)(n.default,{style:I.statValue,children:t}),(0,T.jsx)(n.default,{style:I.statLabel,children:"Total Clients"})]}),(0,T.jsxs)(o.default,{style:[I.statCard,{borderLeftColor:C.CASE_PHASES.PRE_LITIGATION.color,borderLeftWidth:4}],children:[(0,T.jsx)(n.default,{style:I.statIcon,children:C.CASE_PHASES.PRE_LITIGATION.icon}),(0,T.jsx)(n.default,{style:I.statValue,children:e}),(0,T.jsx)(n.default,{style:I.statLabel,children:"Pre-Litigation"})]}),(0,T.jsxs)(o.default,{style:[I.statCard,{borderLeftColor:C.CASE_PHASES.LITIGATION.color,borderLeftWidth:4}],children:[(0,T.jsx)(n.default,{style:I.statIcon,children:C.CASE_PHASES.LITIGATION.icon}),(0,T.jsx)(n.default,{style:I.statValue,children:l}),(0,T.jsx)(n.default,{style:I.statLabel,children:"Litigation"})]}),(0,T.jsxs)(o.default,{style:[I.statCard,{borderLeftColor:C.CASE_PHASES.TRIAL.color,borderLeftWidth:4}],children:[(0,T.jsx)(n.default,{style:I.statIcon,children:C.CASE_PHASES.TRIAL.icon}),(0,T.jsx)(n.default,{style:I.statValue,children:s}),(0,T.jsx)(n.default,{style:I.statLabel,children:"Trial"})]})]})]}),(0,T.jsxs)(o.default,{style:I.section,children:[(0,T.jsx)(n.default,{style:I.sectionTitle,children:"\ud83c\udfaf Case Phase Distribution"}),(0,T.jsxs)(o.default,{style:I.phaseRow,children:[(0,T.jsxs)(o.default,{style:I.phaseInfo,children:[(0,T.jsxs)(n.default,{style:I.phaseName,children:[C.CASE_PHASES.PRE_LITIGATION.icon," ",C.CASE_PHASES.PRE_LITIGATION.name]}),(0,T.jsxs)(n.default,{style:I.phaseCount,children:[e," clients (",c,"%)"]})]}),(0,T.jsx)(o.default,{style:I.progressBarContainer,children:(0,T.jsx)(o.default,{style:[I.progressBarFill,{width:`${c}%`,backgroundColor:C.CASE_PHASES.PRE_LITIGATION.color}]})})]}),(0,T.jsxs)(o.default,{style:I.phaseRow,children:[(0,T.jsxs)(o.default,{style:I.phaseInfo,children:[(0,T.jsxs)(n.default,{style:I.phaseName,children:[C.CASE_PHASES.LITIGATION.icon," ",C.CASE_PHASES.LITIGATION.name]}),(0,T.jsxs)(n.default,{style:I.phaseCount,children:[l," clients (",f,"%)"]})]}),(0,T.jsx)(o.default,{style:I.progressBarContainer,children:(0,T.jsx)(o.default,{style:[I.progressBarFill,{width:`${f}%`,backgroundColor:C.CASE_PHASES.LITIGATION.color}]})})]}),(0,T.jsxs)(o.default,{style:I.phaseRow,children:[(0,T.jsxs)(o.default,{style:I.phaseInfo,children:[(0,T.jsxs)(n.default,{style:I.phaseName,children:[C.CASE_PHASES.TRIAL.icon," ",C.CASE_PHASES.TRIAL.name]}),(0,T.jsxs)(n.default,{style:I.phaseCount,children:[s," clients (",h,"%)"]})]}),(0,T.jsx)(o.default,{style:I.progressBarContainer,children:(0,T.jsx)(o.default,{style:[I.progressBarFill,{width:`${h}%`,backgroundColor:C.CASE_PHASES.TRIAL.color}]})})]})]}),(0,T.jsxs)(o.default,{style:I.section,children:[(0,T.jsx)(n.default,{style:I.sectionTitle,children:"\ud83d\udcc8 Recent Activity"}),(0,T.jsxs)(o.default,{style:I.activityList,children:[(0,T.jsxs)(o.default,{style:I.activityItem,children:[(0,T.jsx)(n.default,{style:I.activityIcon,children:"\ud83c\udd95"}),(0,T.jsxs)(o.default,{style:I.activityContent,children:[(0,T.jsx)(n.default,{style:I.activityText,children:"Welcome to your Law Firm Portal"}),(0,T.jsx)(n.default,{style:I.activityTime,children:"Just now"})]})]}),W.length>0&&(0,T.jsxs)(o.default,{style:I.activityItem,children:[(0,T.jsx)(n.default,{style:I.activityIcon,children:"\ud83d\udc64"}),(0,T.jsxs)(o.default,{style:I.activityContent,children:[(0,T.jsxs)(n.default,{style:I.activityText,children:[W.length," client(s) registered"]}),(0,T.jsx)(n.default,{style:I.activityTime,children:"Today"})]})]})]})]})]})})(),'notifications'===z&&(0,T.jsxs)(o.default,{style:I.tabContent,children:[(0,T.jsxs)(o.default,{style:I.section,children:[(0,T.jsx)(n.default,{style:I.sectionTitle,children:"\ud83d\udd14 Client Notifications"}),(0,T.jsx)(n.default,{style:I.sectionDescription,children:"Send notifications to your clients about case updates, deadlines, and important tasks."}),(0,T.jsxs)(s.default,{style:I.notificationActionCard,onPress:()=>B&&B('lawfirm-send-notification'),children:[(0,T.jsx)(o.default,{style:I.notificationActionIcon,children:(0,T.jsx)(n.default,{style:I.notificationActionIconText,children:"\ud83d\udce8"})}),(0,T.jsxs)(o.default,{style:I.notificationActionContent,children:[(0,T.jsx)(n.default,{style:I.notificationActionTitle,children:"Send Notification"}),(0,T.jsx)(n.default,{style:I.notificationActionDescription,children:"Compose and send notifications to your clients"})]}),(0,T.jsx)(n.default,{style:I.notificationActionArrow,children:"\u2192"})]}),(0,T.jsxs)(s.default,{style:I.notificationActionCard,onPress:()=>B&&B('lawfirm-notification-analytics'),children:[(0,T.jsx)(o.default,{style:I.notificationActionIcon,children:(0,T.jsx)(n.default,{style:I.notificationActionIconText,children:"\ud83d\udcca"})}),(0,T.jsxs)(o.default,{style:I.notificationActionContent,children:[(0,T.jsx)(n.default,{style:I.notificationActionTitle,children:"View Analytics"}),(0,T.jsx)(n.default,{style:I.notificationActionDescription,children:"Track notification delivery, read, and click rates"})]}),(0,T.jsx)(n.default,{style:I.notificationActionArrow,children:"\u2192"})]}),(0,T.jsxs)(s.default,{style:I.notificationActionCard,onPress:()=>B&&B('lawfirm-event-requests'),children:[(0,T.jsx)(o.default,{style:I.notificationActionIcon,children:(0,T.jsx)(n.default,{style:I.notificationActionIconText,children:"\ud83d\udcc5"})}),(0,T.jsxs)(o.default,{style:I.notificationActionContent,children:[(0,T.jsx)(n.default,{style:I.notificationActionTitle,children:"Event Requests"}),(0,T.jsx)(n.default,{style:I.notificationActionDescription,children:"Request depositions, mediations, and consultations from clients"})]}),(0,T.jsx)(n.default,{style:I.notificationActionArrow,children:"\u2192"})]}),(0,T.jsxs)(s.default,{style:I.notificationActionCard,onPress:()=>B&&B('lawfirm-negotiations'),children:[(0,T.jsx)(o.default,{style:I.notificationActionIcon,children:(0,T.jsx)(n.default,{style:I.notificationActionIconText,children:"\ud83d\udcb0"})}),(0,T.jsxs)(o.default,{style:I.notificationActionContent,children:[(0,T.jsx)(n.default,{style:I.notificationActionTitle,children:"Bill Negotiations"}),(0,T.jsx)(n.default,{style:I.notificationActionDescription,children:"Negotiate medical bills with providers"})]}),(0,T.jsx)(n.default,{style:I.notificationActionArrow,children:"\u2192"})]}),(0,T.jsxs)(s.default,{style:I.notificationActionCard,onPress:()=>B&&B('lawfirm-disbursements'),children:[(0,T.jsx)(o.default,{style:I.notificationActionIcon,children:(0,T.jsx)(n.default,{style:I.notificationActionIconText,children:"\ud83d\udcb5"})}),(0,T.jsxs)(o.default,{style:I.notificationActionContent,children:[(0,T.jsx)(n.default,{style:I.notificationActionTitle,children:"Settlement Disbursements"}),(0,T.jsx)(n.default,{style:I.notificationActionDescription,children:"Disburse settlement proceeds to clients and medical providers"})]}),(0,T.jsx)(n.default,{style:I.notificationActionArrow,children:"\u2192"})]})]}),(0,T.jsxs)(o.default,{style:I.section,children:[(0,T.jsx)(n.default,{style:I.sectionTitle,children:"\ud83d\udccb Notification Templates"}),(0,T.jsx)(n.default,{style:I.sectionDescription,children:"Use pre-built templates for common client communications:"}),(0,T.jsxs)(o.default,{style:I.templatesList,children:[(0,T.jsxs)(o.default,{style:I.templateItem,children:[(0,T.jsx)(n.default,{style:I.templateIcon,children:"\u23f0"}),(0,T.jsx)(n.default,{style:I.templateText,children:"Deadline Reminders"})]}),(0,T.jsxs)(o.default,{style:I.templateItem,children:[(0,T.jsx)(n.default,{style:I.templateIcon,children:"\ud83d\udcc4"}),(0,T.jsx)(n.default,{style:I.templateText,children:"Document Requests"})]}),(0,T.jsxs)(o.default,{style:I.templateItem,children:[(0,T.jsx)(n.default,{style:I.templateIcon,children:"\ud83d\udcc5"}),(0,T.jsx)(n.default,{style:I.templateText,children:"Appointment Reminders"})]}),(0,T.jsxs)(o.default,{style:I.templateItem,children:[(0,T.jsx)(n.default,{style:I.templateIcon,children:"\ud83d\udce2"}),(0,T.jsx)(n.default,{style:I.templateText,children:"Case Updates"})]}),(0,T.jsxs)(o.default,{style:I.templateItem,children:[(0,T.jsx)(n.default,{style:I.templateIcon,children:"\ud83d\udccb"}),(0,T.jsx)(n.default,{style:I.templateText,children:"Task Reminders"})]})]})]})]}),'subscription'===z&&(0,T.jsx)(p.default,{token:t.token}),'settings'===z&&(0,T.jsx)(w.default,{user:t,onBack:()=>k('clients')}),(0,T.jsx)(s.default,{style:I.connectionsButton,onPress:()=>G(!0),children:(0,T.jsx)(n.default,{style:I.connectionsButtonText,children:"\ud83d\udd17 My Connections"})}),(0,T.jsx)(s.default,{style:I.logoutButton,onPress:D,children:(0,T.jsx)(n.default,{style:I.logoutText,children:"\ud83d\udeaa Sign Out"})})]})]})}),(0,T.jsx)(j.default,{visible:V,onClose:()=>G(!1),user:t,userType:"lawfirm"}),(0,T.jsx)(S.default,{visible:_,onClose:()=>q(!1),user:t})]})}},405,[13,85,161,177,162,26,354,340,369,165,132,135,133,353,364,406,407,413,414,415,136,153,416]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return C}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6]));e(r(d[7]));r(d[8]);var f=e(r(d[9])),h=r(d[10]),p=r(d[11]),y=e(r(d[12])),b=r(d[13]);const x={tiers:[{name:'Solo/Shingle',min:1,max:24,standard:{monthly:45,annual:486,features:['Up to 24 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:59,annual:637,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Perfect for solo practitioners'},{name:'Boutique',min:25,max:49,standard:{monthly:80,annual:864,features:['Up to 49 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:104,annual:1123,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Small specialized firms'},{name:'Small Firm',min:50,max:99,standard:{monthly:140,annual:1512,features:['Up to 99 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:175,annual:1890,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Growing practice'},{name:'Medium-Small',min:100,max:199,standard:{monthly:250,annual:2700,features:['Up to 199 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:300,annual:3240,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Established regional firms'},{name:'Medium-Large',min:200,max:299,standard:{monthly:420,annual:4536,features:['Up to 299 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:490,annual:5292,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Multi-location firms'},{name:'Large',min:300,max:499,standard:{monthly:660,annual:7128,features:['Up to 499 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:750,annual:8100,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Large metropolitan firms'},{name:'Regional',min:500,max:749,standard:{monthly:1050,annual:11340,features:['Up to 749 clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:1200,annual:12960,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'Multi-state operations'},{name:'Enterprise',min:750,max:1/0,standard:{monthly:1500,annual:16200,features:['Unlimited clients','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access']},premium:{monthly:1800,annual:19440,features:['Everything in Basic','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Disbursements to Client Unlocked (COMING SOON)','\ud83c\udfe5 Disbursements to Medical Providers Unlocked (COMING SOON)']},description:'National firms and corporations'}]},T=u.default.create({container:{flex:1,backgroundColor:p.theme.colors.background},backButton:{flexDirection:'row',alignItems:'center',padding:15,backgroundColor:p.theme.colors.primary,borderBottomWidth:1,borderBottomColor:'rgba(255,255,255,0.2)'},backButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:p.theme.colors.background},loadingText:{marginTop:10,fontSize:16,color:p.theme.colors.textSecondary},header:{backgroundColor:p.theme.colors.primary,padding:20,paddingTop:40},headerTitle:{fontSize:24,fontWeight:'bold',color:'#fff',marginBottom:5},headerSubtitle:{fontSize:14,color:'#e0e0e0'},currentPlanCard:{backgroundColor:'#fff',margin:15,padding:20,borderRadius:10,borderWidth:2,borderColor:p.theme.colors.primary,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},currentPlanTitle:{fontSize:18,fontWeight:'bold',color:p.theme.colors.primary,marginBottom:15},currentPlanDetails:{gap:10},detailRow:{flexDirection:'row',justifyContent:'space-between',paddingVertical:5},detailLabel:{fontSize:14,color:p.theme.colors.textSecondary,fontWeight:'500'},detailValue:{fontSize:14,color:p.theme.colors.text,fontWeight:'bold'},currentCount:{color:p.theme.colors.primary},planTypeBadgeContainer:{flexDirection:'row',alignItems:'center',gap:8},planTypeBadge:{backgroundColor:p.theme.colors.warmGold,borderRadius:12,paddingHorizontal:6,paddingVertical:2,borderWidth:1,borderColor:p.theme.colors.secondary},planTypeBadgeText:{fontSize:12,color:p.theme.colors.navy},premiumPlanText:{color:p.theme.colors.mahogany,fontWeight:'bold'},calculatorContainer:{padding:20},calculator:{backgroundColor:'#fff',borderRadius:16,padding:24,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:4,marginBottom:20},calculatorTitle:{fontSize:28,fontWeight:'bold',color:p.theme.colors.text,marginBottom:8,textAlign:'center'},calculatorSubtitle:{fontSize:16,color:p.theme.colors.textSecondary,textAlign:'center',marginBottom:24},inputGroup:{marginBottom:24},inputLabel:{fontSize:16,fontWeight:'600',color:p.theme.colors.text,marginBottom:8},input:{backgroundColor:'#f5f5f5',borderRadius:12,padding:16,fontSize:18,borderWidth:2,borderColor:p.theme.colors.border,color:p.theme.colors.text},planTypeSelector:{marginBottom:24},planTypeSelectorLabel:{fontSize:16,fontWeight:'600',color:p.theme.colors.text,marginBottom:12},planTypeButtons:{flexDirection:'row',gap:12},planTypeButton:{flex:1,backgroundColor:'#f5f5f5',borderRadius:12,padding:16,alignItems:'center',borderWidth:2,borderColor:p.theme.colors.border},planTypeButtonActive:{backgroundColor:'#e8f4ff',borderColor:p.theme.colors.primary},planTypeButtonText:{fontSize:16,fontWeight:'bold',color:p.theme.colors.text,marginBottom:4},planTypeButtonTextActive:{color:p.theme.colors.primary},planTypeButtonSubtext:{fontSize:12,color:p.theme.colors.textSecondary},premiumBadgeSmall:{backgroundColor:'#ffd700',paddingHorizontal:8,paddingVertical:2,borderRadius:6,marginBottom:4},premiumBadgeText:{fontSize:10,fontWeight:'bold',color:'#000'},billingToggle:{flexDirection:'row',backgroundColor:'#f0f0f0',borderRadius:12,padding:4,marginBottom:24},toggleButton:{flex:1,paddingVertical:12,paddingHorizontal:16,borderRadius:8,alignItems:'center',position:'relative'},toggleActive:{backgroundColor:'#fff',shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},toggleText:{fontSize:14,fontWeight:'600',color:p.theme.colors.textSecondary},toggleTextActive:{color:p.theme.colors.primary},savingsBadge:{position:'absolute',top:-8,right:8,backgroundColor:'#4caf50',paddingHorizontal:6,paddingVertical:2,borderRadius:6},savingsText:{color:'#fff',fontSize:10,fontWeight:'bold'},results:{marginTop:24,padding:20,backgroundColor:'#f8f9fa',borderRadius:12,borderWidth:2,borderColor:p.theme.colors.border},tierBadgeContainer:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},tierBadge:{backgroundColor:p.theme.colors.primary,paddingVertical:8,paddingHorizontal:16,borderRadius:8},tierName:{color:'#fff',fontSize:18,fontWeight:'bold'},tierRange:{color:'#fff',fontSize:12,marginTop:2},premiumPill:{backgroundColor:'#ffd700',paddingHorizontal:12,paddingVertical:6,borderRadius:12},premiumPillText:{fontSize:12,fontWeight:'bold',color:'#000'},tierDescription:{fontSize:14,color:p.theme.colors.textSecondary,marginBottom:16,fontStyle:'italic'},priceDisplay:{flexDirection:'row',alignItems:'baseline',justifyContent:'center',marginBottom:8},priceAmount:{fontSize:48,fontWeight:'bold',color:p.theme.colors.primary},pricePeriod:{fontSize:18,color:p.theme.colors.textSecondary,marginLeft:4},priceDetails:{alignItems:'center',marginBottom:20},perClientText:{fontSize:14,color:p.theme.colors.textSecondary,marginBottom:4},savingsHighlight:{fontSize:14,color:'#4caf50',fontWeight:'bold'},featuresContainer:{marginBottom:20},featuresTitle:{fontSize:16,fontWeight:'bold',color:p.theme.colors.text,marginBottom:12},featureRow:{flexDirection:'row',alignItems:'flex-start',marginBottom:8},featureCheck:{color:'#4caf50',fontSize:16,fontWeight:'bold',marginRight:8,marginTop:2},featureText:{flex:1,fontSize:14,color:p.theme.colors.text,lineHeight:20},selectButton:{backgroundColor:p.theme.colors.primary,paddingVertical:16,borderRadius:12,alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:3,marginBottom:12},selectButtonPremium:{backgroundColor:'#ffd700',borderWidth:2,borderColor:'#000'},selectButtonDisabled:{opacity:.6},selectButtonText:{fontSize:16,fontWeight:'bold',color:'#fff'},upgradeHint:{paddingVertical:12,alignItems:'center'},upgradeHintText:{fontSize:14,color:p.theme.colors.primary,textDecorationLine:'underline'},pricingTableContainer:{marginTop:24},pricingTableHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:16},pricingTableTitle:{fontSize:18,fontWeight:'bold',color:p.theme.colors.text},pricingTableToggle:{flexDirection:'row',backgroundColor:'#f0f0f0',borderRadius:8,padding:2},tableToggleButton:{paddingHorizontal:12,paddingVertical:6,borderRadius:6},tableToggleActive:{backgroundColor:'#fff'},tableToggleText:{fontSize:12,color:p.theme.colors.textSecondary,fontWeight:'600'},tableToggleTextActive:{color:p.theme.colors.primary},pricingTable:{flexDirection:'row',gap:12},pricingTableColumn:{width:120,backgroundColor:'#fff',borderRadius:8,padding:12,borderWidth:2,borderColor:p.theme.colors.border,alignItems:'center'},pricingTableColumnActive:{borderColor:p.theme.colors.primary,backgroundColor:'#e8f4ff'},tableColumnName:{fontSize:12,fontWeight:'bold',color:p.theme.colors.text,textAlign:'center',marginBottom:4},tableColumnRange:{fontSize:10,color:p.theme.colors.textSecondary,marginBottom:8},tableColumnPrice:{fontSize:18,fontWeight:'bold',color:p.theme.colors.primary},tableColumnPeriod:{fontSize:10,color:p.theme.colors.textSecondary},additionalRevenueBox:{backgroundColor:'#fff9e6',padding:20,borderRadius:12,borderWidth:2,borderColor:'#ffd700'},revenueBoxTitle:{fontSize:18,fontWeight:'bold',color:'#8b7500',marginBottom:12},revenueBoxText:{fontSize:14,color:'#665500',lineHeight:20,marginBottom:12},comingSoonBadge:{backgroundColor:'#4caf50',paddingVertical:8,paddingHorizontal:16,borderRadius:8,alignSelf:'flex-start'},comingSoonText:{color:'#fff',fontWeight:'bold',fontSize:12}});var C=({token:e,onBack:u})=>{const[C,S]=(0,t.useState)(!0),[B,j]=(0,t.useState)(!1),[O,P]=(0,t.useState)(null),[v,N]=(0,t.useState)(''),[A,D]=(0,t.useState)('monthly'),[I,k]=(0,t.useState)('standard');(0,t.useEffect)(()=>{M()},[]);const M=async()=>{try{S(!0);const t=await(0,h.apiRequest)(h.API_ENDPOINTS.SUBSCRIPTION.LAWFIRM_CURRENT,{method:'GET',headers:{Authorization:`Bearer ${e}`}});P(t.subscription),t.subscription?.planType&&k(t.subscription.planType)}catch(e){console.error('Error fetching subscription:',e),alert('Failed to load subscription details')}finally{S(!1)}},w=(e=>{const t=parseInt(e);return isNaN(t)||t<1?null:x.tiers.find(e=>t>=e.min&&t<=e.max)})(v),R=e=>{if(!e)return 0;const t=e[I];return'monthly'===A?t.monthly:t.annual},z=(e,t)=>{if('premium'===O?.planType&&'standard'===I){confirm("\u26a0\ufe0f DOWNGRADE WARNING\n\nYou are about to downgrade from Premium to Standard.\n\n\u26d4 You will LOSE access to:\n\u2022 Settlement Disbursements\n\u2022 Premium Analytics Dashboard\n\u2022 Medical Hub (when available)\n\u2022 Medical Provider Payments (when available)\n\n\ud83d\udcb0 Any pending disbursements should be completed before downgrading.\n\nAre you sure you want to downgrade to Standard?")&&t()}else t()},W=async t=>{z(0,async()=>{try{j(!0);const o={subscriptionTier:t.name.toLowerCase().replace(/[^a-z]/g,''),planType:I,firmSize:{clientCount:v?parseInt(v):null,tierName:t.name,billingPeriod:A,planType:I}};console.log('[LawFirm Subscription] Sending update request:',o),console.log('[LawFirm Subscription] Stringified body:',JSON.stringify(o));await(0,h.apiRequest)(h.API_ENDPOINTS.SUBSCRIPTION.LAWFIRM_UPDATE,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e}`},body:JSON.stringify(o)});try{await M()}catch(e){console.error('Error refreshing subscription details:',e)}alert('Subscription updated successfully!')}catch(e){console.error('Error updating subscription:',e),alert(e.message||'Failed to update subscription')}finally{j(!1)}})};if(C)return(0,b.jsxs)(o.default,{style:T.loadingContainer,children:[(0,b.jsx)(c.default,{size:"large",color:p.theme.colors.primary}),(0,b.jsx)(n.default,{style:T.loadingText,children:"Loading subscription details..."})]});return(0,b.jsxs)(s.default,{style:T.container,children:[u&&(0,b.jsx)(l.default,{style:T.backButton,onPress:u,children:(0,b.jsx)(n.default,{style:T.backButtonText,children:"\u2190 Back to Dashboard"})}),(0,b.jsxs)(o.default,{style:T.header,children:[(0,b.jsx)(n.default,{style:T.headerTitle,children:"\u2696\ufe0f Subscription Management"}),(0,b.jsx)(n.default,{style:T.headerSubtitle,children:"Manage your law firm subscription"})]}),(()=>{if(!O)return null;const e='premium'===O.planType?'Premium':'Standard',t='premium'===O.planType;return(0,b.jsxs)(o.default,{style:T.currentPlanCard,children:[(0,b.jsx)(n.default,{style:T.currentPlanTitle,children:"Current Subscription"}),(0,b.jsxs)(o.default,{style:T.currentPlanDetails,children:[(0,b.jsxs)(o.default,{style:T.detailRow,children:[(0,b.jsx)(n.default,{style:T.detailLabel,children:"Plan Type:"}),(0,b.jsxs)(o.default,{style:T.planTypeBadgeContainer,children:[t&&(0,b.jsx)(o.default,{style:T.planTypeBadge,children:(0,b.jsx)(n.default,{style:T.planTypeBadgeText,children:"\u2b50"})}),(0,b.jsx)(n.default,{style:[T.detailValue,t&&T.premiumPlanText],children:e})]})]}),(0,b.jsxs)(o.default,{style:T.detailRow,children:[(0,b.jsx)(n.default,{style:T.detailLabel,children:"Current Clients:"}),(0,b.jsx)(n.default,{style:[T.detailValue,T.currentCount],children:O.currentClientCount})]}),(0,b.jsxs)(o.default,{style:T.detailRow,children:[(0,b.jsx)(n.default,{style:T.detailLabel,children:"Client Limit:"}),(0,b.jsx)(n.default,{style:T.detailValue,children:999999===O.clientLimit?'Unlimited':O.clientLimit})]})]})]})})(),(0,b.jsx)(y.default,{heading:"\ud83d\udcca Compare Plans",subheading:"Choose the plan that best fits your firm's needs",standardFeatures:['Client limits vary by tier','\ud83d\udccd Interactive Roadmap','\ud83d\udd14 Push Notifications to Clients','\ud83d\udcca Basic Analytics Dashboard','\ud83d\udd12 Evidence Locker Access'],premiumFeatures:['\ud83d\udcc8 Premium Analytics Dashboard','\ud83d\udcb0 Settlement Disbursements','\ud83e\udd1d Negotiations Portal','\ud83c\udfe5 Medical Hub (COMING SOON)','\ud83c\udfe5 Medical Provider Payments (COMING SOON)'],showDisbursementNote:!0}),(0,b.jsxs)(o.default,{style:T.calculatorContainer,children:[(0,b.jsxs)(o.default,{style:T.calculator,children:[(0,b.jsx)(n.default,{style:T.calculatorTitle,children:"\ud83d\udcbc Calculate Your Price"}),(0,b.jsx)(n.default,{style:T.calculatorSubtitle,children:"Simple, transparent pricing based on your client count"}),(0,b.jsxs)(o.default,{style:T.inputGroup,children:[(0,b.jsx)(n.default,{style:T.inputLabel,children:"How many clients do you have?"}),(0,b.jsx)(f.default,{style:T.input,keyboardType:"number-pad",value:v,onChangeText:N,placeholder:"Enter number of clients",placeholderTextColor:"#999"})]}),(0,b.jsxs)(o.default,{style:T.planTypeSelector,children:[(0,b.jsx)(n.default,{style:T.planTypeSelectorLabel,children:"Select Plan Type:"}),(0,b.jsxs)(o.default,{style:T.planTypeButtons,children:[(0,b.jsxs)(l.default,{style:[T.planTypeButton,'standard'===I&&T.planTypeButtonActive],onPress:()=>k('standard'),children:[(0,b.jsx)(n.default,{style:[T.planTypeButtonText,'standard'===I&&T.planTypeButtonTextActive],children:"Standard"}),(0,b.jsx)(n.default,{style:T.planTypeButtonSubtext,children:"Core features"})]}),(0,b.jsxs)(l.default,{style:[T.planTypeButton,'premium'===I&&T.planTypeButtonActive],onPress:()=>k('premium'),children:[(0,b.jsx)(o.default,{style:T.premiumBadgeSmall,children:(0,b.jsx)(n.default,{style:T.premiumBadgeText,children:"\u2b50 PREMIUM"})}),(0,b.jsx)(n.default,{style:[T.planTypeButtonText,'premium'===I&&T.planTypeButtonTextActive],children:"Premium"}),(0,b.jsx)(n.default,{style:T.planTypeButtonSubtext,children:"Advanced features"})]})]})]}),(0,b.jsxs)(o.default,{style:T.billingToggle,children:[(0,b.jsx)(l.default,{style:[T.toggleButton,'monthly'===A&&T.toggleActive],onPress:()=>D('monthly'),children:(0,b.jsx)(n.default,{style:[T.toggleText,'monthly'===A&&T.toggleTextActive],children:"Monthly"})}),(0,b.jsxs)(l.default,{style:[T.toggleButton,'annual'===A&&T.toggleActive],onPress:()=>D('annual'),children:[(0,b.jsx)(n.default,{style:[T.toggleText,'annual'===A&&T.toggleTextActive],children:"Annual"}),(0,b.jsx)(o.default,{style:T.savingsBadge,children:(0,b.jsx)(n.default,{style:T.savingsText,children:"Save 10%"})})]})]}),w&&(0,b.jsxs)(o.default,{style:T.results,children:[(0,b.jsxs)(o.default,{style:T.tierBadgeContainer,children:[(0,b.jsxs)(o.default,{style:T.tierBadge,children:[(0,b.jsx)(n.default,{style:T.tierName,children:w.name}),(0,b.jsxs)(n.default,{style:T.tierRange,children:[w.min,"-",w.max===1/0?'999+':w.max," clients"]})]}),'premium'===I&&(0,b.jsx)(o.default,{style:T.premiumPill,children:(0,b.jsx)(n.default,{style:T.premiumPillText,children:"\u2b50 PREMIUM"})})]}),(0,b.jsx)(n.default,{style:T.tierDescription,children:w.description}),(0,b.jsxs)(o.default,{style:T.priceDisplay,children:[(0,b.jsxs)(n.default,{style:T.priceAmount,children:["$",R(w)]}),(0,b.jsxs)(n.default,{style:T.pricePeriod,children:["/",'monthly'===A?'mo':'yr']})]}),(0,b.jsxs)(o.default,{style:T.priceDetails,children:[(0,b.jsxs)(n.default,{style:T.perClientText,children:["Just $",((e,t)=>{if(!e||!t)return 0;return(R(e)/parseInt(t)).toFixed(2)})(w,v)," per client"]}),'annual'===A&&(0,b.jsxs)(n.default,{style:T.savingsHighlight,children:["\ud83d\udcb0 Save $",(e=>{if(!e)return 0;const t=e[I];return(12*t.monthly-t.annual).toFixed(2)})(w),"/year"]})]}),(0,b.jsxs)(o.default,{style:T.featuresContainer,children:[(0,b.jsx)(n.default,{style:T.featuresTitle,children:'premium'===I?'\u2b50 Premium Features:':'\ud83d\udce6 Standard Features:'}),w[I].features.map((e,t)=>(0,b.jsxs)(o.default,{style:T.featureRow,children:[(0,b.jsx)(n.default,{style:T.featureCheck,children:"\u2713"}),(0,b.jsx)(n.default,{style:T.featureText,children:e})]},t))]}),(0,b.jsx)(l.default,{style:[T.selectButton,'premium'===I&&T.selectButtonPremium,B&&T.selectButtonDisabled],onPress:()=>W(w),disabled:B,children:B?(0,b.jsx)(c.default,{color:"#fff"}):(0,b.jsxs)(n.default,{style:T.selectButtonText,children:["Update to ",w.name," ",'premium'===I?'Premium':'Standard']})}),'standard'===I&&(0,b.jsx)(l.default,{style:T.upgradeHint,onPress:()=>k('premium'),children:(0,b.jsx)(n.default,{style:T.upgradeHintText,children:"\u2b50 Upgrade to Premium for advanced features"})})]}),(0,b.jsxs)(o.default,{style:T.pricingTableContainer,children:[(0,b.jsxs)(o.default,{style:T.pricingTableHeader,children:[(0,b.jsx)(n.default,{style:T.pricingTableTitle,children:"All Tiers at a Glance"}),(0,b.jsxs)(o.default,{style:T.pricingTableToggle,children:[(0,b.jsx)(l.default,{style:[T.tableToggleButton,'standard'===I&&T.tableToggleActive],onPress:()=>k('standard'),children:(0,b.jsx)(n.default,{style:[T.tableToggleText,'standard'===I&&T.tableToggleTextActive],children:"Standard"})}),(0,b.jsx)(l.default,{style:[T.tableToggleButton,'premium'===I&&T.tableToggleActive],onPress:()=>k('premium'),children:(0,b.jsx)(n.default,{style:[T.tableToggleText,'premium'===I&&T.tableToggleTextActive],children:"Premium"})})]})]}),(0,b.jsx)(s.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,b.jsx)(o.default,{style:T.pricingTable,children:x.tiers.map((e,t)=>{const o=e[I],s='monthly'===A?o.monthly:o.annual;return(0,b.jsxs)(l.default,{style:[T.pricingTableColumn,w?.name===e.name&&T.pricingTableColumnActive],onPress:()=>W(e),disabled:B,children:[(0,b.jsx)(n.default,{style:T.tableColumnName,children:e.name}),(0,b.jsxs)(n.default,{style:T.tableColumnRange,children:[e.min,"-",e.max===1/0?'999+':e.max]}),(0,b.jsxs)(n.default,{style:T.tableColumnPrice,children:["$",s]}),(0,b.jsxs)(n.default,{style:T.tableColumnPeriod,children:["/",'monthly'===A?'mo':'yr']})]},t)})})})]})]}),(0,b.jsxs)(o.default,{style:T.additionalRevenueBox,children:[(0,b.jsx)(n.default,{style:T.revenueBoxTitle,children:"\ud83d\udcb0 Unlock Disbursements with Premium"}),(0,b.jsx)(n.default,{style:T.revenueBoxText,children:"Premium plan unlocks the ability to process settlement disbursements and pay clients and participating medical providers through the app."}),(0,b.jsx)(o.default,{style:T.comingSoonBadge,children:(0,b.jsx)(n.default,{style:T.comingSoonText,children:"\ud83d\ude80 COMING SOON"})})]})]})]})}},406,[13,85,161,162,177,354,26,116,82,340,135,132,346,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=(e(r(d[7])),e(r(d[8])));r(d[9]);var h=e(r(d[10]));r(d[11]),r(d[12]);var b=r(d[13]),x=r(d[14]),p=r(d[15]),y=r(d[16]);const w=(e,t)=>{'Success'===e?window.alert(`\u2705 ${t}`):'Error'===e?window.alert(`\u274c ${t}`):window.alert(`${e}\n${t}`)},C=({user:e,onDeactivate:t,onReactivate:n,onViewActivity:s})=>{const u={admin:x.lawFirmTheme.colors.gold,attorney:x.lawFirmTheme.colors.accentBlue,paralegal:x.lawFirmTheme.colors.lightBlue,staff:x.lawFirmTheme.colors.mediumGray};return(0,y.jsxs)(o.default,{style:T.userCard,children:[(0,y.jsxs)(o.default,{style:T.userCardContent,children:[(0,y.jsx)(o.default,{style:T.userAvatar,children:(0,y.jsxs)(l.default,{style:T.userInitials,children:[e.firstName[0],e.lastName[0]]})}),(0,y.jsxs)(o.default,{style:T.userInfo,children:[(0,y.jsxs)(l.default,{style:T.userName,children:[e.firstName," ",e.lastName]}),(0,y.jsx)(l.default,{style:T.userEmail,children:e.email}),(0,y.jsxs)(o.default,{style:T.userMeta,children:[(0,y.jsx)(o.default,{style:[T.roleBadge,{backgroundColor:u[e.role]+'30'}],children:(0,y.jsx)(l.default,{style:[T.roleText,{color:u[e.role]}],children:e.role.toUpperCase()})}),(0,y.jsx)(l.default,{style:T.userCode,children:e.userCode})]})]}),(0,y.jsx)(o.default,{style:T.userActions,children:'active'===e.status?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.default,{style:T.actionButton,onPress:s,children:(0,y.jsx)(l.default,{style:T.actionButtonText,children:"\ud83d\udcca"})}),(0,y.jsx)(c.default,{style:[T.actionButton,T.dangerButton],onPress:t,children:(0,y.jsx)(l.default,{style:T.actionButtonText,children:"\ud83d\udeab"})})]}):(0,y.jsx)(c.default,{style:[T.actionButton,T.successButton],onPress:n,children:(0,y.jsx)(l.default,{style:T.actionButtonText,children:"\u2705"})})})]}),e.lastLogin&&(0,y.jsxs)(l.default,{style:T.lastLogin,children:["Last login: ",new Date(e.lastLogin).toLocaleString()]})]})},S=({visible:e,onClose:s,onUserAdded:b,lawFirmToken:x})=>{const[C,S]=(0,t.useState)({firstName:'',lastName:'',email:'',password:'',role:'attorney',title:'',barNumber:'',phoneNumber:'',notificationMethod:'email'}),[j,v]=(0,t.useState)(!1);return(0,y.jsx)(f.default,{visible:e,animationType:"slide",transparent:!0,children:(0,y.jsx)(h.default,{source:r(d[18]),style:T.modalContainer,resizeMode:"cover",children:(0,y.jsx)(o.default,{style:T.modalOverlay,children:(0,y.jsxs)(o.default,{style:T.modalContent,children:[(0,y.jsx)(l.default,{style:T.modalTitle,children:"Add New User"}),(0,y.jsxs)(n.default,{children:[(0,y.jsx)(u.default,{style:T.input,placeholder:"First Name *",placeholderTextColor:"#999",value:C.firstName,onChangeText:e=>S(Object.assign({},C,{firstName:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Last Name *",placeholderTextColor:"#999",value:C.lastName,onChangeText:e=>S(Object.assign({},C,{lastName:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Email *",placeholderTextColor:"#999",keyboardType:"email-address",autoCapitalize:"none",value:C.email,onChangeText:e=>S(Object.assign({},C,{email:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Password *",placeholderTextColor:"#999",secureTextEntry:!0,value:C.password,onChangeText:e=>S(Object.assign({},C,{password:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Title (e.g., Senior Partner)",placeholderTextColor:"#999",value:C.title,onChangeText:e=>S(Object.assign({},C,{title:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Bar Number",placeholderTextColor:"#999",value:C.barNumber,onChangeText:e=>S(Object.assign({},C,{barNumber:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Phone Number (required for SMS notifications)",placeholderTextColor:"#999",keyboardType:"phone-pad",value:C.phoneNumber,onChangeText:e=>S(Object.assign({},C,{phoneNumber:e}))}),(0,y.jsx)(l.default,{style:T.label,children:"Send credentials via:"}),(0,y.jsx)(o.default,{style:T.notificationSelector,children:[{value:'email',label:'\ud83d\udce7 Email',desc:'Email only'},{value:'sms',label:'\ud83d\udcf1 SMS',desc:'Text message only'},{value:'both',label:'\ud83d\udce7\ud83d\udcf1 Both',desc:'Email & SMS'}].map(e=>(0,y.jsxs)(c.default,{style:[T.notificationOption,C.notificationMethod===e.value&&T.notificationOptionActive],onPress:()=>S(Object.assign({},C,{notificationMethod:e.value})),children:[(0,y.jsx)(l.default,{style:[T.notificationOptionLabel,C.notificationMethod===e.value&&T.notificationOptionLabelActive],children:e.label}),(0,y.jsx)(l.default,{style:[T.notificationOptionDesc,C.notificationMethod===e.value&&T.notificationOptionDescActive],children:e.desc})]},e.value))}),(0,y.jsx)(l.default,{style:T.label,children:"Role:"}),(0,y.jsx)(o.default,{style:T.roleSelector,children:['admin','attorney','paralegal','staff'].map(e=>(0,y.jsx)(c.default,{style:[T.roleOption,C.role===e&&T.roleOptionActive],onPress:()=>S(Object.assign({},C,{role:e})),children:(0,y.jsx)(l.default,{style:[T.roleOptionText,C.role===e&&T.roleOptionTextActive],children:e.charAt(0).toUpperCase()+e.slice(1)})},e))})]}),(0,y.jsxs)(o.default,{style:T.modalActions,children:[(0,y.jsx)(c.default,{style:T.cancelButton,onPress:s,children:(0,y.jsx)(l.default,{style:T.cancelButtonText,children:"Cancel"})}),(0,y.jsx)(c.default,{style:T.submitButton,onPress:async()=>{if(C.firstName&&C.lastName&&C.email&&C.password)try{v(!0);const e=await(0,p.apiRequest)(p.API_ENDPOINTS.LAWFIRM_USERS.CREATE,{method:'POST',headers:{Authorization:`Bearer ${x}`,'Content-Type':'application/json'},body:JSON.stringify(C)});e.success&&(w('Success',`User created! User code: ${e.user.userCode}`),b())}catch(e){console.error('[AddUser] Error:',e),w('Error',e.message||'Failed to create user')}finally{v(!1)}else w('Error','Please fill in all required fields')},disabled:j,children:(0,y.jsx)(l.default,{style:T.submitButtonText,children:j?'Creating...':'Create User'})})]})]})})})})},T=s.default.create({container:{flex:1,backgroundColor:x.lawFirmTheme.colors.deepNavy,paddingBottom:100},background:{position:'absolute',left:0,right:0,top:0,bottom:0},header:{paddingTop:60,paddingHorizontal:20,paddingBottom:20},headerContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},backText:{color:'#d4af37',fontSize:16,fontWeight:'600',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:3},headerTitle:{fontSize:20,fontWeight:'700',color:'#FFFFFF',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:2},textShadowRadius:4},addButton:{color:'#d4af37',fontSize:16,fontWeight:'700',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:3},filterContainer:{flexDirection:'row',padding:20,paddingTop:10},filterTab:{flex:1,padding:12,alignItems:'center',borderRadius:12,marginHorizontal:5,backgroundColor:'rgba(20, 30, 48, 0.5)',borderWidth:2,borderColor:'rgba(212, 175, 55, 0.4)'},filterTabActive:{backgroundColor:'rgba(212, 175, 55, 0.8)',borderColor:'#d4af37'},filterText:{color:'#FFFFFF',fontSize:14,fontWeight:'600',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},filterTextActive:{color:'#1e3a5f'},scrollView:{flex:1},content:{padding:20,paddingTop:0},userCard:{padding:16,marginBottom:12,backgroundColor:'rgba(20, 30, 48, 0.7)',borderRadius:16,borderWidth:2,borderColor:'rgba(212, 175, 55, 0.6)'},userCardContent:{flexDirection:'row',alignItems:'center'},userAvatar:{width:50,height:50,borderRadius:25,backgroundColor:x.lawFirmTheme.colors.accentBlue,justifyContent:'center',alignItems:'center',marginRight:15},userInitials:{color:'#FFFFFF',fontSize:18,fontWeight:'700'},userInfo:{flex:1},userName:{color:'#FFFFFF',fontSize:18,fontWeight:'700',marginBottom:4,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:3},userEmail:{color:'#d4af37',fontSize:14,marginBottom:6,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},userMeta:{flexDirection:'row',alignItems:'center'},roleBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:8,marginRight:10},roleText:{fontSize:11,fontWeight:'700'},userCode:{color:x.lawFirmTheme.colors.mediumGray,fontSize:12,fontFamily:'monospace'},userActions:{flexDirection:'row'},actionButton:{width:40,height:40,borderRadius:20,backgroundColor:'rgba(255, 255, 255, 0.2)',justifyContent:'center',alignItems:'center',marginLeft:8},dangerButton:{backgroundColor:'rgba(239, 68, 68, 0.3)'},successButton:{backgroundColor:'rgba(16, 185, 129, 0.3)'},actionButtonText:{fontSize:20},lastLogin:{color:x.lawFirmTheme.colors.mediumGray,fontSize:12,marginTop:10,paddingTop:10,borderTopWidth:1,borderTopColor:'rgba(255, 255, 255, 0.1)'},emptyCard:{padding:40,alignItems:'center',backgroundColor:'rgba(20, 30, 48, 0.7)',borderRadius:16,borderWidth:2,borderColor:'rgba(212, 175, 55, 0.6)'},emptyText:{color:'#d4af37',fontSize:16,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},modalContainer:{flex:1,justifyContent:'center',alignItems:'center'},modalOverlay:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'rgba(0, 0, 0, 0.5)',padding:20,width:'100%'},modalContent:{width:'100%',maxHeight:'90%',backgroundColor:'rgba(20, 30, 48, 0.75)',borderRadius:20,padding:20,borderWidth:2,borderColor:'#d4af37'},modalTitle:{fontSize:24,fontWeight:'700',color:'#d4af37',marginBottom:20,textAlign:'center',textShadowColor:'rgba(0, 0, 0, 0.9)',textShadowOffset:{width:0,height:2},textShadowRadius:4},input:{backgroundColor:'rgba(255, 255, 255, 0.12)',borderRadius:12,padding:15,color:'#FFFFFF',fontSize:16,marginBottom:15,borderWidth:2,borderColor:'rgba(212, 175, 55, 0.8)'},label:{color:'#d4af37',fontSize:16,fontWeight:'600',marginBottom:10,marginTop:5,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},notificationSelector:{flexDirection:'row',justifyContent:'space-between',marginBottom:20,gap:10},notificationOption:{flex:1,padding:12,borderRadius:10,backgroundColor:'rgba(255, 255, 255, 0.12)',borderWidth:2,borderColor:'rgba(212, 175, 55, 0.5)',alignItems:'center'},notificationOptionActive:{backgroundColor:'rgba(212, 175, 55, 0.25)',borderColor:'rgba(212, 175, 55, 1)'},notificationOptionLabel:{fontSize:16,fontWeight:'bold',color:'rgba(255, 255, 255, 0.8)',marginBottom:4},notificationOptionLabelActive:{color:'#D4AF37'},notificationOptionDesc:{fontSize:11,color:'rgba(255, 255, 255, 0.6)'},notificationOptionDescActive:{color:'rgba(212, 175, 55, 0.9)'},roleSelector:{flexDirection:'row',flexWrap:'wrap',marginBottom:20},roleOption:{paddingHorizontal:15,paddingVertical:10,borderRadius:20,backgroundColor:'rgba(255, 255, 255, 0.12)',marginRight:10,marginBottom:10,borderWidth:2,borderColor:'rgba(212, 175, 55, 0.8)'},roleOptionActive:{backgroundColor:'rgba(212, 175, 55, 0.95)',borderColor:'#d4af37'},roleOptionText:{color:'#FFFFFF',fontSize:14,fontWeight:'600'},roleOptionTextActive:{color:'#1e3a5f'},modalActions:{flexDirection:'row',justifyContent:'space-between',marginTop:20},cancelButton:{flex:1,padding:15,borderRadius:12,backgroundColor:'rgba(255, 255, 255, 0.12)',marginRight:10,alignItems:'center',borderWidth:2,borderColor:'rgba(212, 175, 55, 0.8)'},cancelButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},submitButton:{flex:1,padding:15,borderRadius:12,backgroundColor:'rgba(212, 175, 55, 0.95)',alignItems:'center',borderWidth:2,borderColor:'#d4af37'},submitButtonText:{color:'#1e3a5f',fontSize:16,fontWeight:'700'}});var j=({user:e,onBack:s})=>{const[u,f]=(0,t.useState)([]),[x,j]=(0,t.useState)(!0),[v,F]=(0,t.useState)(!1),[A,O]=(0,t.useState)('active');(0,t.useEffect)(()=>{B()},[A]);const B=async()=>{try{j(!0);const t=await(0,p.apiRequest)(`${p.API_ENDPOINTS.LAWFIRM_USERS.GET_ALL}?status=${A}`,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});f(t.users||[])}catch(e){console.error('[UserManagement] Load error:',e),w('Error','Failed to load users')}finally{j(!1)}},R=async t=>{try{console.log('[LawFirm UserManagement] Deactivating user:',t);const o=p.API_ENDPOINTS.LAWFIRM_USERS.DEACTIVATE(t);console.log('[LawFirm UserManagement] Deactivate URL:',o);const l=await(0,p.apiRequest)(o,{method:'POST',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify({reason:'Deactivated by admin'})});console.log('[LawFirm UserManagement] Deactivate response:',l),l.success?(w('Success','User deactivated successfully'),B()):w('Error',l.message||'Failed to deactivate user')}catch(e){console.error('[LawFirm UserManagement] Deactivate error:',e),w('Error',e.message||'Failed to deactivate user')}},N=async t=>{try{console.log('[LawFirm UserManagement] Reactivating user:',t);const o=await(0,p.apiRequest)(p.API_ENDPOINTS.LAWFIRM_USERS.REACTIVATE(t),{method:'POST',headers:{Authorization:`Bearer ${e.token}`}});console.log('[LawFirm UserManagement] Reactivate response:',o),o.success?(w('Success','User reactivated successfully'),B()):w('Error',o.message||'Failed to reactivate user')}catch(e){console.error('[LawFirm UserManagement] Reactivate error:',e),w('Error',e.message||'Failed to reactivate user')}};return(0,y.jsxs)(o.default,{style:T.container,children:[(0,y.jsx)(h.default,{source:r(d[17]),style:T.background,resizeMode:"cover"}),(0,y.jsx)(b.BlurView,{intensity:30,style:T.header,children:(0,y.jsxs)(o.default,{style:T.headerContent,children:[(0,y.jsx)(c.default,{onPress:s,children:(0,y.jsx)(l.default,{style:T.backText,children:"\u2190 Back"})}),(0,y.jsx)(l.default,{style:T.headerTitle,children:"User Management"}),(0,y.jsx)(c.default,{onPress:()=>F(!0),children:(0,y.jsx)(l.default,{style:T.addButton,children:"+ Add"})})]})}),(0,y.jsxs)(o.default,{style:T.filterContainer,children:[(0,y.jsx)(c.default,{style:[T.filterTab,'active'===A&&T.filterTabActive],onPress:()=>O('active'),children:(0,y.jsx)(l.default,{style:[T.filterText,'active'===A&&T.filterTextActive],children:"Active"})}),(0,y.jsx)(c.default,{style:[T.filterTab,'deactivated'===A&&T.filterTabActive],onPress:()=>O('deactivated'),children:(0,y.jsx)(l.default,{style:[T.filterText,'deactivated'===A&&T.filterTextActive],children:"Deactivated"})})]}),(0,y.jsxs)(n.default,{style:T.scrollView,contentContainerStyle:T.content,children:[u.map(e=>(0,y.jsx)(C,{user:e,onDeactivate:()=>{return t=e.id,o=`${e.firstName} ${e.lastName}`,void(window.confirm(`Are you sure you want to deactivate ${o}? They will immediately lose access to the portal.`)&&R(t));var t,o},onReactivate:()=>N(e.id),onViewActivity:()=>{}},e.id)),0===u.length&&(0,y.jsx)(o.default,{style:T.emptyCard,children:(0,y.jsx)(l.default,{style:T.emptyText,children:'active'===A?'No active users':'No deactivated users'})})]}),(0,y.jsx)(S,{visible:v,onClose:()=>F(!1),onUserAdded:()=>{F(!1),B()},lawFirmToken:e.token})]})}},407,[13,85,161,177,26,162,340,116,156,408,369,82,350,315,410,135,153,411,412]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=e(r(_d[0])),l=e(r(_d[1])),o=e(r(_d[2])),n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(l){var o=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(t,l,o.get?o:{enumerable:!0,get:function(){return e[l]}})}),t.default=e,t})(r(_d[3])),u=e(r(_d[4])),c=e(r(_d[5])),d=e(r(_d[6])),f=e(r(_d[7])),s=["aria-label","accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value"],b={},h='0px 1px 3px rgba(0,0,0,0.5)',p='#D5D5D5',v='#BDBDBD',y=n.forwardRef((e,t)=>{var y=e['aria-label'],j=e.accessibilityLabel,k=e.activeThumbColor,x=e.activeTrackColor,D=e.disabled,w=void 0!==D&&D,A=e.onValueChange,O=e.style,_=void 0===O?b:O,F=e.thumbColor,S=e.trackColor,E=e.value,B=void 0!==E&&E,P=(0,o.default)(e,s),R=n.useRef(null);function T(e){var t='focus'===e.nativeEvent.type?"0px 1px 3px rgba(0,0,0,0.5), 0 0 0 10px rgba(0,0,0,0.1)":h;null!=R.current&&(R.current.style.boxShadow=t)}var I=d.default.flatten(_),M=I.height,L=I.width,V=M||'20px',N=(0,c.default)(V,2),Z=L>N?L:N,q=(0,c.default)(V,.5),z=!0===B?null!=S&&'object'==typeof S?S.true:null!=x?x:"#A3D3CF":null!=S&&'object'==typeof S?S.false:null!=S?S:"#939393",G=B?null!=k?k:"#009688":null!=F?F:"#FAFAFA",H=V,J=H,K=[C.root,_,w&&C.cursorDefault,{height:V,width:Z}],Q=!0===B?'string'==typeof x&&null!=x||'object'==typeof S&&null!=S&&S.true?z:p:'string'==typeof S&&null!=S||'object'==typeof S&&null!=S&&S.false?z:p,U=!0===B?null==k?v:G:null==F?v:G,W=[C.track,{backgroundColor:w?Q:z,borderRadius:q}],X=[C.thumb,B&&C.thumbActive,{backgroundColor:w?U:G,height:H,marginStart:B?(0,c.default)(J,-1):0,width:J}],Y=(0,u.default)('input',{'aria-label':y||j,checked:B,disabled:w,onBlur:T,onChange:function(e){null!=A&&A(e.nativeEvent.target.checked)},onFocus:T,ref:t,style:[C.nativeControl,C.cursorInherit],type:'checkbox',role:'switch'});return n.createElement(f.default,(0,l.default)({},P,{style:K}),n.createElement(f.default,{style:W}),n.createElement(f.default,{ref:R,style:X}),Y)});y.displayName='Switch';var C=d.default.create({root:{cursor:'pointer',userSelect:'none'},cursorDefault:{cursor:'default'},cursorInherit:{cursor:'inherit'},track:(0,t.default)((0,t.default)({forcedColorAdjust:'none'},d.default.absoluteFillObject),{},{height:'70%',margin:'auto',transitionDuration:'0.1s',width:'100%'}),thumb:{forcedColorAdjust:'none',alignSelf:'flex-start',borderRadius:'100%',boxShadow:h,start:'0%',transform:'translateZ(0)',transitionDuration:'0.1s'},thumbActive:{insetInlineStart:'100%'},nativeControl:(0,t.default)((0,t.default)({},d.default.absoluteFillObject),{},{height:'100%',margin:0,appearance:'none',padding:0,width:'100%'})}),j=y},408,[4,18,27,13,86,409,26,85]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/,n=(n,o)=>{var u;return'string'==typeof n?""+parseFloat(n)*o+n.match(t)[1]:(u=n,!isNaN(parseFloat(u))&&isFinite(u)?n*o:void 0)}},409,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"lawFirmTheme",{enumerable:!0,get:function(){return f}});const f={colors:{primary:'#1e3a5f',secondary:'#d4af37',background:'#f5f5f7',surface:'#ffffff',text:'#2c3e50',textSecondary:'#6c757d',border:'#e0e0e0',success:'#10b981',warning:'#f59e0b',danger:'#ef4444',info:'#3b82f6',gold:'#d4af37',accentBlue:'#3b82f6',lightBlue:'#dbeafe',darkBlue:'#1e3a8a',mediumGray:'#6b7280',lightGray:'#f3f4f6',deepNavy:'#0f172a',midnightBlue:'#1e293b',professionalBlue:'#334155',slate:'#475569',silver:'#94a3b8',purple:'#8b5cf6',emerald:'#10b981',amber:'#f59e0b',rose:'#f43f5e',cyan:'#06b6d4'},spacing:{xs:4,sm:8,md:16,lg:24,xl:32},borderRadius:{sm:4,md:8,lg:12,xl:16},fontSize:{xs:12,sm:14,md:16,lg:18,xl:20,xxl:24},fontWeight:{regular:'400',medium:'500',semibold:'600',bold:'700'}}},410,[]);
__d(function(t,a,f,s,d,e,h){d.exports={uri:"/assets/attached_assets/Ship_1763681596533.a4b2fd49aaff2b3f66c8b641f0d72fd6.png",width:1408,height:792}},411,[]);
__d(function(t,a,f,s,d,e,h){d.exports={uri:"/assets/attached_assets/Ship_1763681250752.a4b2fd49aaff2b3f66c8b641f0d72fd6.png",width:1408,height:792}},412,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var e=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),u=t(r(d[6])),f=r(d[7]);r(d[8]);var y=r(d[9]),h=r(d[10]),x=r(d[11]);const{width:C}=u.default.get('window'),j=({name:t,count:e,icon:l,color:s})=>(0,x.jsxs)(o.default,{style:A.glassCard,children:[(0,x.jsx)(f.LinearGradient,{colors:[s+'40',s+'10'],style:A.categoryIconBg,children:(0,x.jsx)(n.default,{style:A.categoryIcon,children:l})}),(0,x.jsx)(n.default,{style:A.categoryCount,children:e}),(0,x.jsx)(n.default,{style:A.categoryName,children:t})]}),v=({userName:t,userEmail:e,activityCount:l,rank:s,onPress:c})=>(0,x.jsx)(o.default,{style:A.glassCard,children:(0,x.jsxs)(o.default,{style:A.userActivityContent,children:[(0,x.jsx)(o.default,{style:[A.rankBadge,{backgroundColor:{1:'#D4AF37',2:'#C0C0C0',3:'#CD7F32'}[s]||y.lawFirmTheme.colors.accentBlue}],children:(0,x.jsxs)(n.default,{style:A.rankText,children:["#",s]})}),(0,x.jsxs)(o.default,{style:A.userActivityInfo,children:[(0,x.jsx)(n.default,{style:A.userActivityName,children:t}),(0,x.jsx)(n.default,{style:A.userActivityEmail,children:e})]}),(0,x.jsxs)(o.default,{style:A.activityCountBadge,children:[(0,x.jsx)(n.default,{style:A.activityCountText,children:l}),(0,x.jsx)(n.default,{style:A.activityCountLabel,children:"actions"})]})]})}),p=({activity:t})=>(0,x.jsx)(o.default,{style:A.glassCard,children:(0,x.jsxs)(o.default,{style:A.activityLogContent,children:[(0,x.jsx)(n.default,{style:A.activityIcon,children:{user_created:'\u2795',user_updated:'\u270f\ufe0f',user_deactivated:'\ud83d\udeab',user_login:'\ud83d\udd13',client_viewed:'\ud83d\udc41\ufe0f',document_uploaded:'\ud83d\udce4',document_downloaded:'\ud83d\udce5',notification_sent:'\ud83d\udce8',disbursement_initiated:'\ud83d\udcb8'}[t.action]||'\ud83d\udcca'}),(0,x.jsxs)(o.default,{style:A.activityLogInfo,children:[(0,x.jsx)(n.default,{style:A.activityUserName,children:t.userName}),(0,x.jsx)(n.default,{style:A.activityAction,children:t.action.replace(/_/g,' ')}),t.targetName&&(0,x.jsxs)(n.default,{style:A.activityTarget,children:["\u2192 ",t.targetName]})]}),(0,x.jsx)(n.default,{style:A.activityTime,children:(t=>{const e=new Date-new Date(t),o=Math.floor(e/6e4),n=Math.floor(e/36e5),l=Math.floor(e/864e5);return o<1?'Just now':o<60?`${o}m ago`:n<24?`${n}h ago`:`${l}d ago`})(t.timestamp)})]})}),A=s.default.create({container:{flex:1,backgroundColor:'#F4E8D8'},header:{paddingTop:60,paddingHorizontal:20,paddingBottom:20,backgroundColor:'#F8F1E7',borderBottomWidth:2,borderBottomColor:'#D4AF37'},headerContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},backText:{color:'#8B6F47',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:22,fontWeight:'700',color:'#2C3E50',letterSpacing:-.5},filterContainer:{paddingHorizontal:20,paddingVertical:16,backgroundColor:'#F8F1E7',borderBottomWidth:1,borderBottomColor:'#C9A961'},filterChip:{paddingHorizontal:18,paddingVertical:10,borderRadius:12,backgroundColor:'#FBF7F1',marginRight:10,borderWidth:1,borderColor:'#D4AF37'},filterChipActive:{backgroundColor:'#D4AF37',borderColor:'#D4AF37'},filterChipText:{color:'#8B6F47',fontSize:14,fontWeight:'600'},filterChipTextActive:{color:'#2C3E50'},scrollView:{flex:1},content:{padding:20},totalCard:{padding:30,alignItems:'center',marginBottom:25},totalLabel:{color:'#A0826D',fontSize:15,fontWeight:'600',marginBottom:8,textTransform:'uppercase',letterSpacing:.5},totalValue:{color:'#8B6F47',fontSize:48,fontWeight:'800',letterSpacing:-1},sectionHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:16},sectionTitle:{fontSize:20,fontWeight:'700',color:'#2C3E50',marginBottom:16,letterSpacing:-.3},categoryGrid:{flexDirection:'row',flexWrap:'wrap',justifyContent:'space-between',marginBottom:30},glassCard:{backgroundColor:'#FBF7F1',borderRadius:12,padding:20,marginBottom:12,borderWidth:2,borderColor:'#D4AF37',borderLeftWidth:4,borderLeftColor:'#D4AF37'},categoryIconBg:{width:56,height:56,borderRadius:12,justifyContent:'center',alignItems:'center',marginBottom:12},categoryIcon:{fontSize:28},categoryCount:{color:'#2C3E50',fontSize:26,fontWeight:'700',marginBottom:4,letterSpacing:-.5},categoryName:{color:'#A0826D',fontSize:13,fontWeight:'600',textTransform:'capitalize'},userActivityContent:{flexDirection:'row',alignItems:'center'},rankBadge:{width:44,height:44,borderRadius:12,justifyContent:'center',alignItems:'center',marginRight:16},rankText:{color:'#2C3E50',fontSize:16,fontWeight:'700'},userActivityInfo:{flex:1},userActivityName:{color:'#2C3E50',fontSize:16,fontWeight:'700',marginBottom:4},userActivityEmail:{color:'#A0826D',fontSize:13},activityCountBadge:{alignItems:'center',backgroundColor:'#D4AF37',paddingHorizontal:12,paddingVertical:8,borderRadius:10},activityCountText:{color:'#2C3E50',fontSize:22,fontWeight:'700',letterSpacing:-.5},activityCountLabel:{color:'#2C3E50',fontSize:11,fontWeight:'600',marginTop:2},activityLogContent:{flexDirection:'row',alignItems:'center'},activityIcon:{fontSize:26,marginRight:14},activityLogInfo:{flex:1},activityUserName:{color:'#2C3E50',fontSize:15,fontWeight:'700',marginBottom:3},activityAction:{color:'#A0826D',fontSize:14,textTransform:'capitalize',marginBottom:2},activityTarget:{color:'#8B6F47',fontSize:13},activityTime:{color:'#A0826D',fontSize:12,fontWeight:'600'},emptyText:{color:'#A0826D',fontSize:15,textAlign:'center'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'#F4E8D8'},loadingText:{color:'#8B6F47',fontSize:16,textAlign:'center'}});var S=({user:t,onBack:s,onNavigateToUser:u})=>{const[f,C]=(0,e.useState)(null),[S,T]=(0,e.useState)(!0),[b,B]=(0,e.useState)('today');(0,e.useEffect)(()=>{D()},[b]);const D=async()=>{try{T(!0);const e=w(b),o=new URLSearchParams(e).toString(),n=await(0,h.apiRequest)(`${h.API_ENDPOINTS.LAWFIRM_ACTIVITY.GET_SUMMARY}?${o}`,{method:'GET',headers:{Authorization:`Bearer ${t.token}`}});C(n.summary)}catch(t){console.error('[ActivityDashboard] Load error:',t)}finally{T(!1)}},w=t=>{const e=new Date,o={};switch(t){case'today':o.startDate=new Date(e.setHours(0,0,0,0)).toISOString();break;case'week':const t=new Date(e.getTime()-6048e5);o.startDate=t.toISOString();break;case'month':const n=new Date(e.getTime()-2592e6);o.startDate=n.toISOString()}return o},F={user:'\ud83d\udc64',client:'\ud83d\udc65',document:'\ud83d\udcc4',financial:'\ud83d\udcb0',communication:'\ud83d\udce8',case:'\u2696\ufe0f',settings:'\u2699\ufe0f',security:'\ud83d\udd12'},z={user:'#6B8E99',client:'#8B7355',document:'#D4AF37',financial:'#5FAD56',communication:'#D2691E',case:'#8B6F47',settings:'#A0826D',security:'#8C3B2A'};return S||!f?(0,x.jsxs)(o.default,{style:A.container,children:[(0,x.jsx)(o.default,{style:A.header,children:(0,x.jsxs)(o.default,{style:A.headerContent,children:[(0,x.jsx)(c.default,{onPress:s,children:(0,x.jsx)(n.default,{style:A.backText,children:"\u2190 Back"})}),(0,x.jsx)(n.default,{style:A.headerTitle,children:"Activity Analytics"}),(0,x.jsx)(o.default,{style:{width:60}})]})}),(0,x.jsx)(o.default,{style:A.loadingContainer,children:(0,x.jsx)(n.default,{style:A.loadingText,children:"Loading activity data..."})})]}):(0,x.jsxs)(o.default,{style:A.container,children:[(0,x.jsx)(o.default,{style:A.header,children:(0,x.jsxs)(o.default,{style:A.headerContent,children:[(0,x.jsx)(c.default,{onPress:s,children:(0,x.jsx)(n.default,{style:A.backText,children:"\u2190 Back"})}),(0,x.jsx)(n.default,{style:A.headerTitle,children:"Activity Analytics"}),(0,x.jsx)(o.default,{style:{width:60}})]})}),(0,x.jsx)(o.default,{style:A.filterContainer,children:(0,x.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:['today','week','month','all'].map(t=>(0,x.jsx)(c.default,{style:[A.filterChip,b===t&&A.filterChipActive],onPress:()=>B(t),children:(0,x.jsx)(n.default,{style:[A.filterChipText,b===t&&A.filterChipTextActive],children:'today'===t?'Today':'week'===t?'Last 7 Days':'month'===t?'Last 30 Days':'All Time'})},t))})}),(0,x.jsxs)(l.default,{style:A.scrollView,contentContainerStyle:A.content,showsVerticalScrollIndicator:!1,children:[(0,x.jsxs)(o.default,{style:A.glassCard,children:[(0,x.jsx)(n.default,{style:A.totalLabel,children:"Total Activities"}),(0,x.jsx)(n.default,{style:A.totalValue,children:f.totalActivities.toLocaleString()})]}),(0,x.jsx)(n.default,{style:A.sectionTitle,children:"Activity Breakdown"}),(0,x.jsx)(o.default,{style:A.categoryGrid,children:f.activitiesByCategory.map(t=>(0,x.jsx)(j,{name:t.id,count:t.count,icon:F[t.id]||'\ud83d\udcca',color:z[t.id]||y.lawFirmTheme.colors.accentBlue},t.id))}),(0,x.jsx)(o.default,{style:A.sectionHeader,children:(0,x.jsx)(n.default,{style:A.sectionTitle,children:"Most Active Users"})}),f.topUsers.map((t,e)=>(0,x.jsx)(v,{userName:t.userName,userEmail:t.userEmail,activityCount:t.count,rank:e+1,onPress:()=>u&&u(t.id)},t.id||e)),0===f.topUsers.length&&(0,x.jsx)(o.default,{style:A.glassCard,children:(0,x.jsx)(n.default,{style:A.emptyText,children:"No activity data for this period"})}),(0,x.jsx)(n.default,{style:A.sectionTitle,children:"Recent Activity"}),f.recentActivities.slice(0,10).map((t,e)=>(0,x.jsx)(p,{activity:t},t.id||e)),(0,x.jsx)(o.default,{style:{height:100}})]})]})}},413,[13,85,161,177,26,162,120,350,315,410,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),l=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),h=r(d[7]),f=r(d[8]),y=r(d[9]),x=r(d[10]),T=r(d[11]);const p=({activity:e,isLast:t})=>{const n={user:y.lawFirmTheme.colors.accentBlue,client:y.lawFirmTheme.colors.lightBlue,document:y.lawFirmTheme.colors.gold,financial:'#10B981',communication:'#8B5CF6',case:y.lawFirmTheme.colors.accentBlue,settings:y.lawFirmTheme.colors.mediumGray,security:'#EF4444'};return(0,T.jsxs)(l.default,{style:F.timelineItem,children:[(0,T.jsxs)(l.default,{style:F.timelineLeft,children:[(0,T.jsx)(l.default,{style:[F.timelineDot,{backgroundColor:n[e.actionCategory]||y.lawFirmTheme.colors.accentBlue}]}),!t&&(0,T.jsx)(l.default,{style:F.timelineLine})]}),(0,T.jsxs)(l.default,{style:F.glassCard,children:[(0,T.jsxs)(l.default,{style:F.activityHeader,children:[(0,T.jsx)(o.default,{style:F.activityIcon,children:{user_created:'\u2795',user_updated:'\u270f\ufe0f',user_deactivated:'\ud83d\udeab',user_login:'\ud83d\udd13',user_logout:'\ud83d\udd12',client_viewed:'\ud83d\udc41\ufe0f',client_updated:'\u270f\ufe0f',document_uploaded:'\ud83d\udce4',document_downloaded:'\ud83d\udce5',document_deleted:'\ud83d\uddd1\ufe0f',notification_sent:'\ud83d\udce8',message_sent:'\ud83d\udcac',disbursement_initiated:'\ud83d\udcb8',disbursement_completed:'\u2705',case_stage_updated:'\ud83d\udcca',settings_updated:'\u2699\ufe0f',password_changed:'\ud83d\udd11'}[e.action]||'\ud83d\udcca'}),(0,T.jsx)(o.default,{style:F.activityTime,children:(s=e.timestamp,new Date(s).toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:!0}))})]}),(0,T.jsx)(o.default,{style:F.activityAction,children:e.action.replace(/_/g,' ').replace(/\b\w/g,e=>e.toUpperCase())}),e.targetName&&(0,T.jsxs)(l.default,{style:F.activityTarget,children:[(0,T.jsx)(o.default,{style:F.activityTargetLabel,children:"Target:"}),(0,T.jsx)(o.default,{style:F.activityTargetValue,children:e.targetName})]}),e.metadata&&Object.keys(e.metadata).length>0&&(0,T.jsxs)(l.default,{style:F.activityMetadata,children:[(0,T.jsx)(o.default,{style:F.metadataLabel,children:"Details:"}),e.metadata.method&&(0,T.jsxs)(o.default,{style:F.metadataText,children:["Method: ",e.metadata.method]}),e.metadata.path&&(0,T.jsxs)(o.default,{style:F.metadataText,children:["Path: ",e.metadata.path]})]}),(0,T.jsx)(l.default,{style:[F.categoryBadge,{backgroundColor:n[e.actionCategory]+'30'}],children:(0,T.jsx)(o.default,{style:[F.categoryText,{color:n[e.actionCategory]}],children:e.actionCategory.toUpperCase()})})]})]});var s},F=s.default.create({container:{flex:1,backgroundColor:y.lawFirmTheme.colors.deepNavy},background:{position:'absolute',left:0,right:0,top:0,bottom:0},header:{paddingTop:60,paddingHorizontal:20,paddingBottom:20,borderBottomWidth:1,borderBottomColor:'rgba(59, 130, 246, 0.2)'},headerContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},backText:{color:y.lawFirmTheme.colors.accentBlue,fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'700',color:'#FFFFFF'},userInfoCard:{margin:20,padding:16},userInfoContent:{flexDirection:'row',alignItems:'center'},userAvatar:{width:60,height:60,borderRadius:30,backgroundColor:y.lawFirmTheme.colors.accentBlue,justifyContent:'center',alignItems:'center',marginRight:15},userInitials:{color:'#FFFFFF',fontSize:24,fontWeight:'700'},userInfo:{flex:1},userName:{color:'#FFFFFF',fontSize:20,fontWeight:'700',marginBottom:4},userEmail:{color:y.lawFirmTheme.colors.lightGray,fontSize:14,marginBottom:8},userMeta:{flexDirection:'row',alignItems:'center'},userBadge:{backgroundColor:y.lawFirmTheme.colors.accentBlue+'30',paddingHorizontal:10,paddingVertical:4,borderRadius:8,marginRight:10},userBadgeText:{color:y.lawFirmTheme.colors.accentBlue,fontSize:11,fontWeight:'700',textTransform:'uppercase'},userCode:{color:y.lawFirmTheme.colors.mediumGray,fontSize:12,fontFamily:'monospace'},scrollView:{flex:1},content:{padding:20,paddingTop:0},dateGroup:{marginBottom:30},dateHeader:{flexDirection:'row',alignItems:'center',marginBottom:20},dateLine:{flex:1,height:1,backgroundColor:'rgba(255, 255, 255, 0.2)'},dateText:{color:y.lawFirmTheme.colors.lightGray,fontSize:14,fontWeight:'700',marginHorizontal:15,textTransform:'uppercase',letterSpacing:1},timelineItem:{flexDirection:'row',marginBottom:15},timelineLeft:{width:30,alignItems:'center',marginRight:15},timelineDot:{width:16,height:16,borderRadius:8,borderWidth:3,borderColor:y.lawFirmTheme.colors.deepNavy},timelineLine:{width:2,flex:1,backgroundColor:'rgba(255, 255, 255, 0.2)',marginTop:8},activityCard:{flex:1,padding:15},activityHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:10},activityIcon:{fontSize:24},activityTime:{color:y.lawFirmTheme.colors.mediumGray,fontSize:12,fontWeight:'600'},activityAction:{color:'#FFFFFF',fontSize:16,fontWeight:'700',marginBottom:8},activityTarget:{flexDirection:'row',marginBottom:8},activityTargetLabel:{color:y.lawFirmTheme.colors.mediumGray,fontSize:13,marginRight:6},activityTargetValue:{color:y.lawFirmTheme.colors.accentBlue,fontSize:13,fontWeight:'600'},activityMetadata:{backgroundColor:'rgba(0, 0, 0, 0.3)',padding:10,borderRadius:8,marginBottom:10},metadataLabel:{color:y.lawFirmTheme.colors.lightGray,fontSize:11,fontWeight:'700',marginBottom:6,textTransform:'uppercase',letterSpacing:1},metadataText:{color:y.lawFirmTheme.colors.mediumGray,fontSize:12,fontFamily:'monospace',marginBottom:2},categoryBadge:{alignSelf:'flex-start',paddingHorizontal:10,paddingVertical:4,borderRadius:8},categoryText:{fontSize:10,fontWeight:'700',letterSpacing:1},emptyCard:{padding:40,alignItems:'center'},emptyText:{color:y.lawFirmTheme.colors.lightGray,fontSize:16},loadingText:{color:'#FFFFFF',fontSize:16,textAlign:'center',marginTop:20},loadingMoreText:{color:y.lawFirmTheme.colors.mediumGray,fontSize:14,textAlign:'center',marginVertical:20},endText:{color:y.lawFirmTheme.colors.mediumGray,fontSize:14,textAlign:'center',marginVertical:30,fontStyle:'italic'}});var j=({user:e,targetUserId:s,targetUserName:j,onBack:w})=>{const[b,S]=(0,t.useState)([]),[v,B]=(0,t.useState)(null),[C,_]=(0,t.useState)(!0),[I,z]=(0,t.useState)(!1),[L,k]=(0,t.useState)(1),[G,D]=(0,t.useState)(!0);(0,t.useEffect)(()=>{E()},[L]);const E=async()=>{try{1===L&&_(!0);const t=await(0,x.apiRequest)(`${x.API_ENDPOINTS.LAWFIRM_ACTIVITY.GET_USER_TIMELINE(s)}?page=${L}&limit=20`,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});1===L?(S(t.activities),B(t.user)):S(e=>[...e,...t.activities]),D(t.currentPage<t.totalPages)}catch(e){console.error('[UserTimeline] Load error:',e)}finally{_(!1),z(!1)}},W=(e=>{const t={};return e.forEach(e=>{const l=new Date(e.timestamp).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});t[l]||(t[l]=[]),t[l].push(e)}),t})(b);return(0,T.jsxs)(l.default,{style:F.container,children:[(0,T.jsx)(h.LinearGradient,{colors:[y.lawFirmTheme.colors.deepNavy,y.lawFirmTheme.colors.midnightBlue],style:F.background}),(0,T.jsx)(f.BlurView,{intensity:20,style:F.header,children:(0,T.jsxs)(l.default,{style:F.headerContent,children:[(0,T.jsx)(c.default,{onPress:w,children:(0,T.jsx)(o.default,{style:F.backText,children:"\u2190 Back"})}),(0,T.jsx)(o.default,{style:F.headerTitle,children:"Activity Timeline"}),(0,T.jsx)(l.default,{style:{width:60}})]})}),v&&(0,T.jsx)(l.default,{style:F.glassCard,children:(0,T.jsxs)(l.default,{style:F.userInfoContent,children:[(0,T.jsx)(l.default,{style:F.userAvatar,children:(0,T.jsx)(o.default,{style:F.userInitials,children:v.name.split(' ').map(e=>e[0]).join('')})}),(0,T.jsxs)(l.default,{style:F.userInfo,children:[(0,T.jsx)(o.default,{style:F.userName,children:v.name}),(0,T.jsx)(o.default,{style:F.userEmail,children:v.email}),(0,T.jsxs)(l.default,{style:F.userMeta,children:[(0,T.jsx)(l.default,{style:F.userBadge,children:(0,T.jsx)(o.default,{style:F.userBadgeText,children:v.role})}),(0,T.jsx)(o.default,{style:F.userCode,children:v.userCode})]})]})]})}),(0,T.jsxs)(n.default,{style:F.scrollView,contentContainerStyle:F.content,showsVerticalScrollIndicator:!1,refreshControl:(0,T.jsx)(u.default,{refreshing:I,onRefresh:()=>{z(!0),k(1),E()},tintColor:y.lawFirmTheme.colors.accentBlue}),onScroll:({nativeEvent:e})=>{const{layoutMeasurement:t,contentOffset:l,contentSize:o}=e;t.height+l.y>=o.height-100&&!C&&G&&k(e=>e+1)},scrollEventThrottle:400,children:[Object.entries(W).map(([e,t])=>(0,T.jsxs)(l.default,{style:F.dateGroup,children:[(0,T.jsxs)(l.default,{style:F.dateHeader,children:[(0,T.jsx)(l.default,{style:F.dateLine}),(0,T.jsx)(o.default,{style:F.dateText,children:e}),(0,T.jsx)(l.default,{style:F.dateLine})]}),t.map((e,l)=>(0,T.jsx)(p,{activity:e,isLast:l===t.length-1},e.id||l))]},e)),0===b.length&&!C&&(0,T.jsx)(l.default,{style:F.glassCard,children:(0,T.jsx)(o.default,{style:F.emptyText,children:"No activity recorded yet"})}),C&&1===L&&(0,T.jsx)(o.default,{style:F.loadingText,children:"Loading timeline..."}),C&&L>1&&(0,T.jsx)(o.default,{style:F.loadingMoreText,children:"Loading more..."}),!G&&b.length>0&&(0,T.jsx)(o.default,{style:F.endText,children:"\u2014 End of timeline \u2014"}),(0,T.jsx)(l.default,{style:{height:100}})]})]})}},414,[13,85,161,177,26,162,176,350,315,410,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),s=e(r(d[3])),n=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=e(r(d[8])),y=r(d[9]),w=r(d[10]),x=r(d[11]);const p=u.default.create({container:{flex:1,backgroundColor:y.theme.colors.background},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',padding:15,backgroundColor:y.theme.colors.primary,borderBottomWidth:2,borderBottomColor:y.theme.colors.accent},backButton:{padding:5,minWidth:60},backButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#FFFFFF'},scrollView:{flex:1},scrollContent:{padding:20},section:{backgroundColor:'#FFFFFF',borderRadius:10,padding:20,marginBottom:20,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},sectionTitle:{fontSize:18,fontWeight:'bold',color:y.theme.colors.darkGray,marginBottom:10},sectionDescription:{fontSize:14,color:y.theme.colors.warmGray,marginBottom:20},requirementsBox:{backgroundColor:'#f0f8ff',borderLeftWidth:4,borderLeftColor:y.theme.colors.accent,padding:15,marginBottom:20,borderRadius:8},requirementsTitle:{fontSize:14,fontWeight:'bold',color:y.theme.colors.darkGray,marginBottom:8},requirementItem:{fontSize:12,color:y.theme.colors.warmGray,marginBottom:4},inputLabel:{fontSize:14,fontWeight:'600',color:y.theme.colors.darkGray,marginBottom:8,marginTop:10},input:{backgroundColor:'#F8F9FA',borderWidth:1,borderColor:'#E0E0E0',borderRadius:8,padding:12,fontSize:16,marginBottom:15,color:y.theme.colors.darkGray},changePasswordButton:{backgroundColor:y.theme.colors.primary,padding:15,borderRadius:8,alignItems:'center',marginTop:10},changePasswordButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'bold'},buttonDisabled:{opacity:.6},infoRow:{flexDirection:'row',justifyContent:'space-between',paddingVertical:12,borderBottomWidth:1,borderBottomColor:'#F0F0F0'},infoLabel:{fontSize:14,fontWeight:'600',color:y.theme.colors.warmGray},infoValue:{fontSize:14,color:y.theme.colors.darkGray,fontWeight:'500'}});var b=({user:e,onBack:u})=>{const[b,j]=(0,t.useState)(''),[F,C]=(0,t.useState)(''),[B,P]=(0,t.useState)(''),[T,k]=(0,t.useState)(!1);return(0,x.jsxs)(o.default,{style:p.container,children:[(0,x.jsxs)(o.default,{style:p.header,children:[(0,x.jsx)(n.default,{onPress:u,style:p.backButton,children:(0,x.jsx)(l.default,{style:p.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(l.default,{style:p.headerTitle,children:"Settings"}),(0,x.jsx)(o.default,{style:p.backButton})]}),(0,x.jsxs)(c.default,{style:p.scrollView,contentContainerStyle:p.scrollContent,children:[(0,x.jsxs)(o.default,{style:p.section,children:[(0,x.jsx)(l.default,{style:p.sectionTitle,children:"\ud83d\udd10 Change Password"}),(0,x.jsx)(l.default,{style:p.sectionDescription,children:"Update your password to keep your account secure."}),(0,x.jsxs)(o.default,{style:p.requirementsBox,children:[(0,x.jsx)(l.default,{style:p.requirementsTitle,children:"Password Requirements:"}),(0,x.jsx)(l.default,{style:p.requirementItem,children:"\u2022 At least 8 characters long"}),(0,x.jsx)(l.default,{style:p.requirementItem,children:"\u2022 At least one uppercase letter (A-Z)"}),(0,x.jsx)(l.default,{style:p.requirementItem,children:"\u2022 At least one lowercase letter (a-z)"}),(0,x.jsx)(l.default,{style:p.requirementItem,children:"\u2022 At least one number (0-9)"}),(0,x.jsx)(l.default,{style:p.requirementItem,children:"\u2022 At least one special character (!@#$%^&*)"})]}),(0,x.jsx)(l.default,{style:p.inputLabel,children:"Current Password"}),(0,x.jsx)(s.default,{style:p.input,placeholder:"Enter current password",placeholderTextColor:y.theme.colors.warmGray,value:b,onChangeText:j,secureTextEntry:!0,autoCapitalize:"none"}),(0,x.jsx)(l.default,{style:p.inputLabel,children:"New Password"}),(0,x.jsx)(s.default,{style:p.input,placeholder:"Enter new password",placeholderTextColor:y.theme.colors.warmGray,value:F,onChangeText:C,secureTextEntry:!0,autoCapitalize:"none"}),(0,x.jsx)(l.default,{style:p.inputLabel,children:"Confirm New Password"}),(0,x.jsx)(s.default,{style:p.input,placeholder:"Re-enter new password",placeholderTextColor:y.theme.colors.warmGray,value:B,onChangeText:P,secureTextEntry:!0,autoCapitalize:"none"}),(0,x.jsx)(n.default,{style:[p.changePasswordButton,T&&p.buttonDisabled],onPress:async()=>{if(!b||!F||!B)return void f.default.alert('Error','Please fill in all password fields');if(F!==B)return void f.default.alert('Error','New passwords do not match');if(b===F)return void f.default.alert('Error','New password must be different from current password');const t=(o=F).length<8?'Password must be at least 8 characters long':/[A-Z]/.test(o)?/[a-z]/.test(o)?/[0-9]/.test(o)?/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(o)?null:'Password must contain at least one special character':'Password must contain at least one number':'Password must contain at least one lowercase letter':'Password must contain at least one uppercase letter';var o;if(t)f.default.alert('Invalid Password',t);else{k(!0);try{const t=await fetch(`${w.API_BASE_URL}/api/auth/change-password`,{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e.token}`},body:JSON.stringify({currentPassword:b,newPassword:F})}),o=await t.json();t.ok&&o.success?f.default.alert('Success','Your password has been changed successfully. You will receive a confirmation email and SMS.',[{text:'OK',onPress:()=>{j(''),C(''),P('')}}]):f.default.alert('Error',o.message||'Failed to change password')}catch(e){console.error('Error changing password:',e),f.default.alert('Error','Network error. Please try again.')}finally{k(!1)}}},disabled:T,children:T?(0,x.jsx)(h.default,{color:"#FFFFFF"}):(0,x.jsx)(l.default,{style:p.changePasswordButtonText,children:"Change Password"})})]}),(0,x.jsxs)(o.default,{style:p.section,children:[(0,x.jsx)(l.default,{style:p.sectionTitle,children:"\ud83d\udc64 Account Information"}),(0,x.jsxs)(o.default,{style:p.infoRow,children:[(0,x.jsx)(l.default,{style:p.infoLabel,children:"Name:"}),(0,x.jsxs)(l.default,{style:p.infoValue,children:[e.firstName," ",e.lastName]})]}),(0,x.jsxs)(o.default,{style:p.infoRow,children:[(0,x.jsx)(l.default,{style:p.infoLabel,children:"Email:"}),(0,x.jsx)(l.default,{style:p.infoValue,children:e.email})]}),e.userCode&&(0,x.jsxs)(o.default,{style:p.infoRow,children:[(0,x.jsx)(l.default,{style:p.infoLabel,children:"User Code:"}),(0,x.jsx)(l.default,{style:p.infoValue,children:e.userCode})]}),e.firmName&&(0,x.jsxs)(o.default,{style:p.infoRow,children:[(0,x.jsx)(l.default,{style:p.infoLabel,children:"Organization:"}),(0,x.jsx)(l.default,{style:p.infoValue,children:e.firmName})]}),(0,x.jsxs)(o.default,{style:p.infoRow,children:[(0,x.jsx)(l.default,{style:p.infoLabel,children:"Role:"}),(0,x.jsx)(l.default,{style:p.infoValue,children:e.role||'N/A'})]})]})]})]})}},415,[13,85,161,340,162,177,26,116,354,132,135,153]);
__d(function(t,a,f,s,d,e,h){d.exports={uri:"/assets/attached_assets/Ship_1764133439198.a4b2fd49aaff2b3f66c8b641f0d72fd6.png",width:1408,height:792}},416,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),s=e(r(d[3])),n=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),h=e(r(d[7])),f=e(r(d[8])),y=r(d[9]),x=r(d[10]),p=r(d[11]);const b=c.default.create({container:{flex:1,backgroundColor:y.theme.colors.sand},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:y.theme.colors.sand},loadingText:{marginTop:10,color:y.theme.colors.textSecondary,fontSize:16},errorContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:y.theme.colors.sand,padding:20},errorText:{fontSize:16,color:y.theme.colors.deepMaroon,marginBottom:20},backButton:{backgroundColor:y.theme.colors.mahogany,padding:15,borderRadius:8},backButtonText:{color:'white',fontSize:16,fontWeight:'600'},header:{flexDirection:'row',alignItems:'center',backgroundColor:y.theme.colors.cream,padding:15,borderBottomWidth:2,borderBottomColor:y.theme.colors.secondary},headerBackButton:{padding:8,marginRight:10},backArrow:{fontSize:24,color:y.theme.colors.mahogany,fontWeight:'bold'},headerContent:{flex:1},headerTitle:{fontSize:20,fontWeight:'bold',color:y.theme.colors.mahogany},headerSubtitle:{fontSize:14,color:y.theme.colors.textSecondary,marginTop:2},tabBar:{flexDirection:'row',backgroundColor:y.theme.colors.cream,borderBottomWidth:2,borderBottomColor:y.theme.colors.secondary},tab:{flex:1,padding:12,alignItems:'center',borderRightWidth:1,borderRightColor:y.theme.colors.secondary},activeTab:{backgroundColor:y.theme.colors.sand,borderBottomWidth:3,borderBottomColor:y.theme.colors.mahogany},tabIcon:{fontSize:20,marginBottom:4},tabText:{fontSize:12,color:y.theme.colors.textSecondary,textAlign:'center'},activeTabText:{color:y.theme.colors.mahogany,fontWeight:'bold'},content:{flex:1},tabContent:{padding:15},section:{backgroundColor:y.theme.colors.cream,padding:20,marginBottom:15,borderRadius:10,borderWidth:2,borderColor:y.theme.colors.secondary},sectionTitle:{fontSize:18,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:15,paddingBottom:10,borderBottomWidth:2,borderBottomColor:y.theme.colors.secondary},infoRow:{flexDirection:'row',paddingVertical:8,borderBottomWidth:1,borderBottomColor:y.theme.colors.lightCream},infoLabel:{fontSize:14,fontWeight:'600',color:y.theme.colors.mahogany,width:120},infoValue:{fontSize:14,color:y.theme.colors.navy,flex:1},statsGrid:{flexDirection:'row',flexWrap:'wrap',marginTop:10},statCard:{backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:8,borderLeftWidth:4,borderLeftColor:y.theme.colors.secondary,width:'48%',margin:'1%'},statValue:{fontSize:24,fontWeight:'bold',color:y.theme.colors.mahogany},statLabel:{fontSize:12,color:y.theme.colors.textSecondary,marginTop:3},emptyState:{padding:30,alignItems:'center'},emptyIcon:{fontSize:48,marginBottom:10},emptyText:{fontSize:14,color:y.theme.colors.textSecondary,textAlign:'center'},emptySubtext:{fontSize:12,color:y.theme.colors.warmGray,textAlign:'center',marginTop:5},documentCard:{backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:8,marginBottom:10,borderLeftWidth:4,borderLeftColor:y.theme.colors.secondary},documentHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},documentTitle:{fontSize:16,fontWeight:'600',color:y.theme.colors.navy,flex:1},documentBadge:{fontSize:12,color:y.theme.colors.textSecondary,backgroundColor:y.theme.colors.sand,paddingHorizontal:8,paddingVertical:4,borderRadius:4},documentDetail:{fontSize:14,color:y.theme.colors.navy,marginBottom:4},documentDate:{fontSize:12,color:y.theme.colors.warmGray,marginTop:4},billingSummaryContainer:{flexDirection:'row',justifyContent:'space-between',marginBottom:15,paddingBottom:10,borderBottomWidth:1,borderBottomColor:y.theme.colors.secondary},billingSummary:{fontSize:14,fontWeight:'600',color:y.theme.colors.navy},infoSection:{flexDirection:'row',backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:8,borderLeftWidth:4,borderLeftColor:y.theme.colors.warmGold,marginTop:10},infoIcon:{fontSize:20,marginRight:10},infoText:{flex:1,fontSize:14,color:y.theme.colors.textSecondary,lineHeight:20},backButtonBottom:{backgroundColor:y.theme.colors.cream,padding:15,margin:15,borderRadius:8,borderWidth:2,borderColor:y.theme.colors.secondary,alignItems:'center'},backButtonBottomText:{color:y.theme.colors.mahogany,fontSize:16,fontWeight:'600'},progressSummary:{backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:8,marginBottom:20,borderWidth:2,borderColor:y.theme.colors.warmGold},progressSummaryRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},progressCurrentStage:{fontSize:16,fontWeight:'600',color:y.theme.colors.mahogany,flex:1},progressPercentage:{fontSize:24,fontWeight:'bold',color:y.theme.colors.navy},progressBarBackground:{height:20,backgroundColor:y.theme.colors.sand,borderRadius:10,overflow:'hidden',borderWidth:1,borderColor:y.theme.colors.secondary,marginBottom:10},progressBarFill:{height:'100%',backgroundColor:y.theme.colors.warmGold},progressStatsRow:{flexDirection:'row',justifyContent:'space-around',marginTop:5},progressStat:{fontSize:14,color:y.theme.colors.textSecondary,fontWeight:'500'},viewRoadmapButton:{backgroundColor:y.theme.colors.mahogany,padding:15,borderRadius:10,alignItems:'center',marginBottom:15},viewRoadmapButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},roadmapContainer:{marginTop:10},roadmapStageItem:{marginBottom:5},roadmapStageRow:{flexDirection:'row',alignItems:'flex-start'},roadmapStageBadge:{width:40,height:40,borderRadius:20,backgroundColor:y.theme.colors.sand,borderWidth:2,borderColor:y.theme.colors.textSecondary,justifyContent:'center',alignItems:'center',marginRight:15},roadmapStageBadgeCompleted:{backgroundColor:y.theme.colors.warmGold,borderColor:y.theme.colors.mahogany},roadmapStageBadgeCurrent:{backgroundColor:y.theme.colors.cream,borderColor:y.theme.colors.navy,borderWidth:3},roadmapStageBadgeText:{fontSize:16,fontWeight:'bold',color:y.theme.colors.textSecondary},roadmapStageBadgeTextCompleted:{color:y.theme.colors.white},roadmapStageInfo:{flex:1,paddingTop:2},roadmapStageName:{fontSize:16,fontWeight:'600',color:y.theme.colors.navy,marginBottom:3},roadmapStageNameCurrent:{color:y.theme.colors.mahogany,fontWeight:'bold'},roadmapStageProgress:{fontSize:13,color:y.theme.colors.textSecondary},roadmapStageDate:{fontSize:12,color:y.theme.colors.warmGreen,marginTop:2},roadmapConnector:{width:2,height:15,backgroundColor:y.theme.colors.secondary,marginLeft:19,marginVertical:2},medicalHubBackground:{minHeight:500,width:'100%'},medicalHubOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.5)'},medicalHubContent:{flex:1,paddingBottom:30},medicalHubSection:{backgroundColor:'rgba(255, 255, 255, 0.95)',borderWidth:2,borderColor:'#FFD700',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},medicalHubSectionTitle:{color:'#2c3e50',fontWeight:'bold'},medicalHubInfoSection:{backgroundColor:'rgba(0, 0, 0, 0.7)',borderColor:'#FFD700',borderWidth:1}});var j=({user:e,clientId:c,onBack:j,onNavigate:S})=>{const{width:C,height:B}=(0,f.default)(),[T,w]=(0,t.useState)(null),[_,D]=(0,t.useState)(null),[v,k]=(0,t.useState)(!0),[I,R]=(0,t.useState)('overview'),L=C>=768&&C<1024,z=C>=1024;(0,t.useEffect)(()=>{W(),F()},[c]);const W=async()=>{try{console.log('[ClientDetails] Fetching client details for clientId:',c),console.log('[ClientDetails] Token:',e?.token?'Present':'Missing'),console.log('[ClientDetails] API URL:',`${x.API_BASE_URL}${x.API_ENDPOINTS.LAWFIRM.CLIENT_DETAILS(c)}`);const t=await fetch(`${x.API_BASE_URL}${x.API_ENDPOINTS.LAWFIRM.CLIENT_DETAILS(c)}`,{headers:{Authorization:`Bearer ${e.token}`}});if(console.log('[ClientDetails] Response status:',t.status),t.ok){const e=await t.json();console.log('[ClientDetails] Data received:',e),w(e)}else{const e=await t.json();console.error('[ClientDetails] Failed response:',t.status,e)}}catch(e){console.error('[ClientDetails] Error fetching client details:',e)}finally{k(!1)}},F=async()=>{try{console.log('[ClientDetails] Fetching litigation progress for clientId:',c);const t=await fetch(`${x.API_BASE_URL}/api/litigation/client/${c}/progress`,{headers:{Authorization:`Bearer ${e.token}`}});if(console.log('[ClientDetails] Litigation progress response status:',t.status),t.ok){const e=await t.json();console.log('[ClientDetails] Litigation progress data:',e),D(e)}else{const e=await t.json();console.error('[ClientDetails] Failed litigation progress response:',t.status,e)}}catch(e){console.error('[ClientDetails] Error fetching client litigation progress:',e)}};if(v)return(0,p.jsxs)(o.default,{style:b.loadingContainer,children:[(0,p.jsx)(u.default,{size:"large",color:y.theme.colors.mahogany}),(0,p.jsx)(l.default,{style:b.loadingText,children:"Loading client data..."})]});if(!T)return(0,p.jsxs)(o.default,{style:b.errorContainer,children:[(0,p.jsx)(l.default,{style:b.errorText,children:"Unable to load client data"}),(0,p.jsx)(n.default,{style:b.backButton,onPress:j,children:(0,p.jsx)(l.default,{style:b.backButtonText,children:"\u2190 Back to Dashboard"})})]});const{client:H}=T;return(0,p.jsxs)(o.default,{style:b.container,children:[(0,p.jsxs)(o.default,{style:b.header,children:[(0,p.jsx)(n.default,{onPress:j,style:b.headerBackButton,children:(0,p.jsx)(l.default,{style:b.backArrow,children:"\u2190"})}),(0,p.jsxs)(o.default,{style:b.headerContent,children:[(0,p.jsxs)(l.default,{style:b.headerTitle,children:["\ud83d\udc64 ",H.displayName]}),(0,p.jsx)(l.default,{style:b.headerSubtitle,children:"Client Details"})]})]}),(0,p.jsxs)(o.default,{style:b.tabBar,children:[(0,p.jsxs)(n.default,{style:[b.tab,'overview'===I&&b.activeTab],onPress:()=>R('overview'),children:[(0,p.jsx)(l.default,{style:b.tabIcon,children:"\ud83d\udccb"}),(0,p.jsx)(l.default,{style:[b.tabText,'overview'===I&&b.activeTabText],children:"Overview"})]}),(0,p.jsxs)(n.default,{style:[b.tab,'roadmap'===I&&b.activeTab],onPress:()=>R('roadmap'),children:[(0,p.jsx)(l.default,{style:b.tabIcon,children:"\ud83d\uddfa\ufe0f"}),(0,p.jsx)(l.default,{style:[b.tabText,'roadmap'===I&&b.activeTabText],children:"Roadmap"})]}),(0,p.jsxs)(n.default,{style:[b.tab,'medicalHub'===I&&b.activeTab],onPress:()=>R('medicalHub'),children:[(0,p.jsx)(l.default,{style:b.tabIcon,children:"\ud83c\udfe5"}),(0,p.jsx)(l.default,{style:[b.tabText,'medicalHub'===I&&b.activeTabText],children:"Medical Hub"})]}),(0,p.jsxs)(n.default,{style:[b.tab,'evidence'===I&&b.activeTab],onPress:()=>R('evidence'),children:[(0,p.jsx)(l.default,{style:b.tabIcon,children:"\ud83d\uddc3\ufe0f"}),(0,p.jsx)(l.default,{style:[b.tabText,'evidence'===I&&b.activeTabText],children:"Evidence Locker"})]})]}),(0,p.jsxs)(s.default,{style:b.content,children:['overview'===I&&(()=>{if(!T)return null;const{client:e,medicalRecords:t,medicalBilling:s,evidenceDocuments:n,litigationStage:c}=T;return(0,p.jsxs)(o.default,{style:b.tabContent,children:[(0,p.jsxs)(o.default,{style:b.section,children:[(0,p.jsx)(l.default,{style:b.sectionTitle,children:"\ud83d\udc64 Client Information"}),(0,p.jsxs)(o.default,{style:b.infoRow,children:[(0,p.jsx)(l.default,{style:b.infoLabel,children:"Name:"}),(0,p.jsx)(l.default,{style:b.infoValue,children:e.displayName})]}),(0,p.jsxs)(o.default,{style:b.infoRow,children:[(0,p.jsx)(l.default,{style:b.infoLabel,children:"Email:"}),(0,p.jsx)(l.default,{style:b.infoValue,children:e.email})]}),(0,p.jsxs)(o.default,{style:b.infoRow,children:[(0,p.jsx)(l.default,{style:b.infoLabel,children:"Current Stage:"}),(0,p.jsx)(l.default,{style:b.infoValue,children:_?.progress?.current_stage_name||'Pre-Litigation'})]}),(0,p.jsxs)(o.default,{style:b.infoRow,children:[(0,p.jsx)(l.default,{style:b.infoLabel,children:"Progress:"}),(0,p.jsxs)(l.default,{style:b.infoValue,children:[_?.progress?.progress_percentage||0,"%"]})]})]}),(0,p.jsxs)(o.default,{style:b.section,children:[(0,p.jsx)(l.default,{style:b.sectionTitle,children:"\ud83d\udcca Case Summary"}),(0,p.jsxs)(o.default,{style:b.statsGrid,children:[(0,p.jsxs)(o.default,{style:b.statCard,children:[(0,p.jsx)(l.default,{style:b.statValue,children:t.total}),(0,p.jsx)(l.default,{style:b.statLabel,children:"Medical Records"})]}),(0,p.jsxs)(o.default,{style:b.statCard,children:[(0,p.jsx)(l.default,{style:b.statValue,children:s.total}),(0,p.jsx)(l.default,{style:b.statLabel,children:"Medical Bills"})]}),(0,p.jsxs)(o.default,{style:b.statCard,children:[(0,p.jsxs)(l.default,{style:b.statValue,children:["$",s.totalAmountBilled?.toFixed(2)||'0.00']}),(0,p.jsx)(l.default,{style:b.statLabel,children:"Total Billed"})]}),(0,p.jsxs)(o.default,{style:b.statCard,children:[(0,p.jsx)(l.default,{style:b.statValue,children:n.total}),(0,p.jsx)(l.default,{style:b.statLabel,children:"Evidence Docs"})]})]})]}),c&&(0,p.jsxs)(o.default,{style:b.section,children:[(0,p.jsx)(l.default,{style:b.sectionTitle,children:"\u2696\ufe0f Case Details"}),c.case_number&&(0,p.jsxs)(o.default,{style:b.infoRow,children:[(0,p.jsx)(l.default,{style:b.infoLabel,children:"Case Number:"}),(0,p.jsx)(l.default,{style:b.infoValue,children:c.case_number})]}),c.case_value&&(0,p.jsxs)(o.default,{style:b.infoRow,children:[(0,p.jsx)(l.default,{style:b.infoLabel,children:"Case Value:"}),(0,p.jsxs)(l.default,{style:b.infoValue,children:["$",parseFloat(c.case_value).toFixed(2)]})]}),c.next_step_description&&(0,p.jsxs)(o.default,{style:b.infoRow,children:[(0,p.jsx)(l.default,{style:b.infoLabel,children:"Next Step:"}),(0,p.jsx)(l.default,{style:b.infoValue,children:c.next_step_description})]}),c.notes&&(0,p.jsxs)(o.default,{style:b.infoRow,children:[(0,p.jsx)(l.default,{style:b.infoLabel,children:"Notes:"}),(0,p.jsx)(l.default,{style:b.infoValue,children:c.notes})]})]})]})})(),'roadmap'===I&&(()=>{if(!T)return null;const{client:e}=T;return(0,p.jsx)(o.default,{style:b.tabContent,children:(0,p.jsxs)(o.default,{style:b.section,children:[(0,p.jsx)(l.default,{style:b.sectionTitle,children:"\u2696\ufe0f Litigation Roadmap"}),_?(0,p.jsxs)(o.default,{children:[(0,p.jsxs)(o.default,{style:b.progressSummary,children:[(0,p.jsxs)(o.default,{style:b.progressSummaryRow,children:[(0,p.jsxs)(l.default,{style:b.progressCurrentStage,children:["Current Stage: ",_.progress?.current_stage_name||'Pre-Litigation']}),(0,p.jsxs)(l.default,{style:b.progressPercentage,children:[parseFloat(_.progress?.progress_percentage||0).toFixed(0),"%"]})]}),(0,p.jsx)(o.default,{style:b.progressBarBackground,children:(0,p.jsx)(o.default,{style:[b.progressBarFill,{width:`${_.progress?.progress_percentage||0}%`}]})}),(0,p.jsxs)(o.default,{style:b.progressStatsRow,children:[(0,p.jsxs)(l.default,{style:b.progressStat,children:["\ud83d\udccb ",_.progress?.total_substages_completed||0," Tasks Completed"]}),(0,p.jsxs)(l.default,{style:b.progressStat,children:["\ud83e\ude99 ",_.progress?.total_coins_earned||0," Coins Earned"]})]})]}),(0,p.jsx)(n.default,{style:b.viewRoadmapButton,onPress:()=>S&&S('client-roadmap',{clientId:c,clientData:_}),children:(0,p.jsx)(l.default,{style:b.viewRoadmapButtonText,children:"\ud83d\uddfa\ufe0f View Full Interactive Roadmap"})}),(0,p.jsx)(o.default,{style:b.roadmapContainer,children:_.stages?.map((e,t)=>{const s=null!==e.completed_at,n=_.progress?.current_stage_id===e.stage_id;return(0,p.jsxs)(o.default,{style:b.roadmapStageItem,children:[(0,p.jsxs)(o.default,{style:b.roadmapStageRow,children:[(0,p.jsx)(o.default,{style:[b.roadmapStageBadge,s&&b.roadmapStageBadgeCompleted,n&&b.roadmapStageBadgeCurrent],children:(0,p.jsx)(l.default,{style:[b.roadmapStageBadgeText,s&&b.roadmapStageBadgeTextCompleted],children:s?'\u2713':e.stage_id})}),(0,p.jsxs)(o.default,{style:b.roadmapStageInfo,children:[(0,p.jsxs)(l.default,{style:[b.roadmapStageName,n&&b.roadmapStageNameCurrent],children:[e.stage_name,n&&' \u2190 Current']}),(0,p.jsxs)(l.default,{style:b.roadmapStageProgress,children:[e.substages_completed,"/",e.total_substages," substages completed"]}),e.completed_at&&(0,p.jsxs)(l.default,{style:b.roadmapStageDate,children:["Completed: ",new Date(e.completed_at).toLocaleDateString()]})]})]}),t<_.stages.length-1&&(0,p.jsx)(o.default,{style:b.roadmapConnector})]},e.stage_id)})})]}):(0,p.jsxs)(o.default,{style:b.emptyState,children:[(0,p.jsx)(l.default,{style:b.emptyIcon,children:"\ud83d\uddfa\ufe0f"}),(0,p.jsx)(l.default,{style:b.emptyText,children:"No litigation progress data available"})]})]})})})(),'medicalHub'===I&&(()=>{if(!T)return null;const{client:e,medicalRecords:t,medicalBilling:s}=T;return(0,p.jsx)(h.default,{source:r(d[12]),style:b.medicalHubBackground,resizeMode:"cover",children:(0,p.jsx)(o.default,{style:b.medicalHubOverlay,children:(0,p.jsxs)(o.default,{style:[b.medicalHubContent,{paddingHorizontal:z?40:L?30:15,paddingTop:z?30:20}],children:[(0,p.jsxs)(o.default,{style:[b.section,b.medicalHubSection],children:[(0,p.jsx)(l.default,{style:[b.sectionTitle,b.medicalHubSectionTitle,{fontSize:z?24:20}],children:"\ud83d\udccb Medical Records"}),0===t.records.length?(0,p.jsxs)(o.default,{style:b.emptyState,children:[(0,p.jsx)(l.default,{style:b.emptyIcon,children:"\ud83d\udccb"}),(0,p.jsx)(l.default,{style:[b.emptyText,{color:'#2c3e50'}],children:"No medical records uploaded yet"})]}):(0,p.jsx)(p.Fragment,{children:t.records.map(e=>(0,p.jsxs)(o.default,{style:b.documentCard,children:[(0,p.jsxs)(o.default,{style:b.documentHeader,children:[(0,p.jsxs)(l.default,{style:b.documentTitle,children:["\ud83d\udccb ",e.record_type?.replace(/_/g,' ').toUpperCase()]}),(0,p.jsx)(l.default,{style:b.documentBadge,children:e.file_name})]}),e.facility_name&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83c\udfe5 ",e.facility_name]}),e.date_of_service&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83d\udcc5 Service: ",new Date(e.date_of_service).toLocaleDateString()]}),e.description&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83d\udcdd ",e.description]}),(0,p.jsxs)(l.default,{style:b.documentDate,children:["Uploaded: ",new Date(e.uploaded_at).toLocaleDateString()]})]},e.id))})]}),(0,p.jsxs)(o.default,{style:[b.section,b.medicalHubSection],children:[(0,p.jsx)(l.default,{style:[b.sectionTitle,b.medicalHubSectionTitle,{fontSize:z?24:20}],children:"\ud83d\udcb0 Medical Billing"}),0===s.bills.length?(0,p.jsxs)(o.default,{style:b.emptyState,children:[(0,p.jsx)(l.default,{style:b.emptyIcon,children:"\ud83d\udcb0"}),(0,p.jsx)(l.default,{style:[b.emptyText,{color:'#2c3e50'}],children:"No medical bills uploaded yet"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.default,{style:b.billingSummaryContainer,children:[(0,p.jsxs)(l.default,{style:b.billingSummary,children:["Total Billed: $",s.totalAmountBilled?.toFixed(2)||'0.00']}),(0,p.jsxs)(l.default,{style:b.billingSummary,children:["Total Due: $",s.totalAmountDue?.toFixed(2)||'0.00']})]}),s.bills.map(e=>(0,p.jsxs)(o.default,{style:b.documentCard,children:[(0,p.jsxs)(o.default,{style:b.documentHeader,children:[(0,p.jsxs)(l.default,{style:b.documentTitle,children:["\ud83d\udcb0 ",e.billing_type?.replace(/_/g,' ').toUpperCase()]}),(0,p.jsxs)(l.default,{style:b.documentBadge,children:["$",parseFloat(e.total_amount).toFixed(2)]})]}),e.facility_name&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83c\udfe5 ",e.facility_name]}),e.bill_number&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83d\udcdd Bill #: ",e.bill_number]}),e.bill_date&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83d\udcc5 Date: ",new Date(e.bill_date).toLocaleDateString()]}),(0,p.jsxs)(l.default,{style:b.documentDate,children:["Uploaded: ",new Date(e.uploaded_at).toLocaleDateString()]})]},e.id))]})]}),(0,p.jsxs)(o.default,{style:[b.infoSection,b.medicalHubInfoSection],children:[(0,p.jsx)(l.default,{style:b.infoIcon,children:"\u2139\ufe0f"}),(0,p.jsxs)(l.default,{style:[b.infoText,{color:'#FFFFFF'}],children:["All medical records and billing can be accessed by ",e.displayName," with proper consent."]})]})]})})})})(),'evidence'===I&&(()=>{if(!T)return null;const{client:e,evidenceDocuments:t}=T;return(0,p.jsxs)(o.default,{style:b.tabContent,children:[(0,p.jsxs)(o.default,{style:b.section,children:[(0,p.jsx)(l.default,{style:b.sectionTitle,children:"\ud83d\uddc3\ufe0f Evidence Locker"}),0===t.documents.length?(0,p.jsxs)(o.default,{style:b.emptyState,children:[(0,p.jsx)(l.default,{style:b.emptyIcon,children:"\ud83d\uddc3\ufe0f"}),(0,p.jsx)(l.default,{style:b.emptyText,children:"Evidence locker is empty"}),(0,p.jsxs)(l.default,{style:b.emptySubtext,children:["Evidence documents will appear here when uploaded by ",e.displayName]})]}):t.documents.map(e=>(0,p.jsxs)(o.default,{style:b.documentCard,children:[(0,p.jsxs)(o.default,{style:b.documentHeader,children:[(0,p.jsxs)(l.default,{style:b.documentTitle,children:["\ud83d\udcce ",e.title]}),(0,p.jsx)(l.default,{style:b.documentBadge,children:e.file_name})]}),e.evidence_type&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83d\udcc2 Type: ",e.evidence_type?.replace(/_/g,' ').toUpperCase()]}),e.description&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83d\udccb ",e.description]}),e.location&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83d\udccd ",e.location]}),e.date_of_incident&&(0,p.jsxs)(l.default,{style:b.documentDetail,children:["\ud83d\udcc5 Incident: ",new Date(e.date_of_incident).toLocaleDateString()]}),(0,p.jsxs)(l.default,{style:b.documentDate,children:["Uploaded: ",new Date(e.uploaded_at).toLocaleDateString()]})]},e.id))]}),(0,p.jsxs)(o.default,{style:b.infoSection,children:[(0,p.jsx)(l.default,{style:b.infoIcon,children:"\u2139\ufe0f"}),(0,p.jsxs)(l.default,{style:b.infoText,children:["Evidence documents are securely shared and can be accessed by ",e.displayName,"."]})]})]})})(),(0,p.jsx)(n.default,{style:b.backButtonBottom,onPress:j,children:(0,p.jsx)(l.default,{style:b.backButtonBottomText,children:"\u2190 Back to Dashboard"})})]})]})}},417,[13,85,161,177,162,26,354,369,165,132,135,153,403]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=e(r(d[8])),p=e(r(d[9])),y=r(d[10]),x=r(d[11]),C=r(d[12]);const b=l.default.create({container:{flex:1,backgroundColor:'#f5f5f5'},header:{backgroundColor:y.theme.colors.primary,padding:20,paddingTop:60},backButton:{marginBottom:10},backButtonText:{color:'#fff',fontSize:16},title:{fontSize:24,fontWeight:'bold',color:'#fff'},tabBar:{flexDirection:'row',backgroundColor:'#fff',borderBottomWidth:1,borderBottomColor:'#e0e0e0'},tab:{flex:1,paddingVertical:15,alignItems:'center',borderBottomWidth:2,borderBottomColor:'transparent'},activeTab:{borderBottomColor:y.theme.colors.primary},tabText:{fontSize:16,color:'#666'},activeTabText:{color:y.theme.colors.primary,fontWeight:'600'},tabContent:{flex:1,padding:20},headerText:{fontSize:16,color:'#666',marginBottom:20},searchContainer:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',borderRadius:12,paddingHorizontal:16,paddingVertical:12,marginBottom:16,shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:.08,shadowRadius:2,elevation:2,borderWidth:1,borderColor:'#e0e0e0'},searchIcon:{fontSize:18,marginRight:10,color:'#999'},searchInput:{flex:1,fontSize:16,color:'#333',padding:0},clearButton:{padding:4,marginLeft:8},clearButtonText:{fontSize:20,color:'#999',fontWeight:'300'},loader:{marginTop:50},loadingText:{fontSize:16,color:'#666',textAlign:'center',marginTop:16},emptyState:{flex:1,justifyContent:'center',alignItems:'center',paddingVertical:60},emptyStateText:{fontSize:18,fontWeight:'600',color:'#333',marginBottom:8},emptyStateSubtext:{fontSize:14,color:'#666',textAlign:'center'},clientList:{flex:1},clientCard:{backgroundColor:'#fff',borderRadius:12,padding:16,marginBottom:12,flexDirection:'row',justifyContent:'space-between',alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},clientInfo:{flex:1},clientName:{fontSize:18,fontWeight:'600',color:'#333',marginBottom:4},clientEmail:{fontSize:14,color:'#666'},disbursementBadge:{backgroundColor:y.theme.colors.primary,paddingHorizontal:16,paddingVertical:8,borderRadius:20},disbursementBadgeText:{color:'#fff',fontWeight:'600'},modalContainer:{flex:1,backgroundColor:'#fff'},modalScroll:{flex:1},modalHeader:{backgroundColor:y.theme.colors.primary,padding:20,paddingTop:60},modalTitle:{fontSize:24,fontWeight:'bold',color:'#fff',marginBottom:4},modalSubtitle:{fontSize:16,color:'#fff',opacity:.9},section:{padding:20,borderBottomWidth:1,borderBottomColor:'#e0e0e0'},sectionTitle:{fontSize:18,fontWeight:'600',color:'#333',marginBottom:12},inputLabel:{fontSize:14,fontWeight:'500',color:'#666',marginBottom:8},amountInput:{backgroundColor:'#f5f5f5',borderRadius:8,padding:15,fontSize:18,borderWidth:1,borderColor:'#ddd'},helperText:{fontSize:14,color:'#666',marginBottom:16},noProvidersText:{fontSize:14,color:'#999',fontStyle:'italic',textAlign:'center',paddingVertical:20},providerPaymentRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:16,paddingBottom:16,borderBottomWidth:1,borderBottomColor:'#f0f0f0'},providerInfo:{flex:1,marginRight:12},providerName:{fontSize:16,fontWeight:'500',color:'#333',marginBottom:2},providerEmail:{fontSize:12,color:'#666'},providerAmountInput:{backgroundColor:'#f5f5f5',borderRadius:8,padding:12,fontSize:16,width:120,textAlign:'right',borderWidth:1,borderColor:'#ddd'},summarySection:{padding:20,backgroundColor:'#f9f9f9'},summaryTitle:{fontSize:18,fontWeight:'600',color:'#333',marginBottom:16},summaryRow:{flexDirection:'row',justifyContent:'space-between',marginBottom:12},summaryLabel:{fontSize:16,color:'#666'},summaryValue:{fontSize:16,fontWeight:'500',color:'#333'},totalRow:{marginTop:12,paddingTop:12,borderTopWidth:2,borderTopColor:'#ddd'},totalLabel:{fontSize:18,fontWeight:'600',color:'#333'},totalValue:{fontSize:18,fontWeight:'bold',color:y.theme.colors.primary},modalActions:{flexDirection:'row',padding:20,gap:12},cancelButton:{flex:1,backgroundColor:'#f0f0f0',borderRadius:8,padding:16,alignItems:'center'},cancelButtonText:{fontSize:16,fontWeight:'600',color:'#666'},processButton:{flex:1,backgroundColor:y.theme.colors.primary,borderRadius:8,padding:16,alignItems:'center'},processingButton:{opacity:.7},processButtonText:{fontSize:16,fontWeight:'600',color:'#fff'},historyList:{flex:1},historyCard:{backgroundColor:'#fff',borderRadius:12,padding:16,marginBottom:12,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},historyHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12,paddingBottom:12,borderBottomWidth:1,borderBottomColor:'#f0f0f0'},historyClientName:{fontSize:18,fontWeight:'600',color:'#333'},historyDate:{fontSize:14,color:'#666'},historyDetails:{marginBottom:12},historyRow:{flexDirection:'row',justifyContent:'space-between',marginBottom:8},historyLabel:{fontSize:14,color:'#666'},historyAmount:{fontSize:14,fontWeight:'500',color:'#333'},historyTotalRow:{marginTop:8,paddingTop:8,borderTopWidth:1,borderTopColor:'#e0e0e0'},historyTotalLabel:{fontSize:16,fontWeight:'600',color:'#333'},historyTotalAmount:{fontSize:16,fontWeight:'bold',color:y.theme.colors.primary},historyFooter:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingTop:12,borderTopWidth:1,borderTopColor:'#f0f0f0'},transactionId:{fontSize:12,color:'#999'},statusBadge:{backgroundColor:'#e0e0e0',paddingHorizontal:12,paddingVertical:6,borderRadius:12},statusSuccess:{backgroundColor:'#4CAF50'},statusText:{fontSize:12,fontWeight:'600',color:'#fff'},stripeConnectBanner:{backgroundColor:'#f5f5f5',padding:16,borderBottomWidth:1,borderBottomColor:'#e0e0e0',flexDirection:'row',alignItems:'center',justifyContent:'space-between'},stripeConnectWarning:{backgroundColor:'#FFF3CD',borderBottomColor:'#FFA500'},stripeConnectSuccess:{backgroundColor:'#D4EDDA',borderBottomColor:'#4CAF50'},stripeConnectUpgrade:{backgroundColor:'#FFF9E6',borderBottomColor:y.theme.colors.warmGold},stripeConnectContent:{flex:1,flexDirection:'row',alignItems:'center'},stripeConnectIcon:{fontSize:24,marginRight:12},stripeConnectTextContainer:{flex:1},stripeConnectTitle:{fontSize:16,fontWeight:'600',color:'#333',marginBottom:2},stripeConnectDescription:{fontSize:13,color:'#666'},stripeConnectText:{fontSize:14,color:'#666',marginLeft:12},stripeConnectButton:{backgroundColor:y.theme.colors.primary,paddingHorizontal:16,paddingVertical:10,borderRadius:6,marginLeft:12},stripeConnectButtonText:{color:'#fff',fontSize:14,fontWeight:'600'},stripeConnectButtonSecondary:{backgroundColor:'transparent',paddingHorizontal:16,paddingVertical:10,borderRadius:6,borderWidth:1,borderColor:'#4CAF50',marginLeft:12},stripeConnectButtonTextSecondary:{color:'#4CAF50',fontSize:14,fontWeight:'600'},stripeConnectButtonUpgrade:{backgroundColor:y.theme.colors.warmGold,paddingHorizontal:16,paddingVertical:10,borderRadius:6,marginLeft:12,borderWidth:2,borderColor:y.theme.colors.secondary},stripeConnectButtonTextUpgrade:{color:y.theme.colors.navy,fontSize:14,fontWeight:'bold'},upgradeInvitationCard:{backgroundColor:'#fff',borderRadius:16,padding:30,margin:20,alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:4,borderWidth:2,borderColor:y.theme.colors.warmGold},upgradeIconContainer:{backgroundColor:'#FFF9E6',width:80,height:80,borderRadius:40,justifyContent:'center',alignItems:'center',marginBottom:20,borderWidth:3,borderColor:y.theme.colors.warmGold},upgradeIcon:{fontSize:40},upgradeInvitationTitle:{fontSize:24,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:16,textAlign:'center'},upgradeInvitationMessage:{fontSize:16,color:'#666',textAlign:'center',lineHeight:24,marginBottom:24},upgradeFeatureList:{width:'100%',marginBottom:24},upgradeFeatureListTitle:{fontSize:16,fontWeight:'600',color:y.theme.colors.text,marginBottom:12},upgradeFeatureItem:{flexDirection:'row',alignItems:'center',marginBottom:10,paddingLeft:10},upgradeFeatureIcon:{fontSize:18,color:'#4CAF50',fontWeight:'bold',marginRight:12,width:20},upgradeFeatureText:{flex:1,fontSize:15,color:'#555',lineHeight:22},upgradeInvitationButton:{backgroundColor:y.theme.colors.warmGold,paddingVertical:16,paddingHorizontal:32,borderRadius:10,width:'100%',marginBottom:16,borderWidth:2,borderColor:y.theme.colors.secondary,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:3},upgradeInvitationButtonText:{color:y.theme.colors.navy,fontSize:18,fontWeight:'bold',textAlign:'center'},upgradeInvitationFooter:{fontSize:13,color:'#999',textAlign:'center',fontStyle:'italic'},upgradeModalOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.6)',justifyContent:'center',alignItems:'center',padding:20},upgradeModalContent:{backgroundColor:'#fff',borderRadius:16,padding:30,width:'100%',maxWidth:400,alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:10},upgradeModalIcon:{fontSize:60,marginBottom:16},upgradeModalTitle:{fontSize:24,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:12,textAlign:'center'},upgradeModalMessage:{fontSize:16,color:'#666',textAlign:'center',lineHeight:24,marginBottom:24},upgradeModalButtons:{width:'100%'},upgradeButton:{backgroundColor:y.theme.colors.warmGold,paddingVertical:14,borderRadius:8,marginBottom:12,borderWidth:2,borderColor:y.theme.colors.secondary},upgradeButtonText:{color:y.theme.colors.navy,fontSize:16,fontWeight:'bold',textAlign:'center'},upgradeModalCancelButton:{paddingVertical:12},upgradeModalCancelText:{color:'#999',fontSize:14,textAlign:'center'}});var j=({user:e,onBack:l,onNavigate:j})=>{const[S,T]=(0,t.useState)([]),[B,w]=(0,t.useState)(!0),[I,v]=(0,t.useState)(null),[F,z]=(0,t.useState)(''),[P,R]=(0,t.useState)([]),[A,N]=(0,t.useState)(0),[W,k]=(0,t.useState)(!1),[D,E]=(0,t.useState)(!1),[L,M]=(0,t.useState)([]),[O,$]=(0,t.useState)('new'),[U,V]=(0,t.useState)(null),[_,H]=(0,t.useState)(!1),[G,q]=(0,t.useState)(''),[J,K]=(0,t.useState)(null),[Q,Y]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(!0);(0,t.useEffect)(()=>{ee(),te(),oe(),re()},[]);const ee=async()=>{try{Z(!0);const t=await(0,x.apiRequest)(x.API_ENDPOINTS.SUBSCRIPTION.LAWFIRM_CURRENT,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});K(t.subscription)}catch(e){console.error('Error loading subscription:',e)}finally{Z(!1)}},te=async()=>{try{w(!0);const t=(await(0,x.apiRequest)(x.API_ENDPOINTS.LAWFIRM.GET_CLIENTS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}})).clients.filter(e=>!e.disbursementCompleted);T(t)}catch(e){console.error('Error loading clients:',e),f.default.alert('Error','Failed to load clients')}finally{w(!1)}},oe=async()=>{try{const t=await(0,x.apiRequest)(x.API_ENDPOINTS.DISBURSEMENTS.GET_HISTORY,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});M(t.disbursements||[])}catch(e){console.error('Error loading disbursement history:',e)}},re=async()=>{try{H(!0);const t=await(0,x.apiRequest)(x.API_ENDPOINTS.STRIPE_CONNECT.ACCOUNT_STATUS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});V(t)}catch(e){console.error('Error checking Stripe account status:',e)}finally{H(!1)}},ne=()=>{j&&j('StripeConnectOnboarding')},le=async t=>{try{return(await(0,x.apiRequest)(`${x.API_ENDPOINTS.DISBURSEMENTS.GET_CLIENT_PROVIDERS}?clientId=${t}`,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}})).providers||[]}catch(e){return console.error('Error loading medical providers:',e),[]}},ae=async e=>{if(!(J&&'premium'===J.planType||(Y(!0),0)))return;v(e),z(''),R([]),N(0);const t=(await le(e.id)).map(e=>({providerId:e.id,providerName:e.providerName,amount:'',email:e.email}));R(t),k(!0)},ie=(e,t)=>{const o=[...P];o[e].amount=t,R(o);const n=o.reduce((e,t)=>e+(parseFloat(t.amount)||0),0);N(n)},se=()=>(parseFloat(F)||0)+A+200,de=()=>{const e=parseFloat(F);if(!e||e<=0)return f.default.alert('Error','Please enter a valid client disbursement amount'),!1;for(let e of P)if(e.amount&&''!==e.amount.trim()){const t=parseFloat(e.amount);if(isNaN(t)||t<=0)return f.default.alert('Error',`Invalid amount for ${e.providerName}`),!1}return!0},ce=async()=>{if(!de())return;const e=parseFloat(F),t=se();f.default.alert('Confirm Disbursement',`Client Payment: $${e.toFixed(2)}\nMedical Providers: $${A.toFixed(2)}\nPlatform Fee: $${200..toFixed(2)}\nTotal to Charge: $${t.toFixed(2)}\n\nProcess this disbursement?`,[{text:'Cancel',style:'cancel'},{text:'Process Payment',onPress:()=>ue()}])},ue=async()=>{E(!0);try{const t=P.filter(e=>e.amount&&parseFloat(e.amount)>0).map(e=>({providerId:e.providerId,providerName:e.providerName,amount:parseFloat(e.amount),email:e.email})),o=await(0,x.apiRequest)(x.API_ENDPOINTS.DISBURSEMENTS.PROCESS,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify({clientId:I.id,clientAmount:parseFloat(F),medicalPayments:t,platformFee:200})});o.success&&f.default.alert('\u2705 Disbursement Successful',`Settlement proceeds have been disbursed!\n\nClient: $${o.clientAmount.toFixed(2)}\nMedical Providers: $${o.medicalTotal.toFixed(2)}\nTransaction ID: ${o.transactionId}`,[{text:'OK',onPress:()=>{k(!1),te(),oe(),$('history')}}])}catch(e){console.error('Disbursement error:',e),f.default.alert('Payment Failed',e.message||'Failed to process disbursement. Please try again.')}finally{E(!1)}},fe=()=>{if(!G.trim())return S;const e=G.toLowerCase();return S.filter(t=>{const o=(t.firstName||'').toLowerCase(),n=(t.lastName||'').toLowerCase(),l=(t.email||'').toLowerCase(),s=`${t.firstName||''} ${t.lastName||''}`.toLowerCase();return o.includes(e)||n.includes(e)||l.includes(e)||s.includes(e)})};return(0,C.jsxs)(o.default,{style:b.container,children:[(0,C.jsxs)(o.default,{style:b.header,children:[(0,C.jsx)(c.default,{onPress:l,style:b.backButton,children:(0,C.jsx)(n.default,{style:b.backButtonText,children:"\u2190 Back"})}),(0,C.jsx)(n.default,{style:b.title,children:"Settlement Disbursements"})]}),X?(0,C.jsxs)(o.default,{style:b.stripeConnectBanner,children:[(0,C.jsx)(u.default,{size:"small",color:y.theme.colors.primary}),(0,C.jsx)(n.default,{style:b.stripeConnectText,children:"Loading..."})]}):J&&'premium'!==J.planType?(0,C.jsxs)(o.default,{style:[b.stripeConnectBanner,b.stripeConnectUpgrade],children:[(0,C.jsxs)(o.default,{style:b.stripeConnectContent,children:[(0,C.jsx)(n.default,{style:b.stripeConnectIcon,children:"\u2b50"}),(0,C.jsxs)(o.default,{style:b.stripeConnectTextContainer,children:[(0,C.jsx)(n.default,{style:b.stripeConnectTitle,children:"Premium Feature"}),(0,C.jsx)(n.default,{style:b.stripeConnectDescription,children:"Settlement disbursements require a Premium plan. Upgrade to unlock this feature."})]})]}),(0,C.jsx)(c.default,{style:b.stripeConnectButtonUpgrade,onPress:()=>j('LawFirmSubscription'),children:(0,C.jsx)(n.default,{style:b.stripeConnectButtonTextUpgrade,children:"Upgrade Now"})})]}):_?(0,C.jsxs)(o.default,{style:b.stripeConnectBanner,children:[(0,C.jsx)(u.default,{size:"small",color:y.theme.colors.primary}),(0,C.jsx)(n.default,{style:b.stripeConnectText,children:"Checking payment account..."})]}):U?.hasAccount?U?.hasAccount&&!U?.onboardingComplete?(0,C.jsxs)(o.default,{style:[b.stripeConnectBanner,b.stripeConnectWarning],children:[(0,C.jsxs)(o.default,{style:b.stripeConnectContent,children:[(0,C.jsx)(n.default,{style:b.stripeConnectIcon,children:"\u26a0\ufe0f"}),(0,C.jsxs)(o.default,{style:b.stripeConnectTextContainer,children:[(0,C.jsx)(n.default,{style:b.stripeConnectTitle,children:"Complete Payment Setup"}),(0,C.jsx)(n.default,{style:b.stripeConnectDescription,children:"Finish your account setup to receive/send disbursements"})]})]}),(0,C.jsx)(c.default,{style:b.stripeConnectButton,onPress:ne,children:(0,C.jsx)(n.default,{style:b.stripeConnectButtonText,children:"Resume Setup"})})]}):U?.onboardingComplete?(0,C.jsxs)(o.default,{style:[b.stripeConnectBanner,b.stripeConnectSuccess],children:[(0,C.jsxs)(o.default,{style:b.stripeConnectContent,children:[(0,C.jsx)(n.default,{style:b.stripeConnectIcon,children:"\u2713"}),(0,C.jsxs)(o.default,{style:b.stripeConnectTextContainer,children:[(0,C.jsx)(n.default,{style:b.stripeConnectTitle,children:"Payment Account Active"}),(0,C.jsx)(n.default,{style:b.stripeConnectDescription,children:"Ready to process disbursements"})]})]}),(0,C.jsx)(c.default,{style:b.stripeConnectButtonSecondary,onPress:ne,children:(0,C.jsx)(n.default,{style:b.stripeConnectButtonTextSecondary,children:"Manage"})})]}):null:(0,C.jsxs)(o.default,{style:[b.stripeConnectBanner,b.stripeConnectWarning],children:[(0,C.jsxs)(o.default,{style:b.stripeConnectContent,children:[(0,C.jsx)(n.default,{style:b.stripeConnectIcon,children:"\u26a0\ufe0f"}),(0,C.jsxs)(o.default,{style:b.stripeConnectTextContainer,children:[(0,C.jsx)(n.default,{style:b.stripeConnectTitle,children:"Payment Account Required"}),(0,C.jsx)(n.default,{style:b.stripeConnectDescription,children:"Set up your payment account to receive/send settlement disbursements"})]})]}),(0,C.jsx)(c.default,{style:b.stripeConnectButton,onPress:ne,children:(0,C.jsx)(n.default,{style:b.stripeConnectButtonText,children:"Set Up Now"})})]}),(0,C.jsxs)(o.default,{style:b.tabBar,children:[(0,C.jsx)(c.default,{style:[b.tab,'new'===O&&b.activeTab],onPress:()=>$('new'),children:(0,C.jsx)(n.default,{style:[b.tabText,'new'===O&&b.activeTabText],children:"New Disbursement"})}),(0,C.jsx)(c.default,{style:[b.tab,'history'===O&&b.activeTab],onPress:()=>$('history'),children:(0,C.jsx)(n.default,{style:[b.tabText,'history'===O&&b.activeTabText],children:"History"})})]}),'new'===O?(()=>{if(X)return(0,C.jsxs)(o.default,{style:b.tabContent,children:[(0,C.jsx)(u.default,{size:"large",color:y.theme.colors.primary,style:b.loader}),(0,C.jsx)(n.default,{style:b.loadingText,children:"Loading..."})]});if(J&&'premium'!==J.planType)return(0,C.jsx)(o.default,{style:b.tabContent,children:(0,C.jsxs)(o.default,{style:b.upgradeInvitationCard,children:[(0,C.jsx)(o.default,{style:b.upgradeIconContainer,children:(0,C.jsx)(n.default,{style:b.upgradeIcon,children:"\u2b50"})}),(0,C.jsx)(n.default,{style:b.upgradeInvitationTitle,children:"Unlock Settlement Disbursements"}),(0,C.jsx)(n.default,{style:b.upgradeInvitationMessage,children:"Settlement disbursements are a premium feature. Upgrade to Premium to process payments to clients and medical providers directly through the app."}),(0,C.jsxs)(o.default,{style:b.upgradeFeatureList,children:[(0,C.jsx)(n.default,{style:b.upgradeFeatureListTitle,children:"With Premium, you can:"}),(0,C.jsxs)(o.default,{style:b.upgradeFeatureItem,children:[(0,C.jsx)(n.default,{style:b.upgradeFeatureIcon,children:"\u2713"}),(0,C.jsx)(n.default,{style:b.upgradeFeatureText,children:"Disburse settlement proceeds to clients"})]}),(0,C.jsxs)(o.default,{style:b.upgradeFeatureItem,children:[(0,C.jsx)(n.default,{style:b.upgradeFeatureIcon,children:"\u2713"}),(0,C.jsx)(n.default,{style:b.upgradeFeatureText,children:"Pay medical providers directly"})]}),(0,C.jsxs)(o.default,{style:b.upgradeFeatureItem,children:[(0,C.jsx)(n.default,{style:b.upgradeFeatureIcon,children:"\u2713"}),(0,C.jsx)(n.default,{style:b.upgradeFeatureText,children:"Track disbursement history"})]}),(0,C.jsxs)(o.default,{style:b.upgradeFeatureItem,children:[(0,C.jsx)(n.default,{style:b.upgradeFeatureIcon,children:"\u2713"}),(0,C.jsx)(n.default,{style:b.upgradeFeatureText,children:"Streamline your settlement process"})]})]}),(0,C.jsx)(c.default,{style:b.upgradeInvitationButton,onPress:()=>{j&&j('LawFirmSubscription')},children:(0,C.jsx)(n.default,{style:b.upgradeInvitationButtonText,children:"Upgrade to Premium \u2b50"})}),(0,C.jsx)(n.default,{style:b.upgradeInvitationFooter,children:"Questions? Contact our support team for more information."})]})});const e=fe();return(0,C.jsxs)(o.default,{style:b.tabContent,children:[(0,C.jsx)(n.default,{style:b.headerText,children:"Select a client to disburse settlement proceeds"}),!B&&S.length>0&&(0,C.jsxs)(o.default,{style:b.searchContainer,children:[(0,C.jsx)(n.default,{style:b.searchIcon,children:"\ud83d\udd0d"}),(0,C.jsx)(h.default,{style:b.searchInput,placeholder:"Search clients by name or email...",placeholderTextColor:"#999",value:G,onChangeText:q}),G.length>0&&(0,C.jsx)(c.default,{style:b.clearButton,onPress:()=>q(''),children:(0,C.jsx)(n.default,{style:b.clearButtonText,children:"\u2715"})})]}),B?(0,C.jsx)(u.default,{size:"large",color:y.theme.colors.primary,style:b.loader}):0===S.length?(0,C.jsxs)(o.default,{style:b.emptyState,children:[(0,C.jsx)(n.default,{style:b.emptyStateText,children:"No clients available for disbursement"}),(0,C.jsx)(n.default,{style:b.emptyStateSubtext,children:"All eligible clients have received their final settlement"})]}):0===e.length?(0,C.jsxs)(o.default,{style:b.emptyState,children:[(0,C.jsx)(n.default,{style:b.emptyStateText,children:"No clients found"}),(0,C.jsx)(n.default,{style:b.emptyStateSubtext,children:"Try a different search term"})]}):(0,C.jsx)(s.default,{style:b.clientList,children:e.map(e=>(0,C.jsxs)(c.default,{style:b.clientCard,onPress:()=>ae(e),children:[(0,C.jsxs)(o.default,{style:b.clientInfo,children:[(0,C.jsxs)(n.default,{style:b.clientName,children:[e.firstName," ",e.lastName]}),(0,C.jsx)(n.default,{style:b.clientEmail,children:e.email})]}),(0,C.jsx)(o.default,{style:b.disbursementBadge,children:(0,C.jsx)(n.default,{style:b.disbursementBadgeText,children:"Disburse \u2192"})})]},e.id))})]})})():(0,C.jsxs)(o.default,{style:b.tabContent,children:[(0,C.jsx)(n.default,{style:b.headerText,children:"Disbursement History"}),0===L.length?(0,C.jsxs)(o.default,{style:b.emptyState,children:[(0,C.jsx)(n.default,{style:b.emptyStateText,children:"No disbursements yet"}),(0,C.jsx)(n.default,{style:b.emptyStateSubtext,children:"Completed disbursements will appear here"})]}):(0,C.jsx)(s.default,{style:b.historyList,children:L.map(e=>(0,C.jsxs)(o.default,{style:b.historyCard,children:[(0,C.jsxs)(o.default,{style:b.historyHeader,children:[(0,C.jsx)(n.default,{style:b.historyClientName,children:e.clientName}),(0,C.jsx)(n.default,{style:b.historyDate,children:new Date(e.createdAt).toLocaleDateString()})]}),(0,C.jsxs)(o.default,{style:b.historyDetails,children:[(0,C.jsxs)(o.default,{style:b.historyRow,children:[(0,C.jsx)(n.default,{style:b.historyLabel,children:"Client Payment:"}),(0,C.jsxs)(n.default,{style:b.historyAmount,children:["$",e.clientAmount.toFixed(2)]})]}),e.medicalTotal>0&&(0,C.jsxs)(o.default,{style:b.historyRow,children:[(0,C.jsx)(n.default,{style:b.historyLabel,children:"Medical Providers:"}),(0,C.jsxs)(n.default,{style:b.historyAmount,children:["$",e.medicalTotal.toFixed(2)]})]}),(0,C.jsxs)(o.default,{style:b.historyRow,children:[(0,C.jsx)(n.default,{style:b.historyLabel,children:"Platform Fee:"}),(0,C.jsxs)(n.default,{style:b.historyAmount,children:["$",e.platformFee.toFixed(2)]})]}),(0,C.jsxs)(o.default,{style:[b.historyRow,b.historyTotalRow],children:[(0,C.jsx)(n.default,{style:b.historyTotalLabel,children:"Total Charged:"}),(0,C.jsxs)(n.default,{style:b.historyTotalAmount,children:["$",e.totalAmount.toFixed(2)]})]})]}),(0,C.jsxs)(o.default,{style:b.historyFooter,children:[(0,C.jsxs)(n.default,{style:b.transactionId,children:["Transaction: ",e.stripeTransferId?.slice(-12)||'N/A']}),(0,C.jsx)(o.default,{style:[b.statusBadge,'completed'===e.status&&b.statusSuccess],children:(0,C.jsx)(n.default,{style:b.statusText,children:'completed'===e.status?'\u2713 Completed':e.status})})]})]},e.id))})]}),(0,C.jsx)(p.default,{visible:W,animationType:"slide",transparent:!1,onRequestClose:()=>k(!1),children:(0,C.jsx)(o.default,{style:b.modalContainer,children:(0,C.jsxs)(s.default,{style:b.modalScroll,children:[(0,C.jsxs)(o.default,{style:b.modalHeader,children:[(0,C.jsx)(n.default,{style:b.modalTitle,children:"Settlement Disbursement"}),(0,C.jsxs)(n.default,{style:b.modalSubtitle,children:[I?.firstName," ",I?.lastName]})]}),(0,C.jsxs)(o.default,{style:b.section,children:[(0,C.jsx)(n.default,{style:b.sectionTitle,children:"Client Payment"}),(0,C.jsx)(n.default,{style:b.inputLabel,children:"Amount to Client *"}),(0,C.jsx)(h.default,{style:b.amountInput,placeholder:"0.00",keyboardType:"decimal-pad",value:F,onChangeText:z})]}),(0,C.jsxs)(o.default,{style:b.section,children:[(0,C.jsx)(n.default,{style:b.sectionTitle,children:"Medical Provider Payments"}),(0,C.jsx)(n.default,{style:b.helperText,children:"Enter amounts to pay to medical providers (optional)"}),0===P.length?(0,C.jsx)(n.default,{style:b.noProvidersText,children:"No medical providers connected to this client"}):P.map((e,t)=>(0,C.jsxs)(o.default,{style:b.providerPaymentRow,children:[(0,C.jsxs)(o.default,{style:b.providerInfo,children:[(0,C.jsx)(n.default,{style:b.providerName,children:e.providerName}),(0,C.jsx)(n.default,{style:b.providerEmail,children:e.email})]}),(0,C.jsx)(h.default,{style:b.providerAmountInput,placeholder:"0.00",keyboardType:"decimal-pad",value:e.amount,onChangeText:e=>ie(t,e)})]},t))]}),(0,C.jsxs)(o.default,{style:b.summarySection,children:[(0,C.jsx)(n.default,{style:b.summaryTitle,children:"Payment Summary"}),(0,C.jsxs)(o.default,{style:b.summaryRow,children:[(0,C.jsx)(n.default,{style:b.summaryLabel,children:"Client Payment:"}),(0,C.jsxs)(n.default,{style:b.summaryValue,children:["$",(parseFloat(F)||0).toFixed(2)]})]}),(0,C.jsxs)(o.default,{style:b.summaryRow,children:[(0,C.jsx)(n.default,{style:b.summaryLabel,children:"Medical Providers:"}),(0,C.jsxs)(n.default,{style:b.summaryValue,children:["$",A.toFixed(2)]})]}),(0,C.jsxs)(o.default,{style:b.summaryRow,children:[(0,C.jsx)(n.default,{style:b.summaryLabel,children:"Platform Fee:"}),(0,C.jsxs)(n.default,{style:b.summaryValue,children:["$",200..toFixed(2)]})]}),(0,C.jsxs)(o.default,{style:[b.summaryRow,b.totalRow],children:[(0,C.jsx)(n.default,{style:b.totalLabel,children:"Total to Charge:"}),(0,C.jsxs)(n.default,{style:b.totalValue,children:["$",se().toFixed(2)]})]})]}),(0,C.jsxs)(o.default,{style:b.modalActions,children:[(0,C.jsx)(c.default,{style:b.cancelButton,onPress:()=>k(!1),disabled:D,children:(0,C.jsx)(n.default,{style:b.cancelButtonText,children:"Cancel"})}),(0,C.jsx)(c.default,{style:[b.processButton,D&&b.processingButton],onPress:ce,disabled:D,children:D?(0,C.jsx)(u.default,{color:"#fff"}):(0,C.jsx)(n.default,{style:b.processButtonText,children:"Process Payment"})})]})]})})}),(0,C.jsx)(p.default,{visible:Q,animationType:"slide",transparent:!0,onRequestClose:()=>Y(!1),children:(0,C.jsx)(o.default,{style:b.upgradeModalOverlay,children:(0,C.jsxs)(o.default,{style:b.upgradeModalContent,children:[(0,C.jsx)(n.default,{style:b.upgradeModalIcon,children:"\u2b50"}),(0,C.jsx)(n.default,{style:b.upgradeModalTitle,children:"Premium Feature"}),(0,C.jsx)(n.default,{style:b.upgradeModalMessage,children:"Settlement disbursements are only available with a Premium plan. Upgrade your subscription to unlock this powerful feature and process payments to clients and medical providers."}),(0,C.jsxs)(o.default,{style:b.upgradeModalButtons,children:[(0,C.jsx)(c.default,{style:b.upgradeButton,onPress:()=>{Y(!1),l&&l()},children:(0,C.jsx)(n.default,{style:b.upgradeButtonText,children:"Upgrade to Premium"})}),(0,C.jsx)(c.default,{style:b.upgradeModalCancelButton,onPress:()=>Y(!1),children:(0,C.jsx)(n.default,{style:b.upgradeModalCancelText,children:"Not Now"})})]})]})})})]})}},418,[13,85,161,26,177,162,354,116,340,156,132,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),l=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),h=e(r(d[7])),f=r(d[8]),y=r(d[9]),x=r(d[10]);const b=n.default.create({container:{flex:1,backgroundColor:f.theme.colors.sand},header:{backgroundColor:f.theme.colors.cream,padding:20,borderBottomWidth:3,borderBottomColor:f.theme.colors.secondary,flexDirection:'row',justifyContent:'space-between',alignItems:'center'},backButton:{padding:8},backButtonText:{fontSize:16,color:f.theme.colors.mahogany,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:f.theme.colors.mahogany},placeholder:{width:60},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:10,color:f.theme.colors.textSecondary,fontSize:16},content:{flex:1},summaryCard:{backgroundColor:f.theme.colors.mahogany,margin:16,padding:20,borderRadius:12,flexDirection:'row',alignItems:'center',borderWidth:3,borderColor:f.theme.colors.warmGold,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:4},summaryIcon:{fontSize:40,marginRight:16},summaryContent:{flex:1},summaryLabel:{fontSize:14,color:f.theme.colors.lightCream,marginBottom:4},summaryValue:{fontSize:32,fontWeight:'bold',color:f.theme.colors.cream},disbursementsList:{padding:16,paddingTop:0},listTitle:{fontSize:18,fontWeight:'bold',color:f.theme.colors.mahogany,marginBottom:12},disbursementCard:{backgroundColor:f.theme.colors.lightCream,borderRadius:12,padding:16,marginBottom:12,borderWidth:2,borderColor:f.theme.colors.warmGold},cardHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'flex-start',marginBottom:12},cardHeaderLeft:{flex:1,flexDirection:'row',alignItems:'center'},cardIcon:{fontSize:32,marginRight:12},cardTitle:{fontSize:16,fontWeight:'bold',color:f.theme.colors.mahogany,marginBottom:2},cardSubtitle:{fontSize:13,color:f.theme.colors.textSecondary},statusBadge:{paddingHorizontal:12,paddingVertical:6,borderRadius:12},statusText:{fontSize:12,fontWeight:'600'},cardDivider:{height:1,backgroundColor:f.theme.colors.warmGray+'40',marginBottom:12},cardBody:{gap:8},infoRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},infoLabel:{fontSize:14,color:f.theme.colors.textSecondary,fontWeight:'500'},infoValue:{fontSize:14,color:f.theme.colors.mahogany,fontWeight:'600'},infoValueSmall:{fontSize:12,color:f.theme.colors.mahogany,fontWeight:'500',maxWidth:200},emptyState:{padding:40,alignItems:'center'},emptyIcon:{fontSize:64,marginBottom:16},emptyTitle:{fontSize:20,fontWeight:'bold',color:f.theme.colors.mahogany,marginBottom:12},emptyText:{fontSize:14,color:f.theme.colors.textSecondary,textAlign:'center',lineHeight:20}});var j=({user:e,onBack:n,userType:j,hideHeader:p=!1})=>{const[S,w]=(0,t.useState)([]),[C,T]=(0,t.useState)(!0),[D,B]=(0,t.useState)(!1);(0,t.useEffect)(()=>{z()},[]);const z=async()=>{try{T(!0);const t=await(0,y.apiRequest)(y.API_ENDPOINTS.DISBURSEMENTS.GET_RECEIVED,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});w(t.disbursements||[])}catch(e){console.error('Error loading disbursements:',e)}finally{T(!1)}},I=e=>{const t={pending:{bg:'#FFF3CD',text:'#856404',label:'Pending'},completed:{bg:'#D4EDDA',text:'#155724',label:'Completed'},failed:{bg:'#F8D7DA',text:'#721C24',label:'Failed'}},n=t[e]||t.pending;return(0,x.jsx)(l.default,{style:[b.statusBadge,{backgroundColor:n.bg}],children:(0,x.jsx)(o.default,{style:[b.statusText,{color:n.text}],children:n.label})})};return C?(0,x.jsxs)(l.default,{style:b.container,children:[!p&&(0,x.jsxs)(l.default,{style:b.header,children:[(0,x.jsx)(c.default,{style:b.backButton,onPress:n,children:(0,x.jsx)(o.default,{style:b.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(o.default,{style:b.headerTitle,children:"My Disbursements"}),(0,x.jsx)(l.default,{style:b.placeholder})]}),(0,x.jsxs)(l.default,{style:b.loadingContainer,children:[(0,x.jsx)(u.default,{size:"large",color:f.theme.colors.mahogany}),(0,x.jsx)(o.default,{style:b.loadingText,children:"Loading disbursements..."})]})]}):(0,x.jsxs)(l.default,{style:b.container,children:[!p&&(0,x.jsxs)(l.default,{style:b.header,children:[(0,x.jsx)(c.default,{style:b.backButton,onPress:n,children:(0,x.jsx)(o.default,{style:b.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(o.default,{style:b.headerTitle,children:'medical_provider'===j?'Received Payments':'My Disbursements'}),(0,x.jsx)(l.default,{style:b.placeholder})]}),(0,x.jsxs)(s.default,{style:b.content,refreshControl:(0,x.jsx)(h.default,{refreshing:D,onRefresh:async()=>{B(!0),await z(),B(!1)}}),children:[(0,x.jsxs)(l.default,{style:b.summaryCard,children:[(0,x.jsx)(o.default,{style:b.summaryIcon,children:"\ud83d\udcca"}),(0,x.jsxs)(l.default,{style:b.summaryContent,children:[(0,x.jsx)(o.default,{style:b.summaryLabel,children:"Total Disbursements"}),(0,x.jsx)(o.default,{style:b.summaryValue,children:S.length})]})]}),0===S.length?(()=>{const e='medical_provider'===j;return(0,x.jsxs)(l.default,{style:b.emptyState,children:[(0,x.jsx)(o.default,{style:b.emptyIcon,children:"\ud83d\udced"}),(0,x.jsx)(o.default,{style:b.emptyTitle,children:"No Disbursements Yet"}),(0,x.jsx)(o.default,{style:b.emptyText,children:e?'When law firms send you payments for medical services, they will appear here.':'When your law firm sends settlement disbursements, they will appear here.'})]})})():(0,x.jsxs)(l.default,{style:b.disbursementsList,children:[(0,x.jsx)(o.default,{style:b.listTitle,children:"Payment History"}),S.map(e=>{const t='medical_provider'===j;return(0,x.jsxs)(l.default,{style:b.disbursementCard,children:[(0,x.jsxs)(l.default,{style:b.cardHeader,children:[(0,x.jsxs)(l.default,{style:b.cardHeaderLeft,children:[(0,x.jsx)(o.default,{style:b.cardIcon,children:"\ud83d\udcb0"}),(0,x.jsxs)(l.default,{children:[(0,x.jsx)(o.default,{style:b.cardTitle,children:t?'Medical Services Payment':'Settlement Disbursement'}),(0,x.jsxs)(o.default,{style:b.cardSubtitle,children:["from ",e.lawFirmName,t&&e.clientName&&` (${e.clientName})`]})]})]}),I(e.status)]}),(0,x.jsx)(l.default,{style:b.cardDivider}),(0,x.jsxs)(l.default,{style:b.cardBody,children:[(0,x.jsxs)(l.default,{style:b.infoRow,children:[(0,x.jsx)(o.default,{style:b.infoLabel,children:"Amount:"}),(0,x.jsx)(o.default,{style:b.infoValue,children:(s=e.amount,new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(s))})]}),(0,x.jsxs)(l.default,{style:b.infoRow,children:[(0,x.jsx)(o.default,{style:b.infoLabel,children:"Date:"}),(0,x.jsx)(o.default,{style:b.infoValue,children:(n=e.createdAt,new Date(n).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'}))})]}),e.stripeTransferId&&(0,x.jsxs)(l.default,{style:b.infoRow,children:[(0,x.jsx)(o.default,{style:b.infoLabel,children:"Transaction ID:"}),(0,x.jsx)(o.default,{style:b.infoValueSmall,numberOfLines:1,ellipsizeMode:"middle",children:e.stripeTransferId})]})]})]},e.id);var n,s})]})]})]})}},419,[13,85,161,26,177,162,354,176,132,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=r(d[0]),o=e(r(d[1])),s=e(r(d[2])),n=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6]));r(d[7]);e(r(d[8]));var f=r(d[9]),h=r(d[10]),y=r(d[11]);const x=n.default.create({container:{flex:1,backgroundColor:f.theme.colors.background},header:{flexDirection:'row',alignItems:'center',padding:16,backgroundColor:f.theme.colors.primary,borderBottomWidth:2,borderBottomColor:'#8B4513'},backButton:{marginRight:12},backButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},title:{fontSize:20,fontWeight:'bold',color:'#fff'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:12,fontSize:16,color:f.theme.colors.textSecondary},content:{flex:1,padding:16},section:{backgroundColor:'#fff',borderRadius:12,padding:20,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},sectionTitle:{fontSize:22,fontWeight:'bold',color:f.theme.colors.text,marginBottom:12},description:{fontSize:16,color:f.theme.colors.textSecondary,lineHeight:24,marginBottom:20},benefitsList:{marginBottom:24},benefitItem:{fontSize:16,color:f.theme.colors.text,marginBottom:8,lineHeight:24},primaryButton:{backgroundColor:f.theme.colors.primary,padding:16,borderRadius:8,alignItems:'center',marginBottom:12},primaryButtonText:{color:'#fff',fontSize:18,fontWeight:'bold'},secondaryButton:{backgroundColor:'#fff',padding:16,borderRadius:8,alignItems:'center',borderWidth:2,borderColor:f.theme.colors.primary,marginTop:16},secondaryButtonText:{color:f.theme.colors.primary,fontSize:16,fontWeight:'600'},disabledButton:{opacity:.6},secureNote:{fontSize:14,color:f.theme.colors.textSecondary,textAlign:'center',fontStyle:'italic'},statusBadge:{backgroundColor:'#FFA500',paddingVertical:8,paddingHorizontal:16,borderRadius:20,alignSelf:'flex-start',marginBottom:16},successBadge:{backgroundColor:'#4CAF50'},statusBadgeText:{color:'#fff',fontSize:14,fontWeight:'bold'},statusDetails:{backgroundColor:'#f5f5f5',padding:16,borderRadius:8,marginBottom:16},statusLabel:{fontSize:16,fontWeight:'bold',color:f.theme.colors.text,marginBottom:8},statusValue:{fontSize:15,color:f.theme.colors.textSecondary,marginBottom:4},successText:{color:'#4CAF50',fontWeight:'600'},dashboardNote:{fontSize:14,color:f.theme.colors.textSecondary,textAlign:'center',marginTop:12,fontStyle:'italic'},refreshButton:{marginTop:20,padding:12,borderRadius:8,borderWidth:1,borderColor:f.theme.colors.border,alignItems:'center'},refreshButtonText:{color:f.theme.colors.primary,fontSize:16,fontWeight:'600'}});var p=({user:e,onBack:n})=>{const[p,b]=(0,t.useState)(!0),[S,j]=(0,t.useState)(null),[T,B]=(0,t.useState)(!1),C='lawfirm'===e.userType,k=C?'send':'receive',A=C?'send settlement disbursements':'receive settlement disbursements';(0,t.useEffect)(()=>{P()},[]);const P=async()=>{try{b(!0);const t=await(0,h.apiRequest)(h.API_ENDPOINTS.STRIPE_CONNECT.ACCOUNT_STATUS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});j(t)}catch(e){console.error('Error checking account status:',e),u.default.alert('Error','Failed to check payment account status')}finally{b(!1)}},E=async()=>{try{B(!0);const t='lawfirm'===e.userType?'law_firm':'medical_provider'===e.userType?'medical_provider':'client',o=await(0,h.apiRequest)(h.API_ENDPOINTS.STRIPE_CONNECT.CREATE_ACCOUNT,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify({accountType:t,email:e.email})});o.onboardingUrl&&(window.open(o.onboardingUrl,'_blank'),u.default.alert('Account Setup','A new window has opened with your Stripe onboarding. Complete the setup and return here to continue.',[{text:'I Completed Setup',onPress:()=>P()},{text:'Cancel',style:'cancel'}]))}catch(e){console.error('Error setting up account:',e),u.default.alert('Error',e.message||'Failed to set up payment account')}finally{B(!1)}};if(p)return(0,y.jsxs)(o.default,{style:x.container,children:[(0,y.jsxs)(o.default,{style:x.header,children:[(0,y.jsx)(l.default,{onPress:n,style:x.backButton,children:(0,y.jsx)(s.default,{style:x.backButtonText,children:"\u2190 Back"})}),(0,y.jsx)(s.default,{style:x.title,children:"Payment Account Setup"})]}),(0,y.jsxs)(o.default,{style:x.loadingContainer,children:[(0,y.jsx)(c.default,{size:"large",color:f.theme.colors.primary}),(0,y.jsx)(s.default,{style:x.loadingText,children:"Checking account status..."})]})]});const I=S?.onboardingComplete,N=S?.hasAccount;return(0,y.jsxs)(o.default,{style:x.container,children:[(0,y.jsxs)(o.default,{style:x.header,children:[(0,y.jsx)(l.default,{onPress:n,style:x.backButton,children:(0,y.jsx)(s.default,{style:x.backButtonText,children:"\u2190 Back"})}),(0,y.jsx)(s.default,{style:x.title,children:"Payment Account Setup"})]}),(0,y.jsxs)(o.default,{style:x.content,children:[!N&&(0,y.jsxs)(o.default,{style:x.section,children:[(0,y.jsx)(s.default,{style:x.sectionTitle,children:"\ud83d\udcb3 Set Up Your Payment Account"}),(0,y.jsxs)(s.default,{style:x.description,children:["To ",A,", you need to connect a bank account through Stripe. This secure process ensures you can ",k," payments directly ",C?'from':'to'," your account."]}),(0,y.jsxs)(o.default,{style:x.benefitsList,children:[(0,y.jsx)(s.default,{style:x.benefitItem,children:"\u2713 Secure bank account connection"}),(0,y.jsxs)(s.default,{style:x.benefitItem,children:["\u2713 ",C?'Send':'Receive'," settlement funds securely"]}),(0,y.jsx)(s.default,{style:x.benefitItem,children:"\u2713 Track all payments in one place"}),(0,y.jsx)(s.default,{style:x.benefitItem,children:"\u2713 FDIC-insured transfers"})]}),(0,y.jsx)(l.default,{style:[x.primaryButton,T&&x.disabledButton],onPress:E,disabled:T,children:T?(0,y.jsx)(c.default,{size:"small",color:"#fff"}):(0,y.jsx)(s.default,{style:x.primaryButtonText,children:"Set Up Payment Account"})}),(0,y.jsx)(s.default,{style:x.secureNote,children:"\ud83d\udd12 Your information is secure and encrypted. Verdict Path uses Stripe for payment processing."})]}),N&&!I&&(0,y.jsxs)(o.default,{style:x.section,children:[(0,y.jsx)(o.default,{style:x.statusBadge,children:(0,y.jsx)(s.default,{style:x.statusBadgeText,children:"\u26a0\ufe0f Setup Incomplete"})}),(0,y.jsx)(s.default,{style:x.sectionTitle,children:"Complete Your Account Setup"}),(0,y.jsxs)(s.default,{style:x.description,children:["Your payment account has been created, but you need to complete the onboarding process to ",A,"."]}),(0,y.jsx)(l.default,{style:x.primaryButton,onPress:E,children:(0,y.jsx)(s.default,{style:x.primaryButtonText,children:"Resume Setup"})}),(0,y.jsxs)(o.default,{style:x.statusDetails,children:[(0,y.jsx)(s.default,{style:x.statusLabel,children:"Account Status:"}),(0,y.jsxs)(s.default,{style:x.statusValue,children:["Charges: ",S.chargesEnabled?'\u2713 Enabled':'\u2717 Not Enabled']}),(0,y.jsxs)(s.default,{style:x.statusValue,children:["Payouts: ",S.payoutsEnabled?'\u2713 Enabled':'\u2717 Not Enabled']})]})]}),I&&(0,y.jsxs)(o.default,{style:x.section,children:[(0,y.jsx)(o.default,{style:[x.statusBadge,x.successBadge],children:(0,y.jsx)(s.default,{style:x.statusBadgeText,children:"\u2713 Account Active"})}),(0,y.jsx)(s.default,{style:x.sectionTitle,children:"Your Payment Account is Ready!"}),(0,y.jsxs)(s.default,{style:x.description,children:["Your bank account is connected and you're ready to ",A,"."]}),(0,y.jsxs)(o.default,{style:x.statusDetails,children:[(0,y.jsx)(s.default,{style:x.statusLabel,children:"Account Status:"}),(0,y.jsx)(s.default,{style:[x.statusValue,x.successText],children:"\u2713 Charges Enabled"}),(0,y.jsx)(s.default,{style:[x.statusValue,x.successText],children:"\u2713 Payouts Enabled"})]}),(0,y.jsx)(l.default,{style:x.secondaryButton,onPress:async()=>{try{const t=await(0,h.apiRequest)(h.API_ENDPOINTS.STRIPE_CONNECT.DASHBOARD_LINK,{method:'POST',headers:{Authorization:`Bearer ${e.token}`}});t.url&&window.open(t.url,'_blank')}catch(e){console.error('Error accessing dashboard:',e),u.default.alert('Error','Failed to access Stripe dashboard')}},children:(0,y.jsx)(s.default,{style:x.secondaryButtonText,children:"Access Stripe Dashboard"})}),(0,y.jsx)(s.default,{style:x.dashboardNote,children:"View your payment history, update banking information, and manage your account settings."})]}),(0,y.jsx)(l.default,{style:x.refreshButton,onPress:P,children:(0,y.jsx)(s.default,{style:x.refreshButtonText,children:"\ud83d\udd04 Refresh Status"})})]})]})}},420,[13,85,161,26,162,354,116,82,421,132,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var t=e(r(d[0])),n=e(r(d[1])),l=n.default?window.location.href:'';var o=(e,t)=>{if(n.default){var l=new URL(e,window.location).toString();0===l.indexOf('tel:')?window.location=l:window.open(l,t,'noopener')}},s=new class{constructor(){this._eventCallbacks={}}_dispatchEvent(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];var o=this._eventCallbacks[e];null!=o&&Array.isArray(o)&&o.map(e=>{e(...n)})}addEventListener(e,t){var n=this;return n._eventCallbacks[e]||(n._eventCallbacks[e]=[t]),n._eventCallbacks[e].push(t),{remove(){var l=n._eventCallbacks[e].filter(e=>e.toString()!==t.toString());n._eventCallbacks[e]=l}}}removeEventListener(e,t){console.error("Linking.removeEventListener('"+e+"', ...): Method has been deprecated. Please instead use `remove()` on the subscription returned by `Linking.addEventListener`.");var n=this._eventCallbacks[e].filter(e=>e.toString()!==t.toString());this._eventCallbacks[e]=n}canOpenURL(){return Promise.resolve(!0)}getInitialURL(){return Promise.resolve(l)}openURL(e,t){1===arguments.length&&(t='_blank');try{return o(e,t),this._dispatchEvent('onOpen',e),Promise.resolve()}catch(e){return Promise.reject(e)}}_validateURL(e){(0,t.default)('string'==typeof e,'Invalid URL: should be a string. Was: '+e),(0,t.default)(e,'Invalid URL: cannot be empty')}}},421,[9,23]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return B}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),h=e(r(d[6])),u=e(r(d[7])),f=e(r(d[8])),y=r(d[9]),x=r(d[10]),p=r(d[11]),C=e(r(d[12])),b=e(r(d[13])),j=e(r(d[14])),S=r(d[15]),A=r(d[16]);const T=c.default.create({container:{flex:1,backgroundColor:y.theme.colors.sand},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:y.theme.colors.sand},loadingText:{marginTop:10,color:y.theme.colors.textSecondary,fontSize:16},header:{backgroundColor:y.theme.colors.cream,padding:20,borderBottomWidth:3,borderBottomColor:y.theme.colors.secondary,flexDirection:'row',justifyContent:'space-between',alignItems:'center'},providerName:{fontSize:24,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:5},providerCode:{fontSize:14,color:y.theme.colors.textSecondary,fontFamily:'monospace'},inviteButton:{backgroundColor:y.theme.colors.warmGold,paddingHorizontal:16,paddingVertical:10,borderRadius:8,borderWidth:2,borderColor:y.theme.colors.secondary},inviteButtonText:{color:y.theme.colors.navy,fontSize:14,fontWeight:'600'},tabBar:{flexDirection:'row',backgroundColor:y.theme.colors.cream,borderBottomWidth:2,borderBottomColor:y.theme.colors.secondary},tab:{flex:1,padding:12,alignItems:'center',borderBottomWidth:3,borderBottomColor:'transparent'},activeTab:{borderBottomColor:y.theme.colors.warmGold,backgroundColor:y.theme.colors.lightCream},tabIconContainer:{position:'relative',marginBottom:4},tabIcon:{fontSize:20},notificationBadge:{position:'absolute',top:-5,right:-10,backgroundColor:'#e74c3c',borderRadius:10,minWidth:20,height:20,justifyContent:'center',alignItems:'center',paddingHorizontal:5},notificationBadgeText:{color:'#fff',fontSize:11,fontWeight:'bold'},tabText:{fontSize:12,color:y.theme.colors.textSecondary,fontWeight:'600'},activeTabText:{color:y.theme.colors.mahogany},content:{flex:1,paddingBottom:100},tabContent:{padding:16},section:{backgroundColor:y.theme.colors.cream,padding:20,marginBottom:16,borderRadius:8,borderWidth:2,borderColor:y.theme.colors.secondary},sectionTitle:{fontSize:20,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:15,paddingBottom:10,borderBottomWidth:2,borderBottomColor:y.theme.colors.secondary},sectionDescription:{fontSize:14,color:y.theme.colors.textSecondary,marginBottom:16,lineHeight:20},notificationActionCard:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',padding:16,borderRadius:12,marginBottom:12,borderWidth:2,borderColor:y.theme.colors.secondary},notificationActionIcon:{width:48,height:48,borderRadius:24,backgroundColor:y.theme.colors.primary,alignItems:'center',justifyContent:'center',marginRight:16},notificationActionIconText:{fontSize:24},notificationActionContent:{flex:1},notificationActionTitle:{fontSize:16,fontWeight:'700',color:'#333',marginBottom:4},notificationActionDescription:{fontSize:13,color:'#666'},notificationActionArrow:{fontSize:24,color:y.theme.colors.primary,fontWeight:'bold'},hipaaActivityCard:{backgroundColor:'#E0F7FA',padding:18,borderRadius:12,marginBottom:20,borderWidth:2,borderColor:'#00BCD4',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},hipaaActivityHeader:{flexDirection:'row',alignItems:'center'},hipaaActivityIcon:{width:56,height:56,borderRadius:28,backgroundColor:'#00BCD4',justifyContent:'center',alignItems:'center',marginRight:16},hipaaActivityIconText:{fontSize:28},hipaaActivityContent:{flex:1},hipaaActivityTitle:{fontSize:18,fontWeight:'700',color:'#006B7D',marginBottom:4},hipaaActivityDescription:{fontSize:14,color:'#37474F',lineHeight:20},hipaaActivityArrow:{fontSize:24,color:'#00BCD4',marginLeft:8},templatesList:{gap:12},templateItem:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',padding:14,borderRadius:8,borderWidth:1,borderColor:'#e0e0e0'},templateIcon:{fontSize:20,marginRight:12},templateText:{fontSize:15,color:'#333',fontWeight:'500'},searchContainer:{flexDirection:'row',alignItems:'center',backgroundColor:y.theme.colors.lightCream,borderRadius:10,borderWidth:2,borderColor:y.theme.colors.secondary,paddingHorizontal:12,paddingVertical:8,marginBottom:15},searchIcon:{fontSize:18,marginRight:8},searchInput:{flex:1,fontSize:16,color:y.theme.colors.navy,padding:0},clearButton:{padding:4,marginLeft:8},clearButtonText:{fontSize:18,color:y.theme.colors.warmGray,fontWeight:'bold'},emptyState:{padding:30,alignItems:'center'},emptyIcon:{fontSize:48,marginBottom:10},emptyText:{fontSize:16,color:y.theme.colors.textSecondary,marginBottom:10,textAlign:'center',fontWeight:'600'},emptySubtext:{fontSize:14,color:y.theme.colors.warmGray,textAlign:'center'},patientCard:{backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:6,marginBottom:12,borderLeftWidth:4,borderLeftColor:y.theme.colors.warmGold},patientHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},patientName:{fontSize:18,fontWeight:'600',color:y.theme.colors.mahogany,flex:1},patientBadge:{backgroundColor:y.theme.colors.warmGold,paddingHorizontal:8,paddingVertical:4,borderRadius:4,fontSize:11,fontWeight:'600',color:y.theme.colors.navy},patientEmail:{fontSize:14,color:y.theme.colors.textSecondary,marginBottom:8},patientStats:{flexDirection:'row',gap:16,marginBottom:4},patientStat:{fontSize:13,color:y.theme.colors.warmGray},patientDate:{fontSize:12,color:y.theme.colors.warmGray,marginTop:4},statsGrid:{flexDirection:'row',flexWrap:'wrap',gap:12},statCard:{backgroundColor:y.theme.colors.lightCream,padding:16,borderRadius:8,width:'48%',alignItems:'center',borderWidth:2,borderColor:y.theme.colors.warmGold},statIcon:{fontSize:32,marginBottom:8},statValue:{fontSize:28,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:4},statLabel:{fontSize:12,color:y.theme.colors.textSecondary,textAlign:'center'},phaseRow:{marginBottom:20},phaseInfo:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},phaseName:{fontSize:16,fontWeight:'600',color:y.theme.colors.mahogany},phaseCount:{fontSize:14,color:y.theme.colors.textSecondary},progressBarContainer:{height:12,backgroundColor:y.theme.colors.lightCream,borderRadius:6,overflow:'hidden',borderWidth:1,borderColor:y.theme.colors.warmGray},progressBar:{height:'100%',borderRadius:5},activityList:{gap:12},activityItem:{flexDirection:'row',backgroundColor:y.theme.colors.lightCream,padding:12,borderRadius:6,borderLeftWidth:3,borderLeftColor:y.theme.colors.warmGold},activityIcon:{fontSize:24,marginRight:12},activityContent:{flex:1},activityText:{fontSize:14,color:y.theme.colors.navy,marginBottom:2},activityTime:{fontSize:12,color:y.theme.colors.warmGray},recordCard:{backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:6,marginBottom:12,borderLeftWidth:4,borderLeftColor:y.theme.colors.warmGold},recordHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},recordTitle:{fontSize:16,fontWeight:'600',color:y.theme.colors.mahogany},recordBadge:{backgroundColor:y.theme.colors.warmGold,paddingHorizontal:8,paddingVertical:4,borderRadius:4,fontSize:11,fontWeight:'600',color:y.theme.colors.navy},recordPatient:{fontSize:14,color:y.theme.colors.textSecondary,marginBottom:4},recordDate:{fontSize:12,color:y.theme.colors.warmGray},billingSummary:{gap:12},billingRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',padding:12,backgroundColor:y.theme.colors.lightCream,borderRadius:6},billingLabel:{fontSize:14,color:y.theme.colors.textSecondary,fontWeight:'600'},billingValue:{fontSize:18,color:y.theme.colors.mahogany,fontWeight:'bold'},evidenceCard:{backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:6,marginBottom:12,borderLeftWidth:4,borderLeftColor:y.theme.colors.warmGold},evidenceHeader:{flexDirection:'row',alignItems:'center',marginBottom:8},evidenceIcon:{fontSize:24,marginRight:12},evidenceInfo:{flex:1},evidenceTitle:{fontSize:16,fontWeight:'600',color:y.theme.colors.mahogany,marginBottom:2},evidencePatient:{fontSize:13,color:y.theme.colors.textSecondary},evidenceBadge:{backgroundColor:y.theme.colors.warmGold,paddingHorizontal:8,paddingVertical:4,borderRadius:4,fontSize:11,fontWeight:'600',color:y.theme.colors.navy},evidenceDate:{fontSize:12,color:y.theme.colors.warmGray,marginLeft:36},complianceCard:{backgroundColor:y.theme.colors.lightCream,padding:20,borderRadius:8,alignItems:'center',borderWidth:2,borderColor:'#27ae60'},complianceIcon:{fontSize:48,marginBottom:10},complianceTitle:{fontSize:20,fontWeight:'bold',color:'#27ae60',marginBottom:10},complianceText:{fontSize:14,color:y.theme.colors.textSecondary,textAlign:'center',marginBottom:15,lineHeight:20},complianceFeatures:{alignSelf:'stretch',gap:8},complianceFeature:{fontSize:13,color:y.theme.colors.navy,paddingVertical:6},logoutButton:{backgroundColor:y.theme.colors.mahogany,padding:15,borderRadius:8,margin:16,alignItems:'center'},logoutText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},connectionsButton:{backgroundColor:y.theme.colors.warmGold,padding:15,borderRadius:8,margin:16,alignItems:'center',borderWidth:2,borderColor:y.theme.colors.secondary},connectionsButtonText:{color:y.theme.colors.mahogany,fontSize:16,fontWeight:'600'},comingSoonContainer:{backgroundColor:y.theme.colors.lightCream,padding:30,borderRadius:10,alignItems:'center',borderWidth:2,borderColor:y.theme.colors.secondary,marginBottom:20},comingSoonIcon:{fontSize:64,marginBottom:15},comingSoonTitle:{fontSize:24,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:15},comingSoonText:{fontSize:15,color:y.theme.colors.navy,textAlign:'center',marginBottom:10,lineHeight:22},infoBox:{backgroundColor:y.theme.colors.cream,padding:20,borderRadius:8,borderWidth:2,borderColor:y.theme.colors.warmGold,flexDirection:'row',alignItems:'flex-start'},infoIcon:{fontSize:24,marginRight:12},infoText:{flex:1,fontSize:14,color:y.theme.colors.navy,lineHeight:22},litigationSection:{backgroundColor:y.theme.colors.lightCream,padding:12,borderRadius:6,marginTop:10,marginBottom:10},litigationHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},litigationLabel:{fontSize:13,color:y.theme.colors.textSecondary,fontWeight:'500'},litigationStage:{fontSize:14,color:y.theme.colors.mahogany,fontWeight:'600'},progressBar:{height:16,backgroundColor:y.theme.colors.sand,borderRadius:8,overflow:'hidden',borderWidth:1,borderColor:y.theme.colors.secondary,marginBottom:5},progressFill:{height:'100%',backgroundColor:y.theme.colors.warmGold},progressText:{fontSize:12,color:y.theme.colors.textSecondary,textAlign:'center',fontWeight:'500'},hipaaSection:{backgroundColor:y.theme.colors.cream,padding:16,borderRadius:8,borderWidth:1,borderColor:y.theme.colors.secondary},hipaaDescription:{fontSize:14,color:y.theme.colors.textSecondary,marginBottom:15,lineHeight:20},hipaaButton:{backgroundColor:y.theme.colors.mahogany,padding:15,borderRadius:8,alignItems:'center'},hipaaButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},paymentBanner:{backgroundColor:y.theme.colors.lightCream,padding:15,borderRadius:8,marginBottom:15,marginHorizontal:16,marginTop:10,flexDirection:'row',alignItems:'center',gap:10},paymentBannerWarning:{backgroundColor:'#FFF3CD',borderWidth:2,borderColor:'#FFC107',flexDirection:'column',alignItems:'stretch'},paymentBannerSuccess:{backgroundColor:'#D4EDDA',borderWidth:2,borderColor:'#28A745'},paymentBannerContent:{flexDirection:'row',alignItems:'flex-start',flex:1},paymentBannerIcon:{fontSize:24,marginRight:12},paymentBannerTextContainer:{flex:1},paymentBannerTitle:{fontSize:16,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:5},paymentBannerDescription:{fontSize:13,color:y.theme.colors.navy,lineHeight:18},paymentBannerButton:{backgroundColor:y.theme.colors.mahogany,paddingVertical:10,paddingHorizontal:20,borderRadius:6,marginTop:12,alignItems:'center'},paymentBannerButtonText:{color:'#FFFFFF',fontSize:14,fontWeight:'600'},paymentBannerText:{fontSize:14,color:y.theme.colors.navy,marginLeft:10},paymentBannerSuccessTitle:{fontSize:16,fontWeight:'bold',color:'#28A745',marginBottom:3},paymentBannerSuccessDescription:{fontSize:13,color:y.theme.colors.navy},disbursementCTA:{backgroundColor:y.theme.colors.mahogany,marginHorizontal:16,marginTop:12,marginBottom:8,borderRadius:12,borderWidth:3,borderColor:y.theme.colors.warmGold,shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:4,elevation:6},disbursementCTADisabled:{backgroundColor:y.theme.colors.warmGray,borderColor:y.theme.colors.textSecondary,opacity:.8},disbursementCTAContent:{flexDirection:'row',alignItems:'center',padding:20},disbursementCTAIcon:{fontSize:40,marginRight:16},disbursementCTATextContainer:{flex:1},disbursementCTATitle:{fontSize:18,fontWeight:'bold',color:y.theme.colors.cream,marginBottom:4},disbursementCTASubtitle:{fontSize:14,color:y.theme.colors.lightCream,opacity:.9},disbursementCTAArrow:{fontSize:24,color:y.theme.colors.warmGold,fontWeight:'bold'},disbursementSetupText:{fontSize:16,color:y.theme.colors.warmGold,fontWeight:'bold'},quickActionsContainer:{marginVertical:16},quickActionsTitle:{fontSize:16,fontWeight:'600',color:y.theme.colors.text,marginBottom:12},quickActionsRow:{flexDirection:'row',gap:12},quickActionButton:{flex:1,backgroundColor:y.theme.colors.cream,borderWidth:2,borderColor:y.theme.colors.warmGold,borderRadius:12,padding:16,alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},quickActionIcon:{fontSize:32,marginBottom:8},quickActionText:{fontSize:14,fontWeight:'600',color:y.theme.colors.navy,textAlign:'center'},addFirmContainer:{backgroundColor:y.theme.colors.lightCream,padding:16,borderRadius:10,borderWidth:2,borderColor:y.theme.colors.warmGold,marginBottom:20},addFirmLabel:{fontSize:14,fontWeight:'600',color:y.theme.colors.mahogany,marginBottom:10},addFirmInputRow:{flexDirection:'row',gap:10},firmCodeInput:{flex:1,backgroundColor:y.theme.colors.cream,borderWidth:2,borderColor:y.theme.colors.secondary,borderRadius:8,paddingHorizontal:12,paddingVertical:10,fontSize:14,color:y.theme.colors.text},addFirmButton:{backgroundColor:y.theme.colors.warmGold,paddingHorizontal:20,paddingVertical:10,borderRadius:8,borderWidth:2,borderColor:y.theme.colors.secondary,justifyContent:'center'},addFirmButtonDisabled:{opacity:.6},addFirmButtonText:{color:y.theme.colors.navy,fontSize:14,fontWeight:'600'},firmsListContainer:{marginBottom:20},firmsListTitle:{fontSize:16,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:15},firmCard:{backgroundColor:y.theme.colors.cream,borderRadius:10,borderWidth:2,borderColor:y.theme.colors.secondary,padding:16,marginBottom:12},firmCardHeader:{flexDirection:'row',alignItems:'center',marginBottom:12},firmCardIcon:{width:50,height:50,borderRadius:25,backgroundColor:y.theme.colors.warmGold,justifyContent:'center',alignItems:'center',marginRight:12,borderWidth:2,borderColor:y.theme.colors.secondary},firmCardIconText:{fontSize:24},firmCardInfo:{flex:1},firmCardName:{fontSize:16,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:4},firmCardCode:{fontSize:13,color:y.theme.colors.textSecondary,fontFamily:'monospace',marginBottom:4},firmCardMeta:{fontSize:12,color:y.theme.colors.textSecondary},removeFirmButton:{backgroundColor:y.theme.colors.sand,paddingVertical:8,paddingHorizontal:16,borderRadius:6,borderWidth:1,borderColor:'#d32f2f',alignSelf:'flex-start'},removeFirmButtonText:{color:'#d32f2f',fontSize:13,fontWeight:'600'},emptyState:{alignItems:'center',padding:40,backgroundColor:y.theme.colors.lightCream,borderRadius:10,borderWidth:2,borderColor:y.theme.colors.secondary,marginBottom:20},emptyStateIcon:{fontSize:48,marginBottom:16},emptyStateTitle:{fontSize:18,fontWeight:'bold',color:y.theme.colors.mahogany,marginBottom:8,textAlign:'center'},emptyStateText:{fontSize:14,color:y.theme.colors.textSecondary,textAlign:'center',lineHeight:20}});var B=({user:e,initialTab:c,onNavigateToPatient:B,onNavigate:I,onLogout:v})=>{const[w,P]=(0,t.useState)(c||'patients'),[z,R]=(0,t.useState)([]),[D,k]=(0,t.useState)(null),[W,L]=(0,t.useState)(null),[E,N]=(0,t.useState)(!0),[F,H]=(0,t.useState)(!1),[G,_]=(0,t.useState)(''),[O,q]=(0,t.useState)(null),[M,V]=(0,t.useState)(!1),[$,U]=(0,t.useState)([]),[J,Q]=(0,t.useState)(''),[Y,K]=(0,t.useState)(!1),{unreadCount:X}=(0,S.useNotifications)();(0,t.useEffect)(()=>{c&&c!==w&&P(c)},[c]),(0,t.useEffect)(()=>{Z(),ne(),'connections'===w&&ee()},[w]);const Z=async()=>{try{console.log('[MedProvider Dashboard] Fetching dashboard data...'),console.log('[MedProvider Dashboard] Token:',e.token?'Present':'Missing'),console.log('[MedProvider Dashboard] API URL:',x.API_ENDPOINTS.MEDICALPROVIDER.DASHBOARD);const t=await fetch(x.API_ENDPOINTS.MEDICALPROVIDER.DASHBOARD,{headers:{Authorization:`Bearer ${e.token}`}});if(console.log('[MedProvider Dashboard] Response status:',t.status),t.ok){const e=await t.json();console.log('[MedProvider Dashboard] Data received:',e),console.log('[MedProvider Dashboard] Patients count:',e.patients?.length||0),k(e),R(e.patients||[]),L(e.analytics||{totalPatients:e.patients?.length||0,preLitigationCount:0,litigationCount:0,trialCount:0})}else k({providerName:e.providerName||'Medical Provider',providerCode:e.providerCode}),R([]),L({totalPatients:0,preLitigationCount:0,litigationCount:0,trialCount:0})}catch(t){console.error('Error fetching dashboard:',t),k({providerName:e.providerName||'Medical Provider',providerCode:e.providerCode}),R([]),L({totalPatients:0,preLitigationCount:0,litigationCount:0,trialCount:0})}finally{N(!1)}},ee=async()=>{try{const t=await(0,x.apiRequest)(x.API_ENDPOINTS.MEDICALPROVIDER.LAW_FIRMS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});U(t.lawFirms||[])}catch(e){console.error('Error fetching law firms:',e)}},te=async()=>{if(J.trim())try{K(!0);const t=await(0,x.apiRequest)(x.API_ENDPOINTS.MEDICALPROVIDER.ADD_LAW_FIRM,{method:'POST',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify({firmCode:J.trim().toUpperCase()})});t.success&&(f.default.alert('Success',t.message||'Law firm connection added successfully!'),Q(''),ee())}catch(e){console.error('Error adding law firm:',e),f.default.alert('Error',e.response?.error||'Failed to add law firm connection')}finally{K(!1)}else f.default.alert('Missing Information','Please enter a law firm code')},oe=async(t,o)=>{f.default.alert('Remove Connection',`Are you sure you want to disconnect from ${o}?`,[{text:'Cancel',style:'cancel'},{text:'Remove',style:'destructive',onPress:async()=>{try{const o=await(0,x.apiRequest)(x.API_ENDPOINTS.MEDICALPROVIDER.REMOVE_LAW_FIRM,{method:'POST',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify({lawFirmId:t})});o.success&&(f.default.alert('Success',o.message||'Law firm connection removed successfully'),ee())}catch(e){console.error('Error removing law firm:',e),f.default.alert('Error',e.response?.error||'Failed to remove law firm connection')}}}])},ne=async()=>{try{if(V(!0),!e?.token)return void console.error('No user token available');const t=await fetch(x.API_ENDPOINTS.STRIPE_CONNECT.ACCOUNT_STATUS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});if(t.ok){const e=await t.json();q(e)}}catch(e){console.error('Error checking Stripe account status:',e)}finally{V(!1)}},ie=()=>{I&&I('medicalprovider-payment-setup',w)},re=(e,t,l)=>(0,A.jsxs)(s.default,{style:[T.tab,w===e&&T.activeTab],onPress:()=>P(e),children:[(0,A.jsxs)(o.default,{style:T.tabIconContainer,children:[(0,A.jsx)(n.default,{style:T.tabIcon,children:l}),'notifications'===e&&X>0&&(0,A.jsx)(o.default,{style:T.notificationBadge,children:(0,A.jsx)(n.default,{style:T.notificationBadgeText,children:X>99?'99+':X})})]}),(0,A.jsx)(n.default,{style:[T.tabText,w===e&&T.activeTabText],children:t})]}),ae=()=>{if(console.log('[MedProvider Search] Query:',G),console.log('[MedProvider Search] Total patients:',z.length),!G.trim())return console.log('[MedProvider Search] No query, returning all patients'),z;const e=G.toLowerCase(),t=z.filter(t=>t.displayName?.toLowerCase().includes(e)||t.email?.toLowerCase().includes(e)||t.firstName?.toLowerCase().includes(e)||t.lastName?.toLowerCase().includes(e));return console.log('[MedProvider Search] Filtered results:',t.length),console.log('[MedProvider Search] Filtered patients:',t.map(e=>e.displayName)),t};return E?(0,A.jsxs)(o.default,{style:T.loadingContainer,children:[(0,A.jsx)(h.default,{size:"large",color:y.theme.colors.mahogany}),(0,A.jsx)(n.default,{style:T.loadingText,children:"Loading the Portal"})]}):(0,A.jsxs)(o.default,{style:T.container,children:[(0,A.jsxs)(o.default,{style:T.header,children:[(0,A.jsxs)(o.default,{children:[(0,A.jsxs)(n.default,{style:T.providerName,children:["\u2695\ufe0f ",D?.providerName||'Medical Provider Portal']}),(0,A.jsxs)(n.default,{style:T.providerCode,children:["Provider Code: ",D?.providerCode]})]}),(0,A.jsx)(s.default,{style:T.inviteButton,onPress:()=>H(!0),children:(0,A.jsx)(n.default,{style:T.inviteButtonText,children:"\ud83d\udc4d Invite"})})]}),O?.onboardingComplete&&(0,A.jsx)(s.default,{style:T.disbursementCTA,onPress:()=>{I&&I('medicalprovider-disbursements',w)},children:(0,A.jsxs)(o.default,{style:T.disbursementCTAContent,children:[(0,A.jsx)(n.default,{style:T.disbursementCTAIcon,children:"\ud83d\udcb0"}),(0,A.jsxs)(o.default,{style:T.disbursementCTATextContainer,children:[(0,A.jsx)(n.default,{style:T.disbursementCTATitle,children:"Settlement Disbursements"}),(0,A.jsx)(n.default,{style:T.disbursementCTASubtitle,children:"View your received payments & history"})]}),(0,A.jsx)(n.default,{style:T.disbursementCTAArrow,children:"\u2192"})]})}),!O?.onboardingComplete&&(0,A.jsx)(o.default,{style:[T.disbursementCTA,T.disbursementCTADisabled],children:(0,A.jsxs)(o.default,{style:T.disbursementCTAContent,children:[(0,A.jsx)(n.default,{style:T.disbursementCTAIcon,children:"\u26a0\ufe0f"}),(0,A.jsxs)(o.default,{style:T.disbursementCTATextContainer,children:[(0,A.jsx)(n.default,{style:T.disbursementCTATitle,children:"Settlement Disbursements"}),(0,A.jsx)(n.default,{style:T.disbursementCTASubtitle,children:"Complete payment setup to receive disbursements"})]}),(0,A.jsx)(s.default,{onPress:ie,children:(0,A.jsx)(n.default,{style:T.disbursementSetupText,children:"Setup \u2192"})})]})}),(0,A.jsxs)(o.default,{style:T.tabBar,children:[re('patients','Patients','\ud83d\udc65'),re('analytics','Analytics','\ud83d\udcca'),re('notifications','Notifications','\ud83d\udd14'),re('subscription','Subscription','\ud83d\udcb3'),re('settings','Settings','\u2699\ufe0f')]}),(0,A.jsxs)(l.default,{style:T.content,children:['patients'===w&&(()=>{const e=ae();return(0,A.jsxs)(o.default,{style:T.tabContent,children:[M?(0,A.jsxs)(o.default,{style:T.paymentBanner,children:[(0,A.jsx)(h.default,{size:"small",color:y.theme.colors.primary}),(0,A.jsx)(n.default,{style:T.paymentBannerText,children:"Checking payment account..."})]}):O?.hasAccount?O?.hasAccount&&!O?.onboardingComplete?(0,A.jsxs)(o.default,{style:[T.paymentBanner,T.paymentBannerWarning],children:[(0,A.jsxs)(o.default,{style:T.paymentBannerContent,children:[(0,A.jsx)(n.default,{style:T.paymentBannerIcon,children:"\u26a0\ufe0f"}),(0,A.jsxs)(o.default,{style:T.paymentBannerTextContainer,children:[(0,A.jsx)(n.default,{style:T.paymentBannerTitle,children:"Complete Payment Setup"}),(0,A.jsx)(n.default,{style:T.paymentBannerDescription,children:"Finish your account setup to receive settlement disbursements"})]})]}),(0,A.jsx)(s.default,{style:T.paymentBannerButton,onPress:ie,children:(0,A.jsx)(n.default,{style:T.paymentBannerButtonText,children:"Resume Setup"})})]}):O?.onboardingComplete?(0,A.jsxs)(o.default,{style:[T.paymentBanner,T.paymentBannerSuccess],children:[(0,A.jsx)(n.default,{style:T.paymentBannerIcon,children:"\u2713"}),(0,A.jsxs)(o.default,{style:T.paymentBannerTextContainer,children:[(0,A.jsx)(n.default,{style:T.paymentBannerSuccessTitle,children:"Payment Account Active"}),(0,A.jsx)(n.default,{style:T.paymentBannerSuccessDescription,children:"You can receive settlement disbursements"})]})]}):null:(0,A.jsxs)(o.default,{style:[T.paymentBanner,T.paymentBannerWarning],children:[(0,A.jsxs)(o.default,{style:T.paymentBannerContent,children:[(0,A.jsx)(n.default,{style:T.paymentBannerIcon,children:"\u26a0\ufe0f"}),(0,A.jsxs)(o.default,{style:T.paymentBannerTextContainer,children:[(0,A.jsx)(n.default,{style:T.paymentBannerTitle,children:"Payment Account Required"}),(0,A.jsx)(n.default,{style:T.paymentBannerDescription,children:"Set up your payment account to receive settlement disbursements"})]})]}),(0,A.jsx)(s.default,{style:T.paymentBannerButton,onPress:ie,children:(0,A.jsx)(n.default,{style:T.paymentBannerButtonText,children:"Set Up Now"})})]}),(0,A.jsxs)(o.default,{style:T.section,children:[(0,A.jsx)(n.default,{style:T.sectionTitle,children:"\u2695\ufe0f Patient List"}),(0,A.jsxs)(o.default,{style:T.searchContainer,children:[(0,A.jsx)(n.default,{style:T.searchIcon,children:"\ud83d\udd0d"}),(0,A.jsx)(u.default,{style:T.searchInput,placeholder:"Search patients by name or email...",placeholderTextColor:y.theme.colors.warmGray,value:G,onChangeText:_}),G.length>0&&(0,A.jsx)(s.default,{onPress:()=>_(''),style:T.clearButton,children:(0,A.jsx)(n.default,{style:T.clearButtonText,children:"\u2715"})})]}),(0,A.jsxs)(o.default,{style:T.quickActionsContainer,children:[(0,A.jsx)(n.default,{style:T.quickActionsTitle,children:"\u26a1 Quick Actions"}),(0,A.jsxs)(o.default,{style:T.quickActionsRow,children:[(0,A.jsxs)(s.default,{style:T.quickActionButton,onPress:()=>I&&I('medicalprovider-negotiations',w),children:[(0,A.jsx)(n.default,{style:T.quickActionIcon,children:"\ud83d\udcb0"}),(0,A.jsx)(n.default,{style:T.quickActionText,children:"Bill Negotiations"})]}),(0,A.jsxs)(s.default,{style:T.quickActionButton,onPress:()=>I&&I('medicalprovider-disbursements',w),children:[(0,A.jsx)(n.default,{style:T.quickActionIcon,children:"\ud83d\udcb5"}),(0,A.jsx)(n.default,{style:T.quickActionText,children:"Disbursements"})]})]}),(0,A.jsxs)(o.default,{style:T.quickActionsRow,children:[(0,A.jsxs)(s.default,{style:T.quickActionButton,onPress:()=>I&&I('medicalprovider-user-management',w),children:[(0,A.jsx)(n.default,{style:T.quickActionIcon,children:"\ud83d\udc65"}),(0,A.jsx)(n.default,{style:T.quickActionText,children:"Manage Users"})]}),(0,A.jsxs)(s.default,{style:T.quickActionButton,onPress:()=>I&&I('medicalprovider-activity-dashboard',w),children:[(0,A.jsx)(n.default,{style:T.quickActionIcon,children:"\ud83d\udcca"}),(0,A.jsx)(n.default,{style:T.quickActionText,children:"Activity Logs"})]})]}),(0,A.jsx)(o.default,{style:T.quickActionsRow,children:(0,A.jsxs)(s.default,{style:T.quickActionButton,onPress:()=>I&&I('medicalprovider-hipaa-dashboard',w),children:[(0,A.jsx)(n.default,{style:T.quickActionIcon,children:"\ud83d\udd12"}),(0,A.jsx)(n.default,{style:T.quickActionText,children:"HIPAA Report"})]})})]}),0===z.length?(0,A.jsxs)(o.default,{style:T.emptyState,children:[(0,A.jsx)(n.default,{style:T.emptyIcon,children:"\ud83c\udfe5"}),(0,A.jsx)(n.default,{style:T.emptyText,children:"No patients registered yet"}),(0,A.jsxs)(n.default,{style:T.emptySubtext,children:["Share your provider code with patients: ",D?.providerCode]})]}):0===e.length?(0,A.jsxs)(o.default,{style:T.emptyState,children:[(0,A.jsx)(n.default,{style:T.emptyIcon,children:"\ud83d\udd0d"}),(0,A.jsx)(n.default,{style:T.emptyText,children:"No patients found"}),(0,A.jsx)(n.default,{style:T.emptySubtext,children:"Try a different search term"})]}):(0,A.jsx)(o.default,{children:e.map(e=>(0,A.jsxs)(s.default,{style:T.patientCard,onPress:()=>B(e.id),children:[(0,A.jsxs)(o.default,{style:T.patientHeader,children:[(0,A.jsxs)(n.default,{style:T.patientName,children:["\ud83d\udc64 ",e.displayName]}),(0,A.jsx)(n.default,{style:T.patientBadge,children:e.hasConsent?'Active':'Pending'})]}),(0,A.jsx)(n.default,{style:T.patientEmail,children:e.email}),(0,A.jsxs)(o.default,{style:T.litigationSection,children:[(0,A.jsxs)(o.default,{style:T.litigationHeader,children:[(0,A.jsx)(n.default,{style:T.litigationLabel,children:"\u2696\ufe0f Litigation Stage:"}),(0,A.jsx)(n.default,{style:T.litigationStage,children:e.litigationStage||'Pre-Litigation'})]}),(0,A.jsx)(o.default,{style:T.progressBar,children:(0,A.jsx)(o.default,{style:[T.progressFill,{width:`${e.litigationProgress||0}%`}]})}),(0,A.jsxs)(n.default,{style:T.progressText,children:[e.litigationProgress||0,"% Complete"]})]}),(0,A.jsxs)(o.default,{style:T.patientStats,children:[(0,A.jsxs)(n.default,{style:T.patientStat,children:["\ud83d\udccb ",e.recordCount||0," Records"]}),(0,A.jsxs)(n.default,{style:T.patientStat,children:["\ud83d\udcb0 $",e.totalBilled||0," Billed"]})]}),(0,A.jsxs)(n.default,{style:T.patientDate,children:["\u23f0 Registered: ",new Date(e.registeredDate).toLocaleDateString()]})]},e.id))},`patient-list-${G}-${e.length}`)]})]})})(),'analytics'===w&&(()=>{const e=W?.totalPatients||0,t=W?.preLitigationCount||0,l=W?.litigationCount||0,c=W?.trialCount||0,h=e>0?Math.round(t/e*100):0,u=e>0?Math.round(l/e*100):0,f=e>0?Math.round(c/e*100):0;return(0,A.jsxs)(o.default,{style:T.tabContent,children:[(0,A.jsxs)(o.default,{style:T.section,children:[(0,A.jsx)(n.default,{style:T.sectionTitle,children:"\ud83d\udcca Provider Analytics"}),(0,A.jsxs)(o.default,{style:T.statsGrid,children:[(0,A.jsxs)(o.default,{style:T.statCard,children:[(0,A.jsx)(n.default,{style:T.statIcon,children:"\ud83d\udc65"}),(0,A.jsx)(n.default,{style:T.statValue,children:e}),(0,A.jsx)(n.default,{style:T.statLabel,children:"Total Patients"})]}),(0,A.jsxs)(o.default,{style:[T.statCard,{borderLeftColor:p.CASE_PHASES.PRE_LITIGATION.color,borderLeftWidth:4}],children:[(0,A.jsx)(n.default,{style:T.statIcon,children:p.CASE_PHASES.PRE_LITIGATION.icon}),(0,A.jsx)(n.default,{style:T.statValue,children:t}),(0,A.jsx)(n.default,{style:T.statLabel,children:"Pre-Litigation"})]}),(0,A.jsxs)(o.default,{style:[T.statCard,{borderLeftColor:p.CASE_PHASES.LITIGATION.color,borderLeftWidth:4}],children:[(0,A.jsx)(n.default,{style:T.statIcon,children:p.CASE_PHASES.LITIGATION.icon}),(0,A.jsx)(n.default,{style:T.statValue,children:l}),(0,A.jsx)(n.default,{style:T.statLabel,children:"Litigation"})]}),(0,A.jsxs)(o.default,{style:[T.statCard,{borderLeftColor:p.CASE_PHASES.TRIAL.color,borderLeftWidth:4}],children:[(0,A.jsx)(n.default,{style:T.statIcon,children:p.CASE_PHASES.TRIAL.icon}),(0,A.jsx)(n.default,{style:T.statValue,children:c}),(0,A.jsx)(n.default,{style:T.statLabel,children:"Trial"})]})]})]}),(0,A.jsx)(s.default,{style:T.hipaaActivityCard,onPress:()=>I&&I('medicalprovider-activity-dashboard',w),children:(0,A.jsxs)(o.default,{style:T.hipaaActivityHeader,children:[(0,A.jsx)(o.default,{style:T.hipaaActivityIcon,children:(0,A.jsx)(n.default,{style:T.hipaaActivityIconText,children:"\ud83d\udd12"})}),(0,A.jsxs)(o.default,{style:T.hipaaActivityContent,children:[(0,A.jsx)(n.default,{style:T.hipaaActivityTitle,children:"HIPAA Activity Dashboard"}),(0,A.jsx)(n.default,{style:T.hipaaActivityDescription,children:"View staff activity, patient access audits, and compliance reports"})]}),(0,A.jsx)(n.default,{style:T.hipaaActivityArrow,children:"\u2192"})]})}),(0,A.jsxs)(o.default,{style:T.section,children:[(0,A.jsx)(n.default,{style:T.sectionTitle,children:"\ud83c\udfaf Patient Phase Distribution"}),(0,A.jsxs)(o.default,{style:T.phaseRow,children:[(0,A.jsxs)(o.default,{style:T.phaseInfo,children:[(0,A.jsxs)(n.default,{style:T.phaseName,children:[p.CASE_PHASES.PRE_LITIGATION.icon," ",p.CASE_PHASES.PRE_LITIGATION.name]}),(0,A.jsxs)(n.default,{style:T.phaseCount,children:[t," patients (",h,"%)"]})]}),(0,A.jsx)(o.default,{style:T.progressBarContainer,children:(0,A.jsx)(o.default,{style:[T.progressBar,{width:`${h}%`,backgroundColor:p.CASE_PHASES.PRE_LITIGATION.color}]})})]}),(0,A.jsxs)(o.default,{style:T.phaseRow,children:[(0,A.jsxs)(o.default,{style:T.phaseInfo,children:[(0,A.jsxs)(n.default,{style:T.phaseName,children:[p.CASE_PHASES.LITIGATION.icon," ",p.CASE_PHASES.LITIGATION.name]}),(0,A.jsxs)(n.default,{style:T.phaseCount,children:[l," patients (",u,"%)"]})]}),(0,A.jsx)(o.default,{style:T.progressBarContainer,children:(0,A.jsx)(o.default,{style:[T.progressBar,{width:`${u}%`,backgroundColor:p.CASE_PHASES.LITIGATION.color}]})})]}),(0,A.jsxs)(o.default,{style:T.phaseRow,children:[(0,A.jsxs)(o.default,{style:T.phaseInfo,children:[(0,A.jsxs)(n.default,{style:T.phaseName,children:[p.CASE_PHASES.TRIAL.icon," ",p.CASE_PHASES.TRIAL.name]}),(0,A.jsxs)(n.default,{style:T.phaseCount,children:[c," patients (",f,"%)"]})]}),(0,A.jsx)(o.default,{style:T.progressBarContainer,children:(0,A.jsx)(o.default,{style:[T.progressBar,{width:`${f}%`,backgroundColor:p.CASE_PHASES.TRIAL.color}]})})]})]}),(0,A.jsxs)(o.default,{style:T.section,children:[(0,A.jsx)(n.default,{style:T.sectionTitle,children:"\ud83d\udcc8 Recent Activity"}),(0,A.jsxs)(o.default,{style:T.activityList,children:[(0,A.jsxs)(o.default,{style:T.activityItem,children:[(0,A.jsx)(n.default,{style:T.activityIcon,children:"\ud83c\udd95"}),(0,A.jsxs)(o.default,{style:T.activityContent,children:[(0,A.jsx)(n.default,{style:T.activityText,children:"Welcome to your Medical Provider Portal"}),(0,A.jsx)(n.default,{style:T.activityTime,children:"Just now"})]})]}),z.length>0&&(0,A.jsxs)(o.default,{style:T.activityItem,children:[(0,A.jsx)(n.default,{style:T.activityIcon,children:"\ud83d\udc64"}),(0,A.jsxs)(o.default,{style:T.activityContent,children:[(0,A.jsxs)(n.default,{style:T.activityText,children:[z.length," patient(s) registered"]}),(0,A.jsx)(n.default,{style:T.activityTime,children:"Today"})]})]})]})]})]})})(),'notifications'===w&&(0,A.jsxs)(o.default,{style:T.tabContent,children:[(0,A.jsxs)(o.default,{style:T.section,children:[(0,A.jsx)(n.default,{style:T.sectionTitle,children:"\ud83d\udd14 Patient Notifications"}),(0,A.jsx)(n.default,{style:T.sectionDescription,children:"Send notifications to your patients about appointments, test results, and important medical information."}),(0,A.jsxs)(s.default,{style:T.notificationActionCard,onPress:()=>I&&I('medicalprovider-send-notification',w),children:[(0,A.jsx)(o.default,{style:T.notificationActionIcon,children:(0,A.jsx)(n.default,{style:T.notificationActionIconText,children:"\ud83d\udce8"})}),(0,A.jsxs)(o.default,{style:T.notificationActionContent,children:[(0,A.jsx)(n.default,{style:T.notificationActionTitle,children:"Send Notification"}),(0,A.jsx)(n.default,{style:T.notificationActionDescription,children:"Compose and send notifications to your patients"})]}),(0,A.jsx)(n.default,{style:T.notificationActionArrow,children:"\u2192"})]}),(0,A.jsxs)(s.default,{style:T.notificationActionCard,onPress:()=>I&&I('medicalprovider-notification-analytics',w),children:[(0,A.jsx)(o.default,{style:T.notificationActionIcon,children:(0,A.jsx)(n.default,{style:T.notificationActionIconText,children:"\ud83d\udcca"})}),(0,A.jsxs)(o.default,{style:T.notificationActionContent,children:[(0,A.jsx)(n.default,{style:T.notificationActionTitle,children:"View Analytics"}),(0,A.jsx)(n.default,{style:T.notificationActionDescription,children:"Track notification delivery, read, and click rates"})]}),(0,A.jsx)(n.default,{style:T.notificationActionArrow,children:"\u2192"})]}),(0,A.jsxs)(s.default,{style:T.notificationActionCard,onPress:()=>I&&I('medicalprovider-event-requests',w),children:[(0,A.jsx)(o.default,{style:T.notificationActionIcon,children:(0,A.jsx)(n.default,{style:T.notificationActionIconText,children:"\ud83d\udcc5"})}),(0,A.jsxs)(o.default,{style:T.notificationActionContent,children:[(0,A.jsx)(n.default,{style:T.notificationActionTitle,children:"Treatment Date Requests"}),(0,A.jsx)(n.default,{style:T.notificationActionDescription,children:"Request appointments, consultations, and follow-ups from patients"})]}),(0,A.jsx)(n.default,{style:T.notificationActionArrow,children:"\u2192"})]}),(0,A.jsxs)(s.default,{style:T.notificationActionCard,onPress:()=>I&&I('medicalprovider-negotiations',w),children:[(0,A.jsx)(o.default,{style:T.notificationActionIcon,children:(0,A.jsx)(n.default,{style:T.notificationActionIconText,children:"\ud83d\udcb0"})}),(0,A.jsxs)(o.default,{style:T.notificationActionContent,children:[(0,A.jsx)(n.default,{style:T.notificationActionTitle,children:"Bill Negotiations"}),(0,A.jsx)(n.default,{style:T.notificationActionDescription,children:"Negotiate medical bills with law firms"})]}),(0,A.jsx)(n.default,{style:T.notificationActionArrow,children:"\u2192"})]})]}),(0,A.jsxs)(o.default,{style:T.section,children:[(0,A.jsx)(n.default,{style:T.sectionTitle,children:"\ud83d\udccb Notification Templates"}),(0,A.jsx)(n.default,{style:T.sectionDescription,children:"Use pre-built templates for common patient communications:"}),(0,A.jsxs)(o.default,{style:T.templatesList,children:[(0,A.jsxs)(o.default,{style:T.templateItem,children:[(0,A.jsx)(n.default,{style:T.templateIcon,children:"\ud83d\udcc5"}),(0,A.jsx)(n.default,{style:T.templateText,children:"Appointment Reminders"})]}),(0,A.jsxs)(o.default,{style:T.templateItem,children:[(0,A.jsx)(n.default,{style:T.templateIcon,children:"\ud83d\udcc4"}),(0,A.jsx)(n.default,{style:T.templateText,children:"Document Upload Requests"})]}),(0,A.jsxs)(o.default,{style:T.templateItem,children:[(0,A.jsx)(n.default,{style:T.templateIcon,children:"\ud83d\udcb3"}),(0,A.jsx)(n.default,{style:T.templateText,children:"Billing Notices"})]}),(0,A.jsxs)(o.default,{style:T.templateItem,children:[(0,A.jsx)(n.default,{style:T.templateIcon,children:"\ud83d\udd2c"}),(0,A.jsx)(n.default,{style:T.templateText,children:"Scans Available"})]}),(0,A.jsxs)(o.default,{style:T.templateItem,children:[(0,A.jsx)(n.default,{style:T.templateIcon,children:"\ud83d\udc8a"}),(0,A.jsx)(n.default,{style:T.templateText,children:"Prescription Refills"})]})]})]})]}),'subscription'===w&&(0,A.jsx)(b.default,{token:e.token}),'settings'===w&&(0,A.jsx)(j.default,{user:e,onBack:()=>P('patients')}),'connections'===w&&(0,A.jsx)(o.default,{style:T.tabContent,children:(0,A.jsxs)(o.default,{style:T.section,children:[(0,A.jsx)(n.default,{style:T.sectionTitle,children:"\ud83d\udd17 Law Firm Connections"}),(0,A.jsx)(n.default,{style:T.sectionDescription,children:"Connect with law firms to collaborate on patient cases, share medical information securely, and negotiate medical bills."}),(0,A.jsxs)(o.default,{style:T.addFirmContainer,children:[(0,A.jsx)(n.default,{style:T.addFirmLabel,children:"Add Law Firm by Code:"}),(0,A.jsxs)(o.default,{style:T.addFirmInputRow,children:[(0,A.jsx)(u.default,{style:T.firmCodeInput,value:J,onChangeText:Q,placeholder:"Enter firm code (e.g., LAW-BETA01)",placeholderTextColor:y.theme.colors.textSecondary,autoCapitalize:"characters"}),(0,A.jsx)(s.default,{style:[T.addFirmButton,Y&&T.addFirmButtonDisabled],onPress:te,disabled:Y,children:(0,A.jsx)(n.default,{style:T.addFirmButtonText,children:Y?'Adding...':'+ Add'})})]})]}),$.length>0?(0,A.jsxs)(o.default,{style:T.firmsListContainer,children:[(0,A.jsxs)(n.default,{style:T.firmsListTitle,children:["Connected Law Firms (",$.length,")"]}),$.map(e=>(0,A.jsxs)(o.default,{style:T.firmCard,children:[(0,A.jsxs)(o.default,{style:T.firmCardHeader,children:[(0,A.jsx)(o.default,{style:T.firmCardIcon,children:(0,A.jsx)(n.default,{style:T.firmCardIconText,children:"\u2696\ufe0f"})}),(0,A.jsxs)(o.default,{style:T.firmCardInfo,children:[(0,A.jsx)(n.default,{style:T.firmCardName,children:e.firm_name||e.email}),(0,A.jsxs)(n.default,{style:T.firmCardCode,children:["Code: ",e.firm_code]}),(0,A.jsxs)(n.default,{style:T.firmCardMeta,children:[e.client_count||0," clients \u2022 Connected ",new Date(e.connected_date).toLocaleDateString()]})]})]}),(0,A.jsx)(s.default,{style:T.removeFirmButton,onPress:()=>oe(e.id,e.firm_name||e.email),children:(0,A.jsx)(n.default,{style:T.removeFirmButtonText,children:"\u2715 Remove"})})]},e.id))]}):(0,A.jsxs)(o.default,{style:T.emptyState,children:[(0,A.jsx)(n.default,{style:T.emptyStateIcon,children:"\ud83d\udd17"}),(0,A.jsx)(n.default,{style:T.emptyStateTitle,children:"No Law Firm Connections"}),(0,A.jsx)(n.default,{style:T.emptyStateText,children:"Enter a law firm code above to connect with a law firm. Once connected, you'll be able to collaborate on patient cases and negotiate medical bills."})]}),(0,A.jsxs)(o.default,{style:T.infoBox,children:[(0,A.jsx)(n.default,{style:T.infoIcon,children:"\u2139\ufe0f"}),(0,A.jsxs)(n.default,{style:T.infoText,children:["Benefits of connecting with law firms:",'\n',"\u2022 Securely share patient medical records",'\n',"\u2022 Negotiate medical bills directly in the platform",'\n',"\u2022 Coordinate on patient care and case progress",'\n',"\u2022 Streamline communication and collaboration"]})]})]})}),'connections'!==w&&(0,A.jsx)(s.default,{style:T.connectionsButton,onPress:()=>P('connections'),children:(0,A.jsx)(n.default,{style:T.connectionsButtonText,children:"\ud83d\udd17 Manage Law Firm Connections"})}),(0,A.jsx)(s.default,{style:T.logoutButton,onPress:v,children:(0,A.jsx)(n.default,{style:T.logoutText,children:"\ud83d\udeaa Sign Out"})})]}),(0,A.jsx)(C.default,{visible:F,onClose:()=>H(!1),user:e})]})}},422,[13,85,161,177,162,26,354,340,116,132,135,133,353,423,415,136,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return B}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6]));e(r(d[7]));r(d[8]);var f=e(r(d[9])),h=r(d[10]),p=r(d[11]),y=e(r(d[12])),b=r(d[13]);const x={tiers:[{name:'Shingle Provider',min:1,max:49,basic:{monthly:15,annual:162,features:['Up to 49 patients','Access to your Patients\' Interactive Roadmap','Basic Analytics','Full Access to Push Notifications','Evidence Locker Unlocked','Medical Hub Unlocked']},premium:{monthly:19,annual:205,features:['Everything in Basic','Disbursement Payments Unlocked','Negotiations with Law Firms Unlocked']},description:'Individual practitioners or small clinics'},{name:'Boutique Provider',min:50,max:99,basic:{monthly:25,annual:270,features:['Up to 99 patients','Access to your Patients\' Interactive Roadmap','Basic Analytics','Full Access to Push Notifications','Evidence Locker Unlocked','Medical Hub Unlocked']},premium:{monthly:33,annual:356,features:['Everything in Basic','Disbursement Payments Unlocked','Negotiations with Law Firms Unlocked']},description:'Multi-provider practices or specialty clinics'},{name:'Medium Provider',min:100,max:199,basic:{monthly:38,annual:410,features:['Up to 199 patients','Access to your Patients\' Interactive Roadmap','Basic Analytics','Full Access to Push Notifications','Evidence Locker Unlocked','Medical Hub Unlocked']},premium:{monthly:48,annual:518,features:['Everything in Basic','Disbursement Payments Unlocked','Negotiations with Law Firms Unlocked']},description:'Regional medical centers or group practices'},{name:'Large Provider',min:200,max:1/0,basic:{monthly:50,annual:540,features:['Unlimited patients','Access to your Patients\' Interactive Roadmap','Basic Analytics','Full Access to Push Notifications','Evidence Locker Unlocked','Medical Hub Unlocked']},premium:{monthly:63,annual:680,features:['Everything in Basic','Disbursement Payments Unlocked','Negotiations with Law Firms Unlocked']},description:'Large multi-location practice'}]},T=u.default.create({container:{flex:1,backgroundColor:p.theme.colors.background},backButton:{flexDirection:'row',alignItems:'center',padding:15,backgroundColor:p.theme.colors.primary,borderBottomWidth:1,borderBottomColor:'rgba(255,255,255,0.2)'},backButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:p.theme.colors.background},loadingText:{marginTop:10,fontSize:16,color:p.theme.colors.textSecondary},header:{backgroundColor:p.theme.colors.primary,padding:20,paddingTop:40},headerTitle:{fontSize:24,fontWeight:'bold',color:'#fff',marginBottom:5},headerSubtitle:{fontSize:14,color:'#e0e0e0'},currentPlanCard:{backgroundColor:'#fff',margin:15,padding:20,borderRadius:10,borderWidth:2,borderColor:p.theme.colors.primary,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},currentPlanTitle:{fontSize:18,fontWeight:'bold',color:p.theme.colors.primary,marginBottom:15},currentPlanDetails:{gap:10},detailRow:{flexDirection:'row',justifyContent:'space-between',paddingVertical:5},detailLabel:{fontSize:14,color:p.theme.colors.textSecondary,fontWeight:'500'},detailValue:{fontSize:14,color:p.theme.colors.text,fontWeight:'bold'},currentCount:{color:p.theme.colors.primary},calculatorContainer:{padding:20},calculator:{backgroundColor:'#fff',borderRadius:16,padding:24,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:4,marginBottom:20},calculatorTitle:{fontSize:28,fontWeight:'bold',color:p.theme.colors.text,marginBottom:8,textAlign:'center'},calculatorSubtitle:{fontSize:16,color:p.theme.colors.textSecondary,textAlign:'center',marginBottom:24},inputGroup:{marginBottom:24},inputLabel:{fontSize:16,fontWeight:'600',color:p.theme.colors.text,marginBottom:8},input:{backgroundColor:'#f5f5f5',borderRadius:12,padding:16,fontSize:18,borderWidth:2,borderColor:p.theme.colors.border,color:p.theme.colors.text},planTypeSelector:{marginBottom:24},planTypeSelectorLabel:{fontSize:16,fontWeight:'600',color:p.theme.colors.text,marginBottom:12},planTypeButtons:{flexDirection:'row',gap:12},planTypeButton:{flex:1,backgroundColor:'#f5f5f5',borderRadius:12,padding:16,alignItems:'center',borderWidth:2,borderColor:p.theme.colors.border},planTypeButtonActive:{backgroundColor:'#e8f4ff',borderColor:p.theme.colors.primary},planTypeButtonText:{fontSize:16,fontWeight:'bold',color:p.theme.colors.text,marginBottom:4},planTypeButtonTextActive:{color:p.theme.colors.primary},planTypeButtonSubtext:{fontSize:12,color:p.theme.colors.textSecondary},premiumBadgeSmall:{backgroundColor:'#ffd700',paddingHorizontal:8,paddingVertical:2,borderRadius:6,marginBottom:4},premiumBadgeText:{fontSize:10,fontWeight:'bold',color:'#000'},billingToggle:{flexDirection:'row',backgroundColor:'#f0f0f0',borderRadius:12,padding:4,marginBottom:24},toggleButton:{flex:1,paddingVertical:12,paddingHorizontal:16,borderRadius:8,alignItems:'center',position:'relative'},toggleActive:{backgroundColor:'#fff',shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},toggleText:{fontSize:14,fontWeight:'600',color:p.theme.colors.textSecondary},toggleTextActive:{color:p.theme.colors.primary},savingsBadge:{position:'absolute',top:-8,right:8,backgroundColor:'#4caf50',paddingHorizontal:6,paddingVertical:2,borderRadius:6},savingsText:{color:'#fff',fontSize:10,fontWeight:'bold'},results:{marginTop:24,padding:20,backgroundColor:'#f8f9fa',borderRadius:12,borderWidth:2,borderColor:p.theme.colors.border},tierBadgeContainer:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},tierBadge:{backgroundColor:p.theme.colors.primary,paddingVertical:8,paddingHorizontal:16,borderRadius:8},tierName:{color:'#fff',fontSize:18,fontWeight:'bold'},tierRange:{color:'#fff',fontSize:12,marginTop:2},premiumPill:{backgroundColor:'#ffd700',paddingHorizontal:12,paddingVertical:6,borderRadius:12},premiumPillText:{fontSize:12,fontWeight:'bold',color:'#000'},tierDescription:{fontSize:14,color:p.theme.colors.textSecondary,marginBottom:16,fontStyle:'italic'},priceDisplay:{flexDirection:'row',alignItems:'baseline',justifyContent:'center',marginBottom:8},priceAmount:{fontSize:48,fontWeight:'bold',color:p.theme.colors.primary},pricePeriod:{fontSize:18,color:p.theme.colors.textSecondary,marginLeft:4},priceDetails:{alignItems:'center',marginBottom:20},perClientText:{fontSize:14,color:p.theme.colors.textSecondary,marginBottom:4},savingsHighlight:{fontSize:14,color:'#4caf50',fontWeight:'bold'},featuresContainer:{marginBottom:20},featuresTitle:{fontSize:16,fontWeight:'bold',color:p.theme.colors.text,marginBottom:12},featureRow:{flexDirection:'row',alignItems:'flex-start',marginBottom:8},featureCheck:{color:'#4caf50',fontSize:16,fontWeight:'bold',marginRight:8,marginTop:2},featureText:{flex:1,fontSize:14,color:p.theme.colors.text,lineHeight:20},selectButton:{backgroundColor:p.theme.colors.primary,paddingVertical:16,borderRadius:12,alignItems:'center',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:3,marginBottom:12},selectButtonPremium:{backgroundColor:'#ffd700',borderWidth:2,borderColor:'#000'},selectButtonDisabled:{opacity:.6},selectButtonText:{fontSize:16,fontWeight:'bold',color:'#fff'},upgradeHint:{paddingVertical:12,alignItems:'center'},upgradeHintText:{fontSize:14,color:p.theme.colors.primary,textDecorationLine:'underline'},nextTierHint:{fontSize:12,color:p.theme.colors.textSecondary,textAlign:'center',marginTop:8,fontStyle:'italic'},pricingTableContainer:{marginTop:24},pricingTableHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:16},pricingTableTitle:{fontSize:18,fontWeight:'bold',color:p.theme.colors.text},pricingTableToggle:{flexDirection:'row',backgroundColor:'#f0f0f0',borderRadius:8,padding:2},tableToggleButton:{paddingHorizontal:12,paddingVertical:6,borderRadius:6},tableToggleActive:{backgroundColor:'#fff'},tableToggleText:{fontSize:12,color:p.theme.colors.textSecondary,fontWeight:'600'},tableToggleTextActive:{color:p.theme.colors.primary},pricingTable:{flexDirection:'row',gap:12},pricingTableColumn:{width:120,backgroundColor:'#fff',borderRadius:8,padding:12,borderWidth:2,borderColor:p.theme.colors.border,alignItems:'center'},pricingTableColumnActive:{borderColor:p.theme.colors.primary,backgroundColor:'#e8f4ff'},tableColumnName:{fontSize:12,fontWeight:'bold',color:p.theme.colors.text,textAlign:'center',marginBottom:4},tableColumnRange:{fontSize:10,color:p.theme.colors.textSecondary,marginBottom:8},tableColumnPrice:{fontSize:18,fontWeight:'bold',color:p.theme.colors.primary},tableColumnPeriod:{fontSize:10,color:p.theme.colors.textSecondary}});var B=({token:e,onBack:u})=>{const[B,j]=(0,t.useState)(!0),[S,C]=(0,t.useState)(!1),[P,v]=(0,t.useState)(null),[k,w]=(0,t.useState)(''),[A,z]=(0,t.useState)('monthly'),[R,D]=(0,t.useState)('basic');(0,t.useEffect)(()=>{I()},[]);const I=async()=>{try{j(!0);const t=await(0,h.apiRequest)(h.API_ENDPOINTS.SUBSCRIPTION.MEDICALPROVIDER_CURRENT,{method:'GET',headers:{Authorization:`Bearer ${e}`}});v(t.subscription)}catch(e){console.error('Error fetching subscription:',e),alert('Failed to load subscription details')}finally{j(!1)}},U=(e=>{const t=parseInt(e);return isNaN(t)||t<1?null:x.tiers.find(e=>t>=e.min&&t<=e.max)})(k),L=e=>{if(!e)return 0;const t=e[R];return'monthly'===A?t.monthly:t.annual},W=async t=>{try{C(!0);await(0,h.apiRequest)(h.API_ENDPOINTS.SUBSCRIPTION.MEDICALPROVIDER_UPDATE,{method:'PUT',headers:{Authorization:`Bearer ${e}`},body:JSON.stringify({subscriptionTier:t.name.toLowerCase().replace(/[^a-z]/g,''),providerSize:{patientCount:k?parseInt(k):null,tierName:t.name,billingPeriod:A,planType:R}})});alert('Subscription updated successfully!');try{await I()}catch(e){console.log('Could not refresh subscription details after update:',e)}}catch(e){console.error('Error updating subscription:',e),alert(e.message||'Failed to update subscription')}finally{C(!1)}};if(B)return(0,b.jsxs)(o.default,{style:T.loadingContainer,children:[(0,b.jsx)(c.default,{size:"large",color:p.theme.colors.primary}),(0,b.jsx)(l.default,{style:T.loadingText,children:"Loading subscription details..."})]});return(0,b.jsxs)(s.default,{style:T.container,children:[u&&(0,b.jsx)(n.default,{style:T.backButton,onPress:u,children:(0,b.jsx)(l.default,{style:T.backButtonText,children:"\u2190 Back to Dashboard"})}),(0,b.jsxs)(o.default,{style:T.header,children:[(0,b.jsx)(l.default,{style:T.headerTitle,children:"\ud83c\udfe5 Subscription Management"}),(0,b.jsx)(l.default,{style:T.headerSubtitle,children:"Manage your medical practice subscription"})]}),P?(0,b.jsxs)(o.default,{style:T.currentPlanCard,children:[(0,b.jsx)(l.default,{style:T.currentPlanTitle,children:"Current Subscription"}),(0,b.jsxs)(o.default,{style:T.currentPlanDetails,children:[(0,b.jsxs)(o.default,{style:T.detailRow,children:[(0,b.jsx)(l.default,{style:T.detailLabel,children:"Current Patients:"}),(0,b.jsx)(l.default,{style:[T.detailValue,T.currentCount],children:P.currentPatientCount})]}),(0,b.jsxs)(o.default,{style:T.detailRow,children:[(0,b.jsx)(l.default,{style:T.detailLabel,children:"Patient Limit:"}),(0,b.jsx)(l.default,{style:T.detailValue,children:999999===P.patientLimit?'Unlimited':P.patientLimit})]})]})]}):null,(0,b.jsx)(y.default,{heading:"\ud83d\udcca Compare Plans",subheading:"Choose the plan that best fits your practice",standardFeatures:['Patient limits vary by tier','\ud83d\udccd Access to Patients\' Interactive Roadmap','\ud83d\udcca Basic Analytics','\ud83d\udd14 Full Access to Push Notifications','\ud83d\udd12 Evidence Locker Unlocked','\ud83c\udfe5 Medical Hub Unlocked'],premiumFeatures:['\ud83d\udcb0 Disbursement Payments Unlocked','\ud83e\udd1d Negotiations with Law Firms Unlocked'],showDisbursementNote:!0,disbursementNoteText:"Settlement Disbursements is a premium-only feature. Upgrade to Premium to receive payments from law firms.",standardLabel:"Basic",standardDescription:"Core features for your practice",premiumLabel:"Premium",premiumDescription:"Advanced features"}),(0,b.jsx)(o.default,{style:T.calculatorContainer,children:(0,b.jsxs)(o.default,{style:T.calculator,children:[(0,b.jsx)(l.default,{style:T.calculatorTitle,children:"\ud83c\udfe5 Calculate Your Price"}),(0,b.jsx)(l.default,{style:T.calculatorSubtitle,children:"Simple, transparent pricing based on your patient count"}),(0,b.jsxs)(o.default,{style:T.inputGroup,children:[(0,b.jsx)(l.default,{style:T.inputLabel,children:"How many patients do you have?"}),(0,b.jsx)(f.default,{style:T.input,keyboardType:"number-pad",value:k,onChangeText:w,placeholder:"Enter number of patients",placeholderTextColor:"#999"})]}),(0,b.jsxs)(o.default,{style:T.planTypeSelector,children:[(0,b.jsx)(l.default,{style:T.planTypeSelectorLabel,children:"Select Plan Type:"}),(0,b.jsxs)(o.default,{style:T.planTypeButtons,children:[(0,b.jsxs)(n.default,{style:[T.planTypeButton,'basic'===R&&T.planTypeButtonActive],onPress:()=>D('basic'),children:[(0,b.jsx)(l.default,{style:[T.planTypeButtonText,'basic'===R&&T.planTypeButtonTextActive],children:"Basic"}),(0,b.jsx)(l.default,{style:T.planTypeButtonSubtext,children:"Essential features"})]}),(0,b.jsxs)(n.default,{style:[T.planTypeButton,'premium'===R&&T.planTypeButtonActive],onPress:()=>D('premium'),children:[(0,b.jsx)(o.default,{style:T.premiumBadgeSmall,children:(0,b.jsx)(l.default,{style:T.premiumBadgeText,children:"\u2b50 PREMIUM"})}),(0,b.jsx)(l.default,{style:[T.planTypeButtonText,'premium'===R&&T.planTypeButtonTextActive],children:"Premium"}),(0,b.jsx)(l.default,{style:T.planTypeButtonSubtext,children:"Advanced features"})]})]})]}),(0,b.jsxs)(o.default,{style:T.billingToggle,children:[(0,b.jsx)(n.default,{style:[T.toggleButton,'monthly'===A&&T.toggleActive],onPress:()=>z('monthly'),children:(0,b.jsx)(l.default,{style:[T.toggleText,'monthly'===A&&T.toggleTextActive],children:"Monthly"})}),(0,b.jsxs)(n.default,{style:[T.toggleButton,'annual'===A&&T.toggleActive],onPress:()=>z('annual'),children:[(0,b.jsx)(l.default,{style:[T.toggleText,'annual'===A&&T.toggleTextActive],children:"Annual"}),(0,b.jsx)(o.default,{style:T.savingsBadge,children:(0,b.jsx)(l.default,{style:T.savingsText,children:"Save 10%"})})]})]}),U&&(0,b.jsxs)(o.default,{style:T.results,children:[(0,b.jsxs)(o.default,{style:T.tierBadgeContainer,children:[(0,b.jsxs)(o.default,{style:T.tierBadge,children:[(0,b.jsx)(l.default,{style:T.tierName,children:U.name}),(0,b.jsxs)(l.default,{style:T.tierRange,children:[U.min,"-",U.max===1/0?'999+':U.max," patients"]})]}),'premium'===R&&(0,b.jsx)(o.default,{style:T.premiumPill,children:(0,b.jsx)(l.default,{style:T.premiumPillText,children:"\u2b50 PREMIUM"})})]}),(0,b.jsx)(l.default,{style:T.tierDescription,children:U.description}),(0,b.jsxs)(o.default,{style:T.priceDisplay,children:[(0,b.jsxs)(l.default,{style:T.priceAmount,children:["$",L(U)]}),(0,b.jsxs)(l.default,{style:T.pricePeriod,children:["/",'monthly'===A?'mo':'yr']})]}),(0,b.jsxs)(o.default,{style:T.priceDetails,children:[(0,b.jsxs)(l.default,{style:T.perClientText,children:["Just $",((e,t)=>{if(!e||!t)return 0;return(L(e)/parseInt(t)).toFixed(2)})(U,k)," per patient"]}),'annual'===A&&(0,b.jsxs)(l.default,{style:T.savingsHighlight,children:["\ud83d\udcb0 Save $",(e=>{if(!e)return 0;const t=e[R];return(12*t.monthly-t.annual).toFixed(2)})(U),"/year"]})]}),(0,b.jsxs)(o.default,{style:T.featuresContainer,children:[(0,b.jsx)(l.default,{style:T.featuresTitle,children:'premium'===R?'\u2b50 Premium Features:':'\ud83d\udce6 Basic Features:'}),U[R].features.map((e,t)=>(0,b.jsxs)(o.default,{style:T.featureRow,children:[(0,b.jsx)(l.default,{style:T.featureCheck,children:"\u2713"}),(0,b.jsx)(l.default,{style:T.featureText,children:e})]},t))]}),(0,b.jsx)(n.default,{style:[T.selectButton,'premium'===R&&T.selectButtonPremium,S&&T.selectButtonDisabled],onPress:()=>W(U),disabled:S,children:S?(0,b.jsx)(c.default,{color:"#fff"}):(0,b.jsxs)(l.default,{style:T.selectButtonText,children:["Update to ",U.name," ",'premium'===R?'Premium':'Basic']})}),'basic'===R&&(0,b.jsx)(n.default,{style:T.upgradeHint,onPress:()=>D('premium'),children:(0,b.jsx)(l.default,{style:T.upgradeHintText,children:"\u2b50 Upgrade to Premium for advanced features"})}),U.max!==1/0&&(0,b.jsxs)(l.default,{style:T.nextTierHint,children:["\ud83d\udca1 At ",U.max+1," patients, you'll upgrade to ",x.tiers[x.tiers.indexOf(U)+1]?.name]})]}),(0,b.jsxs)(o.default,{style:T.pricingTableContainer,children:[(0,b.jsxs)(o.default,{style:T.pricingTableHeader,children:[(0,b.jsx)(l.default,{style:T.pricingTableTitle,children:"All Tiers at a Glance"}),(0,b.jsxs)(o.default,{style:T.pricingTableToggle,children:[(0,b.jsx)(n.default,{style:[T.tableToggleButton,'basic'===R&&T.tableToggleActive],onPress:()=>D('basic'),children:(0,b.jsx)(l.default,{style:[T.tableToggleText,'basic'===R&&T.tableToggleTextActive],children:"Basic"})}),(0,b.jsx)(n.default,{style:[T.tableToggleButton,'premium'===R&&T.tableToggleActive],onPress:()=>D('premium'),children:(0,b.jsx)(l.default,{style:[T.tableToggleText,'premium'===R&&T.tableToggleTextActive],children:"Premium"})})]})]}),(0,b.jsx)(s.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,b.jsx)(o.default,{style:T.pricingTable,children:x.tiers.map((e,t)=>{const o=e[R],s='monthly'===A?o.monthly:o.annual;return(0,b.jsxs)(n.default,{style:[T.pricingTableColumn,U?.name===e.name&&T.pricingTableColumnActive],onPress:()=>W(e),disabled:S,children:[(0,b.jsx)(l.default,{style:T.tableColumnName,children:e.name}),(0,b.jsxs)(l.default,{style:T.tableColumnRange,children:[e.min,"-",e.max===1/0?'999+':e.max]}),(0,b.jsxs)(l.default,{style:T.tableColumnPrice,children:["$",s]}),(0,b.jsxs)(l.default,{style:T.tableColumnPeriod,children:["/",'monthly'===A?'mo':'yr']})]},t)})})})]})]})})]})}},423,[13,85,161,162,177,354,26,116,82,340,135,132,346,153]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return C}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),s=e(r(d[3])),n=e(r(d[4])),i=e(r(d[5])),c=e(r(d[6])),u=e(r(d[7])),h=e(r(d[8])),f=r(d[9]),y=e(f),x=r(d[10]),b=r(d[11]),p=r(d[12]),j=(e(r(d[13])),r(d[14]));const S=i.default.create({container:{flex:1,backgroundColor:x.theme.colors.sand},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:x.theme.colors.sand},loadingText:{marginTop:10,color:x.theme.colors.textSecondary,fontSize:16},errorContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:x.theme.colors.sand,padding:20},errorText:{fontSize:16,color:x.theme.colors.textSecondary,marginBottom:20,textAlign:'center'},header:{backgroundColor:x.theme.colors.cream,padding:20,borderBottomWidth:3,borderBottomColor:x.theme.colors.secondary,flexDirection:'row',alignItems:'center'},headerBackButton:{marginRight:15},backArrow:{fontSize:24,color:x.theme.colors.mahogany},headerContent:{flex:1},headerTitle:{fontSize:22,fontWeight:'bold',color:x.theme.colors.mahogany},headerSubtitle:{fontSize:13,color:x.theme.colors.textSecondary,marginTop:2},tabBar:{flexDirection:'row',backgroundColor:x.theme.colors.cream,borderBottomWidth:2,borderBottomColor:x.theme.colors.secondary},tab:{flex:1,padding:12,alignItems:'center',borderBottomWidth:3,borderBottomColor:'transparent'},activeTab:{borderBottomColor:x.theme.colors.warmGold,backgroundColor:x.theme.colors.lightCream},tabIcon:{fontSize:20,marginBottom:4},tabText:{fontSize:12,color:x.theme.colors.textSecondary,fontWeight:'600'},activeTabText:{color:x.theme.colors.mahogany},content:{flex:1},tabContent:{padding:16},section:{backgroundColor:x.theme.colors.cream,padding:20,marginBottom:16,borderRadius:8,borderWidth:2,borderColor:x.theme.colors.secondary},sectionTitle:{fontSize:20,fontWeight:'bold',color:x.theme.colors.mahogany,marginBottom:15,paddingBottom:10,borderBottomWidth:2,borderBottomColor:x.theme.colors.secondary},sectionDescription:{fontSize:14,color:x.theme.colors.textSecondary,marginBottom:15,lineHeight:20},uploadButton:{backgroundColor:x.theme.colors.mahogany,padding:16,borderRadius:10,alignItems:'center',borderWidth:2,borderColor:x.theme.colors.secondary},uploadButtonText:{color:x.theme.colors.cream,fontSize:16,fontWeight:'600'},sectionHeaderRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:15,paddingBottom:10,borderBottomWidth:2,borderBottomColor:x.theme.colors.secondary},uploadButtonSmall:{backgroundColor:x.theme.colors.mahogany,paddingHorizontal:12,paddingVertical:8,borderRadius:6,borderWidth:2,borderColor:x.theme.colors.secondary},uploadButtonSmallText:{color:x.theme.colors.cream,fontSize:12,fontWeight:'600'},comingSoonBadge:{backgroundColor:x.theme.colors.warmGold,paddingHorizontal:10,paddingVertical:6,borderRadius:6,fontSize:11,fontWeight:'600',color:x.theme.colors.mahogany,borderWidth:1,borderColor:x.theme.colors.secondary},documentCard:{backgroundColor:x.theme.colors.lightCream,padding:15,borderRadius:6,marginBottom:12,borderLeftWidth:4,borderLeftColor:x.theme.colors.warmGold},documentHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},documentTitle:{fontSize:16,fontWeight:'600',color:x.theme.colors.mahogany,flex:1},documentBadge:{backgroundColor:x.theme.colors.warmGold,paddingHorizontal:8,paddingVertical:4,borderRadius:4,fontSize:11,fontWeight:'600',color:x.theme.colors.navy},documentDetail:{fontSize:13,color:x.theme.colors.textSecondary,marginBottom:4},documentDate:{fontSize:12,color:x.theme.colors.warmGray,marginTop:4},emptyState:{padding:30,alignItems:'center'},emptyIcon:{fontSize:48,marginBottom:10},emptyText:{fontSize:16,color:x.theme.colors.textSecondary,textAlign:'center',fontWeight:'600'},billingSummary:{backgroundColor:x.theme.colors.lightCream,padding:15,borderRadius:6,marginBottom:12,borderWidth:1,borderColor:x.theme.colors.warmGold},billingRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingVertical:6},billingLabel:{fontSize:14,color:x.theme.colors.textSecondary,fontWeight:'600'},billingValue:{fontSize:16,color:x.theme.colors.mahogany,fontWeight:'bold'},infoSection:{backgroundColor:x.theme.colors.lightCream,padding:16,borderRadius:10,borderWidth:2,borderColor:x.theme.colors.secondary,flexDirection:'row',alignItems:'flex-start'},infoIcon:{fontSize:20,marginRight:10},infoText:{flex:1,fontSize:14,color:x.theme.colors.navy,lineHeight:20},infoRow:{flexDirection:'row',justifyContent:'space-between',paddingVertical:10,borderBottomWidth:1,borderBottomColor:x.theme.colors.secondary},infoLabel:{fontSize:14,color:x.theme.colors.textSecondary,fontWeight:'600'},infoValue:{fontSize:14,color:x.theme.colors.navy,fontWeight:'500'},statsGrid:{flexDirection:'row',gap:12},statCard:{flex:1,backgroundColor:x.theme.colors.lightCream,padding:16,borderRadius:8,alignItems:'center',borderWidth:2,borderColor:x.theme.colors.warmGold},statIcon:{fontSize:32,marginBottom:8},statValue:{fontSize:28,fontWeight:'bold',color:x.theme.colors.mahogany,marginBottom:4},statLabel:{fontSize:12,color:x.theme.colors.textSecondary,textAlign:'center'},progressSummary:{marginBottom:20},progressLabel:{fontSize:14,color:x.theme.colors.textSecondary,marginBottom:8,fontWeight:'600'},progressBarContainer:{height:20,backgroundColor:x.theme.colors.sand,borderRadius:10,overflow:'hidden',marginBottom:8},progressBarFill:{height:'100%',backgroundColor:'#27ae60',borderRadius:10},progressPercentage:{fontSize:16,color:x.theme.colors.mahogany,fontWeight:'bold',textAlign:'center'},mapContainer:{position:'relative',marginTop:20},stageLabel:{alignItems:'center',width:120},stageName:{fontSize:12,color:x.theme.colors.navy,fontWeight:'600',textAlign:'center'},stageProgress:{fontSize:10,color:'#27ae60',marginTop:2,textAlign:'center'},stageDetailCard:{backgroundColor:x.theme.colors.lightCream,padding:15,borderRadius:6,marginBottom:12,borderLeftWidth:4,borderLeftColor:'#27ae60'},stageDetailHeader:{flexDirection:'row',alignItems:'center',marginBottom:8},stageDetailIcon:{fontSize:24,marginRight:10},stageDetailName:{fontSize:18,fontWeight:'600',color:x.theme.colors.mahogany},stageDetailProgress:{fontSize:13,color:x.theme.colors.textSecondary,marginBottom:10},substageList:{gap:6},completedSubstage:{fontSize:13,color:'#27ae60',paddingLeft:10},backButton:{backgroundColor:x.theme.colors.mahogany,padding:15,borderRadius:8,marginTop:20},backButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600',textAlign:'center'},backButtonBottom:{backgroundColor:x.theme.colors.mahogany,padding:15,borderRadius:8,margin:16,alignItems:'center'},backButtonBottomText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},medicalHubBackground:{minHeight:500,width:'100%'},medicalHubOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.5)'},medicalHubContent:{flex:1,paddingBottom:30},medicalHubSection:{backgroundColor:'rgba(255, 255, 255, 0.95)',borderWidth:2,borderColor:'#FFD700',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},medicalHubSectionTitle:{color:'#2c3e50',fontWeight:'bold'},medicalHubInfoSection:{backgroundColor:'rgba(0, 0, 0, 0.7)',borderColor:'#FFD700',borderWidth:1}});var C=({user:e,patientId:i,onBack:C})=>{const{width:B}=(0,u.default)(),[T,w]=(0,t.useState)(!0),[D,_]=(0,t.useState)(null),[v,I]=(0,t.useState)(null),[k,z]=(0,t.useState)([]),[L,W]=(0,t.useState)([]),[R,H]=(0,t.useState)([]),[A,P]=(0,t.useState)('roadmap');(0,t.useEffect)(()=>{F()},[i]);const F=async()=>{try{const t=await fetch(`${b.API_BASE_URL}${b.API_ENDPOINTS.MEDICALPROVIDER.PATIENT_DETAILS(i)}`,{headers:{Authorization:`Bearer ${e.token}`}});if(t.ok){const e=await t.json();_(e.patient),I(e.litigationProgress),z(e.medicalRecords||[]),W(e.medicalBilling||[]),H(e.evidence||[])}else console.error('Failed to fetch patient details')}catch(e){console.error('Error fetching patient details:',e)}finally{w(!1)}},$=()=>{if(!v||!v.completedSubstages)return p.LITIGATION_STAGES;const e=JSON.parse(JSON.stringify(p.LITIGATION_STAGES)),t={1:'pre-',2:'cf-',3:'disc-',4:'dep-',5:'med-',6:'tp-',7:'trial-',8:'settle-',9:'cr-'};return v.completedSubstages.forEach(o=>{const l=e.findIndex(e=>e.id===o.stage_id);if(-1!==l){const s=e[l];if(s.subStages&&Array.isArray(s.subStages)){let e=o.substage_id;if(/^\d+-\d+$/.test(o.substage_id)){const l=o.substage_id.split('-'),s=parseInt(l[0]),n=parseInt(l[1]),i=t[s];i&&(e=`${i}${n+1}`)}const l=s.subStages.findIndex(t=>t.id===e);-1!==l&&(s.subStages[l].completed=!0,s.subStages[l].completedAt=o.completed_at)}}}),e.forEach(e=>{if(e.subStages&&Array.isArray(e.subStages)){e.subStages.some(e=>e.completed)&&(e.completed=e.subStages.every(e=>e.completed))}}),e},E=()=>{const e=$(),t=B-40,s=t/2,n=[{x:s-100,y:50},{x:s+80,y:120},{x:s-120,y:200},{x:s+100,y:280},{x:s-80,y:360},{x:s+90,y:440},{x:s-110,y:520},{x:s+70,y:590},{x:s,y:660}],i=[],c=[];for(let t=0;t<n.length-1;t++){const o=n[t],l=n[t+1],s=e[t],c=!0===s.completed,u=!(!s.subStages||!Array.isArray(s.subStages))&&s.subStages.some(e=>!0===e.completed),h=!c&&u;let y=x.theme.colors.warmGray;c?y='#27ae60':h&&(y='#f39c12');const b=c||h?"5,5":"0",p=o.x+(l.x-o.x)/3,S=o.y+(l.y-o.y)/3+30,C=o.x+2*(l.x-o.x)/3,B=o.y+2*(l.y-o.y)/3-30;i.push((0,j.jsx)(f.Path,{d:`M ${o.x} ${o.y} C ${p} ${S}, ${C} ${B}, ${l.x} ${l.y}`,stroke:y,strokeWidth:"3",fill:"none",strokeDasharray:b},`path-${t}`))}return e.forEach((e,t)=>{const o=n[t],l=!0===e.completed,s=!(!e.subStages||!Array.isArray(e.subStages))&&e.subStages.some(e=>!0===e.completed),i=!l&&s;let u=x.theme.colors.warmGray;l?u='#27ae60':i&&(u='#f39c12'),console.log(`Stage ${t} (${e.name}): isComplete=${l}, isInProgress=${i}, hasAnyCompleted=${s}, color=${u}`);l||e.icon;c.push((0,j.jsx)(f.Circle,{cx:o.x,cy:o.y,r:"25",fill:u,stroke:x.theme.colors.navy,strokeWidth:"2"},`circle-${t}`))}),(0,j.jsxs)(o.default,{style:S.mapContainer,children:[(0,j.jsxs)(y.default,{width:t,height:750,children:[i,c]}),e.map((e,t)=>{const s=n[t],i=e.completed||e.subStages&&e.subStages.some(e=>e.completed),c=e.subStages?e.subStages.filter(e=>e.completed).length:0,u=e.subStages?e.subStages.length:0;return(0,j.jsxs)(o.default,{style:[S.stageLabel,{position:'absolute',left:s.x-60,top:s.y+30}],children:[(0,j.jsx)(l.default,{style:S.stageName,children:e.name}),i&&(0,j.jsxs)(l.default,{style:S.stageProgress,children:[c,"/",u," Complete"]})]},`label-${t}`)})]})};return T?(0,j.jsxs)(o.default,{style:S.loadingContainer,children:[(0,j.jsx)(c.default,{size:"large",color:x.theme.colors.mahogany}),(0,j.jsx)(l.default,{style:S.loadingText,children:"Loading Patient Details..."})]}):D?(0,j.jsxs)(o.default,{style:S.container,children:[(0,j.jsxs)(o.default,{style:S.header,children:[(0,j.jsx)(n.default,{onPress:C,style:S.headerBackButton,children:(0,j.jsx)(l.default,{style:S.backArrow,children:"\u2190"})}),(0,j.jsxs)(o.default,{style:S.headerContent,children:[(0,j.jsxs)(l.default,{style:S.headerTitle,children:["\ud83d\udc64 ",D.displayName]}),(0,j.jsx)(l.default,{style:S.headerSubtitle,children:"Patient Details (Read-Only)"})]})]}),(0,j.jsxs)(o.default,{style:S.tabBar,children:[(0,j.jsxs)(n.default,{style:[S.tab,'overview'===A&&S.activeTab],onPress:()=>P('overview'),children:[(0,j.jsx)(l.default,{style:S.tabIcon,children:"\ud83d\udccb"}),(0,j.jsx)(l.default,{style:[S.tabText,'overview'===A&&S.activeTabText],children:"Overview"})]}),(0,j.jsxs)(n.default,{style:[S.tab,'roadmap'===A&&S.activeTab],onPress:()=>P('roadmap'),children:[(0,j.jsx)(l.default,{style:S.tabIcon,children:"\ud83d\uddfa\ufe0f"}),(0,j.jsx)(l.default,{style:[S.tabText,'roadmap'===A&&S.activeTabText],children:"Roadmap"})]}),(0,j.jsxs)(n.default,{style:[S.tab,'medicalHub'===A&&S.activeTab],onPress:()=>P('medicalHub'),children:[(0,j.jsx)(l.default,{style:S.tabIcon,children:"\ud83c\udfe5"}),(0,j.jsx)(l.default,{style:[S.tabText,'medicalHub'===A&&S.activeTabText],children:"Medical Hub"})]}),(0,j.jsxs)(n.default,{style:[S.tab,'evidence'===A&&S.activeTab],onPress:()=>P('evidence'),children:[(0,j.jsx)(l.default,{style:S.tabIcon,children:"\ud83d\uddc3\ufe0f"}),(0,j.jsx)(l.default,{style:[S.tabText,'evidence'===A&&S.activeTabText],children:"Evidence Locker"})]})]}),(0,j.jsxs)(s.default,{style:S.content,children:['overview'===A&&(0,j.jsxs)(o.default,{style:S.tabContent,children:[(0,j.jsxs)(o.default,{style:S.section,children:[(0,j.jsx)(l.default,{style:S.sectionTitle,children:"\ud83d\udc64 Patient Information"}),(0,j.jsxs)(o.default,{style:S.infoRow,children:[(0,j.jsx)(l.default,{style:S.infoLabel,children:"Name:"}),(0,j.jsx)(l.default,{style:S.infoValue,children:D?.displayName})]}),(0,j.jsxs)(o.default,{style:S.infoRow,children:[(0,j.jsx)(l.default,{style:S.infoLabel,children:"Email:"}),(0,j.jsx)(l.default,{style:S.infoValue,children:D?.email})]}),(0,j.jsxs)(o.default,{style:S.infoRow,children:[(0,j.jsx)(l.default,{style:S.infoLabel,children:"Current Stage:"}),(0,j.jsx)(l.default,{style:S.infoValue,children:v?.progress?.current_stage_name||'Pre-Litigation'})]}),(0,j.jsxs)(o.default,{style:S.infoRow,children:[(0,j.jsx)(l.default,{style:S.infoLabel,children:"Progress:"}),(0,j.jsxs)(l.default,{style:S.infoValue,children:[v?.progress?.progress_percentage||0,"%"]})]}),(0,j.jsxs)(o.default,{style:S.infoRow,children:[(0,j.jsx)(l.default,{style:S.infoLabel,children:"Tasks Completed:"}),(0,j.jsx)(l.default,{style:S.infoValue,children:v?.progress?.total_substages_completed||0})]})]}),(0,j.jsxs)(o.default,{style:S.section,children:[(0,j.jsx)(l.default,{style:S.sectionTitle,children:"\ud83d\udcca Progress Summary"}),(0,j.jsxs)(o.default,{style:S.statsGrid,children:[(0,j.jsxs)(o.default,{style:S.statCard,children:[(0,j.jsx)(l.default,{style:S.statIcon,children:"\ud83c\udfaf"}),(0,j.jsx)(l.default,{style:S.statValue,children:v?.progress?.total_substages_completed||0}),(0,j.jsx)(l.default,{style:S.statLabel,children:"Tasks Done"})]}),(0,j.jsxs)(o.default,{style:S.statCard,children:[(0,j.jsx)(l.default,{style:S.statIcon,children:"\ud83c\udfc6"}),(0,j.jsx)(l.default,{style:S.statValue,children:v?.progress?.total_coins_earned||0}),(0,j.jsx)(l.default,{style:S.statLabel,children:"Coins Earned"})]})]})]})]}),'roadmap'===A&&(()=>{const e=$();return(0,j.jsxs)(o.default,{style:S.tabContent,children:[(0,j.jsxs)(o.default,{style:S.section,children:[(0,j.jsx)(l.default,{style:S.sectionTitle,children:"\ud83d\uddfa\ufe0f Litigation Journey"}),(0,j.jsxs)(o.default,{style:S.progressSummary,children:[(0,j.jsx)(l.default,{style:S.progressLabel,children:"Overall Progress:"}),(0,j.jsx)(o.default,{style:S.progressBarContainer,children:(0,j.jsx)(o.default,{style:[S.progressBarFill,{width:`${v?.progress?.progress_percentage||0}%`}]})}),(0,j.jsxs)(l.default,{style:S.progressPercentage,children:[v?.progress?.progress_percentage||0,"% Complete"]})]}),E()]}),(0,j.jsxs)(o.default,{style:S.section,children:[(0,j.jsx)(l.default,{style:S.sectionTitle,children:"\ud83d\udccb Stage Details"}),e.map((e,t)=>{if(!e.subStages||!Array.isArray(e.subStages))return null;const s=e.subStages.filter(e=>e.completed).length;return s>0?(0,j.jsxs)(o.default,{style:S.stageDetailCard,children:[(0,j.jsxs)(o.default,{style:S.stageDetailHeader,children:[(0,j.jsx)(l.default,{style:S.stageDetailIcon,children:e.icon}),(0,j.jsx)(l.default,{style:S.stageDetailName,children:e.name})]}),(0,j.jsxs)(l.default,{style:S.stageDetailProgress,children:[s," of ",e.subStages.length," tasks completed"]}),(0,j.jsx)(o.default,{style:S.substageList,children:e.subStages.filter(e=>e.completed).map((e,t)=>(0,j.jsxs)(l.default,{style:S.completedSubstage,children:["\u2713 ",e.name]},t))})]},t):null})]})]})})(),'medicalHub'===A&&(()=>{const e=L.reduce((e,t)=>e+(parseFloat(t.total_amount)||0),0),t=B>=768&&B<1024,s=B>=1024;return(0,j.jsx)(h.default,{source:r(d[15]),style:S.medicalHubBackground,resizeMode:"cover",children:(0,j.jsx)(o.default,{style:S.medicalHubOverlay,children:(0,j.jsxs)(o.default,{style:[S.medicalHubContent,{paddingHorizontal:s?40:t?30:15,paddingTop:s?30:20}],children:[(0,j.jsxs)(o.default,{style:[S.section,S.medicalHubSection],children:[(0,j.jsxs)(o.default,{style:S.sectionHeaderRow,children:[(0,j.jsx)(l.default,{style:[S.sectionTitle,S.medicalHubSectionTitle,{fontSize:s?24:20}],children:"\ud83d\udccb Medical Records"}),(0,j.jsx)(l.default,{style:[S.comingSoonBadge,{fontSize:s?13:11}],children:"\ud83c\udff4\u200d\u2620\ufe0f Coming Soon"})]}),0===k.length?(0,j.jsxs)(o.default,{style:S.emptyState,children:[(0,j.jsx)(l.default,{style:S.emptyIcon,children:"\ud83c\udfe5"}),(0,j.jsx)(l.default,{style:[S.emptyText,{color:'#2c3e50'}],children:"No medical records uploaded yet"})]}):k.map(e=>(0,j.jsxs)(o.default,{style:S.documentCard,children:[(0,j.jsxs)(o.default,{style:S.documentHeader,children:[(0,j.jsxs)(l.default,{style:S.documentTitle,children:["\ud83d\udcc4 ",e.record_type||'Medical Record']}),(0,j.jsx)(l.default,{style:S.documentBadge,children:e.file_name})]}),e.facility_name&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83c\udfe5 ",e.facility_name]}),e.provider_name&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83d\udc68\u200d\u2695\ufe0f ",e.provider_name]}),e.date_of_service&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83d\udcc5 Service: ",new Date(e.date_of_service).toLocaleDateString()]}),(0,j.jsxs)(l.default,{style:S.documentDate,children:["Uploaded: ",new Date(e.uploaded_at).toLocaleDateString()]})]},e.id))]}),(0,j.jsxs)(o.default,{style:[S.section,S.medicalHubSection],children:[(0,j.jsxs)(o.default,{style:S.sectionHeaderRow,children:[(0,j.jsx)(l.default,{style:[S.sectionTitle,S.medicalHubSectionTitle,{fontSize:s?24:20}],children:"\ud83d\udc8a Medical Billing"}),(0,j.jsx)(l.default,{style:[S.comingSoonBadge,{fontSize:s?13:11}],children:"\ud83c\udff4\u200d\u2620\ufe0f Coming Soon"})]}),0===L.length?(0,j.jsxs)(o.default,{style:S.emptyState,children:[(0,j.jsx)(l.default,{style:S.emptyIcon,children:"\ud83d\udcb0"}),(0,j.jsx)(l.default,{style:[S.emptyText,{color:'#2c3e50'}],children:"No medical bills uploaded yet"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(o.default,{style:S.billingSummary,children:[(0,j.jsxs)(o.default,{style:S.billingRow,children:[(0,j.jsx)(l.default,{style:S.billingLabel,children:"Total Billed:"}),(0,j.jsxs)(l.default,{style:S.billingValue,children:["$",e.toLocaleString()]})]}),(0,j.jsxs)(o.default,{style:S.billingRow,children:[(0,j.jsx)(l.default,{style:S.billingLabel,children:"Total Bills:"}),(0,j.jsx)(l.default,{style:S.billingValue,children:L.length})]})]}),L.map(e=>(0,j.jsxs)(o.default,{style:S.documentCard,children:[(0,j.jsxs)(o.default,{style:S.documentHeader,children:[(0,j.jsxs)(l.default,{style:S.documentTitle,children:["\ud83d\udcb0 ",e.billing_type||'Medical Bill']}),(0,j.jsxs)(l.default,{style:S.documentBadge,children:["$",parseFloat(e.total_amount||0).toFixed(2)]})]}),e.facility_name&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83c\udfe5 ",e.facility_name]}),e.bill_number&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83d\udcdd Bill #: ",e.bill_number]}),e.date_of_service&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83d\udcc5 Service: ",new Date(e.date_of_service).toLocaleDateString()]}),(0,j.jsxs)(l.default,{style:S.documentDate,children:["Uploaded: ",new Date(e.uploaded_at).toLocaleDateString()]})]},e.id))]})]}),(0,j.jsxs)(o.default,{style:[S.infoSection,S.medicalHubInfoSection],children:[(0,j.jsx)(l.default,{style:S.infoIcon,children:"\u2139\ufe0f"}),(0,j.jsxs)(l.default,{style:[S.infoText,{color:'#FFFFFF'}],children:["All medical records and billing can be accessed by ",D?.displayName,"'s law firm with proper consent."]})]})]})})})})(),'evidence'===A&&(0,j.jsxs)(o.default,{style:S.tabContent,children:[(0,j.jsxs)(o.default,{style:S.section,children:[(0,j.jsx)(l.default,{style:S.sectionTitle,children:"\ud83d\uddc3\ufe0f Evidence Locker"}),0===R.length?(0,j.jsxs)(o.default,{style:S.emptyState,children:[(0,j.jsx)(l.default,{style:S.emptyIcon,children:"\ud83d\uddc3\ufe0f"}),(0,j.jsx)(l.default,{style:S.emptyText,children:"No evidence documents uploaded yet"}),(0,j.jsx)(l.default,{style:S.emptySubtext,children:"Evidence documents will appear here when uploaded by the patient or their law firm"})]}):R.map(e=>(0,j.jsxs)(o.default,{style:S.documentCard,children:[(0,j.jsxs)(o.default,{style:S.documentHeader,children:[(0,j.jsxs)(l.default,{style:S.documentTitle,children:["\ud83d\udcce ",e.evidence_type||'Evidence']}),(0,j.jsx)(l.default,{style:S.documentBadge,children:e.file_name})]}),e.title&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83d\udcdd ",e.title]}),e.description&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83d\udccb ",e.description]}),e.location&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83d\udccd ",e.location]}),e.date_of_incident&&(0,j.jsxs)(l.default,{style:S.documentDetail,children:["\ud83d\udcc5 Incident: ",new Date(e.date_of_incident).toLocaleDateString()]}),(0,j.jsxs)(l.default,{style:S.documentDate,children:["Uploaded: ",new Date(e.uploaded_at).toLocaleDateString()]})]},e.id))]}),(0,j.jsxs)(o.default,{style:S.infoSection,children:[(0,j.jsx)(l.default,{style:S.infoIcon,children:"\u2139\ufe0f"}),(0,j.jsxs)(l.default,{style:S.infoText,children:["Evidence documents are securely shared with proper consent and can be accessed by ",D?.displayName,"'s law firm."]})]})]}),(0,j.jsx)(n.default,{style:S.backButtonBottom,onPress:C,children:(0,j.jsx)(l.default,{style:S.backButtonBottomText,children:"\u2190 Back to Dashboard"})})]})]}):(0,j.jsxs)(o.default,{style:S.errorContainer,children:[(0,j.jsx)(l.default,{style:S.errorText,children:"Patient not found or access denied"}),(0,j.jsx)(n.default,{style:S.backButton,onPress:C,children:(0,j.jsx)(l.default,{style:S.backButtonText,children:"\u2190 Back to Dashboard"})})]})}},424,[13,85,161,177,162,26,354,165,369,372,132,135,133,398,153,403]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),f=e(r(d[6])),u=e(r(d[7])),h=e(r(d[8]));r(d[9]),r(d[10]);var b=r(d[11]),x=r(d[12]);const y=r(d[13]),C=l.default.create({backgroundImage:{flex:1,width:'100%',height:'100%'},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.4)'},contentContainer:{flex:1},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',paddingHorizontal:20,paddingVertical:16,paddingTop:16,backgroundColor:'rgba(26, 26, 26, 0.88)',borderBottomWidth:2,borderBottomColor:'rgba(255, 215, 0, 0.5)'},backButton:{paddingVertical:8,paddingHorizontal:12,backgroundColor:'rgba(255, 215, 0, 0.2)',borderRadius:8,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)'},backButtonText:{fontSize:16,color:'#FFD700',fontWeight:'600'},headerTitle:{fontSize:22,fontWeight:'bold',color:'#FFD700',textShadowColor:'rgba(0, 0, 0, 0.5)',textShadowOffset:{width:1,height:1},textShadowRadius:3},placeholder:{width:60},filterContainer:{flexDirection:'row',backgroundColor:'rgba(26, 26, 26, 0.88)',borderBottomWidth:1,borderBottomColor:'rgba(255, 215, 0, 0.3)'},filterTab:{flex:1,paddingVertical:14,alignItems:'center',borderBottomWidth:3,borderBottomColor:'transparent'},activeFilterTab:{borderBottomColor:'#FFD700',backgroundColor:'rgba(255, 215, 0, 0.1)'},filterText:{fontSize:14,color:'rgba(255, 255, 255, 0.7)',fontWeight:'500'},activeFilterText:{color:'#FFD700',fontWeight:'700'},actionButtonContainer:{paddingHorizontal:16,paddingVertical:12,backgroundColor:'rgba(26, 26, 26, 0.75)',borderBottomWidth:1,borderBottomColor:'rgba(255, 215, 0, 0.3)'},markAllReadButton:{backgroundColor:'rgba(255, 215, 0, 0.2)',paddingVertical:12,paddingHorizontal:20,borderRadius:8,alignItems:'center',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)'},markAllReadText:{color:'#FFD700',fontSize:14,fontWeight:'600'},listContent:{padding:16,paddingBottom:100},notificationCard:{backgroundColor:'rgba(26, 26, 26, 0.88)',borderRadius:12,padding:16,marginBottom:12,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},unreadCard:{backgroundColor:'rgba(26, 26, 26, 0.95)',borderLeftWidth:4,borderLeftColor:'#FFD700',borderColor:'rgba(255, 215, 0, 0.5)'},notificationHeader:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',marginBottom:8},notificationTitle:{fontSize:16,fontWeight:'700',color:'#FFD700',flex:1},unreadBadge:{width:10,height:10,borderRadius:5,backgroundColor:'#FFD700',marginLeft:8},notificationBody:{fontSize:14,color:'rgba(255, 255, 255, 0.85)',marginBottom:12,lineHeight:20},notificationFooter:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},notificationTime:{fontSize:12,color:'rgba(255, 215, 0, 0.7)'},clickedLabel:{fontSize:12,color:'#4ade80',fontWeight:'600'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:16,fontSize:16,color:'#FFD700'},emptyContainer:{flex:1,justifyContent:'center',alignItems:'center',paddingHorizontal:40,backgroundColor:'rgba(26, 26, 26, 0.75)',margin:16,borderRadius:16,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)',padding:30},emptyIcon:{fontSize:64,marginBottom:16},emptyTitle:{fontSize:20,fontWeight:'bold',color:'#FFD700',marginBottom:8,textShadowColor:'rgba(0, 0, 0, 0.5)',textShadowOffset:{width:1,height:1},textShadowRadius:3},emptyText:{fontSize:14,color:'rgba(255, 255, 255, 0.85)',textAlign:'center',lineHeight:20}});var j=({user:e,onNavigate:l,onNotificationPress:j})=>{const{notifications:p,isLoading:F,refreshNotifications:T,markAllAsRead:k}=(0,b.useNotifications)(),[B,w]=(0,t.useState)('all'),[S,D]=(0,t.useState)(!1),[z,W]=(0,t.useState)(!1);(0,t.useEffect)(()=>{T()},[]);const v=async()=>{D(!0),await T(),D(!1)},_=async()=>{if(0===p.filter(e=>!e.is_read).length)return;W(!0);const e=await k();W(!1),e.success&&await T()},R=p.filter(e=>'unread'===B?!e.is_read:'read'!==B||e.is_read),I=e=>{const t=new Date(e),o=new Date-t,n=Math.floor(o/6e4),l=Math.floor(o/36e5),s=Math.floor(o/864e5);return n<1?'Just now':n<60?`${n}m ago`:l<24?`${l}h ago`:s<7?`${s}d ago`:t.toLocaleDateString()},L=({item:e})=>(0,x.jsxs)(c.default,{style:[C.notificationCard,!e.is_read&&C.unreadCard],onPress:()=>j&&j(e.id),children:[(0,x.jsxs)(o.default,{style:C.notificationHeader,children:[(0,x.jsx)(n.default,{style:C.notificationTitle,numberOfLines:1,children:e.title}),!e.is_read&&(0,x.jsx)(o.default,{style:C.unreadBadge})]}),(0,x.jsx)(n.default,{style:C.notificationBody,numberOfLines:2,children:e.body}),(0,x.jsxs)(o.default,{style:C.notificationFooter,children:[(0,x.jsx)(n.default,{style:C.notificationTime,children:I(e.created_at)}),e.is_clicked&&(0,x.jsx)(n.default,{style:C.clickedLabel,children:"\u2713 Viewed"})]})]});return(0,x.jsx)(h.default,{source:y,style:C.backgroundImage,resizeMode:"cover",children:(0,x.jsx)(o.default,{style:C.overlay,children:(0,x.jsxs)(o.default,{style:C.contentContainer,children:[(0,x.jsxs)(o.default,{style:C.header,children:[(0,x.jsx)(c.default,{style:C.backButton,onPress:()=>l&&l('dashboard'),children:(0,x.jsx)(n.default,{style:C.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(n.default,{style:C.headerTitle,children:"\ud83d\udd14 Notifications"}),(0,x.jsx)(o.default,{style:C.placeholder})]}),(0,x.jsxs)(o.default,{style:C.filterContainer,children:[(0,x.jsx)(c.default,{style:[C.filterTab,'all'===B&&C.activeFilterTab],onPress:()=>w('all'),children:(0,x.jsxs)(n.default,{style:[C.filterText,'all'===B&&C.activeFilterText],children:["All (",p.length,")"]})}),(0,x.jsx)(c.default,{style:[C.filterTab,'unread'===B&&C.activeFilterTab],onPress:()=>w('unread'),children:(0,x.jsxs)(n.default,{style:[C.filterText,'unread'===B&&C.activeFilterText],children:["Unread (",p.filter(e=>!e.is_read).length,")"]})}),(0,x.jsx)(c.default,{style:[C.filterTab,'read'===B&&C.activeFilterTab],onPress:()=>w('read'),children:(0,x.jsxs)(n.default,{style:[C.filterText,'read'===B&&C.activeFilterText],children:["Read (",p.filter(e=>e.is_read).length,")"]})})]}),p.filter(e=>!e.is_read).length>0&&(0,x.jsx)(o.default,{style:C.actionButtonContainer,children:(0,x.jsx)(c.default,{style:C.markAllReadButton,onPress:_,disabled:z,children:(0,x.jsx)(n.default,{style:C.markAllReadText,children:z?'\u2713 Marking all as read...':'\u2713 Mark all as read'})})}),F&&0===p.length?(0,x.jsxs)(o.default,{style:C.loadingContainer,children:[(0,x.jsx)(u.default,{size:"large",color:"#FFD700"}),(0,x.jsx)(n.default,{style:C.loadingText,children:"Loading notifications..."})]}):0===R.length?(0,x.jsxs)(o.default,{style:C.emptyContainer,children:[(0,x.jsx)(n.default,{style:C.emptyIcon,children:"\ud83c\udff4\u200d\u2620\ufe0f"}),(0,x.jsx)(n.default,{style:C.emptyTitle,children:"No Notifications"}),(0,x.jsx)(n.default,{style:C.emptyText,children:'unread'===B?"You're all caught up! No unread notifications.":'read'===B?"No read notifications yet.":"When you receive notifications, they'll appear here."})]}):(0,x.jsx)(s.default,{data:R,renderItem:L,keyExtractor:e=>e.id.toString(),contentContainerStyle:C.listContent,refreshControl:(0,x.jsx)(f.default,{refreshing:S,onRefresh:v,colors:['#FFD700'],tintColor:"#FFD700"})})]})})})}},425,[13,85,161,26,169,162,176,354,369,82,132,136,153,426]);
__d(function(i,e,s,t,a,d,n){a.exports={uri:"/assets/assets/images/pirate-notification-ship.cbb28de57a854d1682a9e3f4a8195ed1.png",width:1080,height:608}},426,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return C}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),b=e(r(d[8]));r(d[9]),r(d[10]);var h=r(d[11]),y=r(d[12]),x=r(d[13]);const p=r(d[14]),j=l.default.create({backgroundImage:{flex:1,width:'100%',height:'100%'},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.4)'},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',paddingHorizontal:20,paddingVertical:16,paddingTop:16,backgroundColor:'rgba(26, 26, 26, 0.88)',borderBottomWidth:2,borderBottomColor:'rgba(255, 215, 0, 0.5)'},backButton:{paddingVertical:8,paddingHorizontal:12,backgroundColor:'rgba(255, 215, 0, 0.2)',borderRadius:8,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)'},backButtonText:{fontSize:16,color:'#FFD700',fontWeight:'600'},headerTitle:{fontSize:22,fontWeight:'bold',color:'#FFD700',textShadowColor:'rgba(0, 0, 0, 0.5)',textShadowOffset:{width:1,height:1},textShadowRadius:3},placeholder:{width:60},scrollContent:{flex:1},contentContainer:{padding:20,paddingBottom:100},typeBadge:{alignSelf:'flex-start',backgroundColor:'rgba(255, 215, 0, 0.2)',paddingHorizontal:16,paddingVertical:8,borderRadius:20,marginBottom:16,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)'},typeBadgeText:{color:'#FFD700',fontSize:14,fontWeight:'600'},title:{fontSize:24,fontWeight:'bold',color:'#FFD700',marginBottom:12,textShadowColor:'rgba(0, 0, 0, 0.5)',textShadowOffset:{width:1,height:1},textShadowRadius:3},timestamp:{fontSize:14,color:'rgba(255, 215, 0, 0.7)',marginBottom:20},senderCard:{backgroundColor:'rgba(26, 26, 26, 0.88)',borderRadius:12,padding:16,marginBottom:20,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)'},senderLabel:{fontSize:12,color:'rgba(255, 255, 255, 0.7)',marginBottom:4},senderName:{fontSize:16,fontWeight:'600',color:'#FFD700'},bodyCard:{backgroundColor:'rgba(26, 26, 26, 0.88)',borderRadius:12,padding:20,marginBottom:20,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)'},bodyText:{fontSize:16,color:'rgba(255, 255, 255, 0.9)',lineHeight:24},actionButton:{backgroundColor:'rgba(255, 215, 0, 0.2)',borderRadius:12,paddingVertical:16,alignItems:'center',marginBottom:20,borderWidth:1,borderColor:'#FFD700'},actionButtonText:{color:'#FFD700',fontSize:16,fontWeight:'700'},statusCard:{backgroundColor:'rgba(26, 26, 26, 0.88)',borderRadius:12,padding:16,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},statusRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:8},statusLabel:{fontSize:14,color:'rgba(255, 255, 255, 0.7)'},statusValue:{fontSize:14,color:'rgba(255, 255, 255, 0.9)',fontWeight:'600'},readStatus:{color:'#4ade80'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:16,fontSize:16,color:'#FFD700'},emptyContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'rgba(26, 26, 26, 0.75)',margin:20,borderRadius:16,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)',padding:30},emptyIcon:{fontSize:64,marginBottom:16},emptyText:{fontSize:16,color:'#FFD700'}});var C=({user:e,notificationId:l,onBack:C,onNavigate:S})=>{const{markAsRead:k,markAsClicked:_}=(0,h.useNotifications)(),[B,T]=(0,t.useState)(null),[w,F]=(0,t.useState)(!0);(0,t.useEffect)(()=>{z()},[l]);const z=async()=>{try{F(!0);const t=await(0,y.apiRequest)(y.API_ENDPOINTS.NOTIFICATIONS.DETAIL(l),{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});t.success&&(T(t.notification),t.notification.is_read||await k(l),t.notification.is_clicked||await _(l))}catch(e){console.error('Error loading notification detail:',e),f.default.alert('Error','Failed to load notification details')}finally{F(!1)}},D=e=>new Date(e).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'}),I=()=>(0,x.jsxs)(o.default,{style:j.header,children:[(0,x.jsx)(c.default,{style:j.backButton,onPress:C,children:(0,x.jsx)(n.default,{style:j.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(n.default,{style:j.headerTitle,children:"Notification"}),(0,x.jsx)(o.default,{style:j.placeholder})]});return w?(0,x.jsx)(b.default,{source:p,style:j.backgroundImage,resizeMode:"cover",children:(0,x.jsxs)(o.default,{style:j.overlay,children:[I(),(0,x.jsxs)(o.default,{style:j.loadingContainer,children:[(0,x.jsx)(u.default,{size:"large",color:"#FFD700"}),(0,x.jsx)(n.default,{style:j.loadingText,children:"Loading notification..."})]})]})}):B?(0,x.jsx)(b.default,{source:p,style:j.backgroundImage,resizeMode:"cover",children:(0,x.jsxs)(o.default,{style:j.overlay,children:[I(),(0,x.jsxs)(s.default,{style:j.scrollContent,contentContainerStyle:j.contentContainer,children:[(0,x.jsx)(o.default,{style:j.typeBadge,children:(0,x.jsx)(n.default,{style:j.typeBadgeText,children:'task_reminder'===B.notification_type?'\ud83d\udccb Task Reminder':'deadline_reminder'===B.notification_type?'\u23f0 Deadline':'document_request'===B.notification_type?'\ud83d\udcc4 Document Request':'appointment_reminder'===B.notification_type?'\ud83d\udcc5 Appointment':'general'===B.notification_type?'\ud83d\udce2 General':'\ud83d\udd14 Notification'})}),(0,x.jsx)(n.default,{style:j.title,children:B.title}),(0,x.jsx)(n.default,{style:j.timestamp,children:D(B.created_at)}),(0,x.jsxs)(o.default,{style:j.senderCard,children:[(0,x.jsx)(n.default,{style:j.senderLabel,children:"From:"}),(0,x.jsx)(n.default,{style:j.senderName,children:B.sender_name||'Your Legal Team'})]}),(0,x.jsx)(o.default,{style:j.bodyCard,children:(0,x.jsx)(n.default,{style:j.bodyText,children:B.body})}),B.action_data?.buttonText&&(0,x.jsx)(c.default,{style:j.actionButton,onPress:()=>{B?.action_data?.screen?S&&S(B.action_data.screen):S&&S('dashboard')},children:(0,x.jsx)(n.default,{style:j.actionButtonText,children:B.action_data.buttonText})}),(0,x.jsxs)(o.default,{style:j.statusCard,children:[(0,x.jsxs)(o.default,{style:j.statusRow,children:[(0,x.jsx)(n.default,{style:j.statusLabel,children:"Status:"}),(0,x.jsx)(n.default,{style:[j.statusValue,B.is_read&&j.readStatus],children:B.is_read?'\u2713 Read':'Unread'})]}),B.is_clicked&&(0,x.jsxs)(o.default,{style:j.statusRow,children:[(0,x.jsx)(n.default,{style:j.statusLabel,children:"Viewed:"}),(0,x.jsx)(n.default,{style:j.statusValue,children:D(B.clicked_at)})]})]})]})]})}):(0,x.jsx)(b.default,{source:p,style:j.backgroundImage,resizeMode:"cover",children:(0,x.jsxs)(o.default,{style:j.overlay,children:[I(),(0,x.jsxs)(o.default,{style:j.emptyContainer,children:[(0,x.jsx)(n.default,{style:j.emptyIcon,children:"\ud83c\udff4\u200d\u2620\ufe0f"}),(0,x.jsx)(n.default,{style:j.emptyText,children:"Notification not found"})]})]})})}},427,[13,85,161,26,177,162,354,116,369,82,132,136,135,153,426]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=e(r(d[8])),p=r(d[9]),y=r(d[10]),x=r(d[11]);const b=[{id:'deadline_reminder',type:'deadline_reminder',title:'Upcoming Deadline Reminder',icon:'\u23f0',defaultTitle:'Important Deadline Approaching',defaultBody:'You have an upcoming deadline for your case. Please review the details and take necessary action.',actionButton:'View Roadmap',actionScreen:'roadmap'},{id:'document_request',type:'document_request',title:'Document Request',icon:'\ud83d\udcc4',defaultTitle:'Documents Needed',defaultBody:'We need additional documents for your case. Please upload the requested files at your earliest convenience.',actionButton:'Upload Documents',actionScreen:'medical'},{id:'appointment_reminder',type:'appointment_reminder',title:'Appointment Reminder',icon:'\ud83d\udcc5',defaultTitle:'Upcoming Appointment',defaultBody:'This is a reminder about your upcoming appointment. Please confirm your attendance.',actionButton:'View Details',actionScreen:'dashboard'},{id:'case_update',type:'general',title:'Case Update',icon:'\ud83d\udce2',defaultTitle:'Case Status Update',defaultBody:'There has been an update on your case. Please review the latest information.',actionButton:'View Dashboard',actionScreen:'dashboard'},{id:'task_reminder',type:'task_reminder',title:'Task Reminder',icon:'\ud83d\udccb',defaultTitle:'Task Requires Your Attention',defaultBody:'You have a pending task that requires your attention. Please complete it as soon as possible.',actionButton:'View Tasks',actionScreen:'dashboard'},{id:'custom',type:'general',title:'Custom Message',icon:'\u2709\ufe0f',defaultTitle:'',defaultBody:'',actionButton:'View Dashboard',actionScreen:'dashboard'}],C=e=>{switch(e){case'urgent':return'#e74c3c';case'high':return'#e67e22';case'medium':return'#3498db';case'low':return'#95a5a6';default:return'#999'}},T=n.default.create({container:{flex:1,backgroundColor:p.theme.colors.background,paddingBottom:100},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',paddingHorizontal:20,paddingVertical:16,backgroundColor:p.theme.colors.primary,borderBottomWidth:2,borderBottomColor:'#d4a574'},backButton:{paddingVertical:8,paddingHorizontal:12},backButtonText:{fontSize:16,color:'#fff',fontWeight:'600'},headerTitle:{fontSize:22,fontWeight:'bold',color:'#fff'},placeholder:{width:60},scrollContent:{flex:1},contentContainer:{padding:20,paddingBottom:40},section:{marginBottom:30},sectionHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},sectionTitle:{fontSize:18,fontWeight:'bold',color:'#333',marginBottom:12},selectAllButton:{paddingHorizontal:12,paddingVertical:6,backgroundColor:p.theme.colors.primary,borderRadius:6},selectAllText:{color:'#fff',fontSize:14,fontWeight:'600'},templatesGrid:{flexDirection:'row',flexWrap:'wrap',gap:12},templateCard:{width:'48%',backgroundColor:'#fff',borderRadius:12,padding:16,alignItems:'center',borderWidth:2,borderColor:'#e0e0e0'},templateCardSelected:{borderColor:p.theme.colors.primary,backgroundColor:'#f0f8ff'},templateIcon:{fontSize:32,marginBottom:8},templateTitle:{fontSize:13,fontWeight:'600',color:'#333',textAlign:'center'},clientsList:{gap:10},clientCard:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',backgroundColor:'#fff',borderRadius:12,padding:16,borderWidth:2,borderColor:'#e0e0e0'},clientCardSelected:{borderColor:p.theme.colors.primary,backgroundColor:'#f0f8ff'},clientInfo:{flex:1},clientName:{fontSize:16,fontWeight:'600',color:'#333',marginBottom:4},clientEmail:{fontSize:14,color:'#666'},checkmark:{fontSize:24,color:p.theme.colors.primary,fontWeight:'bold'},selectedCount:{marginTop:12,fontSize:14,fontWeight:'600',color:p.theme.colors.primary,textAlign:'center'},emptyClients:{padding:40,alignItems:'center'},emptyClientsText:{fontSize:16,color:'#666'},searchContainer:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',borderRadius:12,paddingHorizontal:16,paddingVertical:12,marginBottom:16,borderWidth:1,borderColor:'#e0e0e0'},searchIcon:{fontSize:18,marginRight:8,color:'#666'},searchInput:{flex:1,fontSize:16,color:'#333',padding:0},clearSearchButton:{padding:4,marginLeft:8},clearSearchText:{fontSize:18,color:'#999',fontWeight:'bold'},inputLabel:{fontSize:14,fontWeight:'600',color:'#333',marginBottom:8,marginTop:12},input:{backgroundColor:'#fff',borderRadius:12,padding:16,fontSize:16,color:'#333',borderWidth:1,borderColor:'#e0e0e0'},textArea:{height:120,paddingTop:16},sendButton:{backgroundColor:p.theme.colors.secondary,borderRadius:12,paddingVertical:18,alignItems:'center',marginTop:20},sendButtonDisabled:{backgroundColor:'#ccc'},sendButtonText:{color:'#fff',fontSize:18,fontWeight:'700'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:16,fontSize:16,color:'#666'},toggleButton:{paddingHorizontal:16,paddingVertical:8,backgroundColor:'#f0f0f0',borderRadius:8,borderWidth:2,borderColor:'#ddd'},toggleButtonActive:{backgroundColor:p.theme.colors.primary,borderColor:p.theme.colors.primary},toggleButtonText:{fontSize:14,fontWeight:'600',color:'#666'},toggleButtonTextActive:{color:'#fff'},taskForm:{backgroundColor:'#f8f9fa',padding:16,borderRadius:12,borderWidth:2,borderColor:p.theme.colors.secondary},taskFormHint:{fontSize:13,color:'#666',marginBottom:16,fontStyle:'italic'},priorityButtons:{flexDirection:'row',gap:8,marginBottom:12},priorityButton:{flex:1,paddingVertical:10,paddingHorizontal:12,borderRadius:8,borderWidth:2,alignItems:'center',backgroundColor:'#fff'},priorityButtonActive:{backgroundColor:'#f8f9fa'},priorityButtonText:{fontSize:13,fontWeight:'600',color:'#666'}});var S=({user:e,onBack:n})=>{const[S,j]=(0,t.useState)([]),[B,k]=(0,t.useState)([]),[A,I]=(0,t.useState)(null),[w,z]=(0,t.useState)(''),[D,P]=(0,t.useState)(''),[v,_]=(0,t.useState)('medium'),[R,W]=(0,t.useState)('View Dashboard'),[E,N]=(0,t.useState)('dashboard'),[L,O]=(0,t.useState)(!0),[V,H]=(0,t.useState)(!1),[q,F]=(0,t.useState)(!1),[U,$]=(0,t.useState)(''),[M,Y]=(0,t.useState)(''),[G,J]=(0,t.useState)('medium'),[K,Q]=(0,t.useState)(''),[X,Z]=(0,t.useState)('50'),[ee,te]=(0,t.useState)('');(0,t.useEffect)(()=>{oe()},[]);const oe=async()=>{try{O(!0);const t=await(0,y.apiRequest)(y.API_ENDPOINTS.LAWFIRM.CLIENTS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});t.clients&&j(t.clients)}catch(e){console.error('Error fetching clients:',e),f.default.alert('Error','Failed to load clients')}finally{O(!1)}},le=e=>{I(e),z(e.defaultTitle),P(e.defaultBody),W(e.actionButton),N(e.actionScreen),'task_reminder'!==e.id&&'document_request'!==e.id||(F(!0),$(e.defaultTitle),Y(e.defaultBody))};return L?(0,x.jsxs)(o.default,{style:T.container,children:[(0,x.jsxs)(o.default,{style:T.header,children:[(0,x.jsx)(c.default,{style:T.backButton,onPress:n,children:(0,x.jsx)(l.default,{style:T.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(l.default,{style:T.headerTitle,children:"Send Notification"}),(0,x.jsx)(o.default,{style:T.placeholder})]}),(0,x.jsxs)(o.default,{style:T.loadingContainer,children:[(0,x.jsx)(h.default,{size:"large",color:p.theme.colors.primary}),(0,x.jsx)(l.default,{style:T.loadingText,children:"Loading clients..."})]})]}):(0,x.jsxs)(o.default,{style:T.container,children:[(0,x.jsxs)(o.default,{style:T.header,children:[(0,x.jsx)(c.default,{style:T.backButton,onPress:n,children:(0,x.jsx)(l.default,{style:T.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(l.default,{style:T.headerTitle,children:"\ud83d\udce8 Send Notification"}),(0,x.jsx)(o.default,{style:T.placeholder})]}),(0,x.jsxs)(s.default,{style:T.scrollContent,contentContainerStyle:T.contentContainer,children:[(0,x.jsxs)(o.default,{style:T.section,children:[(0,x.jsx)(l.default,{style:T.sectionTitle,children:"Step 1: Choose Template"}),(0,x.jsx)(o.default,{style:T.templatesGrid,children:b.map(e=>(0,x.jsxs)(c.default,{style:[T.templateCard,A?.id===e.id&&T.templateCardSelected],onPress:()=>le(e),children:[(0,x.jsx)(l.default,{style:T.templateIcon,children:e.icon}),(0,x.jsx)(l.default,{style:T.templateTitle,children:e.title})]},e.id))})]}),(0,x.jsxs)(o.default,{style:T.section,children:[(0,x.jsxs)(o.default,{style:T.sectionHeader,children:[(0,x.jsx)(l.default,{style:T.sectionTitle,children:"Step 2: Select Recipients"}),(0,x.jsx)(c.default,{style:T.selectAllButton,onPress:()=>{B.length===S.length?k([]):k(S.map(e=>e.id))},children:(0,x.jsx)(l.default,{style:T.selectAllText,children:B.length===S.length?'Deselect All':'Select All'})})]}),(0,x.jsxs)(o.default,{style:T.searchContainer,children:[(0,x.jsx)(l.default,{style:T.searchIcon,children:"\ud83d\udd0d"}),(0,x.jsx)(u.default,{style:T.searchInput,value:ee,onChangeText:te,placeholder:"Search clients by name or email...",placeholderTextColor:"#999"}),ee.length>0&&(0,x.jsx)(c.default,{style:T.clearSearchButton,onPress:()=>te(''),children:(0,x.jsx)(l.default,{style:T.clearSearchText,children:"\u2715"})})]}),0===S.length?(0,x.jsx)(o.default,{style:T.emptyClients,children:(0,x.jsx)(l.default,{style:T.emptyClientsText,children:"No clients found"})}):(0,x.jsx)(o.default,{style:T.clientsList,children:S.filter(e=>{if(!ee.trim())return!0;const t=ee.toLowerCase(),o=`${e.first_name} ${e.last_name}`.toLowerCase(),l=e.email.toLowerCase();return o.includes(t)||l.includes(t)}).map(e=>(0,x.jsxs)(c.default,{style:[T.clientCard,B.includes(e.id)&&T.clientCardSelected],onPress:()=>{return t=e.id,void k(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:[(0,x.jsxs)(o.default,{style:T.clientInfo,children:[(0,x.jsxs)(l.default,{style:T.clientName,children:[e.first_name," ",e.last_name]}),(0,x.jsx)(l.default,{style:T.clientEmail,children:e.email})]}),B.includes(e.id)&&(0,x.jsx)(l.default,{style:T.checkmark,children:"\u2713"})]},e.id))}),B.length>0&&(0,x.jsxs)(l.default,{style:T.selectedCount,children:[B.length," client",1!==B.length?'s':''," selected"]})]}),(0,x.jsxs)(o.default,{style:T.section,children:[(0,x.jsx)(l.default,{style:T.sectionTitle,children:"Step 3: Compose Message"}),(0,x.jsx)(l.default,{style:T.inputLabel,children:"Notification Title"}),(0,x.jsx)(u.default,{style:T.input,value:w,onChangeText:z,placeholder:"Enter notification title...",placeholderTextColor:"#999"}),(0,x.jsx)(l.default,{style:T.inputLabel,children:"Message"}),(0,x.jsx)(u.default,{style:[T.input,T.textArea],value:D,onChangeText:P,placeholder:"Enter your message...",placeholderTextColor:"#999",multiline:!0,numberOfLines:6,textAlignVertical:"top"}),(0,x.jsx)(l.default,{style:T.inputLabel,children:"Action Button Text"}),(0,x.jsx)(u.default,{style:T.input,value:R,onChangeText:W,placeholder:"View Dashboard",placeholderTextColor:"#999"})]}),(0,x.jsxs)(o.default,{style:T.section,children:[(0,x.jsxs)(o.default,{style:T.sectionHeader,children:[(0,x.jsx)(l.default,{style:T.sectionTitle,children:"Step 4: Assign Task (Optional)"}),(0,x.jsx)(c.default,{style:[T.toggleButton,q&&T.toggleButtonActive],onPress:()=>F(!q),children:(0,x.jsx)(l.default,{style:[T.toggleButtonText,q&&T.toggleButtonTextActive],children:q?'\u2713 Enabled':'Enable'})})]}),q&&(0,x.jsxs)(o.default,{style:T.taskForm,children:[(0,x.jsx)(l.default,{style:T.taskFormHint,children:"\ud83d\udca1 Create an actionable task for clients to complete"}),(0,x.jsx)(l.default,{style:T.inputLabel,children:"Task Title *"}),(0,x.jsx)(u.default,{style:T.input,value:U,onChangeText:$,placeholder:"e.g., Upload Insurance Card",placeholderTextColor:"#999"}),(0,x.jsx)(l.default,{style:T.inputLabel,children:"Task Description"}),(0,x.jsx)(u.default,{style:[T.input,T.textArea],value:M,onChangeText:Y,placeholder:"Provide detailed instructions...",placeholderTextColor:"#999",multiline:!0,numberOfLines:4,textAlignVertical:"top"}),(0,x.jsx)(l.default,{style:T.inputLabel,children:"Priority"}),(0,x.jsx)(o.default,{style:T.priorityButtons,children:['urgent','high','medium','low'].map(e=>(0,x.jsx)(c.default,{style:[T.priorityButton,G===e&&T.priorityButtonActive,{borderColor:C(e)}],onPress:()=>J(e),children:(0,x.jsx)(l.default,{style:[T.priorityButtonText,G===e&&{color:C(e)}],children:e.charAt(0).toUpperCase()+e.slice(1)})},e))}),(0,x.jsx)(l.default,{style:T.inputLabel,children:"Due Date (Optional)"}),(0,x.jsx)(u.default,{style:T.input,value:K,onChangeText:Q,placeholder:"YYYY-MM-DD",placeholderTextColor:"#999"}),(0,x.jsx)(l.default,{style:T.inputLabel,children:"Coin Reward"}),(0,x.jsx)(u.default,{style:T.input,value:X,onChangeText:Z,placeholder:"50",placeholderTextColor:"#999",keyboardType:"numeric"})]})]}),(0,x.jsx)(c.default,{style:[T.sendButton,(0===B.length||!w.trim()||!D.trim()||V)&&T.sendButtonDisabled],onPress:async()=>{if(0!==B.length)if(w.trim()&&D.trim())try{H(!0);const t=await(0,y.apiRequest)(y.API_ENDPOINTS.NOTIFICATIONS.SEND_TO_CLIENTS,{method:'POST',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify({clientIds:B,title:w,body:D,type:A?.type||'general',priority:v,actionUrl:E?`verdictpath://${E}`:void 0,actionData:{buttonText:R,screen:E}})});if(q&&U.trim()){const t=B.map(t=>(0,y.apiRequest)(y.API_ENDPOINTS.TASKS.CREATE,{method:'POST',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify({clientId:t,taskTitle:U,taskDescription:M,taskType:A?.id||'general',priority:G,dueDate:K||null,coinsReward:parseInt(X)||0,actionUrl:`verdictpath://${E}`,sendNotification:!1})}));await Promise.all(t)}t.success?f.default.alert('Success',`Notification ${q?'and task ':''}sent to ${t.results?.successful||B.length} client(s)`,[{text:'OK',onPress:()=>{k([]),I(null),z(''),P(''),W('View Dashboard'),N('dashboard'),F(!1),$(''),Y(''),J('medium'),Q(''),Z('50')}}]):f.default.alert('Error',t.error||'Failed to send notification')}catch(e){console.error('Error sending notification:',e),f.default.alert('Error','Failed to send notification. Please try again.')}finally{H(!1)}else f.default.alert('Error','Please enter notification title and message');else f.default.alert('Error','Please select at least one client')},disabled:0===B.length||!w.trim()||!D.trim()||V,children:V?(0,x.jsx)(h.default,{size:"small",color:"#fff"}):(0,x.jsxs)(l.default,{style:T.sendButtonText,children:["Send to ",B.length," Client",1!==B.length?'s':'']})})]})]})}},428,[13,85,161,26,177,162,340,116,354,132,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}});var t=r(d[0]),l=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),f=e(r(d[6])),u=e(r(d[7])),y=r(d[8]),h=r(d[9]),x=r(d[10]);const p=n.default.create({container:{flex:1,backgroundColor:y.theme.colors.background},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',paddingHorizontal:20,paddingVertical:16,backgroundColor:y.theme.colors.primary,borderBottomWidth:2,borderBottomColor:'#d4a574'},backButton:{paddingVertical:8,paddingHorizontal:12},backButtonText:{fontSize:16,color:'#fff',fontWeight:'600'},headerTitle:{fontSize:22,fontWeight:'bold',color:'#fff'},placeholder:{width:60},filterContainer:{backgroundColor:'#fff',paddingHorizontal:20,paddingVertical:16,borderBottomWidth:1,borderBottomColor:'#e0e0e0',position:'relative',zIndex:1e3},filterLabel:{fontSize:14,fontWeight:'600',color:'#333',marginBottom:8},clientPickerButton:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',backgroundColor:'#f8f9fa',borderRadius:10,paddingHorizontal:16,paddingVertical:14,borderWidth:1,borderColor:'#e0e0e0'},clientPickerText:{fontSize:16,color:'#333',fontWeight:'500'},dropdownIcon:{fontSize:12,color:'#666'},dropdownBackdrop:{position:'absolute',top:80,left:0,right:0,bottom:-1e3,backgroundColor:'rgba(0, 0, 0, 0.05)',zIndex:1e3},clientPickerDropdown:{position:'absolute',top:80,left:20,right:20,backgroundColor:'#ffffff',borderRadius:10,borderWidth:2,borderColor:'#d4a574',maxHeight:300,shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.25,shadowRadius:8,elevation:8,zIndex:1001,opacity:1},clientOption:{paddingHorizontal:16,paddingVertical:14,borderBottomWidth:1,borderBottomColor:'#f0f0f0',backgroundColor:'#ffffff'},clientOptionSelected:{backgroundColor:'#f0f8ff'},clientOptionText:{fontSize:16,color:'#333',fontWeight:'500'},clientOptionTextSelected:{color:y.theme.colors.primary,fontWeight:'700'},clientEmailText:{fontSize:13,color:'#666',marginTop:4},timeRangeContainer:{flexDirection:'row',backgroundColor:'#fff',paddingHorizontal:20,paddingVertical:12,borderBottomWidth:1,borderBottomColor:'#e0e0e0',gap:10},timeRangeButton:{flex:1,paddingVertical:10,borderRadius:8,alignItems:'center',backgroundColor:'#f5f5f5'},timeRangeButtonActive:{backgroundColor:y.theme.colors.primary},timeRangeText:{fontSize:14,fontWeight:'600',color:'#666'},timeRangeTextActive:{color:'#fff'},scrollContent:{flex:1},contentContainer:{padding:20,paddingBottom:40},overviewSection:{marginBottom:30},sectionTitle:{fontSize:18,fontWeight:'bold',color:'#333',marginBottom:16},statsGrid:{flexDirection:'row',flexWrap:'wrap',gap:12},statCard:{width:'48%',backgroundColor:'#fff',borderRadius:12,padding:20,alignItems:'center',borderWidth:1,borderColor:'#e0e0e0'},statValue:{fontSize:32,fontWeight:'bold',color:y.theme.colors.primary,marginBottom:8},statLabel:{fontSize:14,color:'#666',textAlign:'center'},section:{marginBottom:30},rateCard:{backgroundColor:'#fff',borderRadius:12,padding:16,marginBottom:12,borderWidth:1,borderColor:'#e0e0e0'},rateHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},rateLabel:{fontSize:16,fontWeight:'600',color:'#333'},ratePercentage:{fontSize:18,fontWeight:'bold',color:y.theme.colors.primary},progressBar:{height:8,backgroundColor:'#f0f0f0',borderRadius:4,overflow:'hidden'},progressFill:{height:'100%',borderRadius:4},typeCard:{backgroundColor:'#fff',borderRadius:12,padding:16,marginBottom:12,borderWidth:1,borderColor:'#e0e0e0'},typeHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},typeLabel:{fontSize:16,fontWeight:'600',color:'#333'},typeCount:{fontSize:14,fontWeight:'600',color:y.theme.colors.primary},typeStats:{flexDirection:'row',gap:16},typeStat:{fontSize:13,color:'#666'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:16,fontSize:16,color:'#666'}});var b=({user:e,onBack:n})=>{const[b,j]=(0,t.useState)(null),[C,S]=(0,t.useState)(!0),[k,B]=(0,t.useState)(!1),[T,R]=(0,t.useState)('7days'),[w,v]=(0,t.useState)([]),[z,P]=(0,t.useState)(null),[W,D]=(0,t.useState)(!1);(0,t.useEffect)(()=>{I()},[]),(0,t.useEffect)(()=>{A()},[T,z]);const I=async()=>{try{const t=await(0,h.apiRequest)(h.API_ENDPOINTS.LAWFIRM.CLIENTS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});t.clients&&v(t.clients)}catch(e){console.error('Error fetching clients:',e)}},A=async()=>{try{S(!0);let t=`${h.API_ENDPOINTS.NOTIFICATIONS.ANALYTICS}?timeRange=${T}`;z&&(t+=`&clientId=${z}`);const l=await(0,h.apiRequest)(t,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});l.success&&j(l.analytics)}catch(e){console.error('Error fetching analytics:',e)}finally{S(!1)}},O=(e,t)=>t&&0!==t?Math.round(e/t*100):0;return C&&!b?(0,x.jsxs)(l.default,{style:p.container,children:[(0,x.jsxs)(l.default,{style:p.header,children:[(0,x.jsx)(c.default,{style:p.backButton,onPress:n,children:(0,x.jsx)(o.default,{style:p.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(o.default,{style:p.headerTitle,children:"Analytics"}),(0,x.jsx)(l.default,{style:p.placeholder})]}),(0,x.jsxs)(l.default,{style:p.loadingContainer,children:[(0,x.jsx)(f.default,{size:"large",color:y.theme.colors.primary}),(0,x.jsx)(o.default,{style:p.loadingText,children:"Loading analytics..."})]})]}):(0,x.jsxs)(l.default,{style:p.container,children:[(0,x.jsxs)(l.default,{style:p.header,children:[(0,x.jsx)(c.default,{style:p.backButton,onPress:n,children:(0,x.jsx)(o.default,{style:p.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(o.default,{style:p.headerTitle,children:"\ud83d\udcca Analytics"}),(0,x.jsx)(l.default,{style:p.placeholder})]}),(0,x.jsxs)(l.default,{style:p.filterContainer,children:[(0,x.jsx)(o.default,{style:p.filterLabel,children:"Filter by Client:"}),(0,x.jsxs)(c.default,{style:p.clientPickerButton,onPress:()=>D(!W),children:[(0,x.jsx)(o.default,{style:p.clientPickerText,children:z?w.find(e=>e.id===z)?.first_name+' '+w.find(e=>e.id===z)?.last_name:'All Clients'}),(0,x.jsx)(o.default,{style:p.dropdownIcon,children:W?'\u25b2':'\u25bc'})]}),W&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.default,{style:p.dropdownBackdrop,activeOpacity:1,onPress:()=>D(!1)}),(0,x.jsxs)(s.default,{style:p.clientPickerDropdown,nestedScrollEnabled:!0,children:[(0,x.jsx)(c.default,{style:[p.clientOption,!z&&p.clientOptionSelected],onPress:()=>{P(null),D(!1)},children:(0,x.jsx)(o.default,{style:[p.clientOptionText,!z&&p.clientOptionTextSelected],children:"All Clients"})}),w.map(e=>(0,x.jsxs)(c.default,{style:[p.clientOption,z===e.id&&p.clientOptionSelected],onPress:()=>{P(e.id),D(!1)},children:[(0,x.jsxs)(o.default,{style:[p.clientOptionText,z===e.id&&p.clientOptionTextSelected],children:[e.first_name," ",e.last_name]}),e.email&&(0,x.jsx)(o.default,{style:p.clientEmailText,children:e.email})]},e.id))]})]})]}),(0,x.jsxs)(l.default,{style:p.timeRangeContainer,children:[(0,x.jsx)(c.default,{style:[p.timeRangeButton,'7days'===T&&p.timeRangeButtonActive],onPress:()=>R('7days'),children:(0,x.jsx)(o.default,{style:[p.timeRangeText,'7days'===T&&p.timeRangeTextActive],children:"7 Days"})}),(0,x.jsx)(c.default,{style:[p.timeRangeButton,'30days'===T&&p.timeRangeButtonActive],onPress:()=>R('30days'),children:(0,x.jsx)(o.default,{style:[p.timeRangeText,'30days'===T&&p.timeRangeTextActive],children:"30 Days"})}),(0,x.jsx)(c.default,{style:[p.timeRangeButton,'90days'===T&&p.timeRangeButtonActive],onPress:()=>R('90days'),children:(0,x.jsx)(o.default,{style:[p.timeRangeText,'90days'===T&&p.timeRangeTextActive],children:"90 Days"})})]}),(0,x.jsxs)(s.default,{style:p.scrollContent,contentContainerStyle:p.contentContainer,refreshControl:(0,x.jsx)(u.default,{refreshing:k,onRefresh:async()=>{B(!0),await A(),B(!1)},colors:[y.theme.colors.primary]}),children:[(0,x.jsxs)(l.default,{style:p.overviewSection,children:[(0,x.jsx)(o.default,{style:p.sectionTitle,children:"Overview"}),(0,x.jsxs)(l.default,{style:p.statsGrid,children:[(0,x.jsxs)(l.default,{style:p.statCard,children:[(0,x.jsx)(o.default,{style:p.statValue,children:b?.totalSent||0}),(0,x.jsx)(o.default,{style:p.statLabel,children:"Total Sent"})]}),(0,x.jsxs)(l.default,{style:p.statCard,children:[(0,x.jsx)(o.default,{style:[p.statValue,{color:'#27ae60'}],children:b?.totalDelivered||0}),(0,x.jsx)(o.default,{style:p.statLabel,children:"Delivered"})]}),(0,x.jsxs)(l.default,{style:p.statCard,children:[(0,x.jsx)(o.default,{style:[p.statValue,{color:'#3498db'}],children:b?.totalRead||0}),(0,x.jsx)(o.default,{style:p.statLabel,children:"Read"})]}),(0,x.jsxs)(l.default,{style:p.statCard,children:[(0,x.jsx)(o.default,{style:[p.statValue,{color:'#9b59b6'}],children:b?.totalClicked||0}),(0,x.jsx)(o.default,{style:p.statLabel,children:"Clicked"})]})]})]}),(0,x.jsxs)(l.default,{style:p.section,children:[(0,x.jsx)(o.default,{style:p.sectionTitle,children:"Engagement Rates"}),(0,x.jsxs)(l.default,{style:p.rateCard,children:[(0,x.jsxs)(l.default,{style:p.rateHeader,children:[(0,x.jsx)(o.default,{style:p.rateLabel,children:"Delivery Rate"}),(0,x.jsxs)(o.default,{style:p.ratePercentage,children:[O(b?.totalDelivered,b?.totalSent),"%"]})]}),(0,x.jsx)(l.default,{style:p.progressBar,children:(0,x.jsx)(l.default,{style:[p.progressFill,{width:`${O(b?.totalDelivered,b?.totalSent)}%`,backgroundColor:'#27ae60'}]})})]}),(0,x.jsxs)(l.default,{style:p.rateCard,children:[(0,x.jsxs)(l.default,{style:p.rateHeader,children:[(0,x.jsx)(o.default,{style:p.rateLabel,children:"Read Rate"}),(0,x.jsxs)(o.default,{style:p.ratePercentage,children:[O(b?.totalRead,b?.totalDelivered),"%"]})]}),(0,x.jsx)(l.default,{style:p.progressBar,children:(0,x.jsx)(l.default,{style:[p.progressFill,{width:`${O(b?.totalRead,b?.totalDelivered)}%`,backgroundColor:'#3498db'}]})})]}),(0,x.jsxs)(l.default,{style:p.rateCard,children:[(0,x.jsxs)(l.default,{style:p.rateHeader,children:[(0,x.jsx)(o.default,{style:p.rateLabel,children:"Click Rate"}),(0,x.jsxs)(o.default,{style:p.ratePercentage,children:[O(b?.totalClicked,b?.totalRead),"%"]})]}),(0,x.jsx)(l.default,{style:p.progressBar,children:(0,x.jsx)(l.default,{style:[p.progressFill,{width:`${O(b?.totalClicked,b?.totalRead)}%`,backgroundColor:'#9b59b6'}]})})]})]}),b?.byType&&b.byType.length>0&&(0,x.jsxs)(l.default,{style:p.section,children:[(0,x.jsx)(o.default,{style:p.sectionTitle,children:"By Notification Type"}),b.byType.map((e,t)=>(0,x.jsxs)(l.default,{style:p.typeCard,children:[(0,x.jsxs)(l.default,{style:p.typeHeader,children:[(0,x.jsx)(o.default,{style:p.typeLabel,children:'deadline_reminder'===e.notification_type?'\u23f0 Deadline':'task_reminder'===e.notification_type?'\ud83d\udccb Task':'document_request'===e.notification_type?'\ud83d\udcc4 Document':'appointment_reminder'===e.notification_type?'\ud83d\udcc5 Appointment':'\ud83d\udce2 General'}),(0,x.jsxs)(o.default,{style:p.typeCount,children:[e.count," sent"]})]}),(0,x.jsxs)(l.default,{style:p.typeStats,children:[(0,x.jsxs)(o.default,{style:p.typeStat,children:["\u2713 ",e.delivered||0," delivered"]}),(0,x.jsxs)(o.default,{style:p.typeStat,children:["\ud83d\udc41 ",e.read||0," read"]}),(0,x.jsxs)(o.default,{style:p.typeStat,children:["\ud83d\uddb1 ",e.clicked||0," clicked"]})]})]},t))]})]})]})}},429,[13,85,161,26,177,162,354,176,132,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return T}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=e(r(d[8])),p=r(d[9]),y=r(d[10]),x=r(d[11]);const b=[{id:'appointment_reminder',type:'appointment_reminder',title:'Appointment Reminder',icon:'\ud83d\udcc5',defaultTitle:'Upcoming Appointment Reminder',defaultBody:'This is a reminder about your upcoming appointment. Please arrive 15 minutes early to complete any necessary paperwork.',actionButton:'View Dashboard',actionScreen:'dashboard'},{id:'document_upload',type:'document_request',title:'Document Upload Request',icon:'\ud83d\udcc4',defaultTitle:'Medical Documents Needed',defaultBody:'We need you to upload additional medical documents for your records. Please use the Medical Hub to submit the required files.',actionButton:'Upload Documents',actionScreen:'medical'},{id:'billing_notice',type:'general',title:'Billing Notice',icon:'\ud83d\udcb3',defaultTitle:'Billing Statement Available',defaultBody:'Your latest billing statement is now available. Please review and contact us if you have any questions.',actionButton:'View Details',actionScreen:'dashboard'},{id:'test_results',type:'general',title:'Scans Available',icon:'\ud83d\udd2c',defaultTitle:'Scans Ready',defaultBody:'Your recent scans are now available for review. Please check your medical records or contact us for more information.',actionButton:'View Results',actionScreen:'dashboard'},{id:'prescription_refill',type:'general',title:'Prescription Refill Reminder',icon:'\ud83d\udc8a',defaultTitle:'Time to Refill Your Prescription',defaultBody:'Your prescription is due for a refill. Please contact our office to arrange pickup or delivery.',actionButton:'View Dashboard',actionScreen:'dashboard'},{id:'custom',type:'general',title:'Custom Message',icon:'\u2709\ufe0f',defaultTitle:'',defaultBody:'',actionButton:'View Dashboard',actionScreen:'dashboard'}],S=l.default.create({container:{flex:1,backgroundColor:p.theme.colors.background,paddingBottom:100},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',paddingHorizontal:20,paddingVertical:16,backgroundColor:p.theme.colors.primary,borderBottomWidth:2,borderBottomColor:'#d4a574'},backButton:{paddingVertical:8,paddingHorizontal:12},backButtonText:{fontSize:16,color:'#fff',fontWeight:'600'},headerTitle:{fontSize:22,fontWeight:'bold',color:'#fff'},placeholder:{width:60},scrollContent:{flex:1},contentContainer:{padding:20,paddingBottom:40},section:{marginBottom:30},sectionHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},sectionTitle:{fontSize:18,fontWeight:'bold',color:'#333',marginBottom:12},selectAllButton:{paddingHorizontal:12,paddingVertical:6,backgroundColor:p.theme.colors.primary,borderRadius:6},selectAllText:{color:'#fff',fontSize:14,fontWeight:'600'},templatesGrid:{flexDirection:'row',flexWrap:'wrap',gap:12},templateCard:{width:'48%',backgroundColor:'#fff',borderRadius:12,padding:16,alignItems:'center',borderWidth:2,borderColor:'#e0e0e0'},templateCardSelected:{borderColor:p.theme.colors.primary,backgroundColor:'#f0f8ff'},templateIcon:{fontSize:32,marginBottom:8},templateTitle:{fontSize:13,fontWeight:'600',color:'#333',textAlign:'center'},searchContainer:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',borderRadius:12,paddingHorizontal:16,paddingVertical:12,marginBottom:16,borderWidth:1,borderColor:'#e0e0e0'},searchIcon:{fontSize:18,marginRight:12},searchInput:{flex:1,fontSize:16,color:'#333'},clearSearchButton:{padding:4},clearSearchText:{fontSize:20,color:'#999',fontWeight:'bold'},patientsList:{gap:10},patientCard:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',backgroundColor:'#fff',borderRadius:12,padding:16,borderWidth:2,borderColor:'#e0e0e0'},patientCardSelected:{borderColor:p.theme.colors.primary,backgroundColor:'#f0f8ff'},patientInfo:{flex:1},patientName:{fontSize:16,fontWeight:'600',color:'#333',marginBottom:4},patientEmail:{fontSize:14,color:'#666'},checkmark:{fontSize:24,color:p.theme.colors.primary,fontWeight:'bold'},selectedCount:{marginTop:12,fontSize:14,fontWeight:'600',color:p.theme.colors.primary,textAlign:'center'},emptyPatients:{padding:40,alignItems:'center'},emptyPatientsText:{fontSize:16,color:'#666'},inputLabel:{fontSize:14,fontWeight:'600',color:'#333',marginBottom:8,marginTop:12},input:{backgroundColor:'#fff',borderRadius:12,padding:16,fontSize:16,color:'#333',borderWidth:1,borderColor:'#e0e0e0'},textArea:{height:120,paddingTop:16},sendButton:{backgroundColor:p.theme.colors.secondary,borderRadius:12,paddingVertical:18,alignItems:'center',marginTop:20},sendButtonDisabled:{backgroundColor:'#ccc'},sendButtonText:{color:'#fff',fontSize:18,fontWeight:'700'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:16,fontSize:16,color:'#666'}});var T=({user:e,onBack:l})=>{const[T,j]=(0,t.useState)([]),[C,B]=(0,t.useState)([]),[P,k]=(0,t.useState)(null),[w,I]=(0,t.useState)(''),[z,A]=(0,t.useState)(''),[D,_]=(0,t.useState)('medium'),[v,E]=(0,t.useState)('View Dashboard'),[R,N]=(0,t.useState)('dashboard'),[W,V]=(0,t.useState)(!0),[L,O]=(0,t.useState)(!1),[M,H]=(0,t.useState)('');(0,t.useEffect)(()=>{q()},[]);const q=async()=>{try{V(!0);const t=await(0,y.apiRequest)(y.API_ENDPOINTS.MEDICALPROVIDER.PATIENTS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});t.patients&&j(t.patients)}catch(e){console.error('Error fetching patients:',e),f.default.alert('Error','Failed to load patients')}finally{V(!1)}},$=e=>{k(e),I(e.defaultTitle),A(e.defaultBody),E(e.actionButton),N(e.actionScreen)};return W?(0,x.jsxs)(o.default,{style:S.container,children:[(0,x.jsxs)(o.default,{style:S.header,children:[(0,x.jsx)(c.default,{style:S.backButton,onPress:l,children:(0,x.jsx)(n.default,{style:S.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(n.default,{style:S.headerTitle,children:"Send Notification"}),(0,x.jsx)(o.default,{style:S.placeholder})]}),(0,x.jsxs)(o.default,{style:S.loadingContainer,children:[(0,x.jsx)(h.default,{size:"large",color:p.theme.colors.primary}),(0,x.jsx)(n.default,{style:S.loadingText,children:"Loading patients..."})]})]}):(0,x.jsxs)(o.default,{style:S.container,children:[(0,x.jsxs)(o.default,{style:S.header,children:[(0,x.jsx)(c.default,{style:S.backButton,onPress:l,children:(0,x.jsx)(n.default,{style:S.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(n.default,{style:S.headerTitle,children:"\ud83d\udce8 Send Notification"}),(0,x.jsx)(o.default,{style:S.placeholder})]}),(0,x.jsxs)(s.default,{style:S.scrollContent,contentContainerStyle:S.contentContainer,children:[(0,x.jsxs)(o.default,{style:S.section,children:[(0,x.jsx)(n.default,{style:S.sectionTitle,children:"Step 1: Choose Template"}),(0,x.jsx)(o.default,{style:S.templatesGrid,children:b.map(e=>(0,x.jsxs)(c.default,{style:[S.templateCard,P?.id===e.id&&S.templateCardSelected],onPress:()=>$(e),children:[(0,x.jsx)(n.default,{style:S.templateIcon,children:e.icon}),(0,x.jsx)(n.default,{style:S.templateTitle,children:e.title})]},e.id))})]}),(0,x.jsxs)(o.default,{style:S.section,children:[(0,x.jsxs)(o.default,{style:S.sectionHeader,children:[(0,x.jsx)(n.default,{style:S.sectionTitle,children:"Step 2: Select Recipients"}),(0,x.jsx)(c.default,{style:S.selectAllButton,onPress:()=>{C.length===T.length?B([]):B(T.map(e=>e.id))},children:(0,x.jsx)(n.default,{style:S.selectAllText,children:C.length===T.length?'Deselect All':'Select All'})})]}),(0,x.jsxs)(o.default,{style:S.searchContainer,children:[(0,x.jsx)(n.default,{style:S.searchIcon,children:"\ud83d\udd0d"}),(0,x.jsx)(u.default,{style:S.searchInput,value:M,onChangeText:H,placeholder:"Search patients by name or email...",placeholderTextColor:"#999"}),M.length>0&&(0,x.jsx)(c.default,{style:S.clearSearchButton,onPress:()=>H(''),children:(0,x.jsx)(n.default,{style:S.clearSearchText,children:"\u2715"})})]}),0===T.length?(0,x.jsx)(o.default,{style:S.emptyPatients,children:(0,x.jsx)(n.default,{style:S.emptyPatientsText,children:"No patients found"})}):(0,x.jsx)(o.default,{style:S.patientsList,children:T.filter(e=>{if(!M.trim())return!0;const t=M.toLowerCase(),o=`${e.first_name} ${e.last_name}`.toLowerCase(),n=e.email.toLowerCase();return o.includes(t)||n.includes(t)}).map(e=>(0,x.jsxs)(c.default,{style:[S.patientCard,C.includes(e.id)&&S.patientCardSelected],onPress:()=>{return t=e.id,void B(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:[(0,x.jsxs)(o.default,{style:S.patientInfo,children:[(0,x.jsxs)(n.default,{style:S.patientName,children:[e.first_name," ",e.last_name]}),(0,x.jsx)(n.default,{style:S.patientEmail,children:e.email})]}),C.includes(e.id)&&(0,x.jsx)(n.default,{style:S.checkmark,children:"\u2713"})]},e.id))}),C.length>0&&(0,x.jsxs)(n.default,{style:S.selectedCount,children:[C.length," patient",1!==C.length?'s':''," selected"]})]}),(0,x.jsxs)(o.default,{style:S.section,children:[(0,x.jsx)(n.default,{style:S.sectionTitle,children:"Step 3: Compose Message"}),(0,x.jsx)(n.default,{style:S.inputLabel,children:"Notification Title"}),(0,x.jsx)(u.default,{style:S.input,value:w,onChangeText:I,placeholder:"Enter notification title...",placeholderTextColor:"#999"}),(0,x.jsx)(n.default,{style:S.inputLabel,children:"Message"}),(0,x.jsx)(u.default,{style:[S.input,S.textArea],value:z,onChangeText:A,placeholder:"Enter your message...",placeholderTextColor:"#999",multiline:!0,numberOfLines:6,textAlignVertical:"top"}),(0,x.jsx)(n.default,{style:S.inputLabel,children:"Action Button Text"}),(0,x.jsx)(u.default,{style:S.input,value:v,onChangeText:E,placeholder:"View Dashboard",placeholderTextColor:"#999"})]}),(0,x.jsx)(c.default,{style:[S.sendButton,(0===C.length||!w.trim()||!z.trim()||L)&&S.sendButtonDisabled],onPress:async()=>{if(0!==C.length)if(w.trim()&&z.trim())try{O(!0);const t=await(0,y.apiRequest)(y.API_ENDPOINTS.NOTIFICATIONS.SEND_TO_PATIENTS,{method:'POST',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify({patientIds:C,title:w,body:z,type:P?.type||'general',priority:D,actionUrl:R?`verdictpath://${R}`:void 0,actionData:{buttonText:v,screen:R}})});t.success?f.default.alert('Success',`Notification sent to ${t.results?.successful||C.length} patient(s)`,[{text:'OK',onPress:()=>{B([]),k(null),I(''),A(''),E('View Dashboard'),N('dashboard')}}]):f.default.alert('Error',t.error||'Failed to send notification')}catch(e){console.error('Error sending notification:',e),f.default.alert('Error','Failed to send notification. Please try again.')}finally{O(!1)}else f.default.alert('Error','Please enter notification title and message');else f.default.alert('Error','Please select at least one patient')},disabled:0===C.length||!w.trim()||!z.trim()||L,children:L?(0,x.jsx)(h.default,{size:"small",color:"#fff"}):(0,x.jsxs)(n.default,{style:S.sendButtonText,children:["Send to ",C.length," Patient",1!==C.length?'s':'']})})]})]})}},430,[13,85,161,26,177,162,340,116,354,132,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return k}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),h=e(r(d[7])),f=e(r(d[8])),y=e(r(d[9]));r(d[10]);var b=r(d[11]),x=r(d[12]),p=r(d[13]);const S=s.default.create({container:{flex:1},backgroundImage:{flex:1},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.4)'},scrollView:{flex:1},scrollContent:{flexGrow:1,paddingBottom:100},contentWrapper:{flex:1},loadingOverlay:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'rgba(0, 0, 0, 0.7)'},loadingText:{marginTop:15,color:'#FFFFFF',fontSize:18,fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:4},header:{paddingBottom:15},backButton:{backgroundColor:'rgba(40, 30, 20, 0.85)',paddingHorizontal:18,paddingVertical:12,borderRadius:10,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',marginBottom:12,alignSelf:'flex-start',shadowColor:'#000',shadowOffset:{width:0,height:3},shadowOpacity:.4,shadowRadius:4,elevation:5},backButtonText:{color:'#FFD700',fontWeight:'700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},headerContent:{marginTop:4},headerTitle:{fontWeight:'bold',color:'#FFFFFF',marginBottom:8,textShadowColor:'#000',textShadowOffset:{width:0,height:3},textShadowRadius:6},headerSubtitle:{color:'#FFD700',fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:4},summaryContainer:{flexDirection:'row',backgroundColor:'rgba(26, 26, 26, 0.88)',gap:10,marginHorizontal:16,borderRadius:12,marginBottom:12,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)'},summaryCard:{flex:1,backgroundColor:'rgba(50, 40, 30, 0.9)',padding:12,borderRadius:10,alignItems:'center',borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},summaryNumber:{fontWeight:'bold',color:'#FFD700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},summaryLabel:{color:'#E8D5B0',marginTop:4,fontWeight:'600'},overdueCard:{backgroundColor:'rgba(80, 30, 30, 0.9)',borderColor:'rgba(231, 76, 60, 0.6)'},overdueNumberText:{color:'#FF6B6B'},overdueLabelText:{color:'#FF9999'},filterContainer:{backgroundColor:'rgba(26, 26, 26, 0.88)',paddingHorizontal:16,paddingVertical:12,marginHorizontal:16,borderRadius:10,marginBottom:10,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.4)'},filterButton:{flexDirection:'row',alignItems:'center',backgroundColor:'rgba(60, 50, 40, 0.9)',paddingHorizontal:16,paddingVertical:10,borderRadius:20,marginRight:10,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},activeFilterButton:{backgroundColor:'rgba(180, 120, 40, 0.95)',borderColor:'#FFD700'},filterEmoji:{marginRight:6},filterText:{fontWeight:'700',color:'#E8D5B0'},activeFilterText:{color:'#FFFFFF'},priorityFilterContainer:{flexDirection:'row',alignItems:'center',backgroundColor:'rgba(26, 26, 26, 0.88)',paddingHorizontal:16,paddingVertical:12,marginHorizontal:16,borderRadius:10,marginBottom:15,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.4)'},priorityFilterLabel:{fontWeight:'700',color:'#FFD700',marginRight:12,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},priorityChip:{paddingHorizontal:14,paddingVertical:8,borderRadius:15,borderWidth:2,marginRight:8,backgroundColor:'rgba(60, 50, 40, 0.9)'},priorityChipText:{fontWeight:'700'},content:{flex:1},tasksList:{gap:12},taskCard:{backgroundColor:'rgba(26, 26, 26, 0.92)',borderRadius:14,marginBottom:12,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.5,shadowRadius:6,elevation:8},overdueTaskCard:{borderColor:'#e74c3c',borderWidth:3,backgroundColor:'rgba(80, 30, 30, 0.92)'},taskHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},taskStatusContainer:{flexDirection:'row',alignItems:'center',gap:8},taskStatusIcon:{},priorityBadge:{paddingHorizontal:12,paddingVertical:5,borderRadius:14},priorityBadgeText:{color:'#fff',fontWeight:'700'},coinsBadge:{backgroundColor:'rgba(255, 215, 0, 0.9)',paddingHorizontal:12,paddingVertical:5,borderRadius:14,borderWidth:1,borderColor:'#8B4513'},coinsBadgeText:{fontWeight:'700',color:'#2c3e50'},taskTitle:{fontWeight:'bold',color:'#FFD700',marginBottom:8,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},taskDescription:{color:'#E8D5B0',marginBottom:12,lineHeight:22},taskFooter:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:8},taskLawFirm:{color:'#B8A080',fontWeight:'700'},taskDueDate:{color:'#B8A080',fontWeight:'600'},overdueDueDate:{color:'#FF6B6B',fontWeight:'700'},taskActions:{marginTop:12,paddingTop:12,borderTopWidth:1,borderTopColor:'rgba(255, 215, 0, 0.3)',alignItems:'center'},taskActionHint:{color:'#FFD700',fontStyle:'italic',fontWeight:'600'},emptyState:{alignItems:'center',justifyContent:'center',padding:40,backgroundColor:'rgba(26, 26, 26, 0.92)',borderRadius:20,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',marginTop:20},emptyStateIcon:{marginBottom:16},emptyStateTitle:{fontWeight:'bold',color:'#FFD700',marginBottom:12,textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:4},emptyStateText:{color:'#E8D5B0',textAlign:'center',lineHeight:22},bottomPadding:{height:100}});var k=({user:e,onNavigate:s,onSelectTask:k})=>{const{width:w,height:C}=(0,y.default)(),[j,F]=(0,t.useState)([]),[T,z]=(0,t.useState)(null),[D,B]=(0,t.useState)(!0),[v,W]=(0,t.useState)(!1),[R,I]=(0,t.useState)('all'),[H,O]=(0,t.useState)('all'),L=w>=768&&w<1024,P=w>=1024;(0,t.useEffect)(()=>{A()},[R,H]);const A=async()=>{try{const t=new URLSearchParams;'all'!==R&&t.append('status',R),'all'!==H&&t.append('priority',H);const o=t.toString(),l=o?`${b.API_ENDPOINTS.TASKS.MY_TASKS}?${o}`:b.API_ENDPOINTS.TASKS.MY_TASKS,n=await(0,b.apiRequest)(l,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});F(n.tasks),z(n.summary)}catch(e){console.error('Error fetching tasks:',e),(0,x.alert)('Error','Failed to load tasks')}finally{B(!1),W(!1)}},N=e=>{switch(e){case'urgent':return'#e74c3c';case'high':return'#e67e22';case'medium':return'#3498db';case'low':return'#95a5a6';default:return'#999'}},E=e=>{switch(e){case'urgent':return'\ud83d\udd25 Urgent';case'high':return'\u26a0\ufe0f High';case'medium':return'\ud83d\udccc Medium';case'low':return'\ud83d\udca1 Low';default:return e}},_=e=>{switch(e){case'pending':return'\u23f3';case'in_progress':return'\u25b6\ufe0f';case'completed':return'\u2705';case'cancelled':return'\u274c';default:return'\ud83d\udccb'}},M=e=>'completed'!==e.status&&e.dueDate&&new Date(e.dueDate)<new Date,V=e=>{const t=M(e);return(0,p.jsxs)(c.default,{style:[S.taskCard,t&&S.overdueTaskCard,{padding:P?20:16}],onPress:()=>k(e),activeOpacity:.7,children:[(0,p.jsxs)(o.default,{style:S.taskHeader,children:[(0,p.jsxs)(o.default,{style:S.taskStatusContainer,children:[(0,p.jsx)(l.default,{style:[S.taskStatusIcon,{fontSize:P?24:20}],children:_(e.status)}),(0,p.jsx)(o.default,{style:[S.priorityBadge,{backgroundColor:N(e.priority)}],children:(0,p.jsx)(l.default,{style:[S.priorityBadgeText,{fontSize:P?13:11}],children:E(e.priority)})})]}),e.coinsReward>0&&(0,p.jsx)(o.default,{style:S.coinsBadge,children:(0,p.jsxs)(l.default,{style:[S.coinsBadgeText,{fontSize:P?14:12}],children:["\ud83e\ude99 ",e.coinsReward]})})]}),(0,p.jsx)(l.default,{style:[S.taskTitle,{fontSize:P?20:18}],children:e.title}),e.description&&(0,p.jsx)(l.default,{style:[S.taskDescription,{fontSize:P?16:14}],numberOfLines:2,children:e.description}),(0,p.jsxs)(o.default,{style:S.taskFooter,children:[(0,p.jsxs)(l.default,{style:[S.taskLawFirm,{fontSize:P?15:13}],children:["\u2696\ufe0f ",e.lawFirmName]}),e.dueDate&&(0,p.jsxs)(l.default,{style:[S.taskDueDate,t&&S.overdueDueDate,{fontSize:P?15:13}],children:[t?'\u26a0\ufe0f ':'\ud83d\udcc5 ',t?'Overdue: ':'Due: ',new Date(e.dueDate).toLocaleDateString()]})]}),(0,p.jsx)(o.default,{style:S.taskActions,children:(0,p.jsx)(l.default,{style:[S.taskActionHint,{fontSize:P?14:12}],children:'completed'===e.status?'Tap to view details':'Tap to respond'})})]},e.id)};return D?(0,p.jsx)(f.default,{source:r(d[14]),style:[S.backgroundImage,{width:w,height:C}],resizeMode:"cover",children:(0,p.jsxs)(o.default,{style:S.loadingOverlay,children:[(0,p.jsx)(h.default,{size:"large",color:"#FFD700"}),(0,p.jsx)(l.default,{style:S.loadingText,children:"Loading your tasks..."})]})}):(0,p.jsx)(o.default,{style:S.container,children:(0,p.jsx)(f.default,{source:r(d[14]),style:[S.backgroundImage,{width:w,height:C}],resizeMode:"cover",children:(0,p.jsx)(o.default,{style:S.overlay,children:(0,p.jsx)(n.default,{style:S.scrollView,contentContainerStyle:[S.scrollContent,{alignItems:P||L?'center':'stretch'}],refreshControl:(0,p.jsx)(u.default,{refreshing:v,onRefresh:()=>{W(!0),A()},tintColor:"#FFD700"}),children:(0,p.jsxs)(o.default,{style:[S.contentWrapper,{width:P?Math.min(.7*w,900):L?.9*w:w}],children:[(0,p.jsxs)(o.default,{style:[S.header,{paddingTop:P?30:50,paddingHorizontal:P?30:20}],children:[(0,p.jsx)(c.default,{style:S.backButton,onPress:()=>s('dashboard'),children:(0,p.jsx)(l.default,{style:[S.backButtonText,{fontSize:P?16:14}],children:"\u2190 Back"})}),(0,p.jsxs)(o.default,{style:S.headerContent,children:[(0,p.jsx)(l.default,{style:[S.headerTitle,{fontSize:P?34:L?30:28}],children:"\u2693 Task Dashboard"}),(0,p.jsx)(l.default,{style:[S.headerSubtitle,{fontSize:P?16:14}],children:"Tasks assigned by your attorney"})]})]}),T?(0,p.jsxs)(o.default,{style:[S.summaryContainer,{padding:P?20:16}],children:[(0,p.jsxs)(o.default,{style:S.summaryCard,children:[(0,p.jsx)(l.default,{style:[S.summaryNumber,{fontSize:P?28:24}],children:T.pending}),(0,p.jsx)(l.default,{style:[S.summaryLabel,{fontSize:P?13:11}],children:"To Do"})]}),(0,p.jsxs)(o.default,{style:S.summaryCard,children:[(0,p.jsx)(l.default,{style:[S.summaryNumber,{fontSize:P?28:24}],children:T.inProgress}),(0,p.jsx)(l.default,{style:[S.summaryLabel,{fontSize:P?13:11}],children:"In Progress"})]}),(0,p.jsxs)(o.default,{style:S.summaryCard,children:[(0,p.jsx)(l.default,{style:[S.summaryNumber,{fontSize:P?28:24}],children:T.completed}),(0,p.jsx)(l.default,{style:[S.summaryLabel,{fontSize:P?13:11}],children:"Completed"})]}),T.overdue>0&&(0,p.jsxs)(o.default,{style:[S.summaryCard,S.overdueCard],children:[(0,p.jsx)(l.default,{style:[S.summaryNumber,S.overdueNumberText,{fontSize:P?28:24}],children:T.overdue}),(0,p.jsx)(l.default,{style:[S.summaryLabel,S.overdueLabelText,{fontSize:P?13:11}],children:"Overdue"})]})]}):null,(0,p.jsx)(o.default,{style:S.filterContainer,children:(0,p.jsx)(n.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:[{key:'all',label:'All',emoji:'\ud83d\udccb'},{key:'pending',label:'To Do',emoji:'\u23f3'},{key:'in_progress',label:'In Progress',emoji:'\u25b6\ufe0f'},{key:'completed',label:'Done',emoji:'\u2705'}].map(e=>(0,p.jsxs)(c.default,{style:[S.filterButton,R===e.key&&S.activeFilterButton],onPress:()=>I(e.key),children:[(0,p.jsx)(l.default,{style:[S.filterEmoji,{fontSize:P?18:16}],children:e.emoji}),(0,p.jsx)(l.default,{style:[S.filterText,R===e.key&&S.activeFilterText,{fontSize:P?16:14}],children:e.label})]},e.key))})}),(0,p.jsxs)(o.default,{style:S.priorityFilterContainer,children:[(0,p.jsx)(l.default,{style:[S.priorityFilterLabel,{fontSize:P?15:13}],children:"Priority:"}),(0,p.jsx)(n.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:[{key:'all',label:'All',color:'#999'},{key:'urgent',label:'Urgent',color:'#e74c3c'},{key:'high',label:'High',color:'#e67e22'},{key:'medium',label:'Medium',color:'#3498db'},{key:'low',label:'Low',color:'#95a5a6'}].map(e=>(0,p.jsx)(c.default,{style:[S.priorityChip,{borderColor:e.color},H===e.key&&{backgroundColor:e.color}],onPress:()=>O(e.key),children:(0,p.jsx)(l.default,{style:[S.priorityChipText,{color:H===e.key?'#fff':e.color},{fontSize:P?14:12}],children:e.label})},e.key))})]}),(0,p.jsxs)(o.default,{style:[S.content,{paddingHorizontal:P?30:16}],children:[0===j.length?(0,p.jsxs)(o.default,{style:S.emptyState,children:[(0,p.jsx)(l.default,{style:[S.emptyStateIcon,{fontSize:P?80:64}],children:"\ud83c\udff4\u200d\u2620\ufe0f"}),(0,p.jsx)(l.default,{style:[S.emptyStateTitle,{fontSize:P?24:20}],children:"No Tasks Found"}),(0,p.jsx)(l.default,{style:[S.emptyStateText,{fontSize:P?16:14}],children:'all'===R?"You don't have any tasks assigned yet. Your attorney will send you tasks as your case progresses.":`No ${R} tasks found. Try adjusting your filters.`})]}):(0,p.jsx)(o.default,{style:S.tasksList,children:j.map(e=>V(e))}),(0,p.jsx)(o.default,{style:S.bottomPadding})]})]})})})})})}},431,[13,85,161,177,26,162,176,354,369,165,132,135,398,153,367]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return T}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),y=e(r(d[8]));r(d[9]);var p=e(r(d[10])),h=r(d[11]),x=e(r(d[12])),v=r(d[13]);const F=c.default.create({container:{flex:1,backgroundColor:'#F5E6D3'},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',padding:16,backgroundColor:h.theme.colors.primary,borderBottomWidth:2,borderBottomColor:'#8B4513'},backButton:{padding:8},backButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#FFFFFF'},addButton:{backgroundColor:'#2ECC71',paddingHorizontal:12,paddingVertical:8,borderRadius:8},addButtonText:{color:'#FFFFFF',fontSize:14,fontWeight:'600'},filterContainer:{backgroundColor:'#FFFFFF',paddingVertical:12,borderBottomWidth:1,borderBottomColor:'#DDD'},filterChip:{backgroundColor:'#F0F0F0',paddingHorizontal:16,paddingVertical:8,borderRadius:20,marginHorizontal:4},filterChipActive:{backgroundColor:h.theme.colors.primary},filterChipText:{fontSize:14,color:'#666'},filterChipTextActive:{color:'#FFFFFF',fontWeight:'600'},eventsList:{flex:1,padding:16},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',paddingTop:100},loadingText:{marginTop:12,fontSize:16,color:'#666'},emptyState:{alignItems:'center',paddingTop:100},emptyStateIcon:{fontSize:64,marginBottom:16},emptyStateText:{fontSize:18,fontWeight:'600',color:'#333',marginBottom:8},emptyStateSubtext:{fontSize:14,color:'#666',textAlign:'center',paddingHorizontal:40},eventCard:{backgroundColor:'#FFFFFF',borderRadius:12,padding:16,marginBottom:16,borderWidth:1,borderColor:'#DDD',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},eventHeader:{flexDirection:'row',alignItems:'center',marginBottom:12},eventIcon:{fontSize:24,marginRight:12},eventTitleContainer:{flex:1},eventTitle:{fontSize:16,fontWeight:'600',color:'#333',marginBottom:2},eventType:{fontSize:11,color:'#666',fontWeight:'500'},syncedBadge:{backgroundColor:'#2ECC71',color:'#FFFFFF',fontSize:11,fontWeight:'600',paddingHorizontal:8,paddingVertical:4,borderRadius:12},eventDate:{fontSize:14,color:'#555',marginBottom:6},eventLocation:{fontSize:14,color:'#555',marginBottom:6},eventDescription:{fontSize:13,color:'#777',marginTop:8,fontStyle:'italic'},eventActions:{flexDirection:'row',marginTop:12,gap:8},actionButton:{flex:1,paddingVertical:10,paddingHorizontal:12,borderRadius:8,alignItems:'center'},syncButton:{backgroundColor:h.theme.colors.primary},unsyncButton:{backgroundColor:'#95A5A6'},deleteButton:{backgroundColor:'#E74C3C',flex:.5},actionButtonText:{color:'#FFFFFF',fontSize:12,fontWeight:'600'},modalContainer:{flex:1,backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'flex-end'},modalContent:{backgroundColor:'#FFFFFF',borderTopLeftRadius:20,borderTopRightRadius:20,padding:20,maxHeight:'90%'},modalTitle:{fontSize:20,fontWeight:'bold',color:'#333',marginBottom:20,textAlign:'center'},label:{fontSize:14,fontWeight:'600',color:'#333',marginBottom:8,marginTop:12},input:{backgroundColor:'#F5F5F5',borderRadius:8,padding:12,fontSize:14,borderWidth:1,borderColor:'#DDD'},textArea:{height:80,textAlignVertical:'top'},typeSelector:{flexDirection:'row',flexWrap:'wrap',gap:8,marginBottom:8},typeOption:{backgroundColor:'#F0F0F0',paddingHorizontal:12,paddingVertical:8,borderRadius:8,borderWidth:1,borderColor:'#DDD'},typeOptionActive:{backgroundColor:h.theme.colors.primary,borderColor:h.theme.colors.primary},typeOptionText:{fontSize:12,color:'#666'},typeOptionTextActive:{color:'#FFFFFF',fontWeight:'600'},note:{fontSize:12,color:'#999',fontStyle:'italic',marginTop:8},modalActions:{flexDirection:'row',gap:12,marginTop:20},modalButton:{flex:1,paddingVertical:14,borderRadius:8,alignItems:'center'},cancelButton:{backgroundColor:'#95A5A6'},createButton:{backgroundColor:h.theme.colors.primary},cancelButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},createButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'}});var T=({user:e,onBack:c})=>{const[T,j]=(0,t.useState)([]),[b,C]=(0,t.useState)(!0),[B,S]=(0,t.useState)(!1),[D,E]=(0,t.useState)('all'),[z,k]=(0,t.useState)({title:'',description:'',location:'',eventType:'reminder',startTime:'',endTime:'',allDay:!1,reminderEnabled:!0,reminderMinutesBefore:60});(0,t.useEffect)(()=>{A()},[D]);const A=async()=>{try{C(!0);const t={};'all'!==D&&(t.eventType=D);const n=await x.default.fetchEvents(e.token,t);j(n)}catch(e){console.error('Error loading events:',e),y.default.alert('Error','Failed to load calendar events')}finally{C(!1)}},_=async t=>{try{if(!await x.default.requestPermissions())return void y.default.alert('Permission Required','Calendar permission is required to sync events to your device calendar');await x.default.syncEventToDevice(t,e.token),j(e=>e.map(e=>e.id===t.id?Object.assign({},e,{synced_to_device:!0}):e)),y.default.alert('Success','Event synced to your device calendar!'),A()}catch(e){console.error('Error syncing event:',e),y.default.alert('Error','Failed to sync event to device calendar')}},w=async t=>{try{await x.default.unsyncEventFromDevice(t,e.token),j(e=>e.map(e=>e.id===t.id?Object.assign({},e,{synced_to_device:!1,device_event_id:null}):e)),y.default.alert('Success','Event removed from device calendar'),A()}catch(e){console.error('Error unsyncing event:',e),y.default.alert('Error','Failed to remove event from device calendar')}},O=async t=>{y.default.alert('Delete Event','Are you sure you want to delete this event?',[{text:'Cancel',style:'cancel'},{text:'Delete',style:'destructive',onPress:async()=>{try{t.synced_to_device&&await x.default.unsyncEventFromDevice(t,e.token),await x.default.deleteEventFromBackend(t.id,e.token),j(e=>e.filter(e=>e.id!==t.id)),y.default.alert('Success','Event deleted')}catch(e){console.error('Error deleting event:',e),y.default.alert('Error','Failed to delete event')}}}])},W=()=>{k({title:'',description:'',location:'',eventType:'reminder',startTime:'',endTime:'',allDay:!1,reminderEnabled:!0,reminderMinutesBefore:60})},H=e=>{const t=x.default.formatEventForDisplay(e);return(0,v.jsxs)(n.default,{style:F.eventCard,children:[(0,v.jsxs)(n.default,{style:F.eventHeader,children:[(0,v.jsx)(o.default,{style:F.eventIcon,children:x.default.getEventTypeIcon(e.event_type)}),(0,v.jsxs)(n.default,{style:F.eventTitleContainer,children:[(0,v.jsx)(o.default,{style:F.eventTitle,children:e.title}),(0,v.jsx)(o.default,{style:F.eventType,children:e.event_type.replace('_',' ').toUpperCase()})]}),e.synced_to_device&&(0,v.jsx)(o.default,{style:F.syncedBadge,children:"\u2713 Synced"})]}),(0,v.jsxs)(o.default,{style:F.eventDate,children:["\ud83d\udcc5 ",t.displayDate," at ",t.displayTime]}),e.location&&(0,v.jsxs)(o.default,{style:F.eventLocation,children:["\ud83d\udccd ",e.location]}),e.description&&(0,v.jsx)(o.default,{style:F.eventDescription,children:e.description}),(0,v.jsxs)(n.default,{style:F.eventActions,children:[e.synced_to_device?(0,v.jsx)(s.default,{style:[F.actionButton,F.unsyncButton],onPress:()=>w(e),children:(0,v.jsx)(o.default,{style:F.actionButtonText,children:"Remove from Device"})}):(0,v.jsx)(s.default,{style:[F.actionButton,F.syncButton],onPress:()=>_(e),children:(0,v.jsx)(o.default,{style:F.actionButtonText,children:"\ud83d\udcf2 Sync to Device"})}),(0,v.jsx)(s.default,{style:[F.actionButton,F.deleteButton],onPress:()=>O(e),children:(0,v.jsx)(o.default,{style:F.actionButtonText,children:"\ud83d\uddd1\ufe0f Delete"})})]})]},e.id)};return(0,v.jsxs)(n.default,{style:F.container,children:[(0,v.jsxs)(n.default,{style:F.header,children:[(0,v.jsx)(s.default,{onPress:c,style:F.backButton,children:(0,v.jsx)(o.default,{style:F.backButtonText,children:"\u2190 Back"})}),(0,v.jsx)(o.default,{style:F.headerTitle,children:"\ud83d\udcc5 Calendar"}),(0,v.jsx)(s.default,{onPress:()=>S(!0),style:F.addButton,children:(0,v.jsx)(o.default,{style:F.addButtonText,children:"+ Add Event"})})]}),(0,v.jsx)(n.default,{style:F.filterContainer,children:(0,v.jsx)(l.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:['all','court_date','appointment','deposition','deadline','reminder'].map(e=>(0,v.jsx)(s.default,{style:[F.filterChip,D===e&&F.filterChipActive],onPress:()=>E(e),children:(0,v.jsx)(o.default,{style:[F.filterChipText,D===e&&F.filterChipTextActive],children:'all'===e?'All Events':e.replace('_',' ').replace(/\b\w/g,e=>e.toUpperCase())})},e))})}),(0,v.jsx)(l.default,{style:F.eventsList,children:b?(0,v.jsxs)(n.default,{style:F.loadingContainer,children:[(0,v.jsx)(p.default,{size:"large",color:h.theme.colors.primary}),(0,v.jsx)(o.default,{style:F.loadingText,children:"Loading events..."})]}):0===T.length?(0,v.jsxs)(n.default,{style:F.emptyState,children:[(0,v.jsx)(o.default,{style:F.emptyStateIcon,children:"\ud83d\udcc5"}),(0,v.jsx)(o.default,{style:F.emptyStateText,children:"No events yet"}),(0,v.jsx)(o.default,{style:F.emptyStateSubtext,children:"Tap the \"+ Add Event\" button to create your first event"})]}):T.map(e=>H(e))}),(0,v.jsx)(f.default,{visible:B,animationType:"slide",transparent:!0,onRequestClose:()=>S(!1),children:(0,v.jsx)(n.default,{style:F.modalContainer,children:(0,v.jsxs)(n.default,{style:F.modalContent,children:[(0,v.jsx)(o.default,{style:F.modalTitle,children:"Add New Event"}),(0,v.jsxs)(l.default,{children:[(0,v.jsx)(o.default,{style:F.label,children:"Event Type *"}),(0,v.jsx)(n.default,{style:F.typeSelector,children:['court_date','appointment','deposition','deadline','reminder'].map(e=>(0,v.jsx)(s.default,{style:[F.typeOption,z.eventType===e&&F.typeOptionActive],onPress:()=>k(Object.assign({},z,{eventType:e})),children:(0,v.jsxs)(o.default,{style:[F.typeOptionText,z.eventType===e&&F.typeOptionTextActive],children:[x.default.getEventTypeIcon(e)," ",e.replace('_',' ')]})},e))}),(0,v.jsx)(o.default,{style:F.label,children:"Title *"}),(0,v.jsx)(u.default,{style:F.input,placeholder:"e.g., Court Hearing",value:z.title,onChangeText:e=>k(Object.assign({},z,{title:e}))}),(0,v.jsx)(o.default,{style:F.label,children:"Description"}),(0,v.jsx)(u.default,{style:[F.input,F.textArea],placeholder:"Event details...",value:z.description,onChangeText:e=>k(Object.assign({},z,{description:e})),multiline:!0,numberOfLines:3}),(0,v.jsx)(o.default,{style:F.label,children:"Location"}),(0,v.jsx)(u.default,{style:F.input,placeholder:"e.g., Courthouse Room 101",value:z.location,onChangeText:e=>k(Object.assign({},z,{location:e}))}),(0,v.jsx)(o.default,{style:F.label,children:"Start Date & Time *"}),(0,v.jsx)(u.default,{style:F.input,placeholder:"YYYY-MM-DD HH:MM (e.g., 2025-11-15 14:00)",value:z.startTime,onChangeText:e=>k(Object.assign({},z,{startTime:e}))}),(0,v.jsx)(o.default,{style:F.label,children:"End Date & Time (Optional)"}),(0,v.jsx)(u.default,{style:F.input,placeholder:"YYYY-MM-DD HH:MM",value:z.endTime,onChangeText:e=>k(Object.assign({},z,{endTime:e}))}),(0,v.jsx)(o.default,{style:F.note,children:"Note: Use format YYYY-MM-DD HH:MM (e.g., 2025-11-15 14:00)"}),(0,v.jsxs)(n.default,{style:F.modalActions,children:[(0,v.jsx)(s.default,{style:[F.modalButton,F.cancelButton],onPress:()=>{S(!1),W()},children:(0,v.jsx)(o.default,{style:F.cancelButtonText,children:"Cancel"})}),(0,v.jsx)(s.default,{style:[F.modalButton,F.createButton],onPress:async()=>{if(z.title&&z.startTime)try{const t=Object.assign({},z,{startTime:z.startTime||(new Date).toISOString(),endTime:z.endTime||null}),n=await x.default.createEventInBackend(t,e.token);j(e=>[n,...e]),S(!1),W(),y.default.alert('Success','Event created successfully!')}catch(e){console.error('Error creating event:',e),y.default.alert('Error','Failed to create event')}else y.default.alert('Validation Error','Please provide a title and start time')},children:(0,v.jsx)(o.default,{style:F.createButtonText,children:"Create Event"})})]})]})]})})})]})}},432,[13,85,161,177,162,26,340,156,116,82,354,132,433,153]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var e=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0]));r(_d[1]);var t,n=r(_d[2]),o=(t=n)&&t.__esModule?t:{default:t},s=r(_d[3]);var c=new class{constructor(){this.defaultCalendarId=null}async requestPermissions(){try{const{status:t}=await e.requestCalendarPermissionsAsync();return'granted'===t||(o.default.alert('Calendar Permission Required','Please enable calendar access in your device settings to sync events.'),!1)}catch(e){return console.error('Error requesting calendar permissions:',e),!1}}async getDefaultCalendar(){try{if(this.defaultCalendarId)return this.defaultCalendarId;if(!await this.requestPermissions())return null;const t=await e.getCalendarsAsync(e.EntityTypes.EVENT);let n=t.find(e=>'Default'===e.source?.name||e.isPrimary);return n||(n=t.find(e=>e.allowsModifications)),n?(this.defaultCalendarId=n.id,n.id):null}catch(e){return console.error('Error getting default calendar:',e),null}}async createEvent(t){try{const n=await this.getDefaultCalendar();if(!n)throw new Error('No calendar available');const{title:o,notes:s,location:c,startDate:l,endDate:d,allDay:u=!1,alarms:y=[]}=t;return await e.createEventAsync(n,{title:o,notes:s,location:c,startDate:new Date(l),endDate:new Date(d||l),allDay:u,alarms:y,timeZone:'America/New_York'})}catch(e){throw console.error('Error creating calendar event:',e),e}}async updateEvent(t,n){try{const{title:o,notes:s,location:c,startDate:l,endDate:d,allDay:u=!1,alarms:y=[]}=n;return await e.updateEventAsync(t,{title:o,notes:s,location:c,startDate:new Date(l),endDate:new Date(d||l),allDay:u,alarms:y}),!0}catch(e){throw console.error('Error updating calendar event:',e),e}}async deleteEvent(t){try{return await e.deleteEventAsync(t),!0}catch(e){throw console.error('Error deleting calendar event:',e),e}}async syncEventToDevice(e,t){try{const n=[];e.reminder_enabled&&e.reminder_minutes_before&&n.push({relativeOffset:-e.reminder_minutes_before});const o=await this.createEvent({title:e.title,notes:e.description,location:e.location,startDate:e.start_time,endDate:e.end_time,allDay:e.all_day,alarms:n});return await this.updateBackendSyncStatus(e.id,o,t),o}catch(e){throw console.error('Error syncing event to device:',e),e}}async unsyncEventFromDevice(e,t){try{return e.device_event_id&&await this.deleteEvent(e.device_event_id),await this.updateBackendSyncStatus(e.id,null,t),!0}catch(e){throw console.error('Error unsyncing event from device:',e),e}}async updateBackendSyncStatus(e,t,n){try{const o=await fetch(`${s.API_BASE_URL}/api/calendar/events/${e}/sync`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${n}`},body:JSON.stringify({deviceEventId:t,syncedToDevice:!!t,lastSyncedAt:(new Date).toISOString()})}),c=await o.json();if(!o.ok)throw new Error(c.error||'Failed to update sync status');return c}catch(e){throw console.error('Error updating backend sync status:',e),e}}async fetchEvents(e,t={}){try{const{startDate:n,endDate:o,eventType:c}=t,l=new URLSearchParams;n&&l.append('startDate',n),o&&l.append('endDate',o),c&&l.append('eventType',c);const d=await fetch(`${s.API_BASE_URL}/api/calendar/events?${l.toString()}`,{method:'GET',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e}`}}),u=await d.json();if(!d.ok)throw new Error(u.error||'Failed to fetch events');return u.events||[]}catch(e){return console.error('Error fetching calendar events:',e),[]}}async createEventInBackend(e,t){try{const n=await fetch(`${s.API_BASE_URL}/api/calendar/events`,{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),o=await n.json();if(!n.ok)throw new Error(o.error||'Failed to create event');return o.event}catch(e){throw console.error('Error creating event in backend:',e),e}}async deleteEventFromBackend(e,t){try{const n=await fetch(`${s.API_BASE_URL}/api/calendar/events/${e}`,{method:'DELETE',headers:{'Content-Type':'application/json',Authorization:`Bearer ${t}`}}),o=await n.json();if(!n.ok)throw new Error(o.error||'Failed to delete event');return!0}catch(e){throw console.error('Error deleting event from backend:',e),e}}formatEventForDisplay(e){const t=new Date(e.start_time),n=e.end_time?new Date(e.end_time):null,o={hour:'numeric',minute:'2-digit'};return Object.assign({},e,{displayDate:t.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'}),displayTime:e.all_day?'All Day':t.toLocaleTimeString('en-US',o),displayEndTime:n&&!e.all_day?n.toLocaleTimeString('en-US',o):null})}getEventTypeIcon(e){const t={court_date:'\u2696\ufe0f',appointment:'\ud83d\udcc5',deposition:'\ud83d\udcdd',deadline:'\u23f0',reminder:'\ud83d\udd14',default:'\ud83d\udccc'};return t[e]||t.default}}},433,[434,82,116,135]);
__d(function(g,r,i,a,m,e,d){},434,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return y}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),h=e(r(d[6])),f=e(r(d[7])),u=e(r(d[8])),x=e(r(d[9]));r(d[10]);var p=r(d[11]),b=r(d[12]);const w=c.default.create({container:{flex:1},backgroundImage:{flex:1},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.4)'},scrollView:{flex:1},scrollContent:{flexGrow:1,paddingBottom:100},contentWrapper:{flex:1},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingHorizontal:20,paddingBottom:15},backButton:{padding:8},backButtonText:{color:'#FFFFFF',fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:3},headerTitle:{fontWeight:'bold',color:'#FFFFFF',textShadowColor:'#000',textShadowOffset:{width:0,height:2},textShadowRadius:6},badgesButton:{backgroundColor:'rgba(180, 120, 40, 0.9)',paddingHorizontal:12,paddingVertical:8,borderRadius:8,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.5)'},badgesButtonText:{color:'#FFD700',fontWeight:'700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},statsContainer:{flexDirection:'row',paddingHorizontal:20,gap:12},statCard:{flex:1,backgroundColor:'rgba(26, 26, 26, 0.88)',borderRadius:12,alignItems:'center',borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.5,shadowRadius:8,elevation:8},statValue:{fontWeight:'bold',color:'#FFD700',marginBottom:4,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:3},statLabel:{color:'#E8D5B0',textAlign:'center'},filterContainer:{backgroundColor:'rgba(26, 26, 26, 0.75)',paddingVertical:12,marginTop:16,marginHorizontal:20,borderRadius:12,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},filterChip:{backgroundColor:'rgba(60, 50, 30, 0.85)',paddingHorizontal:16,paddingVertical:8,borderRadius:20,marginHorizontal:4,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},filterChipActive:{backgroundColor:'rgba(180, 120, 40, 0.9)',borderColor:'rgba(255, 215, 0, 0.6)'},filterChipText:{fontSize:14,color:'#B8A080'},filterChipTextActive:{color:'#FFD700',fontWeight:'600'},achievementsList:{flex:1,paddingHorizontal:20,paddingTop:16},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',paddingTop:100},loadingText:{marginTop:12,fontSize:16,color:'#E8D5B0',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},emptyState:{alignItems:'center',paddingTop:100,backgroundColor:'rgba(26, 26, 26, 0.88)',borderRadius:16,padding:30,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)'},emptyStateIcon:{fontSize:64,marginBottom:16},emptyStateText:{fontSize:18,fontWeight:'600',color:'#FFD700',marginBottom:8,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},emptyStateSubtext:{fontSize:14,color:'#E8D5B0',textAlign:'center',paddingHorizontal:20},achievementCard:{backgroundColor:'rgba(26, 26, 26, 0.88)',borderRadius:16,padding:16,marginBottom:16,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.5,shadowRadius:8,elevation:8},completedCard:{backgroundColor:'rgba(30, 80, 50, 0.85)',borderColor:'rgba(39, 174, 96, 0.6)'},rareGlow:{borderColor:'rgba(52, 152, 219, 0.8)',shadowColor:'#3498DB',shadowOpacity:.4},epicGlow:{borderColor:'rgba(155, 89, 182, 0.8)',shadowColor:'#9B59B6',shadowOpacity:.4},legendaryGlow:{borderColor:'rgba(243, 156, 18, 0.9)',shadowColor:'#F39C12',shadowOpacity:.5},achievementHeader:{flexDirection:'row',marginBottom:12},achievementIcon:{fontSize:48,marginRight:16,opacity:.7},completedIcon:{opacity:1},achievementInfo:{flex:1},achievementName:{fontSize:16,fontWeight:'bold',color:'#FFD700',marginBottom:4,textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},completedNameText:{color:'#90EE90'},achievementDescription:{fontSize:13,color:'#E8D5B0',marginBottom:8},achievementMeta:{flexDirection:'row',alignItems:'center',gap:8},rarityBadge:{color:'#FFFFFF',fontSize:10,fontWeight:'bold',paddingHorizontal:8,paddingVertical:4,borderRadius:4,overflow:'hidden'},categoryText:{fontSize:11,color:'#B8A080',fontStyle:'italic'},progressContainer:{marginVertical:12},progressBar:{height:8,backgroundColor:'rgba(60, 50, 30, 0.85)',borderRadius:4,overflow:'hidden',marginBottom:6,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.3)'},progressFill:{height:'100%',backgroundColor:'#FFD700',borderRadius:4},progressText:{fontSize:12,color:'#E8D5B0',textAlign:'right'},completedBanner:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',backgroundColor:'rgba(39, 174, 96, 0.8)',padding:12,borderRadius:8,marginVertical:8,borderWidth:1,borderColor:'rgba(39, 174, 96, 0.6)'},completedText:{color:'#FFFFFF',fontSize:14,fontWeight:'bold',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},rewardText:{color:'#FFFFFF',fontSize:14,fontWeight:'bold',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2},rewardContainer:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingTop:12,borderTopWidth:1,borderTopColor:'rgba(255, 215, 0, 0.3)'},rewardLabel:{fontSize:13,color:'#B8A080'},rewardValue:{fontSize:14,fontWeight:'600',color:'#FFD700',textShadowColor:'#000',textShadowOffset:{width:0,height:1},textShadowRadius:2}});var y=({user:e,onBack:c,onViewBadges:y})=>{const[C,S]=(0,t.useState)([]),[j,F]=(0,t.useState)(null),[B,v]=(0,t.useState)(!0),[z,T]=(0,t.useState)('all'),{width:R,height:k}=(0,x.default)(),D=R>=768&&R<1024,W=R>=1024;(0,t.useEffect)(()=>{I()},[]);const I=async()=>{try{v(!0);const[t,o]=await Promise.all([fetch(`${p.API_BASE_URL}/api/gamification/achievements`,{headers:{Authorization:`Bearer ${e.token}`}}),fetch(`${p.API_BASE_URL}/api/gamification/stats`,{headers:{Authorization:`Bearer ${e.token}`}})]),l=await t.json(),n=await o.json();l.success&&S(l.achievements),n.success&&F(n.stats)}catch(e){console.error('Error loading achievements:',e),f.default.alert('Error','Failed to load achievements')}finally{v(!1)}},A=e=>{const t={common:'#95A5A6',rare:'#3498DB',epic:'#9B59B6',legendary:'#F39C12'};return t[e]||t.common},O=C.filter(e=>'all'===z||('completed'===z?e.progress.isCompleted:'in_progress'===z?!e.progress.isCompleted&&e.progress.current>0:e.category===z)),V=e=>{const t=e.progress.current,n=e.progress.required,s=n>0?Math.min(t/n*100,100):0,c=e.progress.isCompleted;return(0,b.jsxs)(o.default,{style:[w.achievementCard,c&&w.completedCard,(h=e.rarity,'legendary'===h?w.legendaryGlow:'epic'===h?w.epicGlow:'rare'===h?w.rareGlow:null)],children:[(0,b.jsxs)(o.default,{style:w.achievementHeader,children:[(0,b.jsx)(l.default,{style:[w.achievementIcon,c&&w.completedIcon],children:e.icon}),(0,b.jsxs)(o.default,{style:w.achievementInfo,children:[(0,b.jsx)(l.default,{style:[w.achievementName,c&&w.completedNameText],children:e.name}),(0,b.jsx)(l.default,{style:w.achievementDescription,children:e.description}),(0,b.jsxs)(o.default,{style:w.achievementMeta,children:[(0,b.jsx)(l.default,{style:[w.rarityBadge,{backgroundColor:A(e.rarity)}],children:e.rarity.toUpperCase()}),(0,b.jsx)(l.default,{style:w.categoryText,children:e.category})]})]})]}),c?(0,b.jsxs)(o.default,{style:w.completedBanner,children:[(0,b.jsx)(l.default,{style:w.completedText,children:"\u2713 COMPLETED"}),(0,b.jsxs)(l.default,{style:w.rewardText,children:["+",e.coinReward," \ud83e\ude99"]})]}):(0,b.jsxs)(o.default,{style:w.progressContainer,children:[(0,b.jsx)(o.default,{style:w.progressBar,children:(0,b.jsx)(o.default,{style:[w.progressFill,{width:`${s}%`}]})}),(0,b.jsxs)(l.default,{style:w.progressText,children:[t," / ",n]})]}),(0,b.jsxs)(o.default,{style:w.rewardContainer,children:[(0,b.jsx)(l.default,{style:w.rewardLabel,children:"Reward:"}),(0,b.jsxs)(l.default,{style:w.rewardValue,children:[e.coinReward," coins \ud83e\ude99"]})]})]},e.id);var h};return(0,b.jsx)(o.default,{style:w.container,children:(0,b.jsx)(u.default,{source:r(d[13]),style:[w.backgroundImage,{width:R,height:k}],resizeMode:"cover",children:(0,b.jsx)(o.default,{style:w.overlay,children:(0,b.jsx)(n.default,{style:w.scrollView,contentContainerStyle:[w.scrollContent,{alignItems:W||D?'center':'stretch'}],children:(0,b.jsxs)(o.default,{style:[w.contentWrapper,{width:W?Math.min(.6*R,800):D?.85*R:R}],children:[(0,b.jsxs)(o.default,{style:[w.header,{paddingTop:W?30:50}],children:[(0,b.jsx)(s.default,{onPress:c,style:w.backButton,children:(0,b.jsx)(l.default,{style:[w.backButtonText,{fontSize:W?20:18}],children:"\u2190 Back"})}),(0,b.jsx)(l.default,{style:[w.headerTitle,{fontSize:W?28:D?24:20}],children:"\ud83c\udfc6 Achievements"}),(0,b.jsx)(s.default,{onPress:y,style:w.badgesButton,children:(0,b.jsx)(l.default,{style:[w.badgesButtonText,{fontSize:W?16:14}],children:"Badges \u2192"})})]}),j&&(0,b.jsxs)(o.default,{style:[w.statsContainer,{padding:W?20:16}],children:[(0,b.jsxs)(o.default,{style:[w.statCard,{padding:W?20:16}],children:[(0,b.jsxs)(l.default,{style:[w.statValue,{fontSize:W?24:20}],children:[j.achievementsCompleted,"/",j.totalAchievements]}),(0,b.jsx)(l.default,{style:[w.statLabel,{fontSize:W?14:12}],children:"Completed"})]}),(0,b.jsxs)(o.default,{style:[w.statCard,{padding:W?20:16}],children:[(0,b.jsxs)(l.default,{style:[w.statValue,{fontSize:W?24:20}],children:[j.completionRate,"%"]}),(0,b.jsx)(l.default,{style:[w.statLabel,{fontSize:W?14:12}],children:"Completion Rate"})]}),(0,b.jsxs)(o.default,{style:[w.statCard,{padding:W?20:16}],children:[(0,b.jsxs)(l.default,{style:[w.statValue,{fontSize:W?24:20}],children:[j.coins," \ud83e\ude99"]}),(0,b.jsx)(l.default,{style:[w.statLabel,{fontSize:W?14:12}],children:"Total Coins"})]})]}),(0,b.jsx)(o.default,{style:w.filterContainer,children:(0,b.jsx)(n.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:['all','completed','in_progress','progress','consistency','engagement','milestones'].map(e=>(0,b.jsx)(s.default,{style:[w.filterChip,z===e&&w.filterChipActive],onPress:()=>T(e),children:(0,b.jsx)(l.default,{style:[w.filterChipText,z===e&&w.filterChipTextActive],children:e.replace('_',' ').replace(/\b\w/g,e=>e.toUpperCase())})},e))})}),(0,b.jsx)(o.default,{style:[w.achievementsList,{padding:W?20:16}],children:B?(0,b.jsxs)(o.default,{style:w.loadingContainer,children:[(0,b.jsx)(h.default,{size:"large",color:"#FFD700"}),(0,b.jsx)(l.default,{style:w.loadingText,children:"Loading achievements..."})]}):0===O.length?(0,b.jsxs)(o.default,{style:w.emptyState,children:[(0,b.jsx)(l.default,{style:w.emptyStateIcon,children:"\ud83c\udfaf"}),(0,b.jsx)(l.default,{style:w.emptyStateText,children:"No achievements found"}),(0,b.jsx)(l.default,{style:w.emptyStateSubtext,children:"Try a different filter or start completing tasks to unlock achievements!"})]}):O.map(e=>V(e))})]})})})})})}},435,[13,85,161,177,162,26,354,116,369,165,132,135,153,436]);
__d(function(e,s,t,f,a,d,h){a.exports={uri:"/assets/attached_assets/Treasure Chest_1764130964116.8f749b7534cfdae81ffecedf1fbbb790.png",width:1408,height:792}},436,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=r(d[8]),p=r(d[9]),y=r(d[10]);const x=c.default.create({container:{flex:1,backgroundColor:'#F5E6D3'},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',padding:16,backgroundColor:h.theme.colors.primary,borderBottomWidth:2,borderBottomColor:'#8B4513'},backButton:{padding:8},backButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#FFFFFF'},headerSpacer:{width:60},progressContainer:{backgroundColor:'#FFFFFF',padding:20,borderBottomWidth:1,borderBottomColor:'#DDD'},progressTitle:{fontSize:16,fontWeight:'600',color:'#333',marginBottom:12,textAlign:'center'},progressInfo:{flexDirection:'row',justifyContent:'space-between',marginBottom:8},progressCount:{fontSize:18,fontWeight:'bold',color:h.theme.colors.primary},progressPercentage:{fontSize:14,color:'#666',fontWeight:'600'},progressBar:{height:12,backgroundColor:'#E0E0E0',borderRadius:6,overflow:'hidden'},progressFill:{height:'100%',backgroundColor:h.theme.colors.primary,borderRadius:6},filterContainer:{backgroundColor:'#FFFFFF',paddingVertical:12,borderBottomWidth:1,borderBottomColor:'#DDD'},filterChip:{backgroundColor:'#F0F0F0',paddingHorizontal:16,paddingVertical:8,borderRadius:20,marginHorizontal:4},filterChipActive:{backgroundColor:h.theme.colors.primary},filterChipText:{fontSize:14,color:'#666'},filterChipTextActive:{color:'#FFFFFF',fontWeight:'600'},badgesList:{flex:1,padding:16},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',paddingTop:100},loadingText:{marginTop:12,fontSize:16,color:'#666'},emptyState:{alignItems:'center',paddingTop:100},emptyStateIcon:{fontSize:64,marginBottom:16},emptyStateText:{fontSize:18,fontWeight:'600',color:'#333',marginBottom:8},emptyStateSubtext:{fontSize:14,color:'#666',textAlign:'center',paddingHorizontal:40},badgesGrid:{flexDirection:'column',gap:16},badgeCard:{backgroundColor:'#FFFFFF',borderRadius:12,padding:16,flexDirection:'row',borderWidth:2,borderColor:'#DDD',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},lockedBadge:{backgroundColor:'#F9F9F9',opacity:.7},badgeIconContainer:{width:80,height:80,borderRadius:40,borderWidth:3,justifyContent:'center',alignItems:'center',marginRight:16,backgroundColor:'#FFF'},badgeIcon:{fontSize:40},lockedIcon:{opacity:.4},badgeInfo:{flex:1},badgeName:{fontSize:16,fontWeight:'bold',color:'#333',marginBottom:4},lockedText:{color:'#999'},badgeDescription:{fontSize:13,color:'#666',marginBottom:8},badgeMeta:{flexDirection:'row',alignItems:'center',gap:8,marginBottom:8},rarityBadge:{color:'#FFFFFF',fontSize:10,fontWeight:'bold',paddingHorizontal:8,paddingVertical:4,borderRadius:4},specialBadge:{backgroundColor:'#F39C12',color:'#FFFFFF',fontSize:10,fontWeight:'bold',paddingHorizontal:8,paddingVertical:4,borderRadius:4},unlockedDate:{fontSize:11,color:'#999',fontStyle:'italic'},legendContainer:{backgroundColor:'#FFFFFF',padding:16,borderTopWidth:1,borderTopColor:'#DDD'},legendTitle:{fontSize:14,fontWeight:'600',color:'#333',marginBottom:12,textAlign:'center'},legendItems:{flexDirection:'row',justifyContent:'space-around'},legendItem:{flexDirection:'row',alignItems:'center',gap:6},legendColor:{width:16,height:16,borderRadius:8},legendText:{fontSize:12,color:'#666'}});var b=({user:e,onBack:c})=>{const[b,F]=(0,t.useState)([]),[C,j]=(0,t.useState)(!0),[k,S]=(0,t.useState)('all');(0,t.useEffect)(()=>{B()},[]);const B=async()=>{try{j(!0);const t=await fetch(`${p.API_BASE_URL}/api/gamification/badges`,{headers:{Authorization:`Bearer ${e.token}`}}),o=await t.json();o.success&&F(o.badges)}catch(e){console.error('Error loading badges:',e),f.default.alert('Error','Failed to load badges')}finally{j(!1)}},T=e=>{const t={common:'#95A5A6',rare:'#3498DB',epic:'#9B59B6',legendary:'#F39C12'};return t[e]||t.common},D=b.filter(e=>'all'===k||('unlocked'===k?e.unlocked:'locked'===k?!e.unlocked:e.rarity===k)),I=b.filter(e=>e.unlocked).length,z=b.length,w=z>0?Math.round(I/z*100):0,A=e=>(0,y.jsxs)(o.default,{style:[x.badgeCard,!e.unlocked&&x.lockedBadge],children:[(0,y.jsx)(o.default,{style:[x.badgeIconContainer,{borderColor:T(e.rarity)}],children:(0,y.jsx)(l.default,{style:[x.badgeIcon,!e.unlocked&&x.lockedIcon],children:e.unlocked?e.icon:'\ud83d\udd12'})}),(0,y.jsxs)(o.default,{style:x.badgeInfo,children:[(0,y.jsx)(l.default,{style:[x.badgeName,!e.unlocked&&x.lockedText],children:e.unlocked?e.name:'???'}),(0,y.jsx)(l.default,{style:x.badgeDescription,children:e.unlocked?e.description:'Complete achievements to unlock'}),(0,y.jsxs)(o.default,{style:x.badgeMeta,children:[(0,y.jsx)(l.default,{style:[x.rarityBadge,{backgroundColor:T(e.rarity)}],children:e.rarity.toUpperCase()}),e.isSpecial&&(0,y.jsx)(l.default,{style:x.specialBadge,children:"\u2b50 SPECIAL"})]}),e.unlocked&&e.unlockedAt&&(0,y.jsxs)(l.default,{style:x.unlockedDate,children:["Unlocked: ",new Date(e.unlockedAt).toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'})]})]})]},e.id);return(0,y.jsxs)(o.default,{style:x.container,children:[(0,y.jsxs)(o.default,{style:x.header,children:[(0,y.jsx)(s.default,{onPress:c,style:x.backButton,children:(0,y.jsx)(l.default,{style:x.backButtonText,children:"\u2190 Back"})}),(0,y.jsx)(l.default,{style:x.headerTitle,children:"\u2b50 Badge Collection"}),(0,y.jsx)(o.default,{style:x.headerSpacer})]}),(0,y.jsxs)(o.default,{style:x.progressContainer,children:[(0,y.jsx)(l.default,{style:x.progressTitle,children:"Collection Progress"}),(0,y.jsxs)(o.default,{style:x.progressInfo,children:[(0,y.jsxs)(l.default,{style:x.progressCount,children:[I," / ",z]}),(0,y.jsxs)(l.default,{style:x.progressPercentage,children:[w,"% Complete"]})]}),(0,y.jsx)(o.default,{style:x.progressBar,children:(0,y.jsx)(o.default,{style:[x.progressFill,{width:`${w}%`}]})})]}),(0,y.jsx)(o.default,{style:x.filterContainer,children:(0,y.jsx)(n.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:['all','unlocked','locked','common','rare','epic','legendary'].map(e=>(0,y.jsx)(s.default,{style:[x.filterChip,k===e&&x.filterChipActive],onPress:()=>S(e),children:(0,y.jsx)(l.default,{style:[x.filterChipText,k===e&&x.filterChipTextActive],children:e.replace('_',' ').replace(/\b\w/g,e=>e.toUpperCase())})},e))})}),(0,y.jsx)(n.default,{style:x.badgesList,children:C?(0,y.jsxs)(o.default,{style:x.loadingContainer,children:[(0,y.jsx)(u.default,{size:"large",color:h.theme.colors.primary}),(0,y.jsx)(l.default,{style:x.loadingText,children:"Loading badges..."})]}):0===D.length?(0,y.jsxs)(o.default,{style:x.emptyState,children:[(0,y.jsx)(l.default,{style:x.emptyStateIcon,children:"\u2b50"}),(0,y.jsx)(l.default,{style:x.emptyStateText,children:"No badges found"}),(0,y.jsx)(l.default,{style:x.emptyStateSubtext,children:"Try a different filter or unlock more badges by completing achievements!"})]}):(0,y.jsx)(o.default,{style:x.badgesGrid,children:D.map(e=>A(e))})}),(0,y.jsxs)(o.default,{style:x.legendContainer,children:[(0,y.jsx)(l.default,{style:x.legendTitle,children:"Rarity Legend"}),(0,y.jsxs)(o.default,{style:x.legendItems,children:[(0,y.jsxs)(o.default,{style:x.legendItem,children:[(0,y.jsx)(o.default,{style:[x.legendColor,{backgroundColor:'#95A5A6'}]}),(0,y.jsx)(l.default,{style:x.legendText,children:"Common"})]}),(0,y.jsxs)(o.default,{style:x.legendItem,children:[(0,y.jsx)(o.default,{style:[x.legendColor,{backgroundColor:'#3498DB'}]}),(0,y.jsx)(l.default,{style:x.legendText,children:"Rare"})]}),(0,y.jsxs)(o.default,{style:x.legendItem,children:[(0,y.jsx)(o.default,{style:[x.legendColor,{backgroundColor:'#9B59B6'}]}),(0,y.jsx)(l.default,{style:x.legendText,children:"Epic"})]}),(0,y.jsxs)(o.default,{style:x.legendItem,children:[(0,y.jsx)(o.default,{style:[x.legendColor,{backgroundColor:'#F39C12'}]}),(0,y.jsx)(l.default,{style:x.legendText,children:"Legendary"})]})]})]})]})}},437,[13,85,161,177,162,26,354,116,132,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=e(r(d[8])),p=e(r(d[9])),x=e(r(d[10])),y=r(d[11]),b=r(d[12]);function j({user:e,onBack:n}){const[j,B]=(0,t.useState)(!0),[S,T]=(0,t.useState)([]),[F,D]=(0,t.useState)([]),[v,k]=(0,t.useState)(!1),[R,w]=(0,t.useState)(null),[z,q]=(0,t.useState)(!1),[W,E]=(0,t.useState)(null),[A,I]=(0,t.useState)('deposition'),[L,_]=(0,t.useState)(''),[P,$]=(0,t.useState)(''),[N,O]=(0,t.useState)(''),[H,V]=(0,t.useState)('60'),[M,U]=(0,t.useState)(''),[J,G]=(0,t.useState)('');(0,t.useEffect)(()=>{K()},[]);const K=async()=>{B(!0);try{const e=await x.default.getItem('authToken'),t=await fetch(`${y.API_BASE_URL}/event-requests`,{headers:{Authorization:`Bearer ${e}`}}),o=await t.json(),l=await fetch(`${y.API_BASE_URL}/lawfirm/clients`,{headers:{Authorization:`Bearer ${e}`}}),n=await l.json();T(o.eventRequests||[]),D(n.clients||[])}catch(e){console.error('Error fetching data:',e),f.default.alert('Error','Failed to load event requests')}finally{B(!1)}},Q=async e=>{try{const t=await x.default.getItem('authToken'),o=await fetch(`${y.API_BASE_URL}/event-requests/${e.id}`,{headers:{Authorization:`Bearer ${t}`}});if(o.ok){const e=await o.json();w(e),q(!0)}}catch(e){console.error('Error fetching request details:',e),f.default.alert('Error','Failed to load request details')}},X=async e=>{try{const t=await x.default.getItem('authToken'),o=await fetch(`${y.API_BASE_URL}/event-requests/${R.eventRequest.id}/confirm`,{method:'POST',headers:{Authorization:`Bearer ${t}`,'Content-Type':'application/json'},body:JSON.stringify({proposedDateId:e})});if(o.ok)f.default.alert('Success','Event confirmed and added to calendar'),q(!1),K();else{const e=await o.json();f.default.alert('Error',e.error||'Failed to confirm event')}}catch(e){console.error('Error confirming date:',e),f.default.alert('Error','Failed to confirm event')}},Y=()=>{E(null),I('deposition'),_(''),$(''),O(''),V('60'),U(''),G('')},Z=e=>{switch(e){case'pending':return'#FFA500';case'dates_submitted':return'#4169E1';case'confirmed':return'#32CD32';case'cancelled':return'#DC143C';default:return'#808080'}},ee=e=>{switch(e){case'pending':return'Awaiting Response';case'dates_submitted':return'Dates Received';case'confirmed':return'Confirmed';case'cancelled':return'Cancelled';default:return e}};return j?(0,b.jsxs)(o.default,{style:C.container,children:[(0,b.jsxs)(o.default,{style:C.header,children:[(0,b.jsx)(s.default,{onPress:n,style:C.backButton,children:(0,b.jsx)(l.default,{style:C.backButtonText,children:"\u2190 Back"})}),(0,b.jsx)(l.default,{style:C.headerTitle,children:"Event Requests"})]}),(0,b.jsx)(o.default,{style:C.loadingContainer,children:(0,b.jsx)(h.default,{size:"large",color:"#8B4513"})})]}):(0,b.jsxs)(o.default,{style:C.container,children:[(0,b.jsxs)(o.default,{style:C.header,children:[(0,b.jsx)(s.default,{onPress:n,style:C.backButton,children:(0,b.jsx)(l.default,{style:C.backButtonText,children:"\u2190 Back"})}),(0,b.jsx)(l.default,{style:C.headerTitle,children:"Event Requests"}),(0,b.jsx)(s.default,{onPress:()=>k(!0),style:C.createButton,children:(0,b.jsx)(l.default,{style:C.createButtonText,children:"+ New Request"})})]}),(0,b.jsx)(c.default,{style:C.content,children:0===S.length?(0,b.jsxs)(o.default,{style:C.emptyState,children:[(0,b.jsx)(l.default,{style:C.emptyText,children:"No event requests yet"}),(0,b.jsx)(l.default,{style:C.emptySubtext,children:"Create a request to schedule depositions, mediations, or consultations with your clients"})]}):S.map(e=>(0,b.jsxs)(s.default,{style:C.requestCard,onPress:()=>Q(e),children:[(0,b.jsxs)(o.default,{style:C.requestHeader,children:[(0,b.jsx)(l.default,{style:C.requestTitle,children:e.title}),(0,b.jsx)(o.default,{style:[C.statusBadge,{backgroundColor:Z(e.status)}],children:(0,b.jsx)(l.default,{style:C.statusText,children:ee(e.status)})})]}),(0,b.jsxs)(l.default,{style:C.clientName,children:["Client: ",e.clientName]}),(0,b.jsx)(l.default,{style:C.eventType,children:e.eventType.replace('_',' ').toUpperCase()}),(0,b.jsxs)(l.default,{style:C.requestDate,children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]},e.id))}),(0,b.jsx)(p.default,{visible:v,animationType:"slide",transparent:!0,onRequestClose:()=>k(!1),children:(0,b.jsx)(o.default,{style:C.modalOverlay,children:(0,b.jsxs)(o.default,{style:C.modalContent,children:[(0,b.jsx)(l.default,{style:C.modalTitle,children:"Create Event Request"}),(0,b.jsxs)(c.default,{style:C.formScroll,nestedScrollEnabled:!0,keyboardShouldPersistTaps:"handled",children:[(0,b.jsx)(l.default,{style:C.label,children:"Select Client *"}),(0,b.jsxs)(o.default,{style:C.searchContainer,children:[(0,b.jsx)(l.default,{style:C.searchIcon,children:"\ud83d\udd0d"}),(0,b.jsx)(u.default,{style:C.searchInput,value:J,onChangeText:G,placeholder:"Search clients by name or email...",placeholderTextColor:"#999"}),J.length>0&&(0,b.jsx)(s.default,{style:C.clearSearchButton,onPress:()=>G(''),children:(0,b.jsx)(l.default,{style:C.clearSearchText,children:"\u2715"})})]}),(0,b.jsxs)(c.default,{style:C.clientListContainer,nestedScrollEnabled:!0,keyboardShouldPersistTaps:"handled",children:[F.filter(e=>{if(!J.trim())return!0;const t=J.toLowerCase(),o=`${e.first_name} ${e.last_name}`.toLowerCase(),l=e.email?.toLowerCase()||'';return o.includes(t)||l.includes(t)}).map(e=>(0,b.jsxs)(s.default,{style:[C.clientCard,W?.id===e.id&&C.clientCardSelected],onPress:()=>E(e),children:[(0,b.jsxs)(o.default,{style:C.clientCardContent,children:[(0,b.jsxs)(l.default,{style:[C.clientName,W?.id===e.id&&C.clientNameSelected],children:[e.first_name," ",e.last_name]}),e.email&&(0,b.jsx)(l.default,{style:C.clientEmail,children:e.email})]}),W?.id===e.id&&(0,b.jsx)(l.default,{style:C.checkmark,children:"\u2713"})]},e.id)),0===F.filter(e=>{if(!J.trim())return!0;const t=J.toLowerCase(),o=`${e.first_name} ${e.last_name}`.toLowerCase(),l=e.email?.toLowerCase()||'';return o.includes(t)||l.includes(t)}).length&&(0,b.jsx)(o.default,{style:C.noResultsContainer,children:(0,b.jsx)(l.default,{style:C.noResultsText,children:"No clients found"})})]}),(0,b.jsx)(l.default,{style:C.label,children:"Event Type *"}),(0,b.jsx)(o.default,{style:C.typeButtonsRow,children:['deposition','mediation','consultation','court_date'].map(e=>(0,b.jsx)(s.default,{style:[C.typeButton,A===e&&C.typeButtonSelected],onPress:()=>I(e),children:(0,b.jsx)(l.default,{style:[C.typeButtonText,A===e&&C.typeButtonTextSelected],children:e.replace('_',' ')})},e))}),(0,b.jsx)(l.default,{style:C.label,children:"Title *"}),(0,b.jsx)(u.default,{style:C.input,value:L,onChangeText:_,placeholder:"e.g., Medical Deposition - Dr. Smith"}),(0,b.jsx)(l.default,{style:C.label,children:"Description"}),(0,b.jsx)(u.default,{style:[C.input,C.textArea],value:P,onChangeText:$,placeholder:"Additional details about the event",multiline:!0,numberOfLines:3}),(0,b.jsx)(l.default,{style:C.label,children:"Location"}),(0,b.jsx)(u.default,{style:C.input,value:N,onChangeText:O,placeholder:"Office, virtual, or other location"}),(0,b.jsx)(l.default,{style:C.label,children:"Duration (minutes)"}),(0,b.jsx)(u.default,{style:C.input,value:H,onChangeText:V,placeholder:"60",keyboardType:"numeric"}),(0,b.jsx)(l.default,{style:C.label,children:"Notes"}),(0,b.jsx)(u.default,{style:[C.input,C.textArea],value:M,onChangeText:U,placeholder:"Internal notes (not visible to client)",multiline:!0,numberOfLines:2})]}),(0,b.jsxs)(o.default,{style:C.modalButtons,children:[(0,b.jsx)(s.default,{style:C.cancelButton,onPress:()=>{k(!1),Y()},children:(0,b.jsx)(l.default,{style:C.cancelButtonText,children:"Cancel"})}),(0,b.jsx)(s.default,{style:C.submitButton,onPress:async()=>{if(W&&L)try{const e=await x.default.getItem('authToken'),t=await fetch(`${y.API_BASE_URL}/event-requests`,{method:'POST',headers:{Authorization:`Bearer ${e}`,'Content-Type':'application/json'},body:JSON.stringify({clientId:W.id,eventType:A,title:L,description:P,location:N,durationMinutes:parseInt(H)||60,notes:M})});if(t.ok)f.default.alert('Success','Event request sent to client'),k(!1),Y(),K();else{const e=await t.json();f.default.alert('Error',e.error||'Failed to create event request')}}catch(e){console.error('Error creating event request:',e),f.default.alert('Error','Failed to create event request')}else f.default.alert('Error','Please select a client and enter a title')},children:(0,b.jsx)(l.default,{style:C.submitButtonText,children:"Send Request"})})]})]})})}),(0,b.jsx)(p.default,{visible:z,animationType:"slide",transparent:!0,onRequestClose:()=>q(!1),children:(0,b.jsx)(o.default,{style:C.modalOverlay,children:(0,b.jsx)(o.default,{style:C.modalContent,children:R&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.default,{style:C.modalTitle,children:R.eventRequest.title}),(0,b.jsxs)(c.default,{style:C.detailScroll,children:[(0,b.jsx)(l.default,{style:C.detailLabel,children:"Client"}),(0,b.jsx)(l.default,{style:C.detailValue,children:R.eventRequest.clientName}),(0,b.jsx)(l.default,{style:C.detailLabel,children:"Status"}),(0,b.jsx)(o.default,{style:[C.statusBadge,{backgroundColor:Z(R.eventRequest.status)}],children:(0,b.jsx)(l.default,{style:C.statusText,children:ee(R.eventRequest.status)})}),R.proposedDates&&R.proposedDates.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.default,{style:C.sectionTitle,children:"Client's Proposed Dates"}),R.proposedDates.map((e,t)=>(0,b.jsxs)(o.default,{style:C.proposedDateCard,children:[(0,b.jsxs)(l.default,{style:C.proposedDateLabel,children:["Option ",t+1]}),(0,b.jsx)(l.default,{style:C.proposedDateTime,children:new Date(e.proposedStartTime).toLocaleString()}),(0,b.jsxs)(l.default,{style:C.proposedDateDuration,children:["to ",new Date(e.proposedEndTime).toLocaleTimeString()]}),'dates_submitted'===R.eventRequest.status&&!e.isSelected&&(0,b.jsx)(s.default,{style:C.confirmDateButton,onPress:()=>X(e.id),children:(0,b.jsx)(l.default,{style:C.confirmDateButtonText,children:"Confirm This Date"})}),e.isSelected&&(0,b.jsx)(o.default,{style:C.selectedBadge,children:(0,b.jsx)(l.default,{style:C.selectedBadgeText,children:"\u2713 Selected"})})]},e.id))]}),'pending'===R.eventRequest.status&&(0,b.jsx)(l.default,{style:C.pendingMessage,children:"Waiting for client to propose available dates..."})]}),(0,b.jsx)(s.default,{style:C.closeButton,onPress:()=>q(!1),children:(0,b.jsx)(l.default,{style:C.closeButtonText,children:"Close"})})]})})})})]})}const C=n.default.create({container:{flex:1,backgroundColor:'#F5E6D3'},header:{backgroundColor:'#8B4513',padding:20,paddingTop:40,flexDirection:'row',alignItems:'center',justifyContent:'space-between'},backButton:{padding:8},backButtonText:{color:'#FFF',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#FFF',flex:1,textAlign:'center'},createButton:{backgroundColor:'#D4AF37',paddingHorizontal:12,paddingVertical:8,borderRadius:8},createButtonText:{color:'#FFF',fontWeight:'600'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},content:{flex:1,padding:16},emptyState:{alignItems:'center',justifyContent:'center',padding:40},emptyText:{fontSize:18,fontWeight:'600',color:'#8B4513',marginBottom:8},emptySubtext:{fontSize:14,color:'#666',textAlign:'center'},requestCard:{backgroundColor:'#FFF',borderRadius:12,padding:16,marginBottom:12,borderWidth:2,borderColor:'#8B4513'},requestHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'flex-start',marginBottom:8},requestTitle:{fontSize:16,fontWeight:'bold',color:'#8B4513',flex:1},statusBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:12,marginLeft:8},statusText:{color:'#FFF',fontSize:11,fontWeight:'600'},clientName:{fontSize:14,color:'#333',marginBottom:4},eventType:{fontSize:12,color:'#666',marginBottom:4},requestDate:{fontSize:12,color:'#999'},modalOverlay:{flex:1,backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'center',alignItems:'center',padding:20},modalContent:{backgroundColor:'#FFF',borderRadius:16,padding:20,width:'100%',maxHeight:'90%'},modalTitle:{fontSize:20,fontWeight:'bold',color:'#8B4513',marginBottom:16},formScroll:{maxHeight:400},label:{fontSize:14,fontWeight:'600',color:'#8B4513',marginTop:12,marginBottom:6},input:{borderWidth:1,borderColor:'#DDD',borderRadius:8,padding:12,fontSize:14,backgroundColor:'#FFF'},textArea:{height:80,textAlignVertical:'top'},clientScroll:{marginBottom:8},clientChip:{backgroundColor:'#F0F0F0',paddingHorizontal:16,paddingVertical:8,borderRadius:20,marginRight:8,borderWidth:2,borderColor:'transparent'},clientChipSelected:{backgroundColor:'#8B4513',borderColor:'#D4AF37'},clientChipText:{color:'#333',fontSize:14},clientChipTextSelected:{color:'#FFF',fontWeight:'600'},searchContainer:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff',borderRadius:10,paddingHorizontal:12,paddingVertical:10,marginBottom:12,borderWidth:1,borderColor:'#ddd'},searchIcon:{fontSize:16,marginRight:8,color:'#666'},searchInput:{flex:1,fontSize:14,color:'#333',padding:0},clearSearchButton:{padding:4,marginLeft:8},clearSearchText:{fontSize:16,color:'#999',fontWeight:'bold'},clientListContainer:{maxHeight:200,marginBottom:12,borderRadius:8,borderWidth:1,borderColor:'#ddd',backgroundColor:'#fafafa'},clientCard:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',padding:12,borderBottomWidth:1,borderBottomColor:'#eee',backgroundColor:'#fff'},clientCardSelected:{backgroundColor:'#e8f4f8',borderLeftWidth:4,borderLeftColor:'#8B4513'},clientCardContent:{flex:1},clientNameSelected:{color:'#8B4513',fontWeight:'bold'},clientEmail:{fontSize:12,color:'#666',marginTop:4},checkmark:{fontSize:20,color:'#8B4513',fontWeight:'bold',marginLeft:8},noResultsContainer:{padding:20,alignItems:'center'},noResultsText:{fontSize:14,color:'#999',fontStyle:'italic'},typeButtonsRow:{flexDirection:'row',flexWrap:'wrap',gap:8},typeButton:{backgroundColor:'#F0F0F0',paddingHorizontal:12,paddingVertical:8,borderRadius:8,borderWidth:2,borderColor:'transparent'},typeButtonSelected:{backgroundColor:'#8B4513',borderColor:'#D4AF37'},typeButtonText:{color:'#333',fontSize:12,textTransform:'capitalize'},typeButtonTextSelected:{color:'#FFF',fontWeight:'600'},modalButtons:{flexDirection:'row',justifyContent:'space-between',marginTop:16,gap:12},cancelButton:{flex:1,padding:14,borderRadius:8,borderWidth:2,borderColor:'#8B4513',alignItems:'center'},cancelButtonText:{color:'#8B4513',fontWeight:'600',fontSize:16},submitButton:{flex:1,padding:14,borderRadius:8,backgroundColor:'#8B4513',alignItems:'center'},submitButtonText:{color:'#FFF',fontWeight:'600',fontSize:16},detailScroll:{maxHeight:500},detailLabel:{fontSize:12,color:'#666',marginTop:12,marginBottom:4},detailValue:{fontSize:16,color:'#333',marginBottom:8},sectionTitle:{fontSize:16,fontWeight:'bold',color:'#8B4513',marginTop:20,marginBottom:12},proposedDateCard:{backgroundColor:'#F5E6D3',borderRadius:8,padding:12,marginBottom:12,borderWidth:1,borderColor:'#8B4513'},proposedDateLabel:{fontSize:12,fontWeight:'600',color:'#8B4513',marginBottom:4},proposedDateTime:{fontSize:16,color:'#333',fontWeight:'600'},proposedDateDuration:{fontSize:14,color:'#666',marginBottom:8},confirmDateButton:{backgroundColor:'#32CD32',padding:10,borderRadius:8,alignItems:'center',marginTop:8},confirmDateButtonText:{color:'#FFF',fontWeight:'600'},selectedBadge:{backgroundColor:'#D4AF37',padding:8,borderRadius:8,alignItems:'center',marginTop:8},selectedBadgeText:{color:'#FFF',fontWeight:'600'},pendingMessage:{fontSize:14,color:'#666',fontStyle:'italic',textAlign:'center',marginTop:20,padding:20},closeButton:{backgroundColor:'#8B4513',padding:14,borderRadius:8,alignItems:'center',marginTop:16},closeButtonText:{color:'#FFF',fontWeight:'600',fontSize:16}})},438,[13,85,161,26,162,177,340,116,354,156,125,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),h=(e(r(d[7])),e(r(d[8]))),f=e(r(d[9]));r(d[10]),r(d[11]);var x=r(d[12]);r(d[13]);var b=r(d[14]),p=r(d[15]),y=r(d[16]);const C=(e,t)=>{'Success'===e?window.alert(`\u2705 ${t}`):'Error'===e?window.alert(`\u274c ${t}`):window.alert(`${e}\n${t}`)},v=({user:e,onDeactivate:t,onReactivate:n,onViewActivity:s})=>{const u={admin:b.medicalProviderTheme.colors.prescriptionGreen,physician:b.medicalProviderTheme.colors.medicalBlue,nurse:b.medicalProviderTheme.colors.mintGreen,staff:b.medicalProviderTheme.colors.mediumGray,billing:b.medicalProviderTheme.colors.warning};return(0,y.jsxs)(o.default,{style:T.userCard,children:[(0,y.jsxs)(o.default,{style:T.userCardContent,children:[(0,y.jsx)(o.default,{style:T.userAvatar,children:(0,y.jsxs)(l.default,{style:T.userInitials,children:[e.firstName[0],e.lastName[0]]})}),(0,y.jsxs)(o.default,{style:T.userInfo,children:[(0,y.jsxs)(l.default,{style:T.userName,children:[e.firstName," ",e.lastName]}),(0,y.jsx)(l.default,{style:T.userEmail,children:e.email}),(0,y.jsxs)(o.default,{style:T.userMeta,children:[(0,y.jsx)(o.default,{style:[T.roleBadge,{backgroundColor:u[e.role]+'30'}],children:(0,y.jsx)(l.default,{style:[T.roleText,{color:u[e.role]}],children:e.role.toUpperCase()})}),(0,y.jsx)(l.default,{style:T.userCode,children:e.userCode})]})]}),(0,y.jsx)(o.default,{style:T.userActions,children:'active'===e.status?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.default,{style:T.actionButton,onPress:s,children:(0,y.jsx)(l.default,{style:T.actionButtonText,children:"\ud83d\udcca"})}),(0,y.jsx)(c.default,{style:[T.actionButton,T.dangerButton],onPress:t,children:(0,y.jsx)(l.default,{style:T.actionButtonText,children:"\ud83d\udeab"})})]}):(0,y.jsx)(c.default,{style:[T.actionButton,T.successButton],onPress:n,children:(0,y.jsx)(l.default,{style:T.actionButtonText,children:"\u2705"})})})]}),e.lastLogin&&(0,y.jsxs)(l.default,{style:T.lastLogin,children:["Last login: ",new Date(e.lastLogin).toLocaleString()]})]})},S=({visible:e,onClose:s,onUserAdded:x,providerToken:b})=>{const[v,S]=(0,t.useState)({firstName:'',lastName:'',email:'',password:'',role:'physician',title:'',licenseNumber:'',phoneNumber:'',notificationMethod:'email'}),[w,j]=(0,t.useState)(!1);return(0,y.jsx)(h.default,{visible:e,animationType:"slide",transparent:!0,children:(0,y.jsx)(f.default,{source:r(d[18]),style:T.modalContainer,resizeMode:"cover",children:(0,y.jsx)(o.default,{style:T.modalOverlay,children:(0,y.jsxs)(o.default,{style:T.modalContent,children:[(0,y.jsx)(l.default,{style:T.modalTitle,children:"Add New User"}),(0,y.jsxs)(n.default,{children:[(0,y.jsx)(u.default,{style:T.input,placeholder:"First Name *",placeholderTextColor:"#999",value:v.firstName,onChangeText:e=>S(Object.assign({},v,{firstName:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Last Name *",placeholderTextColor:"#999",value:v.lastName,onChangeText:e=>S(Object.assign({},v,{lastName:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Email *",placeholderTextColor:"#999",keyboardType:"email-address",autoCapitalize:"none",value:v.email,onChangeText:e=>S(Object.assign({},v,{email:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Password *",placeholderTextColor:"#999",secureTextEntry:!0,value:v.password,onChangeText:e=>S(Object.assign({},v,{password:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Title (e.g., Chief Medical Officer)",placeholderTextColor:"#999",value:v.title,onChangeText:e=>S(Object.assign({},v,{title:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"License Number",placeholderTextColor:"#999",value:v.licenseNumber,onChangeText:e=>S(Object.assign({},v,{licenseNumber:e}))}),(0,y.jsx)(u.default,{style:T.input,placeholder:"Phone Number (required for SMS notifications)",placeholderTextColor:"#999",keyboardType:"phone-pad",value:v.phoneNumber,onChangeText:e=>S(Object.assign({},v,{phoneNumber:e}))}),(0,y.jsx)(l.default,{style:T.label,children:"Send credentials via:"}),(0,y.jsx)(o.default,{style:T.notificationSelector,children:[{value:'email',label:'\ud83d\udce7 Email',desc:'Email only'},{value:'sms',label:'\ud83d\udcf1 SMS',desc:'Text message only'},{value:'both',label:'\ud83d\udce7\ud83d\udcf1 Both',desc:'Email & SMS'}].map(e=>(0,y.jsxs)(c.default,{style:[T.notificationOption,v.notificationMethod===e.value&&T.notificationOptionActive],onPress:()=>S(Object.assign({},v,{notificationMethod:e.value})),children:[(0,y.jsx)(l.default,{style:[T.notificationOptionLabel,v.notificationMethod===e.value&&T.notificationOptionLabelActive],children:e.label}),(0,y.jsx)(l.default,{style:[T.notificationOptionDesc,v.notificationMethod===e.value&&T.notificationOptionDescActive],children:e.desc})]},e.value))}),(0,y.jsx)(l.default,{style:T.label,children:"Role:"}),(0,y.jsx)(o.default,{style:T.roleSelector,children:['admin','physician','nurse','staff','billing'].map(e=>(0,y.jsx)(c.default,{style:[T.roleOption,v.role===e&&T.roleOptionActive],onPress:()=>S(Object.assign({},v,{role:e})),children:(0,y.jsx)(l.default,{style:[T.roleOptionText,v.role===e&&T.roleOptionTextActive],children:e.charAt(0).toUpperCase()+e.slice(1)})},e))})]}),(0,y.jsxs)(o.default,{style:T.modalActions,children:[(0,y.jsx)(c.default,{style:T.cancelButton,onPress:s,children:(0,y.jsx)(l.default,{style:T.cancelButtonText,children:"Cancel"})}),(0,y.jsx)(c.default,{style:T.submitButton,onPress:async()=>{if(v.firstName&&v.lastName&&v.email&&v.password)try{j(!0);const e=await(0,p.apiRequest)(p.API_ENDPOINTS.MEDICAL_PROVIDER_USERS.CREATE,{method:'POST',headers:{Authorization:`Bearer ${b}`,'Content-Type':'application/json'},body:JSON.stringify(v)});e.success&&(C('Success',`User created! User code: ${e.user.userCode}`),x())}catch(e){console.error('[AddUser] Error:',e),C('Error',e.message||'Failed to create user')}finally{j(!1)}else C('Error','Please fill in all required fields')},disabled:w,children:(0,y.jsx)(l.default,{style:T.submitButtonText,children:w?'Creating...':'Create User'})})]})]})})})})},T=s.default.create({container:{flex:1,backgroundColor:b.medicalProviderTheme.colors.deepTeal,paddingBottom:100},background:{position:'absolute',left:0,right:0,top:0,bottom:0},header:{paddingTop:60,paddingHorizontal:20,paddingBottom:20},headerContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},backText:{color:'#d4af37',fontSize:16,fontWeight:'600',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:3},headerTitle:{fontSize:20,fontWeight:'700',color:'#FFFFFF',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:2},textShadowRadius:4},addButton:{color:'#d4af37',fontSize:16,fontWeight:'700',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:3},filterContainer:{flexDirection:'row',padding:20,paddingTop:10},filterTab:{flex:1,padding:12,alignItems:'center',borderRadius:12,marginHorizontal:5,backgroundColor:'rgba(20, 30, 48, 0.5)',borderWidth:2,borderColor:'rgba(212, 175, 55, 0.4)'},filterTabActive:{backgroundColor:'rgba(212, 175, 55, 0.8)',borderColor:'#d4af37'},filterText:{color:'#FFFFFF',fontSize:14,fontWeight:'600',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},filterTextActive:{color:'#1e3a5f'},scrollView:{flex:1},content:{padding:20,paddingTop:0},userCard:{padding:16,marginBottom:12,backgroundColor:'rgba(20, 30, 48, 0.7)',borderRadius:16,borderWidth:2,borderColor:'rgba(212, 175, 55, 0.4)'},userCardContent:{flexDirection:'row',alignItems:'center'},userAvatar:{width:50,height:50,borderRadius:25,backgroundColor:b.medicalProviderTheme.colors.prescriptionGreen,justifyContent:'center',alignItems:'center',marginRight:15},userInitials:{color:'#FFFFFF',fontSize:18,fontWeight:'700'},userInfo:{flex:1},userName:{color:'#FFFFFF',fontSize:18,fontWeight:'700',marginBottom:4,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:3},userEmail:{color:'#d4af37',fontSize:14,marginBottom:6,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},userMeta:{flexDirection:'row',alignItems:'center'},roleBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:8,marginRight:10},roleText:{fontSize:11,fontWeight:'700'},userCode:{color:b.medicalProviderTheme.colors.mediumGray,fontSize:12,fontFamily:'monospace'},userActions:{flexDirection:'row'},actionButton:{width:40,height:40,borderRadius:20,backgroundColor:'rgba(255, 255, 255, 0.2)',justifyContent:'center',alignItems:'center',marginLeft:8},dangerButton:{backgroundColor:'rgba(239, 68, 68, 0.3)'},successButton:{backgroundColor:'rgba(16, 185, 129, 0.3)'},actionButtonText:{fontSize:20},lastLogin:{color:b.medicalProviderTheme.colors.mediumGray,fontSize:12,marginTop:10,paddingTop:10,borderTopWidth:1,borderTopColor:'rgba(255, 255, 255, 0.1)'},emptyCard:{padding:40,alignItems:'center',backgroundColor:'rgba(20, 30, 48, 0.7)',borderRadius:16,borderWidth:2,borderColor:'rgba(212, 175, 55, 0.4)'},emptyText:{color:'#d4af37',fontSize:16,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},modalContainer:{flex:1,justifyContent:'center',alignItems:'center'},modalOverlay:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'rgba(0, 0, 0, 0.5)',padding:20,width:'100%'},modalContent:{width:'100%',maxHeight:'90%',backgroundColor:'rgba(20, 30, 48, 0.92)',borderRadius:20,padding:20,borderWidth:2,borderColor:'#d4af37'},modalTitle:{fontSize:24,fontWeight:'700',color:'#d4af37',marginBottom:20,textAlign:'center',textShadowColor:'rgba(0, 0, 0, 0.9)',textShadowOffset:{width:0,height:2},textShadowRadius:4},input:{backgroundColor:'rgba(255, 255, 255, 0.12)',borderRadius:12,padding:15,color:'#FFFFFF',fontSize:16,marginBottom:15,borderWidth:2,borderColor:'rgba(212, 175, 55, 0.5)'},label:{color:'#d4af37',fontSize:16,fontWeight:'600',marginBottom:10,marginTop:5,textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},notificationSelector:{flexDirection:'row',justifyContent:'space-between',marginBottom:20,gap:10},notificationOption:{flex:1,padding:12,borderRadius:10,backgroundColor:'rgba(255, 255, 255, 0.12)',borderWidth:2,borderColor:'rgba(212, 175, 55, 0.5)',alignItems:'center'},notificationOptionActive:{backgroundColor:'rgba(212, 175, 55, 0.25)',borderColor:'#d4af37'},notificationOptionLabel:{fontSize:16,fontWeight:'bold',color:'rgba(255, 255, 255, 0.8)',marginBottom:4},notificationOptionLabelActive:{color:'#4a90e2'},notificationOptionDesc:{fontSize:11,color:'rgba(255, 255, 255, 0.6)'},notificationOptionDescActive:{color:'rgba(74, 144, 226, 0.9)'},roleSelector:{flexDirection:'row',flexWrap:'wrap',marginBottom:20},roleOption:{paddingHorizontal:15,paddingVertical:10,borderRadius:20,backgroundColor:'rgba(255, 255, 255, 0.12)',marginRight:10,marginBottom:10,borderWidth:2,borderColor:'rgba(212, 175, 55, 0.4)'},roleOptionActive:{backgroundColor:'rgba(212, 175, 55, 0.95)',borderColor:'#d4af37'},roleOptionText:{color:'#FFFFFF',fontSize:14,fontWeight:'600'},roleOptionTextActive:{color:'#1e3a5f'},modalActions:{flexDirection:'row',justifyContent:'space-between',marginTop:20},cancelButton:{flex:1,padding:15,borderRadius:12,backgroundColor:'rgba(255, 255, 255, 0.12)',marginRight:10,alignItems:'center',borderWidth:2,borderColor:'rgba(212, 175, 55, 0.5)'},cancelButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2},submitButton:{flex:1,padding:15,borderRadius:12,backgroundColor:'rgba(212, 175, 55, 0.95)',alignItems:'center',borderWidth:2,borderColor:'#d4af37'},submitButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'700',textShadowColor:'rgba(0, 0, 0, 0.8)',textShadowOffset:{width:0,height:1},textShadowRadius:2}});var w=({user:e,onBack:s})=>{const[u,h]=(0,t.useState)([]),[b,w]=(0,t.useState)(!0),[j,O]=(0,t.useState)(!1),[F,R]=(0,t.useState)('active');(0,t.useEffect)(()=>{A()},[F]);const A=async()=>{try{w(!0);const t=await(0,p.apiRequest)(`${p.API_ENDPOINTS.MEDICAL_PROVIDER_USERS.GET_ALL}?status=${F}`,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});h(t.users||[])}catch(e){console.error('[UserManagement] Load error:',e),C('Error','Failed to load users')}finally{w(!1)}},P=async t=>{try{console.log('[MedProvider UserManagement] Deactivating user:',t);const o=p.API_ENDPOINTS.MEDICAL_PROVIDER_USERS.DEACTIVATE(t);console.log('[MedProvider UserManagement] Deactivate URL:',o);const l=await(0,p.apiRequest)(o,{method:'POST',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify({reason:'Deactivated by admin'})});console.log('[MedProvider UserManagement] Deactivate response:',l),l.success?(C('Success','User deactivated successfully'),A()):C('Error',l.message||'Failed to deactivate user')}catch(e){console.error('[MedProvider UserManagement] Deactivate error:',e),C('Error',e.message||'Failed to deactivate user')}},B=async t=>{try{console.log('[MedProvider UserManagement] Reactivating user:',t);const o=await(0,p.apiRequest)(p.API_ENDPOINTS.MEDICAL_PROVIDER_USERS.REACTIVATE(t),{method:'POST',headers:{Authorization:`Bearer ${e.token}`}});console.log('[MedProvider UserManagement] Reactivate response:',o),o.success?(C('Success','User reactivated successfully'),A()):C('Error',o.message||'Failed to reactivate user')}catch(e){console.error('[MedProvider UserManagement] Reactivate error:',e),C('Error',e.message||'Failed to reactivate user')}};return(0,y.jsxs)(o.default,{style:T.container,children:[(0,y.jsx)(f.default,{source:r(d[17]),style:T.background,resizeMode:"cover"}),(0,y.jsx)(x.BlurView,{intensity:30,style:T.header,children:(0,y.jsxs)(o.default,{style:T.headerContent,children:[(0,y.jsx)(c.default,{onPress:s,children:(0,y.jsx)(l.default,{style:T.backText,children:"\u2190 Back"})}),(0,y.jsx)(l.default,{style:T.headerTitle,children:"User Management"}),(0,y.jsx)(c.default,{onPress:()=>O(!0),children:(0,y.jsx)(l.default,{style:T.addButton,children:"+ Add"})})]})}),(0,y.jsxs)(o.default,{style:T.filterContainer,children:[(0,y.jsx)(c.default,{style:[T.filterTab,'active'===F&&T.filterTabActive],onPress:()=>R('active'),children:(0,y.jsx)(l.default,{style:[T.filterText,'active'===F&&T.filterTextActive],children:"Active"})}),(0,y.jsx)(c.default,{style:[T.filterTab,'deactivated'===F&&T.filterTabActive],onPress:()=>R('deactivated'),children:(0,y.jsx)(l.default,{style:[T.filterText,'deactivated'===F&&T.filterTextActive],children:"Deactivated"})})]}),(0,y.jsxs)(n.default,{style:T.scrollView,contentContainerStyle:T.content,children:[u.map(e=>(0,y.jsx)(v,{user:e,onDeactivate:()=>{return t=e.id,o=`${e.firstName} ${e.lastName}`,void(window.confirm(`Are you sure you want to deactivate ${o}? They will immediately lose access to the portal.`)&&P(t));var t,o},onReactivate:()=>B(e.id),onViewActivity:()=>{}},e.id)),0===u.length&&(0,y.jsx)(o.default,{style:T.emptyCard,children:(0,y.jsx)(l.default,{style:T.emptyText,children:'active'===F?'No active users':'No deactivated users'})})]}),(0,y.jsx)(S,{visible:j,onClose:()=>O(!1),onUserAdded:()=>{O(!1),A()},providerToken:e.token})]})}},439,[13,85,161,177,26,162,340,116,156,369,82,350,315,440,441,135,153,411,412]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}}),r(d[0]);var o=e(r(d[1])),l=e(r(d[2])),t=e(r(d[3])),s=r(d[4]);r(d[5]);var c=r(d[6]),n=r(d[7]);const b=t.default.create({container:Object.assign({borderRadius:c.medicalProviderTheme.borderRadius.medium,overflow:'hidden'},c.medicalProviderTheme.shadows.card),gradient:{borderRadius:c.medicalProviderTheme.borderRadius.medium},border:{borderRadius:c.medicalProviderTheme.borderRadius.medium,borderWidth:1}});var u=({children:e,variant:t="white",onPress:u,style:h,intensity:v=20,disabled:f=!1})=>{const P={white:{colors:['rgba(255, 255, 255, 0.95)','rgba(255, 255, 255, 0.85)'],borderColor:'rgba(0, 188, 212, 0.15)'},glass:{colors:['rgba(255, 255, 255, 0.7)','rgba(255, 255, 255, 0.5)'],borderColor:'rgba(0, 188, 212, 0.2)'},mint:{colors:['rgba(178, 235, 242, 0.3)','rgba(178, 235, 242, 0.2)'],borderColor:c.medicalProviderTheme.colors.accentTeal+'40'},teal:{colors:['rgba(0, 188, 212, 0.15)','rgba(0, 168, 200, 0.1)'],borderColor:c.medicalProviderTheme.colors.accentTeal+'60'}},y=P[t]||P.white,T=u?o.default:l.default;return(0,n.jsx)(T,{onPress:u,disabled:f||!u,activeOpacity:.7,style:[b.container,h],children:(0,n.jsx)(s.LinearGradient,{colors:y.colors,style:b.gradient,children:(0,n.jsx)(l.default,{style:[b.border,{borderColor:y.borderColor}],children:e})})})}},440,[13,162,85,26,350,315,441,153]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"medicalProviderTheme",{enumerable:!0,get:function(){return t}});const t={colors:{deepTeal:'#006B7D',clinicalTeal:'#008C9E',medicalTeal:'#00A8C8',accentTeal:'#00BCD4',lightTeal:'#B2EBF2',clinicalWhite:'#FFFFFF',offWhite:'#FAFAFA',lightGray:'#F5F5F5',mediumGray:'#9E9E9E',darkGray:'#616161',charcoal:'#37474F',healthy:'#4CAF50',stable:'#8BC34A',warning:'#FF9800',critical:'#F44336',emergencyRed:'#D32F2F',prescriptionGreen:'#66BB6A',medicalBlue:'#42A5F5',mintGreen:'#80CBC4',steel:'#607D8B',slate:'#455A64',overlayLight:'rgba(255, 255, 255, 0.85)',overlayDark:'rgba(0, 0, 0, 0.3)',glassOverlay:'rgba(255, 255, 255, 0.6)'},gradients:{primary:['#006B7D','#00A8C8'],clinical:['#FFFFFF','#F5F5F5'],success:['#4CAF50','#66BB6A'],alert:['#FF9800','#F57C00'],critical:['#F44336','#D32F2F'],mint:['#80CBC4','#B2DFDB']},shadows:{card:{shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.08,shadowRadius:8,elevation:3},elevated:{shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.12,shadowRadius:12,elevation:5},header:{shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2}},borderRadius:{small:8,medium:12,large:16,xlarge:20,round:50},spacing:{xs:4,sm:8,md:12,lg:16,xl:20,xxl:24,xxxl:32},typography:{h1:{fontSize:32,fontWeight:'700',lineHeight:40},h2:{fontSize:24,fontWeight:'700',lineHeight:32},h3:{fontSize:20,fontWeight:'700',lineHeight:28},body:{fontSize:16,fontWeight:'400',lineHeight:24},caption:{fontSize:14,fontWeight:'600',lineHeight:20},small:{fontSize:12,fontWeight:'400',lineHeight:16}}}},441,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return A}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),c=e(r(d[4])),s=e(r(d[5])),h=e(r(d[6])),f=r(d[7]),u=r(d[8]),y=e(r(d[9]));r(d[10]);var v=r(d[11]),T=r(d[12]),x=r(d[13]);const{width:p}=h.default.get('window'),j=({level:e,count:t,color:n})=>(0,x.jsxs)(y.default,{variant:"white",style:_.sensitivityCard,children:[(0,x.jsx)(o.default,{style:[_.sensitivityIconBg,{backgroundColor:n+'30'}],children:(0,x.jsx)(l.default,{style:_.sensitivityIcon,children:{low:'\u2713',medium:'\u25d0',high:'\u26a0',critical:'\u26a0\ufe0f',unknown:'\u2753'}[e]})}),(0,x.jsx)(l.default,{style:[_.sensitivityCount,{color:n}],children:t}),(0,x.jsx)(l.default,{style:_.sensitivityLabel,children:{low:'Low Risk',medium:'Medium Risk',high:'High Risk',critical:'Critical',unknown:'Data Missing'}[e]})]}),P=({name:e,count:t,icon:o,color:n})=>(0,x.jsxs)(y.default,{variant:"white",style:_.categoryCard,children:[(0,x.jsx)(f.LinearGradient,{colors:[n+'30',n+'10'],style:_.categoryIconBg,children:(0,x.jsx)(l.default,{style:_.categoryIcon,children:o})}),(0,x.jsx)(l.default,{style:_.categoryCount,children:t}),(0,x.jsx)(l.default,{style:_.categoryName,children:e.replace(/_/g,' ')})]}),w=({userId:e,userName:t,userEmail:n,userRole:c,activityCount:s,rank:h,onPress:f})=>{const u={1:v.medicalProviderTheme.colors.accentTeal,2:v.medicalProviderTheme.colors.prescriptionGreen,3:v.medicalProviderTheme.colors.medicalBlue};return(0,x.jsx)(y.default,{variant:"white",onPress:f,style:_.staffActivityCard,children:(0,x.jsxs)(o.default,{style:_.staffActivityContent,children:[(0,x.jsx)(o.default,{style:[_.rankBadge,{backgroundColor:u[h]||v.medicalProviderTheme.colors.accentTeal}],children:(0,x.jsxs)(l.default,{style:_.rankText,children:["#",h]})}),(0,x.jsxs)(o.default,{style:_.staffActivityInfo,children:[(0,x.jsxs)(o.default,{style:_.staffNameRow,children:[(0,x.jsx)(l.default,{style:_.staffActivityName,children:t}),(0,x.jsx)(l.default,{style:_.staffRoleIcon,children:{admin:'\ud83d\udc51',physician:'\ud83e\ude7a',nurse:'\ud83d\udc89',staff:'\ud83d\udc64',billing:'\ud83d\udcb3'}[c]||'\ud83d\udc64'})]}),(0,x.jsx)(l.default,{style:_.staffActivityEmail,children:n}),(0,x.jsx)(l.default,{style:_.staffRole,children:(c||'staff').replace(/_/g,' ')})]}),(0,x.jsxs)(o.default,{style:_.activityCountBadge,children:[(0,x.jsx)(l.default,{style:_.activityCountText,children:s}),(0,x.jsx)(l.default,{style:_.activityCountLabel,children:"actions"})]})]})})},C=({activity:e})=>{const t={low:v.medicalProviderTheme.colors.healthy,medium:v.medicalProviderTheme.colors.stable,high:v.medicalProviderTheme.colors.warning,critical:v.medicalProviderTheme.colors.critical,unknown:v.medicalProviderTheme.colors.darkGray};return(0,x.jsx)(y.default,{variant:"white",style:_.activityLogCard,children:(0,x.jsxs)(o.default,{style:_.activityLogContent,children:[(0,x.jsxs)(o.default,{style:_.activityIconContainer,children:[(0,x.jsx)(l.default,{style:_.activityIcon,children:{user_created:'\u2795',user_login:'\ud83d\udd13',user_updated:'\u270f\ufe0f',user_deactivated:'\ud83d\udeab',patient_viewed:'\ud83d\udc41\ufe0f',patient_phi_accessed:'\ud83d\udd10',medical_record_viewed:'\ud83d\udccb',medical_record_updated:'\u270f\ufe0f',medical_record_created:'\ud83d\udcdd',document_uploaded:'\ud83d\udce4',document_downloaded:'\ud83d\udce5',document_viewed:'\ud83d\udc41\ufe0f',prescription_created:'\ud83d\udc8a',treatment_plan_created:'\ud83d\udcdd',notification_sent:'\ud83d\udce8',bill_negotiation_initiated:'\ud83d\udcb0',settings_updated:'\u2699\ufe0f',hipaa_training_completed:'\u2705'}[e.action]||'\ud83d\udcca'}),e.sensitivity_level&&(0,x.jsx)(o.default,{style:[_.sensitivityDot,{backgroundColor:t[e.sensitivity_level]}]})]}),(0,x.jsxs)(o.default,{style:_.activityLogInfo,children:[(0,x.jsxs)(o.default,{style:_.activityLogHeader,children:[(0,x.jsx)(l.default,{style:_.activityUserName,children:e.user_name}),e.user_role&&(0,x.jsxs)(l.default,{style:_.activityUserRole,children:["(",(e.user_role||'staff').replace(/_/g,' '),")"]})]}),(0,x.jsx)(l.default,{style:_.activityAction,children:(e.action||'activity').replace(/_/g,' ')}),e.target_name&&(0,x.jsxs)(l.default,{style:_.activityTarget,children:["\u2192 ",e.target_name]}),e.patient_name&&(0,x.jsxs)(l.default,{style:_.activityPatient,children:["Patient: ",e.patient_name]})]}),(0,x.jsxs)(o.default,{style:_.activityMeta,children:[(0,x.jsx)(l.default,{style:_.activityTime,children:(e=>{const t=new Date-new Date(e),o=Math.floor(t/6e4),l=Math.floor(t/36e5),n=Math.floor(t/864e5);return o<1?'Just now':o<60?`${o}m ago`:l<24?`${l}h ago`:`${n}d ago`})(e.created_at)}),e.audit_required&&(0,x.jsx)(l.default,{style:_.auditRequiredBadge,children:"\u26a0\ufe0f Audit"})]})]})})},_=c.default.create({container:{flex:1,backgroundColor:v.medicalProviderTheme.colors.clinicalWhite,paddingBottom:100},background:{position:'absolute',left:0,right:0,top:0,bottom:0},loadingText:{color:v.medicalProviderTheme.colors.mediumGray,fontSize:16,textAlign:'center',marginTop:100},headerGradient:{paddingTop:60},header:{paddingHorizontal:20,paddingBottom:20},headerContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},backText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'700',color:'#FFFFFF'},hipaaButton:{color:v.medicalProviderTheme.colors.mintGreen,fontSize:14,fontWeight:'700'},filterContainer:{paddingHorizontal:20,paddingVertical:15},filterChip:{paddingHorizontal:20,paddingVertical:10,borderRadius:20,backgroundColor:v.medicalProviderTheme.colors.lightGray,marginRight:10,borderWidth:1,borderColor:v.medicalProviderTheme.colors.accentTeal+'30'},filterChipActive:{backgroundColor:v.medicalProviderTheme.colors.accentTeal,borderColor:v.medicalProviderTheme.colors.accentTeal},filterChipText:{color:v.medicalProviderTheme.colors.deepTeal,fontSize:14,fontWeight:'600'},filterChipTextActive:{color:'#FFFFFF'},scrollView:{flex:1},content:{padding:20},totalCard:{padding:30,alignItems:'center',marginBottom:25},totalLabel:{color:v.medicalProviderTheme.colors.mediumGray,fontSize:16,fontWeight:'600',marginBottom:10},totalValue:{color:v.medicalProviderTheme.colors.accentTeal,fontSize:48,fontWeight:'700'},sensitivitySection:{marginBottom:25},sensitivityGrid:{flexDirection:'row',flexWrap:'wrap',justifyContent:'space-between'},sensitivityCard:{width:(p-55)/2,padding:18,alignItems:'center',marginBottom:15},sensitivityIconBg:{width:50,height:50,borderRadius:25,justifyContent:'center',alignItems:'center',marginBottom:10},sensitivityIcon:{fontSize:24},sensitivityCount:{fontSize:28,fontWeight:'700',marginBottom:4},sensitivityLabel:{color:v.medicalProviderTheme.colors.darkGray,fontSize:12,fontWeight:'600',textAlign:'center'},alertCard:{padding:20,marginBottom:25},alertHeader:{flexDirection:'row',alignItems:'center',marginBottom:12},alertIcon:{fontSize:28,marginRight:12},alertTitle:{flex:1,fontSize:18,fontWeight:'700',color:v.medicalProviderTheme.colors.deepTeal},alertDescription:{color:v.medicalProviderTheme.colors.darkGray,fontSize:14,lineHeight:20,marginBottom:15},alertButton:{backgroundColor:v.medicalProviderTheme.colors.accentTeal,padding:12,borderRadius:10,alignItems:'center'},alertButtonText:{color:'#FFFFFF',fontSize:14,fontWeight:'700'},sectionHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:15},sectionTitle:{fontSize:20,fontWeight:'700',color:v.medicalProviderTheme.colors.deepTeal,marginBottom:15},categoryGrid:{flexDirection:'row',flexWrap:'wrap',justifyContent:'space-between',marginBottom:30},categoryCard:{width:(p-55)/2,padding:18,alignItems:'center',marginBottom:15},categoryIconBg:{width:56,height:56,borderRadius:28,justifyContent:'center',alignItems:'center',marginBottom:12},categoryIcon:{fontSize:28},categoryCount:{color:v.medicalProviderTheme.colors.deepTeal,fontSize:26,fontWeight:'700',marginBottom:6},categoryName:{color:v.medicalProviderTheme.colors.mediumGray,fontSize:13,fontWeight:'600',textTransform:'capitalize',textAlign:'center'},staffActivityCard:{padding:16,marginBottom:12},staffActivityContent:{flexDirection:'row',alignItems:'center'},rankBadge:{width:44,height:44,borderRadius:22,justifyContent:'center',alignItems:'center',marginRight:15},rankText:{color:'#FFFFFF',fontSize:16,fontWeight:'700'},staffActivityInfo:{flex:1},staffNameRow:{flexDirection:'row',alignItems:'center',marginBottom:4},staffActivityName:{color:v.medicalProviderTheme.colors.deepTeal,fontSize:17,fontWeight:'700',marginRight:8},staffRoleIcon:{fontSize:18},staffActivityEmail:{color:v.medicalProviderTheme.colors.mediumGray,fontSize:13,marginBottom:4},staffRole:{color:v.medicalProviderTheme.colors.accentTeal,fontSize:12,fontWeight:'600',textTransform:'capitalize'},activityCountBadge:{alignItems:'center'},activityCountText:{color:v.medicalProviderTheme.colors.accentTeal,fontSize:24,fontWeight:'700'},activityCountLabel:{color:v.medicalProviderTheme.colors.mediumGray,fontSize:11,fontWeight:'600'},activityLogCard:{padding:14,marginBottom:10},activityLogContent:{flexDirection:'row',alignItems:'flex-start'},activityIconContainer:{position:'relative',marginRight:15},activityIcon:{fontSize:28},sensitivityDot:{position:'absolute',top:-2,right:-2,width:12,height:12,borderRadius:6,borderWidth:2,borderColor:'#FFFFFF'},activityLogInfo:{flex:1},activityLogHeader:{flexDirection:'row',alignItems:'center',marginBottom:4},activityUserName:{color:v.medicalProviderTheme.colors.deepTeal,fontSize:15,fontWeight:'700',marginRight:6},activityUserRole:{color:v.medicalProviderTheme.colors.mediumGray,fontSize:12,fontStyle:'italic'},activityAction:{color:v.medicalProviderTheme.colors.darkGray,fontSize:14,textTransform:'capitalize',marginBottom:3},activityTarget:{color:v.medicalProviderTheme.colors.accentTeal,fontSize:13,fontWeight:'600'},activityPatient:{color:v.medicalProviderTheme.colors.medicalBlue,fontSize:12,fontStyle:'italic',marginTop:2},activityMeta:{alignItems:'flex-end'},activityTime:{color:v.medicalProviderTheme.colors.mediumGray,fontSize:12,marginBottom:4},auditRequiredBadge:{backgroundColor:v.medicalProviderTheme.colors.warning+'20',color:v.medicalProviderTheme.colors.warning,fontSize:10,fontWeight:'700',paddingHorizontal:6,paddingVertical:2,borderRadius:8}});var A=({user:e,onBack:c,onNavigateToUser:h,onNavigateToHIPAAReport:p})=>{const[A,I]=(0,t.useState)(null),[S,B]=(0,t.useState)(!0),[b,k]=(0,t.useState)('today');(0,t.useEffect)(()=>{z()},[b]);const z=async()=>{try{B(!0);const t=R(b),o=new URLSearchParams(t).toString();console.log('[MedicalActivityDashboard] Loading summary with token:',e.token?'Present':'Missing'),console.log('[MedicalActivityDashboard] API URL:',`${T.API_ENDPOINTS.MEDICAL_PROVIDER_ACTIVITY.GET_SUMMARY}?${o}`);const l=await(0,T.apiRequest)(`${T.API_ENDPOINTS.MEDICAL_PROVIDER_ACTIVITY.GET_SUMMARY}?${o}`,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});console.log('[MedicalActivityDashboard] Summary loaded successfully:',l),I(l.summary)}catch(e){console.error('[MedicalActivityDashboard] Load error:',e)}finally{B(!1)}},R=e=>{const t=new Date,o={};switch(e){case'today':o.startDate=new Date(t.setHours(0,0,0,0)).toISOString();break;case'week':const e=new Date(t.getTime()-6048e5);o.startDate=e.toISOString();break;case'month':const l=new Date(t.getTime()-2592e6);o.startDate=l.toISOString()}return o},F={user:'\ud83d\udc64',patient:'\ud83c\udfe5',medical_record:'\ud83d\udccb',document:'\ud83d\udcc4',financial:'\ud83d\udcb0',communication:'\ud83d\udce8',treatment:'\ud83d\udc8a',compliance:'\u2705',settings:'\u2699\ufe0f',security:'\ud83d\udd12'},D={user:v.medicalProviderTheme.colors.accentTeal,patient:v.medicalProviderTheme.colors.medicalTeal,medical_record:v.medicalProviderTheme.colors.medicalBlue,document:v.medicalProviderTheme.colors.prescriptionGreen,financial:v.medicalProviderTheme.colors.healthy,communication:v.medicalProviderTheme.colors.accentTeal,treatment:v.medicalProviderTheme.colors.prescriptionGreen,compliance:v.medicalProviderTheme.colors.stable,settings:v.medicalProviderTheme.colors.darkGray,security:v.medicalProviderTheme.colors.emergencyRed},G={low:v.medicalProviderTheme.colors.healthy,medium:v.medicalProviderTheme.colors.stable,high:v.medicalProviderTheme.colors.warning,critical:v.medicalProviderTheme.colors.critical,unknown:v.medicalProviderTheme.colors.darkGray};return S||!A?(0,x.jsxs)(o.default,{style:_.container,children:[(0,x.jsx)(f.LinearGradient,{colors:[v.medicalProviderTheme.colors.clinicalWhite,v.medicalProviderTheme.colors.lightGray],style:_.background}),(0,x.jsx)(l.default,{style:_.loadingText,children:"Loading activity data..."})]}):(0,x.jsxs)(o.default,{style:_.container,children:[(0,x.jsx)(f.LinearGradient,{colors:[v.medicalProviderTheme.colors.clinicalWhite,v.medicalProviderTheme.colors.lightGray,v.medicalProviderTheme.colors.clinicalWhite],style:_.background}),(0,x.jsx)(f.LinearGradient,{colors:[v.medicalProviderTheme.colors.deepTeal,v.medicalProviderTheme.colors.clinicalTeal],style:_.headerGradient,children:(0,x.jsx)(u.BlurView,{intensity:10,style:_.header,children:(0,x.jsxs)(o.default,{style:_.headerContent,children:[(0,x.jsx)(s.default,{onPress:c,children:(0,x.jsx)(l.default,{style:_.backText,children:"\u2190 Back"})}),(0,x.jsx)(l.default,{style:_.headerTitle,children:"Activity Analytics"}),(0,x.jsx)(s.default,{onPress:p,children:(0,x.jsx)(l.default,{style:_.hipaaButton,children:"\ud83d\udd12 HIPAA"})})]})})}),(0,x.jsx)(o.default,{style:_.filterContainer,children:(0,x.jsx)(n.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:['today','week','month','all'].map(e=>(0,x.jsx)(s.default,{style:[_.filterChip,b===e&&_.filterChipActive],onPress:()=>k(e),children:(0,x.jsx)(l.default,{style:[_.filterChipText,b===e&&_.filterChipTextActive],children:'today'===e?'Today':'week'===e?'Last 7 Days':'month'===e?'Last 30 Days':'All Time'})},e))})}),(0,x.jsxs)(n.default,{style:_.scrollView,contentContainerStyle:_.content,showsVerticalScrollIndicator:!1,children:[(0,x.jsxs)(y.default,{variant:"white",style:_.totalCard,children:[(0,x.jsx)(l.default,{style:_.totalLabel,children:"Total Activities"}),(0,x.jsx)(l.default,{style:_.totalValue,children:A.totalActivities.toLocaleString()})]}),A.activitiesBySensitivity&&A.activitiesBySensitivity.length>0&&(0,x.jsxs)(o.default,{style:_.sensitivitySection,children:[(0,x.jsx)(l.default,{style:_.sectionTitle,children:"HIPAA Risk Assessment"}),(0,x.jsx)(o.default,{style:_.sensitivityGrid,children:A.activitiesBySensitivity.map(e=>(0,x.jsx)(j,{level:e.sensitivity_level||'unknown',count:e.count||0,color:G[e.sensitivity_level]||v.medicalProviderTheme.colors.darkGray},e.sensitivity_level||'unknown'))})]}),A.criticalActions&&A.criticalActions.length>0&&(0,x.jsxs)(y.default,{variant:"mint",style:_.alertCard,children:[(0,x.jsxs)(o.default,{style:_.alertHeader,children:[(0,x.jsx)(l.default,{style:_.alertIcon,children:"\u26a0\ufe0f"}),(0,x.jsxs)(l.default,{style:_.alertTitle,children:[A.criticalActions.length," Critical Actions Requiring Audit"]})]}),(0,x.jsx)(l.default,{style:_.alertDescription,children:"High-sensitivity activities that require administrative review for HIPAA compliance."}),(0,x.jsx)(s.default,{style:_.alertButton,onPress:p,children:(0,x.jsx)(l.default,{style:_.alertButtonText,children:"View HIPAA Report \u2192"})})]}),A.activitiesByCategory&&A.activitiesByCategory.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.default,{style:_.sectionTitle,children:"Activity Breakdown"}),(0,x.jsx)(o.default,{style:_.categoryGrid,children:A.activitiesByCategory.map(e=>(0,x.jsx)(P,{name:e.action_category||'unknown',count:e.count||0,icon:F[e.action_category]||'\ud83d\udcca',color:D[e.action_category]||v.medicalProviderTheme.colors.accentTeal},e.action_category||'unknown'))})]}),A.topUsers&&A.topUsers.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.default,{style:_.sectionHeader,children:(0,x.jsx)(l.default,{style:_.sectionTitle,children:"Most Active Staff"})}),A.topUsers.map((e,t)=>(0,x.jsx)(w,{userId:e.user_id,userName:e.user_name,userEmail:e.user_email,userRole:e.user_role,activityCount:e.count,rank:t+1,onPress:()=>h&&h(e.user_id)},e.user_id||t))]}),A.recentActivities&&A.recentActivities.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.default,{style:_.sectionTitle,children:"Recent Activity"}),A.recentActivities.slice(0,10).map((e,t)=>(0,x.jsx)(C,{activity:e},e.id||t))]}),(0,x.jsx)(o.default,{style:{height:100}})]})]})}},442,[13,85,161,177,26,162,120,350,315,440,443,441,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return h}}),r(d[0]);var t=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),o=r(d[4]),c=e(r(d[5])),s=r(d[6]),f=r(d[7]);const u=n.default.create({card:{padding:16,marginBottom:12},cardSmall:{padding:12,flex:1},content:{flexDirection:'row',alignItems:'center'},contentSmall:{flexDirection:'column',alignItems:'flex-start'},iconContainer:{width:56,height:56,borderRadius:28,justifyContent:'center',alignItems:'center',marginRight:16},iconContainerSmall:{width:40,height:40,borderRadius:20,marginRight:0,marginBottom:8},icon:{fontSize:28},iconSmall:{fontSize:20},info:{flex:1},label:{fontSize:14,fontWeight:'600',color:s.medicalProviderTheme.colors.mediumGray,marginBottom:4},labelSmall:{fontSize:11,marginBottom:2},valueRow:{flexDirection:'row',alignItems:'center'},value:{fontSize:28,fontWeight:'700',marginRight:12},valueSmall:{fontSize:22,marginRight:0},trend:{fontSize:14,fontWeight:'600'},trendSmall:{fontSize:11}});var h=({icon:e,label:n,value:h,trend:S,color:v=s.medicalProviderTheme.colors.accentTeal,variant:x="white",size:y="large",status:j,onPress:b})=>{const z='small'===y;return(0,f.jsx)(c.default,{variant:x,onPress:b,style:[u.card,z&&u.cardSmall],children:(0,f.jsxs)(t.default,{style:[u.content,z&&u.contentSmall],children:[e&&(0,f.jsx)(o.LinearGradient,{colors:[v+'30',v+'10'],style:[u.iconContainer,z&&u.iconContainerSmall],children:(0,f.jsx)(l.default,{style:[u.icon,z&&u.iconSmall],children:e})}),(0,f.jsxs)(t.default,{style:u.info,children:[(0,f.jsx)(l.default,{style:[u.label,z&&u.labelSmall],children:n}),(0,f.jsxs)(t.default,{style:u.valueRow,children:[(0,f.jsx)(l.default,{style:[u.value,z&&u.valueSmall,{color:v}],children:h}),S&&(0,f.jsxs)(l.default,{style:[u.trend,z&&u.trendSmall,{color:S>0?s.medicalProviderTheme.colors.healthy:s.medicalProviderTheme.colors.critical}],children:[S>0?'\u2191':'\u2193'," ",Math.abs(S),"%"]})]})]})]})})}},443,[13,85,161,26,350,440,441,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return B}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),c=e(r(d[4])),s=e(r(d[5])),h=e(r(d[6])),u=e(r(d[7])),f=r(d[8]),p=r(d[9]),y=e(r(d[10])),x=e(r(d[11])),T=r(d[12]),v=r(d[13]),j=r(d[14]);const{width:C}=u.default.get('window'),P=({level:e,count:t,uniqueUsers:n,uniquePatients:c})=>{const s={low:{label:'Low Risk',icon:'\u2713',color:T.medicalProviderTheme.colors.healthy,description:'Routine activities'},medium:{label:'Medium Risk',icon:'\u25d0',color:T.medicalProviderTheme.colors.stable,description:'Standard medical access'},high:{label:'High Risk',icon:'\u26a0',color:T.medicalProviderTheme.colors.warning,description:'Sensitive data access'},critical:{label:'Critical',icon:'\u26a0\ufe0f',color:T.medicalProviderTheme.colors.critical,description:'Requires audit'},unknown:{label:'Unknown',icon:'\u2753',color:T.medicalProviderTheme.colors.darkGray,description:'Data missing'}},h=s[e]||s.unknown;return(0,j.jsxs)(y.default,{variant:"white",style:z.riskCard,children:[(0,j.jsx)(o.default,{style:[z.riskIconBg,{backgroundColor:h.color+'30'}],children:(0,j.jsx)(l.default,{style:z.riskIcon,children:h.icon})}),(0,j.jsx)(l.default,{style:[z.riskCount,{color:h.color}],children:t}),(0,j.jsx)(l.default,{style:z.riskLabel,children:h.label}),(0,j.jsx)(l.default,{style:z.riskDescription,children:h.description}),n>0&&(0,j.jsxs)(l.default,{style:z.riskDetail,children:[n," users \u2022 ",c," patients"]})]})},w=({activity:e})=>{const t=e.user_name||e.user_email||'Unknown User',n=(e.action||'unknown').replace(/_/g,' '),c=e.timestamp?new Date(e.timestamp):null,s=c&&!isNaN(c.getTime());return(0,j.jsxs)(y.default,{variant:"white",style:z.nonCompliantCard,children:[(0,j.jsxs)(o.default,{style:z.nonCompliantHeader,children:[(0,j.jsx)(o.default,{style:z.nonCompliantIcon,children:(0,j.jsx)(l.default,{style:z.nonCompliantIconText,children:"\ud83d\udeab"})}),(0,j.jsxs)(o.default,{style:z.nonCompliantInfo,children:[(0,j.jsx)(l.default,{style:z.nonCompliantUser,children:t}),(0,j.jsx)(l.default,{style:z.nonCompliantAction,children:n}),(0,j.jsx)(l.default,{style:z.nonCompliantTime,children:s?c.toLocaleString():'No timestamp'})]}),(0,j.jsx)(o.default,{style:z.nonCompliantBadge,children:(0,j.jsx)(l.default,{style:z.nonCompliantBadgeText,children:"NON-COMPLIANT"})})]}),e.error_message&&(0,j.jsxs)(l.default,{style:z.nonCompliantError,children:["Error: ",e.error_message]})]})},S=({activity:e})=>{const t={low:T.medicalProviderTheme.colors.healthy,medium:T.medicalProviderTheme.colors.stable,high:T.medicalProviderTheme.colors.warning,critical:T.medicalProviderTheme.colors.critical,unknown:T.medicalProviderTheme.colors.darkGray},n=e.sensitivity_level||'critical',c=t[n]||t.critical,s=e.user_name||'Unknown User',h=(e.user_role||'staff').replace(/_/g,' '),u=(e.action||'activity').replace(/_/g,' '),f=e.timestamp?new Date(e.timestamp):null,p=f&&!isNaN(f.getTime());return(0,j.jsx)(y.default,{variant:"white",style:z.criticalCard,children:(0,j.jsxs)(o.default,{style:z.criticalContent,children:[(0,j.jsxs)(o.default,{style:z.criticalInfo,children:[(0,j.jsxs)(o.default,{style:z.criticalUserRow,children:[(0,j.jsx)(l.default,{style:z.criticalUserName,children:s}),(0,j.jsx)(l.default,{style:z.criticalUserRole,children:h})]}),(0,j.jsx)(l.default,{style:z.criticalAction,children:u}),e.patient_name&&(0,j.jsxs)(l.default,{style:z.criticalPatient,children:["Patient: ",e.patient_name]}),(0,j.jsx)(l.default,{style:z.criticalTime,children:p?f.toLocaleString():'No timestamp'})]}),(0,j.jsx)(o.default,{style:[z.criticalSensitivityBadge,{backgroundColor:c+'30'}],children:(0,j.jsx)(l.default,{style:[z.criticalSensitivityText,{color:c}],children:n.toUpperCase()})})]})})},b=({user:e})=>{const t={valid:{icon:'\u2705',color:T.medicalProviderTheme.colors.healthy,label:'Valid'},expiring_soon:{icon:'\u26a0\ufe0f',color:T.medicalProviderTheme.colors.warning,label:'Expiring Soon'},expired:{icon:'\u274c',color:T.medicalProviderTheme.colors.critical,label:'Expired'},not_set:{icon:'\u2753',color:T.medicalProviderTheme.colors.darkGray,label:'Not Set'}},n=t[e.training_status]||t.not_set,c=e.name||'Unknown User',s=(e.role||'staff').replace(/_/g,' '),h=e.hipaa_training_expiry?new Date(e.hipaa_training_expiry):null,u=h&&!isNaN(h.getTime());return(0,j.jsx)(y.default,{variant:"white",style:z.trainingCard,children:(0,j.jsxs)(o.default,{style:z.trainingContent,children:[(0,j.jsxs)(o.default,{style:z.trainingInfo,children:[(0,j.jsx)(l.default,{style:z.trainingUserName,children:c}),(0,j.jsx)(l.default,{style:z.trainingUserRole,children:s}),u&&(0,j.jsxs)(l.default,{style:z.trainingExpiry,children:["Expires: ",h.toLocaleDateString()]})]}),(0,j.jsxs)(o.default,{style:[z.trainingStatusBadge,{backgroundColor:n.color+'30'}],children:[(0,j.jsx)(l.default,{style:z.trainingStatusIcon,children:n.icon}),(0,j.jsx)(l.default,{style:[z.trainingStatusText,{color:n.color}],children:n.label})]})]})})},k=({patient:e})=>{const t=e.patient_name||'Unknown Patient',n=e.patient_id||'N/A',c=e.access_count||0,s=e.unique_users||0,h=e.last_accessed?new Date(e.last_accessed):null;return(0,j.jsx)(y.default,{variant:"white",style:z.patientCard,children:(0,j.jsxs)(o.default,{style:z.patientContent,children:[(0,j.jsxs)(o.default,{style:z.patientInfo,children:[(0,j.jsx)(l.default,{style:z.patientName,children:t}),(0,j.jsxs)(l.default,{style:z.patientId,children:["ID: ",n]}),(0,j.jsxs)(l.default,{style:z.patientAccess,children:[c," access",1===c?'':'es'," by ",s," user",1===s?'':'s']}),h&&!isNaN(h.getTime())&&(0,j.jsxs)(l.default,{style:z.patientLastAccess,children:["Last accessed: ",h.toLocaleString()]})]}),(0,j.jsxs)(o.default,{style:z.patientBadge,children:[(0,j.jsx)(l.default,{style:z.patientAccessCount,children:c}),(0,j.jsx)(l.default,{style:z.patientAccessLabel,children:"accesses"})]})]})})},A=({label:e,status:t,description:n})=>{const c={passed:{icon:'\u2705',color:T.medicalProviderTheme.colors.healthy,text:'Passed'},attention:{icon:'\u26a0\ufe0f',color:T.medicalProviderTheme.colors.warning,text:'Attention'},review:{icon:'\ud83d\udd0d',color:T.medicalProviderTheme.colors.warning,text:'Review'},failed:{icon:'\u274c',color:T.medicalProviderTheme.colors.critical,text:'Failed'}},s=c[t]||c.passed;return(0,j.jsxs)(o.default,{style:z.checklistItem,children:[(0,j.jsx)(l.default,{style:z.checklistIcon,children:s.icon}),(0,j.jsxs)(o.default,{style:z.checklistInfo,children:[(0,j.jsx)(l.default,{style:z.checklistLabel,children:e}),(0,j.jsx)(l.default,{style:z.checklistDescription,children:n})]}),(0,j.jsx)(o.default,{style:[z.checklistStatus,{backgroundColor:s.color+'30'}],children:(0,j.jsx)(l.default,{style:[z.checklistStatusText,{color:s.color}],children:s.text})})]})},z=c.default.create({container:{flex:1,backgroundColor:T.medicalProviderTheme.colors.clinicalWhite},background:{position:'absolute',left:0,right:0,top:0,bottom:0},loadingText:{color:T.medicalProviderTheme.colors.mediumGray,fontSize:16,textAlign:'center',marginTop:100},headerGradient:{paddingTop:60},header:{paddingHorizontal:20,paddingBottom:20},headerContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},backText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},headerTitleContainer:{flexDirection:'row',alignItems:'center'},headerIcon:{fontSize:24,marginRight:8},headerTitle:{fontSize:20,fontWeight:'700',color:'#FFFFFF'},filterContainer:{paddingHorizontal:20,paddingVertical:15},filterChip:{paddingHorizontal:20,paddingVertical:10,borderRadius:20,backgroundColor:T.medicalProviderTheme.colors.lightGray,marginRight:10,borderWidth:1,borderColor:T.medicalProviderTheme.colors.accentTeal+'30'},filterChipActive:{backgroundColor:T.medicalProviderTheme.colors.accentTeal,borderColor:T.medicalProviderTheme.colors.accentTeal},filterChipText:{color:T.medicalProviderTheme.colors.deepTeal,fontSize:14,fontWeight:'600'},filterChipTextActive:{color:'#FFFFFF'},scrollView:{flex:1},content:{padding:20},reportHeaderCard:{padding:25,marginBottom:25},reportHeader:{alignItems:'center'},reportTitle:{fontSize:24,fontWeight:'700',color:T.medicalProviderTheme.colors.deepTeal,marginBottom:8},reportDate:{fontSize:13,color:T.medicalProviderTheme.colors.mediumGray,fontStyle:'italic',marginBottom:4},reportPeriod:{fontSize:14,color:T.medicalProviderTheme.colors.deepTeal,fontWeight:'600'},sectionTitle:{fontSize:20,fontWeight:'700',color:T.medicalProviderTheme.colors.deepTeal,marginBottom:15},sectionDescription:{fontSize:14,color:T.medicalProviderTheme.colors.mediumGray,marginBottom:15,marginTop:-10},sectionHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:15},criticalBadge:{backgroundColor:T.medicalProviderTheme.colors.warning+'30',paddingHorizontal:12,paddingVertical:6,borderRadius:12},criticalBadgeText:{color:T.medicalProviderTheme.colors.warning,fontSize:11,fontWeight:'700'},statsRow:{flexDirection:'row',marginBottom:20},complianceCard:{padding:20,marginBottom:25},complianceRow:{flexDirection:'row',justifyContent:'space-around',alignItems:'center'},complianceStat:{alignItems:'center'},complianceValue:{fontSize:36,fontWeight:'700',color:T.medicalProviderTheme.colors.healthy,marginBottom:4},complianceLabel:{fontSize:13,color:T.medicalProviderTheme.colors.mediumGray,fontWeight:'600'},complianceDivider:{width:1,height:50,backgroundColor:T.medicalProviderTheme.colors.lightGray},sensitivityGrid:{flexDirection:'row',flexWrap:'wrap',justifyContent:'space-between',marginBottom:30},riskCard:{width:(C-55)/2,padding:18,marginBottom:15,alignItems:'center'},riskIconBg:{width:50,height:50,borderRadius:25,justifyContent:'center',alignItems:'center',marginBottom:10},riskIcon:{fontSize:24},riskCount:{fontSize:28,fontWeight:'700',marginBottom:4},riskLabel:{fontSize:14,fontWeight:'700',color:T.medicalProviderTheme.colors.deepTeal,marginBottom:4},riskDescription:{fontSize:11,color:T.medicalProviderTheme.colors.mediumGray,textAlign:'center',marginBottom:4},riskDetail:{fontSize:10,color:T.medicalProviderTheme.colors.accentTeal,textAlign:'center'},warningCard:{padding:20,marginBottom:15,borderLeftWidth:4,borderLeftColor:T.medicalProviderTheme.colors.warning},warningText:{color:T.medicalProviderTheme.colors.deepTeal,fontSize:14,lineHeight:20},nonCompliantCard:{padding:16,marginBottom:12,borderLeftWidth:3,borderLeftColor:T.medicalProviderTheme.colors.emergencyRed},nonCompliantHeader:{flexDirection:'row',alignItems:'center'},nonCompliantIcon:{width:40,height:40,borderRadius:20,backgroundColor:T.medicalProviderTheme.colors.emergencyRed+'20',justifyContent:'center',alignItems:'center',marginRight:12},nonCompliantIconText:{fontSize:20},nonCompliantInfo:{flex:1},nonCompliantUser:{fontSize:16,fontWeight:'700',color:T.medicalProviderTheme.colors.deepTeal,marginBottom:2},nonCompliantAction:{fontSize:13,color:T.medicalProviderTheme.colors.darkGray,textTransform:'capitalize',marginBottom:2},nonCompliantTime:{fontSize:11,color:T.medicalProviderTheme.colors.mediumGray},nonCompliantBadge:{backgroundColor:T.medicalProviderTheme.colors.emergencyRed+'30',paddingHorizontal:10,paddingVertical:6,borderRadius:8},nonCompliantBadgeText:{color:T.medicalProviderTheme.colors.emergencyRed,fontSize:9,fontWeight:'700'},nonCompliantError:{marginTop:10,fontSize:12,color:T.medicalProviderTheme.colors.emergencyRed,fontStyle:'italic'},criticalCard:{padding:14,marginBottom:10},criticalContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'flex-start'},criticalInfo:{flex:1},criticalUserRow:{flexDirection:'row',alignItems:'center',marginBottom:4},criticalUserName:{fontSize:16,fontWeight:'700',color:T.medicalProviderTheme.colors.deepTeal,marginRight:8},criticalUserRole:{fontSize:11,color:T.medicalProviderTheme.colors.mediumGray,textTransform:'capitalize'},criticalAction:{fontSize:14,color:T.medicalProviderTheme.colors.darkGray,textTransform:'capitalize',marginBottom:3},criticalPatient:{fontSize:12,color:T.medicalProviderTheme.colors.medicalBlue,fontStyle:'italic',marginBottom:3},criticalTime:{fontSize:11,color:T.medicalProviderTheme.colors.mediumGray},criticalSensitivityBadge:{paddingHorizontal:10,paddingVertical:6,borderRadius:8,marginLeft:10},criticalSensitivityText:{fontSize:10,fontWeight:'700'},trainingCard:{padding:14,marginBottom:10},trainingContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},trainingInfo:{flex:1},trainingUserName:{fontSize:16,fontWeight:'700',color:T.medicalProviderTheme.colors.deepTeal,marginBottom:4},trainingUserRole:{fontSize:13,color:T.medicalProviderTheme.colors.mediumGray,textTransform:'capitalize',marginBottom:2},trainingExpiry:{fontSize:11,color:T.medicalProviderTheme.colors.darkGray},trainingStatusBadge:{flexDirection:'row',alignItems:'center',paddingHorizontal:12,paddingVertical:8,borderRadius:12},trainingStatusIcon:{fontSize:14,marginRight:6},trainingStatusText:{fontSize:12,fontWeight:'700'},checklistCard:{padding:20,marginBottom:25},checklistItem:{flexDirection:'row',alignItems:'center',paddingVertical:12,borderBottomWidth:1,borderBottomColor:T.medicalProviderTheme.colors.lightGray},checklistIcon:{fontSize:24,marginRight:15},checklistInfo:{flex:1},checklistLabel:{fontSize:15,fontWeight:'600',color:T.medicalProviderTheme.colors.deepTeal,marginBottom:3},checklistDescription:{fontSize:12,color:T.medicalProviderTheme.colors.mediumGray},checklistStatus:{paddingHorizontal:12,paddingVertical:6,borderRadius:10},checklistStatusText:{fontSize:11,fontWeight:'700'},disclaimerCard:{padding:20,marginBottom:20},disclaimerTitle:{fontSize:16,fontWeight:'700',color:T.medicalProviderTheme.colors.deepTeal,marginBottom:12},disclaimerText:{fontSize:13,color:T.medicalProviderTheme.colors.darkGray,lineHeight:20},patientCard:{padding:14,marginBottom:10},patientContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},patientInfo:{flex:1},patientName:{fontSize:16,fontWeight:'700',color:T.medicalProviderTheme.colors.deepTeal,marginBottom:4},patientId:{fontSize:12,color:T.medicalProviderTheme.colors.mediumGray,marginBottom:3},patientAccess:{fontSize:13,color:T.medicalProviderTheme.colors.medicalBlue,marginBottom:2},patientLastAccess:{fontSize:11,color:T.medicalProviderTheme.colors.darkGray,fontStyle:'italic'},patientBadge:{backgroundColor:T.medicalProviderTheme.colors.accentTeal+'20',paddingHorizontal:16,paddingVertical:12,borderRadius:12,alignItems:'center',marginLeft:12},patientAccessCount:{fontSize:22,fontWeight:'700',color:T.medicalProviderTheme.colors.accentTeal,marginBottom:2},patientAccessLabel:{fontSize:10,color:T.medicalProviderTheme.colors.accentTeal,fontWeight:'600'}});var B=({user:e,onBack:c})=>{const[u,C]=(0,t.useState)(null),[B,I]=(0,t.useState)(!0),[R,_]=(0,t.useState)(!1),[D,G]=(0,t.useState)('month');(0,t.useEffect)(()=>{H()},[D]);const H=async()=>{try{I(!0);const e={week:7,month:30,quarter:90,year:365},t=await(0,v.apiRequest)(`/api/medicalprovider/hipaa-report?days=${e[D]}`,{method:'GET'});C(t.report)}catch(e){console.error('[HIPAADashboard] Load error:',e)}finally{I(!1),_(!1)}};return B||!u?(0,j.jsxs)(o.default,{style:z.container,children:[(0,j.jsx)(f.LinearGradient,{colors:[T.medicalProviderTheme.colors.clinicalWhite,T.medicalProviderTheme.colors.lightGray],style:z.background}),(0,j.jsx)(l.default,{style:z.loadingText,children:"Generating HIPAA compliance report..."})]}):(0,j.jsxs)(o.default,{style:z.container,children:[(0,j.jsx)(f.LinearGradient,{colors:[T.medicalProviderTheme.colors.clinicalWhite,T.medicalProviderTheme.colors.lightGray],style:z.background}),(0,j.jsx)(f.LinearGradient,{colors:[T.medicalProviderTheme.colors.deepTeal,T.medicalProviderTheme.colors.clinicalTeal],style:z.headerGradient,children:(0,j.jsx)(p.BlurView,{intensity:10,style:z.header,children:(0,j.jsxs)(o.default,{style:z.headerContent,children:[(0,j.jsx)(s.default,{onPress:c,children:(0,j.jsx)(l.default,{style:z.backText,children:"\u2190 Back"})}),(0,j.jsxs)(o.default,{style:z.headerTitleContainer,children:[(0,j.jsx)(l.default,{style:z.headerIcon,children:"\ud83d\udd12"}),(0,j.jsx)(l.default,{style:z.headerTitle,children:"HIPAA Compliance"})]}),(0,j.jsx)(o.default,{style:{width:60}})]})})}),(0,j.jsx)(o.default,{style:z.filterContainer,children:(0,j.jsx)(n.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:['week','month','quarter','year'].map(e=>(0,j.jsx)(s.default,{style:[z.filterChip,D===e&&z.filterChipActive],onPress:()=>G(e),children:(0,j.jsx)(l.default,{style:[z.filterChipText,D===e&&z.filterChipTextActive],children:'week'===e?'Last Week':'month'===e?'Last Month':'quarter'===e?'Last Quarter':'Last Year'})},e))})}),(0,j.jsxs)(n.default,{style:z.scrollView,contentContainerStyle:z.content,refreshControl:(0,j.jsx)(h.default,{refreshing:R,onRefresh:()=>{_(!0),H()},tintColor:T.medicalProviderTheme.colors.accentTeal}),children:[(0,j.jsx)(y.default,{variant:"mint",style:z.reportHeaderCard,children:(0,j.jsxs)(o.default,{style:z.reportHeader,children:[(0,j.jsx)(l.default,{style:z.reportTitle,children:"HIPAA Audit Report"}),(0,j.jsxs)(l.default,{style:z.reportDate,children:["Generated: ",new Date(u.generatedAt).toLocaleString()]}),(0,j.jsx)(l.default,{style:z.reportPeriod,children:u.period})]})}),(0,j.jsx)(l.default,{style:z.sectionTitle,children:"Key Compliance Metrics"}),(0,j.jsxs)(o.default,{style:z.statsRow,children:[(0,j.jsx)(x.default,{label:"Total Activities",value:u.metrics.totalActivities,icon:"\ud83d\udcca",color:T.medicalProviderTheme.colors.accentTeal,size:"small"}),(0,j.jsx)(o.default,{style:{width:12}}),(0,j.jsx)(x.default,{label:"Audit Required",value:u.metrics.auditRequiredCount,icon:"\u26a0\ufe0f",color:T.medicalProviderTheme.colors.warning,size:"small"}),(0,j.jsx)(o.default,{style:{width:12}}),(0,j.jsx)(x.default,{label:"Compliance Rate",value:`${u.metrics.complianceRate}%`,icon:"\u2705",color:T.medicalProviderTheme.colors.healthy,size:"small"})]}),(0,j.jsx)(y.default,{variant:"white",style:z.complianceCard,children:(0,j.jsxs)(o.default,{style:z.complianceRow,children:[(0,j.jsxs)(o.default,{style:z.complianceStat,children:[(0,j.jsx)(l.default,{style:z.complianceValue,children:u.metrics.compliantActivities}),(0,j.jsx)(l.default,{style:z.complianceLabel,children:"Compliant"})]}),(0,j.jsx)(o.default,{style:z.complianceDivider}),(0,j.jsxs)(o.default,{style:z.complianceStat,children:[(0,j.jsx)(l.default,{style:[z.complianceValue,{color:T.medicalProviderTheme.colors.emergencyRed}],children:u.metrics.nonCompliantActivities}),(0,j.jsx)(l.default,{style:z.complianceLabel,children:"Non-Compliant"})]})]})}),(0,j.jsx)(l.default,{style:z.sectionTitle,children:"Risk Assessment"}),(0,j.jsx)(o.default,{style:z.sensitivityGrid,children:u.sensitivityBreakdown&&u.sensitivityBreakdown.map(e=>(0,j.jsx)(P,{level:e.sensitivity_level||'unknown',count:e.count,uniqueUsers:e.unique_users,uniquePatients:e.unique_patients},e.sensitivity_level||'unknown'))}),u.nonCompliantActivities&&u.nonCompliantActivities.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(o.default,{style:z.sectionHeader,children:[(0,j.jsx)(l.default,{style:z.sectionTitle,children:"Non-Compliant Activities"}),(0,j.jsx)(o.default,{style:z.criticalBadge,children:(0,j.jsx)(l.default,{style:z.criticalBadgeText,children:"\u26a0\ufe0f REVIEW"})})]}),(0,j.jsx)(y.default,{variant:"white",style:z.warningCard,children:(0,j.jsxs)(l.default,{style:z.warningText,children:[u.nonCompliantActivities.length," non-compliant activit",1===u.nonCompliantActivities.length?'y':'ies'," detected. These require immediate investigation for HIPAA compliance."]})}),u.nonCompliantActivities.slice(0,5).map((e,t)=>(0,j.jsx)(w,{activity:e},e.id||t))]}),u.criticalActivities&&u.criticalActivities.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.default,{style:z.sectionTitle,children:"Critical Activities"}),(0,j.jsx)(l.default,{style:z.sectionDescription,children:"High-sensitivity activities requiring administrative review"}),u.criticalActivities.slice(0,10).map((e,t)=>(0,j.jsx)(S,{activity:e},e.id||t))]}),u.userTrainingStatus&&u.userTrainingStatus.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.default,{style:z.sectionTitle,children:"Staff HIPAA Training Status"}),u.userTrainingStatus.map((e,t)=>(0,j.jsx)(b,{user:e},e.id||t))]}),u.patientAccessSummary&&u.patientAccessSummary.length>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.default,{style:z.sectionTitle,children:"Patient Access Summary"}),(0,j.jsx)(l.default,{style:z.sectionDescription,children:"Most frequently accessed patient records in the reporting period"}),u.patientAccessSummary.slice(0,10).map((e,t)=>(0,j.jsx)(k,{patient:e},e.patient_id||t))]}),(0,j.jsx)(l.default,{style:z.sectionTitle,children:"Compliance Checklist"}),(0,j.jsxs)(y.default,{variant:"white",style:z.checklistCard,children:[(0,j.jsx)(A,{label:"Activity Logging Enabled",status:"passed",description:"All PHI access is being logged"}),(0,j.jsx)(A,{label:"Data Retention Policy",status:"passed",description:"7-year retention configured"}),(0,j.jsx)(A,{label:"Compliance Rate",status:u.metrics.complianceRate>=95?'passed':'attention',description:`${u.metrics.complianceRate}% compliant activities`}),(0,j.jsx)(A,{label:"Non-Compliant Monitoring",status:0===u.metrics.nonCompliantActivities?'passed':'attention',description:0===u.metrics.nonCompliantActivities?'No non-compliant activities':`${u.metrics.nonCompliantActivities} activities need review`}),(0,j.jsx)(A,{label:"Critical Action Auditing",status:u.metrics.auditRequiredCount>0?'review':'passed',description:u.metrics.auditRequiredCount>0?`${u.metrics.auditRequiredCount} actions require audit`:'No pending audits'})]}),(0,j.jsxs)(y.default,{variant:"mint",style:z.disclaimerCard,children:[(0,j.jsx)(l.default,{style:z.disclaimerTitle,children:"\ud83d\udccb HIPAA Compliance Notice"}),(0,j.jsx)(l.default,{style:z.disclaimerText,children:"This report provides an overview of Protected Health Information (PHI) access activities. Regular review of these reports is required under HIPAA regulations. All critical actions and non-compliant activities must be investigated and documented. Retain this report for at least 7 years as required by HIPAA."})]}),(0,j.jsx)(o.default,{style:{height:100}})]})]})}},444,[13,85,161,177,26,162,176,120,350,315,440,443,441,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return P}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),c=e(r(d[4])),s=e(r(d[5])),u=e(r(d[6])),h=r(d[7]),f=r(d[8]),y=e(r(d[9])),T=r(d[10]),v=r(d[11]),x=r(d[12]);const p=({activity:e,isLast:t})=>{const n={user:T.medicalProviderTheme.colors.accentTeal,patient:T.medicalProviderTheme.colors.medicalTeal,document:T.medicalProviderTheme.colors.prescriptionGreen,financial:T.medicalProviderTheme.colors.healthy,communication:T.medicalProviderTheme.colors.accentTeal,case:T.medicalProviderTheme.colors.medicalBlue,settings:T.medicalProviderTheme.colors.darkGray,security:T.medicalProviderTheme.colors.emergencyRed},c={low:T.medicalProviderTheme.colors.healthy,medium:T.medicalProviderTheme.colors.stable,high:T.medicalProviderTheme.colors.warning,critical:T.medicalProviderTheme.colors.critical},s=e.action||'unknown_action',u=e.action_category||'user',h=e.sensitivity_level||null,f=e.target_name||null,v=e.metadata||{},p=e.ip_address||null,P=e.audit_required||!1;return(0,x.jsxs)(o.default,{style:j.timelineItem,children:[(0,x.jsxs)(o.default,{style:j.timelineLeft,children:[(0,x.jsx)(o.default,{style:[j.timelineDot,{backgroundColor:n[u]||T.medicalProviderTheme.colors.accentTeal}],children:h&&(0,x.jsx)(o.default,{style:[j.sensitivityRing,{borderColor:c[h]||T.medicalProviderTheme.colors.darkGray}]})}),!t&&(0,x.jsx)(o.default,{style:j.timelineLine})]}),(0,x.jsxs)(y.default,{variant:"white",style:j.activityCard,children:[(0,x.jsxs)(o.default,{style:j.activityHeader,children:[(0,x.jsx)(l.default,{style:j.activityIcon,children:{user_created:'\u2795',user_updated:'\u270f\ufe0f',user_deactivated:'\ud83d\udeab',user_reactivated:'\u2705',user_login:'\ud83d\udd13',user_logout:'\ud83d\udd12',patient_viewed:'\ud83d\udc41\ufe0f',patient_updated:'\u270f\ufe0f',patient_created:'\u2795',patient_phi_accessed:'\ud83d\udd10',medical_record_viewed:'\ud83d\udccb',medical_record_updated:'\u270f\ufe0f',medical_record_created:'\ud83d\udcdd',document_uploaded:'\ud83d\udce4',document_downloaded:'\ud83d\udce5',document_deleted:'\ud83d\uddd1\ufe0f',notification_sent:'\ud83d\udce8',settings_updated:'\u2699\ufe0f',password_changed:'\ud83d\udd11'}[s]||'\ud83d\udcca'}),(0,x.jsxs)(o.default,{style:j.activityHeaderRight,children:[(0,x.jsx)(l.default,{style:j.activityTime,children:(e=>{const t=e?new Date(e):null;return!t||isNaN(t.getTime())?'Invalid time':t.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:!0})})(e.timestamp)}),h&&(0,x.jsx)(o.default,{style:[j.sensitivityBadge,{backgroundColor:(c[h]||T.medicalProviderTheme.colors.darkGray)+'30'}],children:(0,x.jsx)(l.default,{style:[j.sensitivityText,{color:c[h]||T.medicalProviderTheme.colors.darkGray}],children:h.toUpperCase()})})]})]}),(0,x.jsx)(l.default,{style:j.activityAction,children:s.replace(/_/g,' ').replace(/\b\w/g,e=>e.toUpperCase())}),f&&(0,x.jsxs)(o.default,{style:j.activityTarget,children:[(0,x.jsx)(l.default,{style:j.activityTargetLabel,children:"Target:"}),(0,x.jsx)(l.default,{style:j.activityTargetValue,children:f})]}),v&&Object.keys(v).length>0&&(0,x.jsxs)(o.default,{style:j.activityMetadata,children:[(0,x.jsx)(l.default,{style:j.metadataLabel,children:"Details:"}),v.method&&(0,x.jsxs)(l.default,{style:j.metadataText,children:["Method: ",v.method]}),v.path&&(0,x.jsxs)(l.default,{style:j.metadataText,children:["Path: ",v.path]}),v.changes&&'object'==typeof v.changes&&(0,x.jsxs)(l.default,{style:j.metadataText,children:["Changes: ",Object.keys(v.changes).join(', ')]})]}),(0,x.jsxs)(o.default,{style:j.activityFooter,children:[(0,x.jsx)(o.default,{style:[j.categoryBadge,{backgroundColor:(n[u]||T.medicalProviderTheme.colors.accentTeal)+'20'}],children:(0,x.jsx)(l.default,{style:[j.categoryText,{color:n[u]||T.medicalProviderTheme.colors.accentTeal}],children:u.replace(/_/g,' ').toUpperCase()})}),P&&(0,x.jsx)(o.default,{style:j.auditBadge,children:(0,x.jsx)(l.default,{style:j.auditText,children:"\u26a0\ufe0f AUDIT REQUIRED"})})]}),p&&(0,x.jsxs)(l.default,{style:j.ipAddress,children:["IP: ",p]}),'failed'===e.status&&e.error_message&&(0,x.jsx)(o.default,{style:j.errorContainer,children:(0,x.jsxs)(l.default,{style:j.errorText,children:["\u274c Error: ",e.error_message]})})]})]})},j=c.default.create({container:{flex:1,backgroundColor:T.medicalProviderTheme.colors.clinicalWhite},background:{position:'absolute',left:0,right:0,top:0,bottom:0},headerGradient:{paddingTop:60},header:{paddingHorizontal:20,paddingBottom:20},headerContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},backText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'700',color:'#FFFFFF'},userInfoCard:{margin:20,padding:16},userInfoContent:{flexDirection:'row',alignItems:'center'},userAvatar:{marginRight:15},avatarGradient:{width:70,height:70,borderRadius:35,justifyContent:'center',alignItems:'center',borderWidth:3,borderColor:T.medicalProviderTheme.colors.mintGreen},userInitials:{color:'#FFFFFF',fontSize:28,fontWeight:'700'},userInfo:{flex:1},userNameRow:{flexDirection:'row',alignItems:'center',marginBottom:4},userName:{color:T.medicalProviderTheme.colors.deepTeal,fontSize:22,fontWeight:'700'},userEmail:{color:T.medicalProviderTheme.colors.mediumGray,fontSize:14,marginBottom:8},userMeta:{flexDirection:'row',alignItems:'center'},userBadge:{backgroundColor:T.medicalProviderTheme.colors.accentTeal+'30',paddingHorizontal:10,paddingVertical:4,borderRadius:8,marginRight:10},userBadgeText:{color:T.medicalProviderTheme.colors.accentTeal,fontSize:11,fontWeight:'700'},statusBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:8},statusBadgeText:{fontSize:11,fontWeight:'700'},scrollView:{flex:1},content:{padding:20,paddingTop:0},dateGroup:{marginBottom:30},dateHeader:{flexDirection:'row',alignItems:'center',marginBottom:20},dateLine:{flex:1,height:1,backgroundColor:T.medicalProviderTheme.colors.lightGray},dateText:{color:T.medicalProviderTheme.colors.darkGray,fontSize:13,fontWeight:'700',marginHorizontal:15,textTransform:'uppercase',letterSpacing:1},timelineItem:{flexDirection:'row',marginBottom:15},timelineLeft:{width:30,alignItems:'center',marginRight:15},timelineDot:{width:20,height:20,borderRadius:10,borderWidth:3,borderColor:T.medicalProviderTheme.colors.clinicalWhite,position:'relative'},sensitivityRing:{position:'absolute',top:-4,left:-4,right:-4,bottom:-4,borderRadius:14,borderWidth:2},timelineLine:{width:2,flex:1,backgroundColor:T.medicalProviderTheme.colors.lightGray,marginTop:8},activityCard:{flex:1,padding:16},activityHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:12},activityIcon:{fontSize:28},activityHeaderRight:{alignItems:'flex-end'},activityTime:{color:T.medicalProviderTheme.colors.mediumGray,fontSize:12,fontWeight:'600',marginBottom:6},sensitivityBadge:{paddingHorizontal:8,paddingVertical:4,borderRadius:8},sensitivityText:{fontSize:9,fontWeight:'700'},activityAction:{color:T.medicalProviderTheme.colors.deepTeal,fontSize:17,fontWeight:'700',marginBottom:10},activityTarget:{flexDirection:'row',marginBottom:6},activityTargetLabel:{color:T.medicalProviderTheme.colors.mediumGray,fontSize:13,marginRight:6},activityTargetValue:{color:T.medicalProviderTheme.colors.accentTeal,fontSize:13,fontWeight:'600'},activityMetadata:{backgroundColor:T.medicalProviderTheme.colors.lightGray,padding:10,borderRadius:8,marginBottom:10},metadataLabel:{color:T.medicalProviderTheme.colors.darkGray,fontSize:11,fontWeight:'700',marginBottom:6,textTransform:'uppercase',letterSpacing:1},metadataText:{color:T.medicalProviderTheme.colors.mediumGray,fontSize:12,fontFamily:'monospace',marginBottom:2},activityFooter:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginTop:8},categoryBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:8},categoryText:{fontSize:10,fontWeight:'700',letterSpacing:.5},auditBadge:{backgroundColor:T.medicalProviderTheme.colors.warning+'30',paddingHorizontal:10,paddingVertical:4,borderRadius:8},auditText:{color:T.medicalProviderTheme.colors.warning,fontSize:10,fontWeight:'700'},ipAddress:{color:T.medicalProviderTheme.colors.mediumGray,fontSize:10,fontFamily:'monospace',marginTop:8},errorContainer:{backgroundColor:T.medicalProviderTheme.colors.emergencyRed+'20',padding:10,borderRadius:8,marginTop:10,borderLeftWidth:3,borderLeftColor:T.medicalProviderTheme.colors.emergencyRed},errorText:{color:T.medicalProviderTheme.colors.emergencyRed,fontSize:12,fontWeight:'600'},emptyCard:{padding:40,alignItems:'center'},emptyText:{color:T.medicalProviderTheme.colors.darkGray,fontSize:16},loadingText:{color:T.medicalProviderTheme.colors.accentTeal,fontSize:16,textAlign:'center',marginTop:20},loadingMoreText:{color:T.medicalProviderTheme.colors.mediumGray,fontSize:14,textAlign:'center',marginVertical:20},endText:{color:T.medicalProviderTheme.colors.mediumGray,fontSize:14,textAlign:'center',marginVertical:30,fontStyle:'italic'}});var P=({user:e,targetUserId:c,onBack:P})=>{const[b,S]=(0,t.useState)([]),[w,C]=(0,t.useState)(null),[_,z]=(0,t.useState)(!0),[G,B]=(0,t.useState)(!1),[R,k]=(0,t.useState)(1),[I,L]=(0,t.useState)(!0),[F,W]=(0,t.useState)(!1),D=(0,t.useRef)(1),H=(0,t.useRef)(null),U=(0,t.useRef)(null);(0,t.useEffect)(()=>{V(R)},[R]);const V=async e=>{try{W(!0),1===e&&z(!0);const t=await(0,v.apiRequest)(`/api/medicalprovider/activity/user/${c}/timeline?page=${e}&limit=20`,{method:'GET'}),o=t.activities||[];1===e?(S(o),C(t.user)):S(e=>[...e,...o]),void 0!==t.pagination?.totalPages?L(t.pagination.currentPage<t.pagination.totalPages):L(o.length>=20),H.current=null,U.current=null,D.current=e}catch(t){console.error('[MedicalUserTimeline] Load error:',t),H.current=null,U.current=e}finally{z(!1),B(!1),W(!1)}},A=()=>{if(_||F||!I)return;if(null!==H.current)return;if(U.current===R)return H.current=R,void V(R);if(R>D.current)return;const e=R+1;H.current=e,k(e)},E=(e=>{const t={};return e.forEach(e=>{const o=e.timestamp?new Date(e.timestamp):null;if(!o||isNaN(o.getTime()))return;const l=o.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});t[l]||(t[l]=[]),t[l].push(e)}),t})(b);return(0,x.jsxs)(o.default,{style:j.container,children:[(0,x.jsx)(h.LinearGradient,{colors:[T.medicalProviderTheme.colors.clinicalWhite,T.medicalProviderTheme.colors.lightGray],style:j.background}),(0,x.jsx)(h.LinearGradient,{colors:[T.medicalProviderTheme.colors.deepTeal,T.medicalProviderTheme.colors.clinicalTeal],style:j.headerGradient,children:(0,x.jsx)(f.BlurView,{intensity:10,style:j.header,children:(0,x.jsxs)(o.default,{style:j.headerContent,children:[(0,x.jsx)(s.default,{onPress:P,children:(0,x.jsx)(l.default,{style:j.backText,children:"\u2190 Back"})}),(0,x.jsx)(l.default,{style:j.headerTitle,children:"Activity Timeline"}),(0,x.jsx)(o.default,{style:{width:60}})]})})}),w&&(0,x.jsx)(y.default,{variant:"white",style:j.userInfoCard,children:(0,x.jsxs)(o.default,{style:j.userInfoContent,children:[(0,x.jsx)(o.default,{style:j.userAvatar,children:(0,x.jsx)(h.LinearGradient,{colors:[T.medicalProviderTheme.colors.accentTeal,T.medicalProviderTheme.colors.clinicalTeal],style:j.avatarGradient,children:(0,x.jsx)(l.default,{style:j.userInitials,children:w.name?w.name.split(' ').map(e=>e[0]).join(''):'?'})})}),(0,x.jsxs)(o.default,{style:j.userInfo,children:[(0,x.jsx)(o.default,{style:j.userNameRow,children:(0,x.jsx)(l.default,{style:j.userName,children:w.name||'Unknown User'})}),(0,x.jsx)(l.default,{style:j.userEmail,children:w.email||'No email'}),(0,x.jsxs)(o.default,{style:j.userMeta,children:[(0,x.jsx)(o.default,{style:j.userBadge,children:(0,x.jsx)(l.default,{style:j.userBadgeText,children:(w.role||'staff').replace(/_/g,' ').toUpperCase()})}),w.status&&(0,x.jsx)(o.default,{style:[j.statusBadge,{backgroundColor:'active'===w.status?T.medicalProviderTheme.colors.healthy+'30':T.medicalProviderTheme.colors.mediumGray+'30'}],children:(0,x.jsx)(l.default,{style:[j.statusBadgeText,{color:'active'===w.status?T.medicalProviderTheme.colors.healthy:T.medicalProviderTheme.colors.mediumGray}],children:w.status.toUpperCase()})})]})]})]})}),(0,x.jsxs)(n.default,{style:j.scrollView,contentContainerStyle:j.content,showsVerticalScrollIndicator:!1,refreshControl:(0,x.jsx)(u.default,{refreshing:G,onRefresh:()=>{F||null!==H.current||(B(!0),L(!0),D.current=1,H.current=null,U.current=null,1===R?V(1):k(1))},tintColor:T.medicalProviderTheme.colors.accentTeal}),onScroll:({nativeEvent:e})=>{const{layoutMeasurement:t,contentOffset:o,contentSize:l}=e;t.height+o.y>=l.height-100&&A()},scrollEventThrottle:400,children:[Object.entries(E).map(([e,t])=>(0,x.jsxs)(o.default,{style:j.dateGroup,children:[(0,x.jsxs)(o.default,{style:j.dateHeader,children:[(0,x.jsx)(o.default,{style:j.dateLine}),(0,x.jsx)(l.default,{style:j.dateText,children:e}),(0,x.jsx)(o.default,{style:j.dateLine})]}),t.map((e,o)=>(0,x.jsx)(p,{activity:e,isLast:o===t.length-1},e.id||o))]},e)),0===b.length&&!_&&(0,x.jsx)(y.default,{variant:"mint",style:j.emptyCard,children:(0,x.jsx)(l.default,{style:j.emptyText,children:"No activity recorded yet"})}),_&&1===R&&(0,x.jsx)(l.default,{style:j.loadingText,children:"Loading timeline..."}),_&&R>1&&(0,x.jsx)(l.default,{style:j.loadingMoreText,children:"Loading more..."}),!I&&b.length>0&&(0,x.jsx)(l.default,{style:j.endText,children:"\u2014 End of timeline \u2014"}),(0,x.jsx)(o.default,{style:{height:100}})]})]})}},445,[13,85,161,177,26,162,176,350,315,440,441,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),p=e(r(d[8])),h=e(r(d[9])),x=e(r(d[10])),y=r(d[11]),b=r(d[12]);function j({user:e,onBack:l}){const[j,S]=(0,t.useState)(!0),[T,C]=(0,t.useState)([]),[F,v]=(0,t.useState)([]),[D,R]=(0,t.useState)(!1),[z,q]=(0,t.useState)(null),[k,w]=(0,t.useState)(!1),[A,E]=(0,t.useState)(null),[W,P]=(0,t.useState)('appointment'),[I,_]=(0,t.useState)(''),[L,O]=(0,t.useState)(''),[$,H]=(0,t.useState)(''),[N,V]=(0,t.useState)('60'),[M,U]=(0,t.useState)('');(0,t.useEffect)(()=>{J()},[]);const J=async()=>{S(!0);try{const e=await x.default.getItem('authToken'),t=await fetch(`${y.API_BASE_URL}/event-requests`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json(),o=await fetch(`${y.API_BASE_URL}/medicalprovider/patients`,{headers:{Authorization:`Bearer ${e}`}}),l=await o.json();C(n.eventRequests||[]),v(l.patients||[])}catch(e){console.error('Error fetching data:',e),f.default.alert('Error','Failed to load event requests')}finally{S(!1)}},G=async e=>{try{const t=await x.default.getItem('authToken'),n=await fetch(`${y.API_BASE_URL}/event-requests/${e.id}`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const e=await n.json();q(e),w(!0)}}catch(e){console.error('Error fetching request details:',e),f.default.alert('Error','Failed to load request details')}},K=async e=>{try{const t=await x.default.getItem('authToken'),n=await fetch(`${y.API_BASE_URL}/event-requests/${z.eventRequest.id}/confirm`,{method:'POST',headers:{Authorization:`Bearer ${t}`,'Content-Type':'application/json'},body:JSON.stringify({proposedDateId:e})});if(n.ok)f.default.alert('Success','Event confirmed and added to calendar'),w(!1),J();else{const e=await n.json();f.default.alert('Error',e.error||'Failed to confirm event')}}catch(e){console.error('Error confirming date:',e),f.default.alert('Error','Failed to confirm event')}},Q=()=>{E(null),P('appointment'),_(''),O(''),H(''),V('60'),U('')},X=e=>{switch(e){case'pending':return'#FFA500';case'dates_submitted':return'#4169E1';case'confirmed':return'#32CD32';case'cancelled':return'#DC143C';default:return'#808080'}},Y=e=>{switch(e){case'pending':return'Awaiting Response';case'dates_submitted':return'Dates Received';case'confirmed':return'Confirmed';case'cancelled':return'Cancelled';default:return e}};return j?(0,b.jsxs)(n.default,{style:B.container,children:[(0,b.jsxs)(n.default,{style:B.header,children:[(0,b.jsx)(s.default,{onPress:l,style:B.backButton,children:(0,b.jsx)(o.default,{style:B.backButtonText,children:"\u2190 Back"})}),(0,b.jsx)(o.default,{style:B.headerTitle,children:"Event Requests"})]}),(0,b.jsx)(n.default,{style:B.loadingContainer,children:(0,b.jsx)(p.default,{size:"large",color:"#8B4513"})})]}):(0,b.jsxs)(n.default,{style:B.container,children:[(0,b.jsxs)(n.default,{style:B.header,children:[(0,b.jsx)(s.default,{onPress:l,style:B.backButton,children:(0,b.jsx)(o.default,{style:B.backButtonText,children:"\u2190 Back"})}),(0,b.jsx)(o.default,{style:B.headerTitle,children:"Event Requests"}),(0,b.jsx)(s.default,{onPress:()=>R(!0),style:B.createButton,children:(0,b.jsx)(o.default,{style:B.createButtonText,children:"+ New Request"})})]}),(0,b.jsx)(c.default,{style:B.content,children:0===T.length?(0,b.jsxs)(n.default,{style:B.emptyState,children:[(0,b.jsx)(o.default,{style:B.emptyText,children:"No event requests yet"}),(0,b.jsx)(o.default,{style:B.emptySubtext,children:"Create a request to schedule depositions, mediations, or consultations with your patients"})]}):T.map(e=>(0,b.jsxs)(s.default,{style:B.requestCard,onPress:()=>G(e),children:[(0,b.jsxs)(n.default,{style:B.requestHeader,children:[(0,b.jsx)(o.default,{style:B.requestTitle,children:e.title}),(0,b.jsx)(n.default,{style:[B.statusBadge,{backgroundColor:X(e.status)}],children:(0,b.jsx)(o.default,{style:B.statusText,children:Y(e.status)})})]}),(0,b.jsxs)(o.default,{style:B.patientName,children:["Patient: ",e.patientName]}),(0,b.jsx)(o.default,{style:B.eventType,children:e.eventType.replace('_',' ').toUpperCase()}),(0,b.jsxs)(o.default,{style:B.requestDate,children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]},e.id))}),(0,b.jsx)(h.default,{visible:D,animationType:"slide",transparent:!0,onRequestClose:()=>R(!1),children:(0,b.jsx)(n.default,{style:B.modalOverlay,children:(0,b.jsxs)(n.default,{style:B.modalContent,children:[(0,b.jsx)(o.default,{style:B.modalTitle,children:"Create Event Request"}),(0,b.jsxs)(c.default,{style:B.formScroll,children:[(0,b.jsx)(o.default,{style:B.label,children:"Select Patient *"}),(0,b.jsx)(c.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:B.patientScroll,children:F.map(e=>(0,b.jsx)(s.default,{style:[B.patientChip,A?.id===e.id&&B.patientChipSelected],onPress:()=>E(e),children:(0,b.jsx)(o.default,{style:[B.patientChipText,A?.id===e.id&&B.patientChipTextSelected],children:e.name})},e.id))}),(0,b.jsx)(o.default,{style:B.label,children:"Event Type *"}),(0,b.jsx)(n.default,{style:B.typeButtonsRow,children:['appointment','consultation'].map(e=>(0,b.jsx)(s.default,{style:[B.typeButton,W===e&&B.typeButtonSelected],onPress:()=>P(e),children:(0,b.jsx)(o.default,{style:[B.typeButtonText,W===e&&B.typeButtonTextSelected],children:e.replace('_',' ')})},e))}),(0,b.jsx)(o.default,{style:B.label,children:"Title *"}),(0,b.jsx)(u.default,{style:B.input,value:I,onChangeText:_,placeholder:"e.g., Medical Deposition - Dr. Smith"}),(0,b.jsx)(o.default,{style:B.label,children:"Description"}),(0,b.jsx)(u.default,{style:[B.input,B.textArea],value:L,onChangeText:O,placeholder:"Additional details about the event",multiline:!0,numberOfLines:3}),(0,b.jsx)(o.default,{style:B.label,children:"Location"}),(0,b.jsx)(u.default,{style:B.input,value:$,onChangeText:H,placeholder:"Office, virtual, or other location"}),(0,b.jsx)(o.default,{style:B.label,children:"Duration (minutes)"}),(0,b.jsx)(u.default,{style:B.input,value:N,onChangeText:V,placeholder:"60",keyboardType:"numeric"}),(0,b.jsx)(o.default,{style:B.label,children:"Notes"}),(0,b.jsx)(u.default,{style:[B.input,B.textArea],value:M,onChangeText:U,placeholder:"Internal notes (not visible to patient)",multiline:!0,numberOfLines:2})]}),(0,b.jsxs)(n.default,{style:B.modalButtons,children:[(0,b.jsx)(s.default,{style:B.cancelButton,onPress:()=>{R(!1),Q()},children:(0,b.jsx)(o.default,{style:B.cancelButtonText,children:"Cancel"})}),(0,b.jsx)(s.default,{style:B.submitButton,onPress:async()=>{if(A&&I)try{const e=await x.default.getItem('authToken'),t=await fetch(`${y.API_BASE_URL}/event-requests`,{method:'POST',headers:{Authorization:`Bearer ${e}`,'Content-Type':'application/json'},body:JSON.stringify({patientId:A.id,eventType:W,title:I,description:L,location:$,durationMinutes:parseInt(N)||60,notes:M})});if(t.ok)f.default.alert('Success','Event request sent to patient'),R(!1),Q(),J();else{const e=await t.json();f.default.alert('Error',e.error||'Failed to create event request')}}catch(e){console.error('Error creating event request:',e),f.default.alert('Error','Failed to create event request')}else f.default.alert('Error','Please select a patient and enter a title')},children:(0,b.jsx)(o.default,{style:B.submitButtonText,children:"Send Request"})})]})]})})}),(0,b.jsx)(h.default,{visible:k,animationType:"slide",transparent:!0,onRequestClose:()=>w(!1),children:(0,b.jsx)(n.default,{style:B.modalOverlay,children:(0,b.jsx)(n.default,{style:B.modalContent,children:z&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.default,{style:B.modalTitle,children:z.eventRequest.title}),(0,b.jsxs)(c.default,{style:B.detailScroll,children:[(0,b.jsx)(o.default,{style:B.detailLabel,children:"Patient"}),(0,b.jsx)(o.default,{style:B.detailValue,children:z.eventRequest.patientName}),(0,b.jsx)(o.default,{style:B.detailLabel,children:"Status"}),(0,b.jsx)(n.default,{style:[B.statusBadge,{backgroundColor:X(z.eventRequest.status)}],children:(0,b.jsx)(o.default,{style:B.statusText,children:Y(z.eventRequest.status)})}),z.proposedDates&&z.proposedDates.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.default,{style:B.sectionTitle,children:"Patient's Proposed Dates"}),z.proposedDates.map((e,t)=>(0,b.jsxs)(n.default,{style:B.proposedDateCard,children:[(0,b.jsxs)(o.default,{style:B.proposedDateLabel,children:["Option ",t+1]}),(0,b.jsx)(o.default,{style:B.proposedDateTime,children:new Date(e.proposedStartTime).toLocaleString()}),(0,b.jsxs)(o.default,{style:B.proposedDateDuration,children:["to ",new Date(e.proposedEndTime).toLocaleTimeString()]}),'dates_submitted'===z.eventRequest.status&&!e.isSelected&&(0,b.jsx)(s.default,{style:B.confirmDateButton,onPress:()=>K(e.id),children:(0,b.jsx)(o.default,{style:B.confirmDateButtonText,children:"Confirm This Date"})}),e.isSelected&&(0,b.jsx)(n.default,{style:B.selectedBadge,children:(0,b.jsx)(o.default,{style:B.selectedBadgeText,children:"\u2713 Selected"})})]},e.id))]}),'pending'===z.eventRequest.status&&(0,b.jsx)(o.default,{style:B.pendingMessage,children:"Waiting for patient to propose available dates..."})]}),(0,b.jsx)(s.default,{style:B.closeButton,onPress:()=>w(!1),children:(0,b.jsx)(o.default,{style:B.closeButtonText,children:"Close"})})]})})})})]})}const B=l.default.create({container:{flex:1,backgroundColor:'#F5E6D3'},header:{backgroundColor:'#8B4513',padding:20,paddingTop:40,flexDirection:'row',alignItems:'center',justifyContent:'space-between'},backButton:{padding:8},backButtonText:{color:'#FFF',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#FFF',flex:1,textAlign:'center'},createButton:{backgroundColor:'#D4AF37',paddingHorizontal:12,paddingVertical:8,borderRadius:8},createButtonText:{color:'#FFF',fontWeight:'600'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},content:{flex:1,padding:16},emptyState:{alignItems:'center',justifyContent:'center',padding:40},emptyText:{fontSize:18,fontWeight:'600',color:'#8B4513',marginBottom:8},emptySubtext:{fontSize:14,color:'#666',textAlign:'center'},requestCard:{backgroundColor:'#FFF',borderRadius:12,padding:16,marginBottom:12,borderWidth:2,borderColor:'#8B4513'},requestHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'flex-start',marginBottom:8},requestTitle:{fontSize:16,fontWeight:'bold',color:'#8B4513',flex:1},statusBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:12,marginLeft:8},statusText:{color:'#FFF',fontSize:11,fontWeight:'600'},patientName:{fontSize:14,color:'#333',marginBottom:4},eventType:{fontSize:12,color:'#666',marginBottom:4},requestDate:{fontSize:12,color:'#999'},modalOverlay:{flex:1,backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'center',alignItems:'center',padding:20},modalContent:{backgroundColor:'#FFF',borderRadius:16,padding:20,width:'100%',maxHeight:'90%'},modalTitle:{fontSize:20,fontWeight:'bold',color:'#8B4513',marginBottom:16},formScroll:{maxHeight:400},label:{fontSize:14,fontWeight:'600',color:'#8B4513',marginTop:12,marginBottom:6},input:{borderWidth:1,borderColor:'#DDD',borderRadius:8,padding:12,fontSize:14,backgroundColor:'#FFF'},textArea:{height:80,textAlignVertical:'top'},patientScroll:{marginBottom:8},patientChip:{backgroundColor:'#F0F0F0',paddingHorizontal:16,paddingVertical:8,borderRadius:20,marginRight:8,borderWidth:2,borderColor:'transparent'},patientChipSelected:{backgroundColor:'#8B4513',borderColor:'#D4AF37'},patientChipText:{color:'#333',fontSize:14},patientChipTextSelected:{color:'#FFF',fontWeight:'600'},typeButtonsRow:{flexDirection:'row',flexWrap:'wrap',gap:8},typeButton:{backgroundColor:'#F0F0F0',paddingHorizontal:12,paddingVertical:8,borderRadius:8,borderWidth:2,borderColor:'transparent'},typeButtonSelected:{backgroundColor:'#8B4513',borderColor:'#D4AF37'},typeButtonText:{color:'#333',fontSize:12,textTransform:'capitalize'},typeButtonTextSelected:{color:'#FFF',fontWeight:'600'},modalButtons:{flexDirection:'row',justifyContent:'space-between',marginTop:16,gap:12},cancelButton:{flex:1,padding:14,borderRadius:8,borderWidth:2,borderColor:'#8B4513',alignItems:'center'},cancelButtonText:{color:'#8B4513',fontWeight:'600',fontSize:16},submitButton:{flex:1,padding:14,borderRadius:8,backgroundColor:'#8B4513',alignItems:'center'},submitButtonText:{color:'#FFF',fontWeight:'600',fontSize:16},detailScroll:{maxHeight:500},detailLabel:{fontSize:12,color:'#666',marginTop:12,marginBottom:4},detailValue:{fontSize:16,color:'#333',marginBottom:8},sectionTitle:{fontSize:16,fontWeight:'bold',color:'#8B4513',marginTop:20,marginBottom:12},proposedDateCard:{backgroundColor:'#F5E6D3',borderRadius:8,padding:12,marginBottom:12,borderWidth:1,borderColor:'#8B4513'},proposedDateLabel:{fontSize:12,fontWeight:'600',color:'#8B4513',marginBottom:4},proposedDateTime:{fontSize:16,color:'#333',fontWeight:'600'},proposedDateDuration:{fontSize:14,color:'#666',marginBottom:8},confirmDateButton:{backgroundColor:'#32CD32',padding:10,borderRadius:8,alignItems:'center',marginTop:8},confirmDateButtonText:{color:'#FFF',fontWeight:'600'},selectedBadge:{backgroundColor:'#D4AF37',padding:8,borderRadius:8,alignItems:'center',marginTop:8},selectedBadgeText:{color:'#FFF',fontWeight:'600'},pendingMessage:{fontSize:14,color:'#666',fontStyle:'italic',textAlign:'center',marginTop:20,padding:20},closeButton:{backgroundColor:'#8B4513',padding:14,borderRadius:8,alignItems:'center',marginTop:16},closeButtonText:{color:'#FFF',fontWeight:'600',fontSize:16}})},446,[13,85,161,26,162,177,340,116,354,156,125,135,153]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return y}});var t=r(_d[0]),n=e(r(_d[1])),l=e(r(_d[2])),s=e(r(_d[3])),o=e(r(_d[4])),i=e(r(_d[5])),d=e(r(_d[6])),u=e(r(_d[7])),c=e(r(_d[8]));r(_d[9]);var f=e(r(_d[10])),h=e(r(_d[11])),p=r(_d[12]),x=r(_d[13]);function y({user:e,onBack:s}){const[y,b]=(0,t.useState)(!0),[j,B]=(0,t.useState)([]),[S,C]=(0,t.useState)(null),[F,D]=(0,t.useState)(!1),[v,q]=(0,t.useState)(!1),[R,w]=(0,t.useState)(!1),[z,k]=(0,t.useState)(null),[E,L]=(0,t.useState)('start'),[W,A]=(0,t.useState)([{startTime:null,endTime:null},{startTime:null,endTime:null},{startTime:null,endTime:null}]);(0,t.useEffect)(()=>{P()},[]);const P=async()=>{b(!0);try{const e=await f.default.getItem('authToken'),t=await fetch(`${p.API_BASE_URL}/event-requests`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();B(n.eventRequests||[])}catch(e){console.error('Error fetching event requests:',e),d.default.alert('Error','Failed to load event requests')}finally{b(!1)}},_=async e=>{try{const t=await f.default.getItem('authToken'),n=await fetch(`${p.API_BASE_URL}/event-requests/${e.id}`,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const e=await n.json();C(e),e.proposedDates&&3===e.proposedDates.length?A(e.proposedDates.map(e=>({startTime:new Date(e.proposedStartTime),endTime:new Date(e.proposedEndTime)}))):A([{startTime:null,endTime:null},{startTime:null,endTime:null},{startTime:null,endTime:null}]),D(!0)}}catch(e){console.error('Error fetching request details:',e),d.default.alert('Error','Failed to load request details')}},I=(e,t)=>{k(e),L(t),q(!0)},M=e=>{switch(e){case'pending':return'#FFA500';case'dates_submitted':return'#4169E1';case'confirmed':return'#32CD32';case'cancelled':return'#DC143C';default:return'#808080'}},O=e=>{switch(e){case'pending':return'Action Required';case'dates_submitted':return'Awaiting Confirmation';case'confirmed':return'Confirmed';case'cancelled':return'Cancelled';default:return e}};return y?(0,x.jsxs)(n.default,{style:T.container,children:[(0,x.jsxs)(n.default,{style:T.header,children:[(0,x.jsx)(o.default,{onPress:s,style:T.backButton,children:(0,x.jsx)(l.default,{style:T.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(l.default,{style:T.headerTitle,children:"Event Requests"})]}),(0,x.jsx)(n.default,{style:T.loadingContainer,children:(0,x.jsx)(u.default,{size:"large",color:"#8B4513"})})]}):(0,x.jsxs)(n.default,{style:T.container,children:[(0,x.jsxs)(n.default,{style:T.header,children:[(0,x.jsx)(o.default,{onPress:s,style:T.backButton,children:(0,x.jsx)(l.default,{style:T.backButtonText,children:"\u2190 Back"})}),(0,x.jsx)(l.default,{style:T.headerTitle,children:"Event Requests"})]}),(0,x.jsx)(i.default,{style:T.content,children:0===j.length?(0,x.jsxs)(n.default,{style:T.emptyState,children:[(0,x.jsx)(l.default,{style:T.emptyText,children:"No event requests"}),(0,x.jsx)(l.default,{style:T.emptySubtext,children:"Your law firm will send requests when they need to schedule meetings with you"})]}):j.map(e=>(0,x.jsxs)(o.default,{style:T.requestCard,onPress:()=>_(e),children:[(0,x.jsxs)(n.default,{style:T.requestHeader,children:[(0,x.jsx)(l.default,{style:T.requestTitle,children:e.title}),(0,x.jsx)(n.default,{style:[T.statusBadge,{backgroundColor:M(e.status)}],children:(0,x.jsx)(l.default,{style:T.statusText,children:O(e.status)})})]}),(0,x.jsxs)(l.default,{style:T.lawFirmName,children:["From: ",e.lawFirmName]}),(0,x.jsx)(l.default,{style:T.eventType,children:e.eventType.replace('_',' ').toUpperCase()}),e.description&&(0,x.jsx)(l.default,{style:T.description,numberOfLines:2,children:e.description}),(0,x.jsxs)(l.default,{style:T.requestDate,children:["Requested: ",new Date(e.createdAt).toLocaleDateString()]}),'pending'===e.status&&(0,x.jsx)(n.default,{style:T.actionRequiredBanner,children:(0,x.jsx)(l.default,{style:T.actionRequiredText,children:"\ud83d\udcc5 Please select 3 available dates"})})]},e.id))}),(0,x.jsx)(c.default,{visible:F,animationType:"slide",transparent:!0,onRequestClose:()=>D(!1),children:(0,x.jsx)(n.default,{style:T.modalOverlay,children:(0,x.jsx)(n.default,{style:T.modalContent,children:S&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.default,{style:T.detailScroll,children:[(0,x.jsx)(l.default,{style:T.modalTitle,children:S.eventRequest.title}),(0,x.jsx)(n.default,{style:[T.statusBadge,{backgroundColor:M(S.eventRequest.status),marginBottom:16}],children:(0,x.jsx)(l.default,{style:T.statusText,children:O(S.eventRequest.status)})}),(0,x.jsx)(l.default,{style:T.detailLabel,children:"Law Firm"}),(0,x.jsx)(l.default,{style:T.detailValue,children:S.eventRequest.lawFirmName}),(0,x.jsx)(l.default,{style:T.detailLabel,children:"Event Type"}),(0,x.jsx)(l.default,{style:T.detailValue,children:S.eventRequest.eventType.replace('_',' ').toUpperCase()}),S.eventRequest.description&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.default,{style:T.detailLabel,children:"Description"}),(0,x.jsx)(l.default,{style:T.detailValue,children:S.eventRequest.description})]}),S.eventRequest.location&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.default,{style:T.detailLabel,children:"Location"}),(0,x.jsx)(l.default,{style:T.detailValue,children:S.eventRequest.location})]}),(0,x.jsx)(l.default,{style:T.detailLabel,children:"Expected Duration"}),(0,x.jsxs)(l.default,{style:T.detailValue,children:[S.eventRequest.durationMinutes," minutes"]}),'pending'===S.eventRequest.status&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.default,{style:T.sectionTitle,children:"Select 3 Available Dates"}),(0,x.jsx)(l.default,{style:T.instructionText,children:"Please provide 3 dates and times when you are available. Your law firm will select one."}),W.map((e,t)=>(0,x.jsxs)(n.default,{style:T.dateCard,children:[(0,x.jsxs)(l.default,{style:T.dateCardTitle,children:["Option ",t+1]}),(0,x.jsxs)(o.default,{style:T.dateButton,onPress:()=>I(t,'start'),children:[(0,x.jsx)(l.default,{style:T.dateButtonLabel,children:"Start Time"}),(0,x.jsx)(l.default,{style:T.dateButtonValue,children:e.startTime?e.startTime.toLocaleString():'Tap to select'})]}),(0,x.jsxs)(o.default,{style:T.dateButton,onPress:()=>I(t,'end'),children:[(0,x.jsx)(l.default,{style:T.dateButtonLabel,children:"End Time"}),(0,x.jsx)(l.default,{style:T.dateButtonValue,children:e.endTime?e.endTime.toLocaleString():'Tap to select'})]})]},t))]}),'dates_submitted'===S.eventRequest.status&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.default,{style:T.sectionTitle,children:"Your Proposed Dates"}),S.proposedDates&&S.proposedDates.map((e,t)=>(0,x.jsxs)(n.default,{style:T.proposedDateCard,children:[(0,x.jsxs)(l.default,{style:T.proposedDateLabel,children:["Option ",t+1]}),(0,x.jsx)(l.default,{style:T.proposedDateTime,children:new Date(e.proposedStartTime).toLocaleString()}),(0,x.jsxs)(l.default,{style:T.proposedDateDuration,children:["to ",new Date(e.proposedEndTime).toLocaleTimeString()]}),e.isSelected&&(0,x.jsx)(n.default,{style:T.selectedBadge,children:(0,x.jsx)(l.default,{style:T.selectedBadgeText,children:"\u2713 Law Firm Selected This Date"})})]},e.id)),(0,x.jsx)(l.default,{style:T.pendingMessage,children:"Waiting for your law firm to confirm a date..."})]}),'confirmed'===S.eventRequest.status&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.default,{style:T.sectionTitle,children:"\u2713 Confirmed"}),(0,x.jsx)(l.default,{style:T.confirmedMessage,children:"This event has been confirmed and added to your calendar."})]})]}),(0,x.jsxs)(n.default,{style:T.modalButtons,children:[(0,x.jsx)(o.default,{style:T.closeButton,onPress:()=>D(!1),children:(0,x.jsx)(l.default,{style:T.closeButtonText,children:"Close"})}),'pending'===S.eventRequest.status&&(0,x.jsx)(o.default,{style:T.submitButton,onPress:async()=>{if(W.every(e=>e.startTime&&e.endTime)){for(let e=0;e<W.length;e++)if(W[e].endTime<=W[e].startTime)return void d.default.alert('Error',`Date ${e+1}: End time must be after start time`);try{const e=await f.default.getItem('authToken'),t=await fetch(`${p.API_BASE_URL}/event-requests/${S.eventRequest.id}/propose-dates`,{method:'POST',headers:{Authorization:`Bearer ${e}`,'Content-Type':'application/json'},body:JSON.stringify({proposedDates:W.map(e=>({startTime:e.startTime.toISOString(),endTime:e.endTime.toISOString()}))})});if(t.ok)d.default.alert('Success','Your available dates have been sent to your law firm'),D(!1),P();else{const e=await t.json();d.default.alert('Error',e.error||'Failed to submit dates')}}catch(e){console.error('Error submitting dates:',e),d.default.alert('Error','Failed to submit dates')}}else d.default.alert('Error','Please select start and end times for all 3 dates')},children:(0,x.jsx)(l.default,{style:T.submitButtonText,children:"Submit Dates"})})]})]})})})}),(v||R)&&(0,x.jsx)(h.default,{value:null!==z&&W[z]['start'===E?'startTime':'endTime']?W[z]['start'===E?'startTime':'endTime']:new Date,mode:v?'date':'time',display:"default",onChange:(e,t)=>{if(t&&null!==z){const e=[...W];if('start'===E){if(e[z].startTime=t,S?.eventRequest?.durationMinutes){const n=new Date(t);n.setMinutes(n.getMinutes()+S.eventRequest.durationMinutes),e[z].endTime=n}}else e[z].endTime=t;A(e)}},minimumDate:new Date})]})}const T=s.default.create({container:{flex:1,backgroundColor:'#F5E6D3'},header:{backgroundColor:'#8B4513',padding:20,paddingTop:40,flexDirection:'row',alignItems:'center'},backButton:{padding:8,marginRight:12},backButtonText:{color:'#FFF',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#FFF',flex:1},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},content:{flex:1,padding:16},emptyState:{alignItems:'center',justifyContent:'center',padding:40},emptyText:{fontSize:18,fontWeight:'600',color:'#8B4513',marginBottom:8},emptySubtext:{fontSize:14,color:'#666',textAlign:'center'},requestCard:{backgroundColor:'#FFF',borderRadius:12,padding:16,marginBottom:12,borderWidth:2,borderColor:'#8B4513'},requestHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'flex-start',marginBottom:8},requestTitle:{fontSize:16,fontWeight:'bold',color:'#8B4513',flex:1},statusBadge:{paddingHorizontal:10,paddingVertical:4,borderRadius:12,marginLeft:8},statusText:{color:'#FFF',fontSize:11,fontWeight:'600'},lawFirmName:{fontSize:14,color:'#333',marginBottom:4,fontWeight:'600'},eventType:{fontSize:12,color:'#666',marginBottom:4},description:{fontSize:13,color:'#555',marginBottom:8},requestDate:{fontSize:12,color:'#999'},actionRequiredBanner:{backgroundColor:'#FFE4B5',padding:8,borderRadius:8,marginTop:8,borderWidth:1,borderColor:'#FFA500'},actionRequiredText:{color:'#8B4513',fontWeight:'600',textAlign:'center'},modalOverlay:{flex:1,backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'center',alignItems:'center',padding:20},modalContent:{backgroundColor:'#FFF',borderRadius:16,padding:20,width:'100%',maxHeight:'90%'},modalTitle:{fontSize:20,fontWeight:'bold',color:'#8B4513',marginBottom:12},detailScroll:{maxHeight:500},detailLabel:{fontSize:12,color:'#666',marginTop:12,marginBottom:4},detailValue:{fontSize:16,color:'#333',marginBottom:8},sectionTitle:{fontSize:16,fontWeight:'bold',color:'#8B4513',marginTop:20,marginBottom:8},instructionText:{fontSize:13,color:'#666',marginBottom:16,lineHeight:20},dateCard:{backgroundColor:'#F5E6D3',borderRadius:8,padding:12,marginBottom:12,borderWidth:1,borderColor:'#8B4513'},dateCardTitle:{fontSize:14,fontWeight:'600',color:'#8B4513',marginBottom:8},dateButton:{backgroundColor:'#FFF',padding:12,borderRadius:8,marginBottom:8,borderWidth:1,borderColor:'#DDD'},dateButtonLabel:{fontSize:12,color:'#666',marginBottom:4},dateButtonValue:{fontSize:14,color:'#333',fontWeight:'600'},proposedDateCard:{backgroundColor:'#F5E6D3',borderRadius:8,padding:12,marginBottom:12,borderWidth:1,borderColor:'#8B4513'},proposedDateLabel:{fontSize:12,fontWeight:'600',color:'#8B4513',marginBottom:4},proposedDateTime:{fontSize:16,color:'#333',fontWeight:'600'},proposedDateDuration:{fontSize:14,color:'#666'},selectedBadge:{backgroundColor:'#32CD32',padding:8,borderRadius:8,alignItems:'center',marginTop:8},selectedBadgeText:{color:'#FFF',fontWeight:'600'},pendingMessage:{fontSize:14,color:'#666',fontStyle:'italic',textAlign:'center',marginTop:12},confirmedMessage:{fontSize:14,color:'#32CD32',textAlign:'center',padding:16,backgroundColor:'#E8F5E9',borderRadius:8},modalButtons:{flexDirection:'row',justifyContent:'space-between',marginTop:16,gap:12},closeButton:{flex:1,padding:14,borderRadius:8,borderWidth:2,borderColor:'#8B4513',alignItems:'center'},closeButtonText:{color:'#8B4513',fontWeight:'600',fontSize:16},submitButton:{flex:1,padding:14,borderRadius:8,backgroundColor:'#8B4513',alignItems:'center'},submitButtonText:{color:'#FFF',fontWeight:'600',fontSize:16}})},447,[13,85,161,26,162,177,116,354,156,82,125,434,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return T}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),h=e(r(d[6]));r(d[7]),r(d[8]);var u=e(r(d[9])),f=e(r(d[10])),p=e(r(d[11]));r(d[12]);var x=e(r(d[13])),b=r(d[14]),C=r(d[15]);const y=r(d[16]),{width:w,height:S}=f.default.get('window'),F=[{id:'small_chest',name:'Small Chest',coins:4950,price:.99,priceInCents:99,icon:'\ud83c\udffa',popular:!1,description:'Perfect starter pack'},{id:'medium_chest',name:'Medium Chest',coins:9950,price:1.99,priceInCents:199,icon:'\ud83d\udce6',popular:!1,description:'Great value for progress'},{id:'large_chest',name:'Large Chest',coins:14950,price:2.99,priceInCents:299,icon:'\ud83c\udf81',popular:!0,description:'Most popular choice!'},{id:'treasure_chest',name:'Treasure Chest',coins:19950,price:3.99,priceInCents:399,icon:'\ud83d\udc8e',popular:!1,description:'Maximum value'},{id:'pirates_bounty',name:"Pirate's Bounty",coins:24950,price:4.99,priceInCents:499,icon:'\ud83c\udff4\u200d\u2620\ufe0f',popular:!1,description:'Ultimate treasure'}],j=n.default.create({container:{flex:1,minHeight:'100%'},backgroundImage:{width:'100%',height:'100%',position:'absolute',top:0,left:0,right:0,bottom:0},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.45)',minHeight:'100%'},header:{flexDirection:'row',alignItems:'center',paddingHorizontal:20,paddingVertical:15,backgroundColor:'rgba(44, 62, 80, 0.9)',borderBottomWidth:2,borderBottomColor:'#FFD700'},backButton:{marginRight:15,backgroundColor:'rgba(0, 0, 0, 0.3)',paddingHorizontal:12,paddingVertical:6,borderRadius:8},backButtonText:{fontSize:16,color:'#FFFFFF',fontWeight:'700',textShadowColor:'#000',textShadowOffset:{width:1,height:1},textShadowRadius:2},headerTitle:{fontSize:22,fontWeight:'bold',color:'#FFD700',textShadowColor:'#000',textShadowOffset:{width:2,height:2},textShadowRadius:4},scrollView:{flex:1},scrollContent:{padding:20},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:16,fontSize:18,color:'#FFD700',fontWeight:'700',textShadowColor:'#000',textShadowOffset:{width:2,height:2},textShadowRadius:4},pageTitle:{fontSize:34,fontWeight:'bold',color:'#FFD700',marginBottom:8,textAlign:'center',textShadowColor:'#000',textShadowOffset:{width:2,height:2},textShadowRadius:6},pageSubtitle:{fontSize:18,color:'#FFFFFF',textAlign:'center',marginBottom:24,fontWeight:'600',textShadowColor:'#000',textShadowOffset:{width:1,height:1},textShadowRadius:3},balanceCard:{backgroundColor:'rgba(26, 26, 26, 0.92)',borderRadius:16,padding:24,marginBottom:24,alignItems:'center',shadowColor:'#FFD700',shadowOffset:{width:0,height:4},shadowOpacity:.4,shadowRadius:12,elevation:8,borderWidth:3,borderColor:'#FFD700'},balanceHeader:{flexDirection:'row',alignItems:'center',marginBottom:12},balanceLabel:{fontSize:18,color:'#FFFFFF',fontWeight:'700',marginRight:8},balanceIcon:{fontSize:28},balanceAmount:{fontSize:52,fontWeight:'bold',color:'#FFD700',textShadowColor:'#CD7F32',textShadowOffset:{width:2,height:2},textShadowRadius:6},balanceSubtext:{fontSize:20,color:'#E0E0E0',fontWeight:'600',marginTop:-6},balanceDetails:{marginTop:20,paddingTop:16,borderTopWidth:1,borderTopColor:'rgba(255, 215, 0, 0.4)',width:'100%'},detailRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:10},detailLabel:{fontSize:15,color:'#B0B0B0',fontWeight:'500'},detailValue:{fontSize:17,color:'#FFFFFF',fontWeight:'bold'},balanceInfo:{marginTop:16,paddingTop:16,borderTopWidth:1,borderTopColor:'rgba(255, 215, 0, 0.4)',width:'100%'},infoText:{fontSize:14,color:'#E0E0E0',textAlign:'center',marginBottom:6},packagesSection:{marginBottom:24},sectionTitle:{fontSize:26,fontWeight:'bold',color:'#FFD700',marginBottom:8,textAlign:'center',textShadowColor:'#000',textShadowOffset:{width:2,height:2},textShadowRadius:4},sectionSubtitle:{fontSize:16,color:'#FFFFFF',textAlign:'center',marginBottom:20,fontWeight:'500',textShadowColor:'#000',textShadowOffset:{width:1,height:1},textShadowRadius:2},packageCard:{backgroundColor:'rgba(26, 26, 26, 0.92)',borderRadius:12,padding:16,marginBottom:14,shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:6,elevation:5,borderWidth:2,borderColor:'rgba(255, 215, 0, 0.5)'},packageCardPopular:{borderColor:'#FFD700',borderWidth:3,backgroundColor:'rgba(40, 35, 20, 0.95)',shadowColor:'#FFD700',shadowOpacity:.4},popularBadge:{position:'absolute',top:-12,right:20,backgroundColor:'#FFD700',paddingHorizontal:14,paddingVertical:5,borderRadius:12,zIndex:1,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:4},popularText:{fontSize:12,fontWeight:'bold',color:'#1a1a1a'},packageContent:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},packageLeft:{flexDirection:'row',alignItems:'center',flex:1},packageIcon:{fontSize:48,marginRight:16},packageInfo:{flex:1},packageName:{fontSize:19,fontWeight:'bold',color:'#FFD700',marginBottom:4},packageDescription:{fontSize:14,color:'#B0B0B0',marginBottom:6},coinsRow:{flexDirection:'row',alignItems:'baseline'},packageCoins:{fontSize:22,fontWeight:'bold',color:'#FFD700',textShadowColor:'#CD7F32',textShadowOffset:{width:1,height:1},textShadowRadius:2},coinsLabel:{fontSize:15,color:'#E0E0E0',fontWeight:'500'},packageRight:{marginLeft:12},priceButton:{backgroundColor:'#8B0000',paddingHorizontal:22,paddingVertical:14,borderRadius:10,borderWidth:2,borderColor:'#FFD700',shadowColor:'#FFD700',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:4},priceText:{fontSize:19,fontWeight:'bold',color:'#FFFFFF'},valueSection:{backgroundColor:'rgba(26, 26, 26, 0.92)',borderRadius:14,padding:24,marginBottom:24,borderWidth:2,borderColor:'#FFD700',shadowColor:'#FFD700',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:6},valueTitle:{fontSize:24,fontWeight:'bold',color:'#FFD700',marginBottom:20,textAlign:'center',textShadowColor:'#CD7F32',textShadowOffset:{width:1,height:1},textShadowRadius:2},valueItem:{flexDirection:'row',alignItems:'center',marginBottom:16,backgroundColor:'rgba(50, 50, 50, 0.8)',padding:16,borderRadius:10,borderLeftWidth:4,borderLeftColor:'#FFD700'},valueIcon:{fontSize:34,marginRight:16},valueTextContainer:{flex:1},valueItemTitle:{fontSize:16,fontWeight:'bold',color:'#FFFFFF',marginBottom:4},valueItemText:{fontSize:16,color:'#E0E0E0',lineHeight:24,fontWeight:'500'},securityNotice:{backgroundColor:'rgba(30, 60, 30, 0.9)',borderRadius:12,padding:18,alignItems:'center',marginBottom:24,borderWidth:2,borderColor:'#4CAF50'},securityText:{fontSize:16,fontWeight:'700',color:'#81C784',marginBottom:4},securitySubtext:{fontSize:14,color:'#A5D6A7'},webNotice:{backgroundColor:'rgba(60, 40, 20, 0.92)',borderRadius:12,padding:18,marginBottom:24,borderWidth:2,borderColor:'#FFA726'},webNoticeTitle:{fontSize:17,fontWeight:'bold',color:'#FFB74D',marginBottom:8},webNoticeText:{fontSize:15,color:'#FFCC80',lineHeight:22}});var T=({onBack:e,user:n,setCoins:f,refreshKey:w=0})=>{const{width:S,height:T}=(0,p.default)(),v=S>=768,k=S>=1024,[R,B]=(0,t.useState)(0),[I,z]=(0,t.useState)({totalCoins:0,availableCoins:0,coinsSpent:0,purchasedCoins:0,freeCoins:0,availablePurchasedCoins:0,availableFreeCoins:0,purchasedCoinsSpent:0,freeCoinsSpent:0,treasureChestCapacity:25e3,freeCoinsCapRemaining:25e3,lifetimeCredits:0,maxLifetimeCredits:0,remainingLifetimeCredits:0}),[D,W]=(0,t.useState)(!0),[L,A]=(0,t.useState)(!1),[O,P]=(0,t.useState)(null);(0,t.useEffect)(()=>{console.log('[TreasureChest] useEffect triggered - refreshKey:',w,'hasToken:',!!n?.token),n?.token&&(console.log('[TreasureChest] Fetching coin balance...'),E())},[w,n?.token]);const E=async()=>{try{W(!0),console.log('[TreasureChest] Fetching from:',`${b.API_BASE_URL}/api/coins/balance`);const e=await fetch(`${b.API_BASE_URL}/api/coins/balance`,{headers:{Authorization:`Bearer ${n.token}`,'Content-Type':'application/json'}});if(e.ok){const t=await e.json();console.log('[TreasureChest] Balance response:',t);const o=t.totalCoins||0;console.log('[TreasureChest] Setting totalCoins to:',o),B(o),z({totalCoins:o,availableCoins:t.availableCoins||0,coinsSpent:t.coinsSpent||0,purchasedCoins:t.purchasedCoins||0,freeCoins:t.freeCoins||0,availablePurchasedCoins:t.availablePurchasedCoins||0,availableFreeCoins:t.availableFreeCoins||0,purchasedCoinsSpent:t.purchasedCoinsSpent||0,freeCoinsSpent:t.freeCoinsSpent||0,treasureChestCapacity:t.treasureChestCapacity||25e3,freeCoinsCapRemaining:t.freeCoinsCapRemaining||25e3,lifetimeCredits:t.lifetimeCredits||0,maxLifetimeCredits:t.maxLifetimeCredits||0,remainingLifetimeCredits:t.remainingLifetimeCredits||0}),f&&f(o)}else{console.error('[TreasureChest] Failed to fetch balance - Status:',e.status);const t=await e.text();console.error('[TreasureChest] Error response:',t)}}catch(e){console.error('Error fetching coins:',e)}finally{W(!1)}},V=async e=>{(0,x.default)('\ud83c\udff4\u200d\u2620\ufe0f Mobile Only Feature','Coin purchases are only available on the mobile app. Please use the Verdict Path mobile app to purchase coins.\n\nYou can still view your coin balance and use coins you\'ve earned!')},_=e=>e.toLocaleString(),M={scrollContent:{padding:k?40:v?30:20,maxWidth:k?800:v?600:'100%',alignSelf:'center',width:'100%'},pageTitle:{fontSize:k?42:v?38:34},balanceAmount:{fontSize:k?60:v?56:52}};return D?(0,C.jsx)(u.default,{source:y,style:[j.container,{width:S,height:T}],imageStyle:j.backgroundImage,resizeMode:"cover",children:(0,C.jsx)(o.default,{style:j.overlay,children:(0,C.jsxs)(o.default,{style:j.loadingContainer,children:[(0,C.jsx)(h.default,{size:"large",color:"#FFD700"}),(0,C.jsx)(l.default,{style:j.loadingText,children:"Loading your treasure..."})]})})}):(0,C.jsx)(u.default,{source:y,style:[j.container,{width:S,height:T}],imageStyle:j.backgroundImage,resizeMode:"cover",children:(0,C.jsxs)(o.default,{style:j.overlay,children:[(0,C.jsxs)(o.default,{style:j.header,children:[(0,C.jsx)(c.default,{style:j.backButton,onPress:e,children:(0,C.jsx)(l.default,{style:j.backButtonText,children:"\u2190 Back"})}),(0,C.jsx)(l.default,{style:j.headerTitle,children:"Treasure Chest"})]}),(0,C.jsxs)(s.default,{style:j.scrollView,contentContainerStyle:[j.scrollContent,M.scrollContent],showsVerticalScrollIndicator:!1,children:[(0,C.jsx)(l.default,{style:[j.pageTitle,M.pageTitle],children:"\u2693 Treasure Chest \u2693"}),(0,C.jsx)(l.default,{style:j.pageSubtitle,children:"Purchase coins to unlock progress"}),(0,C.jsxs)(o.default,{style:j.balanceCard,children:[(0,C.jsxs)(o.default,{style:j.balanceHeader,children:[(0,C.jsx)(l.default,{style:j.balanceLabel,children:"Your Current Treasure"}),(0,C.jsx)(l.default,{style:j.balanceIcon,children:"\ud83d\udcb0"})]}),(0,C.jsx)(l.default,{style:[j.balanceAmount,M.balanceAmount],children:_(R)}),(0,C.jsx)(l.default,{style:j.balanceSubtext,children:"total coins"}),(0,C.jsxs)(o.default,{style:j.balanceDetails,children:[(0,C.jsxs)(o.default,{style:j.detailRow,children:[(0,C.jsx)(l.default,{style:j.detailLabel,children:"\ud83d\udcb0 Purchased (Available):"}),(0,C.jsx)(l.default,{style:j.detailValue,children:_(I.availablePurchasedCoins)})]}),(0,C.jsxs)(o.default,{style:j.detailRow,children:[(0,C.jsx)(l.default,{style:j.detailLabel,children:"\ud83c\udf81 Free (Available):"}),(0,C.jsx)(l.default,{style:j.detailValue,children:_(I.availableFreeCoins)})]}),(0,C.jsxs)(o.default,{style:j.detailRow,children:[(0,C.jsx)(l.default,{style:j.detailLabel,children:"\u2728 Total Available:"}),(0,C.jsx)(l.default,{style:j.detailValue,children:_(I.availableCoins)})]}),(0,C.jsxs)(o.default,{style:j.detailRow,children:[(0,C.jsx)(l.default,{style:j.detailLabel,children:"\ud83d\udcca Total Spent:"}),(0,C.jsx)(l.default,{style:j.detailValue,children:_(I.coinsSpent)})]}),(0,C.jsxs)(o.default,{style:j.detailRow,children:[(0,C.jsx)(l.default,{style:j.detailLabel,children:"\ud83c\udff4\u200d\u2620\ufe0f Free Cap Remaining:"}),(0,C.jsx)(l.default,{style:j.detailValue,children:_(I.freeCoinsCapRemaining)})]})]}),(0,C.jsxs)(o.default,{style:j.balanceInfo,children:[(0,C.jsx)(l.default,{style:j.infoText,children:"\ud83d\udca1 Treasure chest cap (25,000) only applies to free coins earned"}),(0,C.jsx)(l.default,{style:j.infoText,children:"\u2693 Purchased coins have NO LIMIT and never expire!"})]})]}),(0,C.jsxs)(o.default,{style:j.webNotice,children:[(0,C.jsx)(l.default,{style:j.webNoticeTitle,children:"\ud83d\udcf1 Mobile App Required"}),(0,C.jsx)(l.default,{style:j.webNoticeText,children:"Coin purchases are only available on the Verdict Path mobile app. You can still view your coin balance here!"})]}),(0,C.jsxs)(o.default,{style:j.packagesSection,children:[(0,C.jsx)(l.default,{style:j.sectionTitle,children:"Choose Your Treasure"}),(0,C.jsx)(l.default,{style:j.sectionSubtitle,children:"Use coins to unlock case stages"}),F.map(e=>(0,C.jsxs)(c.default,{style:[j.packageCard,e.popular&&j.packageCardPopular],onPress:()=>V(),disabled:L,activeOpacity:.8,children:[e.popular&&(0,C.jsx)(o.default,{style:j.popularBadge,children:(0,C.jsx)(l.default,{style:j.popularText,children:"\u2b50 MOST POPULAR"})}),(0,C.jsxs)(o.default,{style:j.packageContent,children:[(0,C.jsxs)(o.default,{style:j.packageLeft,children:[(0,C.jsx)(l.default,{style:j.packageIcon,children:e.icon}),(0,C.jsxs)(o.default,{style:j.packageInfo,children:[(0,C.jsx)(l.default,{style:j.packageName,children:e.name}),(0,C.jsx)(l.default,{style:j.packageDescription,children:e.description}),(0,C.jsxs)(o.default,{style:j.coinsRow,children:[(0,C.jsx)(l.default,{style:j.packageCoins,children:_(e.coins)}),(0,C.jsx)(l.default,{style:j.coinsLabel,children:" coins"})]})]})]}),(0,C.jsx)(o.default,{style:j.packageRight,children:(0,C.jsx)(o.default,{style:j.priceButton,children:(0,C.jsxs)(l.default,{style:j.priceText,children:["$",e.price.toFixed(2)]})})})]})]},e.id))]}),(0,C.jsxs)(o.default,{style:j.valueSection,children:[(0,C.jsx)(l.default,{style:j.valueTitle,children:"\u2693 Why Purchase Coins? \u2693"}),(0,C.jsxs)(o.default,{style:j.valueItem,children:[(0,C.jsx)(l.default,{style:j.valueIcon,children:"\ud83c\udfa5"}),(0,C.jsx)(o.default,{style:j.valueTextContainer,children:(0,C.jsx)(l.default,{style:j.valueItemText,children:"Gain Access to Premium Video Tutorials."})})]}),(0,C.jsxs)(o.default,{style:j.valueItem,children:[(0,C.jsx)(l.default,{style:j.valueIcon,children:"\ud83d\udd0a"}),(0,C.jsx)(o.default,{style:j.valueTextContainer,children:(0,C.jsx)(l.default,{style:j.valueItemText,children:"Gain Access to Audio Clips Explaining Each Stage in Litigation."})})]})]}),(0,C.jsxs)(o.default,{style:j.securityNotice,children:[(0,C.jsx)(l.default,{style:j.securityText,children:"\ud83d\udd12 Secure payment powered by Stripe"}),(0,C.jsx)(l.default,{style:j.securitySubtext,children:"All transactions are encrypted and secure"})]}),(0,C.jsx)(o.default,{style:{height:40}})]})]})})}},448,[13,85,161,26,177,162,354,116,82,369,120,165,132,398,135,153,449]);
__d(function(a,e,s,t,d,h,i){d.exports={uri:"/assets/attached_assets/Treasure Cave_1764036765036.e3f3ae0d455ddae4d91a9fc0aa447139.png",width:1080,height:608}},449,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=r(d[0]),l=e(r(d[1])),s=e(r(d[2])),o=e(r(d[3])),n=e(r(d[4])),c=e(r(d[5]));r(d[6]);var u=r(d[7]),h=r(d[8]);const f="Full privacy policy text loaded from assets/privacy-policy.txt",y=n.default.create({container:{flex:1,backgroundColor:u.theme.colors.background},header:{flexDirection:'row',alignItems:'center',paddingHorizontal:20,paddingVertical:15,backgroundColor:u.theme.colors.primary,borderBottomWidth:2,borderBottomColor:u.theme.colors.secondary},backButton:{marginRight:15},backButtonText:{fontSize:16,color:u.theme.colors.white,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:u.theme.colors.white},scrollView:{flex:1},content:{padding:20},title:{fontSize:22,fontWeight:'bold',color:u.theme.colors.primary,textAlign:'center',marginBottom:10},lastUpdated:{fontSize:14,color:u.theme.colors.textSecondary,textAlign:'center',fontStyle:'italic',marginBottom:20},sectionTitle:{fontSize:18,fontWeight:'bold',color:u.theme.colors.mahogany,marginTop:15,marginBottom:10},subsectionTitle:{fontSize:16,fontWeight:'600',color:u.theme.colors.text,marginTop:10,marginBottom:8},paragraph:{fontSize:14,color:u.theme.colors.text,lineHeight:22,marginBottom:12},bold:{fontWeight:'bold',color:u.theme.colors.text,fontSize:14,marginTop:8},listItem:{fontSize:14,color:u.theme.colors.text,lineHeight:22,marginBottom:5,paddingLeft:10},divider:{height:1,backgroundColor:u.theme.colors.secondary,marginVertical:15},copyright:{fontSize:12,color:u.theme.colors.textSecondary,textAlign:'center',marginTop:20,marginBottom:40,fontStyle:'italic'}});var p=({onBack:e,onNavigate:n})=>{const[u,p]=(0,t.useState)('');(0,t.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=r(d[9],"../../assets/privacy-policy.txt");p(e.default||e)}catch(e){console.error('Error loading privacy policy:',e),p(f)}};return(0,h.jsxs)(l.default,{style:y.container,children:[(0,h.jsxs)(l.default,{style:y.header,children:[(0,h.jsx)(c.default,{style:y.backButton,onPress:e||(()=>n&&n('register')),children:(0,h.jsx)(s.default,{style:y.backButtonText,children:"\u2190 Back"})}),(0,h.jsx)(s.default,{style:y.headerTitle,children:"Privacy Policy"})]}),(0,h.jsx)(o.default,{style:y.scrollView,children:(0,h.jsxs)(l.default,{style:y.content,children:[(0,h.jsx)(s.default,{style:y.title,children:"PRIVACY POLICY FOR VERDICT PATH"}),(0,h.jsx)(s.default,{style:y.lastUpdated,children:"Last Updated: October 31, 2025"}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"1. INTRODUCTION"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"Welcome to Verdict Path (\"we,\" \"us,\" or \"our\"). This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our mobile application and related services (collectively, the \"Service\")."}),(0,h.jsx)(s.default,{style:y.paragraph,children:"Please read this Privacy Policy carefully. By accessing or using the Service, you acknowledge that you have read, understood, and agree to be bound by all the terms of this Privacy Policy. If you do not agree with the terms of this Privacy Policy, please do not access or use the Service."}),(0,h.jsxs)(s.default,{style:y.paragraph,children:[(0,h.jsx)(s.default,{style:y.bold,children:"Verdict Path"})," is a civil litigation case management application designed to help individual users, law firms, and medical providers manage case progress, communications, and related activities."]}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"2. INFORMATION WE COLLECT"}),(0,h.jsx)(s.default,{style:y.subsectionTitle,children:"2.1 Information You Provide to Us"}),(0,h.jsx)(s.default,{style:y.bold,children:"Account Information:"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"When you create an account, we collect:"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Email address"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Password (encrypted)"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 First and last name"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 User type (individual user, law firm, or medical provider)"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Firm name or provider name (if applicable)"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Subscription tier selection"}),(0,h.jsx)(s.default,{style:y.bold,children:"Payment Information:"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"We use Stripe, a third-party payment processor, to process payments. We do not store your complete credit card information on our servers."}),(0,h.jsx)(s.default,{style:y.subsectionTitle,children:"2.2 Information Collected Automatically"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"We automatically collect device information, usage information, and push notification tokens to provide and improve the Service."}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"3. HOW WE USE YOUR INFORMATION"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"We use the information we collect to:"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Create and manage your account"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Process your transactions and subscriptions"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Track litigation progress through the 9-stage roadmap"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Enable communication between users"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Deliver push notifications and alerts"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Synchronize calendar events"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Track achievements, badges, and gamification features"}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"4. HOW WE SHARE YOUR INFORMATION"}),(0,h.jsx)(s.default,{style:y.paragraph,children:(0,h.jsx)(s.default,{style:y.bold,children:"We do not sell your personal information to third parties."})}),(0,h.jsx)(s.default,{style:y.paragraph,children:"We may share your information with:"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Connected law firms and medical providers (with your consent)"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Service providers (Stripe, Railway, Neon, Expo)"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Law enforcement (when legally required)"}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"5. DATA SECURITY"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"We implement security measures including:"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 SSL/TLS encryption for data transmission"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Bcrypt password hashing"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Role-based access control (RBAC)"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 JWT token-based authentication"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 PCI-compliant payment processing through Stripe"}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"6. YOUR PRIVACY RIGHTS"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"You have the right to:"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Access your personal information"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Request correction of inaccurate information"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Request deletion of your account and data"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Opt-out of marketing communications"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Configure notification preferences"}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"7. CHILDREN'S PRIVACY"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"The Service is not intended for users under the age of 18. We do not knowingly collect personal information from children under 18."}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"8. INTERNATIONAL DATA TRANSFERS"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"Verdict Path is based in the United States. If you are accessing the Service from outside the United States, your information may be transferred to, stored, and processed in the United States."}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"9. THIRD-PARTY SERVICES"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"We use the following third-party services:"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Stripe - Payment processing"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Expo - Push notifications"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Railway - Backend hosting"}),(0,h.jsx)(s.default,{style:y.listItem,children:"\u2022 Neon - Database hosting"}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsx)(s.default,{style:y.sectionTitle,children:"10. CONTACT US"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"If you have any questions about this Privacy Policy, please contact us at:"}),(0,h.jsx)(s.default,{style:y.bold,children:"Email: contact@verdictpath.io"}),(0,h.jsx)(s.default,{style:y.paragraph,children:"We will respond to your inquiry within 30 days."}),(0,h.jsx)(l.default,{style:y.divider}),(0,h.jsxs)(s.default,{style:y.paragraph,children:[(0,h.jsx)(s.default,{style:y.bold,children:"Effective Date:"})," October 31, 2025"]}),(0,h.jsxs)(s.default,{style:y.paragraph,children:[(0,h.jsx)(s.default,{style:y.bold,children:"Version:"})," 1.0"]}),(0,h.jsx)(s.default,{style:y.copyright,children:"\xa9 2025 Verdict Path. All rights reserved."})]})})]})}},450,[13,85,161,177,26,162,131,132,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}}),r(d[0]);var t=e(r(d[1])),l=e(r(d[2])),s=e(r(d[3])),n=e(r(d[4])),o=e(r(d[5]));r(d[6]);var c=r(d[7]),u=r(d[8]);const h=n.default.create({container:{flex:1,backgroundColor:c.theme.colors.background},header:{flexDirection:'row',alignItems:'center',paddingHorizontal:20,paddingVertical:15,backgroundColor:c.theme.colors.primary,borderBottomWidth:2,borderBottomColor:c.theme.colors.secondary},backButton:{marginRight:15},backButtonText:{fontSize:16,color:c.theme.colors.white,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:c.theme.colors.white},scrollView:{flex:1},content:{padding:20},title:{fontSize:22,fontWeight:'bold',color:c.theme.colors.primary,textAlign:'center',marginBottom:10},lastUpdated:{fontSize:14,color:c.theme.colors.textSecondary,textAlign:'center',fontStyle:'italic',marginBottom:20},sectionTitle:{fontSize:18,fontWeight:'bold',color:c.theme.colors.mahogany,marginTop:15,marginBottom:10},subsectionTitle:{fontSize:16,fontWeight:'600',color:c.theme.colors.text,marginTop:10,marginBottom:8},paragraph:{fontSize:14,color:c.theme.colors.text,lineHeight:22,marginBottom:12},bold:{fontWeight:'bold',color:c.theme.colors.text,fontSize:14,marginTop:8,marginBottom:8},listItem:{fontSize:14,color:c.theme.colors.text,lineHeight:22,marginBottom:5,paddingLeft:10},divider:{height:1,backgroundColor:c.theme.colors.secondary,marginVertical:15},copyright:{fontSize:12,color:c.theme.colors.textSecondary,textAlign:'center',marginTop:20,marginBottom:40,fontStyle:'italic'}});var f=({onBack:e,onNavigate:n})=>(0,u.jsxs)(t.default,{style:h.container,children:[(0,u.jsxs)(t.default,{style:h.header,children:[(0,u.jsx)(o.default,{style:h.backButton,onPress:e||(()=>n&&n('register')),children:(0,u.jsx)(l.default,{style:h.backButtonText,children:"\u2190 Back"})}),(0,u.jsx)(l.default,{style:h.headerTitle,children:"Terms of Service"})]}),(0,u.jsx)(s.default,{style:h.scrollView,children:(0,u.jsxs)(t.default,{style:h.content,children:[(0,u.jsx)(l.default,{style:h.title,children:"TERMS OF SERVICE FOR VERDICT PATH"}),(0,u.jsx)(l.default,{style:h.lastUpdated,children:"Last Updated: October 31, 2025"}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"1. ACCEPTANCE OF TERMS"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Welcome to Verdict Path. These Terms of Service (\"Terms,\" \"Agreement\") are a legal agreement between you and Verdict Path governing your use of the Verdict Path mobile application and related services."}),(0,u.jsx)(l.default,{style:h.bold,children:"BY CREATING AN ACCOUNT, ACCESSING, OR USING THE SERVICE, YOU AGREE TO BE BOUND BY THESE TERMS. IF YOU DO NOT AGREE TO THESE TERMS, DO NOT USE THE SERVICE."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"2. DESCRIPTION OF SERVICE"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Verdict Path is a mobile application designed to help users manage civil litigation cases. The Service provides:"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"For Individual Users:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Interactive 9-stage litigation roadmap with 60 substages"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Case progress tracking"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Task management assigned by law firms"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Calendar integration for court dates and appointments"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Gamification features (achievements, badges, coin system)"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"For Law Firms:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Client management portal"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Push notification sending to clients"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Task assignment and calendar event requests"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Payment Processing:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Subscription plans (Free, Basic, Premium)"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Secure payment processing through Stripe"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Multiple payment methods (credit cards, Apple Pay, Google Pay)"}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"3. ELIGIBILITY"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"You must be at least 18 years old to use the Service. By using the Service, you represent that you have the legal capacity to enter into these Terms."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"4. USER CONTENT AND CONDUCT"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"You retain ownership of all content you submit. By submitting content, you grant us a license to use it solely for providing the Service."}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Prohibited Conduct:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Post false, misleading, or fraudulent information"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Violate any laws or regulations"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Interfere with or disrupt the Service"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Attempt unauthorized access"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Use automated systems without permission"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Important Disclaimer:"}),(0,u.jsx)(l.default,{style:h.bold,children:"NOT LEGAL ADVICE:"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Verdict Path is an educational and organizational tool. The Service does not provide legal advice. You should consult with a licensed attorney regarding your specific legal matters."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"5. INTELLECTUAL PROPERTY"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"The Service and its contents are owned by Verdict Path and protected by copyright, trademark, and other intellectual property laws. \"Verdict Path\" and our logos are trademarks of Verdict Path."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"6. PAYMENT TERMS"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Subscription Plans:"}),(0,u.jsx)(l.default,{style:h.bold,children:"Individual Users:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Free Plan: $0/month - Basic features"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Premium Plan: $29.99/month - Full feature access"}),(0,u.jsx)(l.default,{style:h.bold,children:"Law Firms & Medical Providers:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Free Plan: $0/month - Limited connections"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Basic Plan: $49/month - Expanded management"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Premium Plan: $149/month - Unlimited features"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Billing and Renewal:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Subscription fees are billed monthly in advance"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Subscriptions automatically renew unless cancelled"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Cancel anytime; access continues until period ends"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Refund Policy:"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"All subscription fees are non-refundable except as required by law. If you are unsatisfied within the first 7 days, contact contact@verdictpath.io for a potential refund."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"7. DISCLAIMERS"}),(0,u.jsx)(l.default,{style:h.bold,children:"SERVICE \"AS IS\""}),(0,u.jsx)(l.default,{style:h.paragraph,children:"THE SERVICE IS PROVIDED ON AN \"AS IS\" AND \"AS AVAILABLE\" BASIS WITHOUT WARRANTIES OF ANY KIND. WE DO NOT GUARANTEE UNINTERRUPTED OR ERROR-FREE OPERATION."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"8. LIMITATION OF LIABILITY"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, VERDICT PATH SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES. OUR TOTAL LIABILITY SHALL NOT EXCEED THE AMOUNT YOU PAID US IN THE PRECEDING 12 MONTHS OR $100, WHICHEVER IS GREATER."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"9. TERMINATION"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"You may terminate your account at any time. We may suspend or terminate your account for violations of these Terms, fraudulent activity, or other reasons. Upon termination, your access will cease and we may delete your data."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"10. DISPUTE RESOLUTION"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Before filing a claim, contact us at contact@verdictpath.io to attempt informal resolution. Disputes will be resolved through binding arbitration rather than in court."}),(0,u.jsx)(l.default,{style:h.bold,children:"CLASS ACTION WAIVER:"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Disputes will be resolved individually, not as part of a class action. You waive your right to participate in a class action lawsuit."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"11. CONTACT US"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"If you have questions about these Terms, please contact us at:"}),(0,u.jsx)(l.default,{style:h.bold,children:"Email: contact@verdictpath.io"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"We will respond to your inquiry within 30 days."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"12. ACKNOWLEDGMENT"}),(0,u.jsx)(l.default,{style:h.bold,children:"BY USING THE SERVICE, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS, UNDERSTAND THEM, AND AGREE TO BE BOUND BY THEM."}),(0,u.jsx)(l.default,{style:h.paragraph,children:"If you do not agree to these Terms, you must not access or use the Service."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsxs)(l.default,{style:h.paragraph,children:[(0,u.jsx)(l.default,{style:h.bold,children:"Effective Date:"})," October 31, 2025"]}),(0,u.jsxs)(l.default,{style:h.paragraph,children:[(0,u.jsx)(l.default,{style:h.bold,children:"Version:"})," 1.0"]}),(0,u.jsx)(l.default,{style:h.copyright,children:"\xa9 2025 Verdict Path. All rights reserved."})]})})]})},451,[13,85,161,177,26,162,131,132,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}}),r(d[0]);var t=e(r(d[1])),l=e(r(d[2])),s=e(r(d[3])),o=e(r(d[4])),n=e(r(d[5]));r(d[6]);var c=r(d[7]),u=r(d[8]);const h=o.default.create({container:{flex:1,backgroundColor:c.theme.colors.background},header:{flexDirection:'row',alignItems:'center',paddingHorizontal:20,paddingVertical:15,backgroundColor:c.theme.colors.primary,borderBottomWidth:2,borderBottomColor:c.theme.colors.secondary},backButton:{marginRight:15},backButtonText:{fontSize:16,color:c.theme.colors.white,fontWeight:'600'},headerTitle:{fontSize:18,fontWeight:'bold',color:c.theme.colors.white,flex:1},scrollView:{flex:1},content:{padding:20},title:{fontSize:20,fontWeight:'bold',color:c.theme.colors.primary,textAlign:'center',marginBottom:5},subtitle:{fontSize:18,fontWeight:'600',color:c.theme.colors.mahogany,textAlign:'center',marginBottom:10},lastUpdated:{fontSize:14,color:c.theme.colors.textSecondary,textAlign:'center',fontStyle:'italic',marginBottom:20},importantHeader:{fontSize:18,fontWeight:'bold',color:'#c0392b',textAlign:'center',marginBottom:10},sectionTitle:{fontSize:18,fontWeight:'bold',color:c.theme.colors.mahogany,marginTop:15,marginBottom:10},subsectionTitle:{fontSize:16,fontWeight:'600',color:c.theme.colors.text,marginTop:10,marginBottom:8},paragraph:{fontSize:14,color:c.theme.colors.text,lineHeight:22,marginBottom:12},bold:{fontWeight:'bold',color:c.theme.colors.text,fontSize:14,marginTop:8,marginBottom:8},listItem:{fontSize:14,color:c.theme.colors.text,lineHeight:22,marginBottom:5,paddingLeft:10},divider:{height:1,backgroundColor:c.theme.colors.secondary,marginVertical:15},copyright:{fontSize:12,color:c.theme.colors.textSecondary,textAlign:'center',marginTop:20,marginBottom:40,fontStyle:'italic'}});var f=({onBack:e,onNavigate:o})=>(0,u.jsxs)(t.default,{style:h.container,children:[(0,u.jsxs)(t.default,{style:h.header,children:[(0,u.jsx)(n.default,{style:h.backButton,onPress:e||(()=>o&&o('register')),children:(0,u.jsx)(l.default,{style:h.backButtonText,children:"\u2190 Back"})}),(0,u.jsx)(l.default,{style:h.headerTitle,children:"End User License Agreement"})]}),(0,u.jsx)(s.default,{style:h.scrollView,children:(0,u.jsxs)(t.default,{style:h.content,children:[(0,u.jsx)(l.default,{style:h.title,children:"END USER LICENSE AGREEMENT (EULA)"}),(0,u.jsx)(l.default,{style:h.subtitle,children:"FOR VERDICT PATH"}),(0,u.jsx)(l.default,{style:h.lastUpdated,children:"Last Updated: October 31, 2025"}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.importantHeader,children:"IMPORTANT - READ CAREFULLY"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"This End User License Agreement is a legal agreement between you and Verdict Path for the Verdict Path mobile application software."}),(0,u.jsx)(l.default,{style:h.bold,children:"BY DOWNLOADING, INSTALLING, OR USING THE SOFTWARE, YOU AGREE TO BE BOUND BY THE TERMS OF THIS EULA. IF YOU DO NOT AGREE, DO NOT USE THE SOFTWARE."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"1. DEFINITIONS"}),(0,u.jsxs)(l.default,{style:h.listItem,children:[(0,u.jsx)(l.default,{style:h.bold,children:"Software:"})," The Verdict Path mobile application, including all updates and modifications"]}),(0,u.jsxs)(l.default,{style:h.listItem,children:[(0,u.jsx)(l.default,{style:h.bold,children:"Device:"})," Any mobile device on which the Software is installed"]}),(0,u.jsxs)(l.default,{style:h.listItem,children:[(0,u.jsx)(l.default,{style:h.bold,children:"User Account:"})," Your account to access and use the Software"]}),(0,u.jsxs)(l.default,{style:h.listItem,children:[(0,u.jsx)(l.default,{style:h.bold,children:"Content:"})," Any data or information you create or transmit through the Software"]}),(0,u.jsxs)(l.default,{style:h.listItem,children:[(0,u.jsx)(l.default,{style:h.bold,children:"Services:"})," Cloud-based services including data storage, synchronization, and push notifications"]}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"2. LICENSE GRANT"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"2.1 Limited License"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Subject to your compliance with this EULA, we grant you a limited, non-exclusive, non-transferable, revocable license to:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Download and install the Software on your Device(s)"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Access and use the Software for personal or business purposes"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Access the Services through the Software"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"2.2 License Restrictions - You May NOT:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Copy, modify, or create derivative works of the Software"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Reverse engineer, decompile, or disassemble the Software"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Remove or alter copyright or proprietary notices"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Rent, lease, sell, redistribute, or sublicense the Software"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Use the Software to develop competing applications"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Use the Software for illegal or unauthorized purposes"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Circumvent security features or access restrictions"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Use automated systems (bots, scrapers) without permission"}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"3. INSTALLATION AND USE"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"System Requirements:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 iOS 13.0 or later / Android 8.0 or later"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Internet connection for full functionality"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Valid email address for account creation"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Account Requirements:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Must be at least 18 years of age"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Provide accurate and complete information"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Maintain security of account credentials"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Comply with Terms of Service and Privacy Policy"}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"4. SUBSCRIPTION AND PAYMENT"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Subscription Tiers:"}),(0,u.jsx)(l.default,{style:h.bold,children:"Individual Users:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Free Tier: Basic features at no cost"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Premium Tier: $29.99/month - Full feature access"}),(0,u.jsx)(l.default,{style:h.bold,children:"Law Firms & Medical Providers:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Free Tier: $0/month - Limited connections"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Basic Tier: $49/month - Expanded management"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Premium Tier: $149/month - Unlimited features"}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Payment Terms:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Subscription fees billed monthly in advance through Stripe"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Automatic recurring payments authorized"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Subscriptions auto-renew unless cancelled"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 All fees are non-refundable except as required by law"}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"5. INTELLECTUAL PROPERTY"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"The Software and all its contents are owned by Verdict Path and protected by United States and international copyright, trademark, patent, and trade secret laws."}),(0,u.jsx)(l.default,{style:h.paragraph,children:"\"Verdict Path\" and related logos are trademarks of Verdict Path. You may not use these marks without prior written permission."}),(0,u.jsx)(l.default,{style:h.paragraph,children:"You retain ownership of your Content. By using the Software, you grant us a license to use your Content solely to provide the Services."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"6. PRIVACY AND DATA"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Your use of the Software is governed by our Privacy Policy. We collect account information, usage data, device information, and payment information (processed by Stripe)."}),(0,u.jsx)(l.default,{style:h.subsectionTitle,children:"Data Security:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Encryption of data in transit and at rest"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Secure authentication mechanisms"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Regular security audits"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"However, no method is 100% secure. You use the Software at your own risk."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"7. PROHIBITED USES"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"You agree NOT to:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Violate any laws or regulations"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Infringe on intellectual property rights"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Transmit viruses, malware, or harmful code"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Attempt unauthorized access to systems"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Interfere with or disrupt the Software"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Harass, threaten, or abuse other users"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 Use the Software for unauthorized commercial purposes"}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"8. DISCLAIMERS"}),(0,u.jsx)(l.default,{style:h.bold,children:"SOFTWARE PROVIDED \"AS IS\""}),(0,u.jsx)(l.default,{style:h.paragraph,children:"THE SOFTWARE IS PROVIDED \"AS IS\" AND \"AS AVAILABLE\" WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED. WE DO NOT WARRANT UNINTERRUPTED, ERROR-FREE, OR SECURE OPERATION."}),(0,u.jsx)(l.default,{style:h.bold,children:"NOT LEGAL OR MEDICAL ADVICE"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"The Software is an organizational and educational tool. It does not provide legal or medical advice. Consult with licensed professionals for advice specific to your situation."}),(0,u.jsx)(l.default,{style:h.bold,children:"USE AT YOUR OWN RISK"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"YOU ARE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR DEVICE, LOSS OF DATA, OR OTHER CONSEQUENCES FROM YOUR USE OF THE SOFTWARE."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"9. LIMITATION OF LIABILITY"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, VERDICT PATH SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING LOSS OF PROFITS, DATA, BUSINESS OPPORTUNITIES, OR GOODWILL."}),(0,u.jsx)(l.default,{style:h.paragraph,children:"OUR TOTAL LIABILITY SHALL NOT EXCEED THE GREATER OF:"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 The amount you paid in the preceding 12 months, or"}),(0,u.jsx)(l.default,{style:h.listItem,children:"\u2022 One hundred dollars ($100.00)"}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"10. INDEMNIFICATION"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"You agree to indemnify and hold harmless Verdict Path from any claims, damages, or expenses arising from your use of the Software, violation of this EULA, or violation of any laws."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"11. TERMINATION"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"You may terminate this license by uninstalling the Software and deleting your account. We may terminate your license for violations, fraudulent activity, or other reasons."}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Upon termination, your right to use the Software ceases immediately. We may delete your account and content. No refunds will be provided."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"12. DISPUTE RESOLUTION"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Before filing a claim, contact contact@verdictpath.io for informal resolution. If unsuccessful, disputes will be resolved through binding arbitration administered by the American Arbitration Association."}),(0,u.jsx)(l.default,{style:h.bold,children:"CLASS ACTION WAIVER:"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"Disputes will be resolved individually. You waive your right to participate in class action lawsuits or class-wide arbitration."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"13. CONTACT US"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"If you have questions about this EULA:"}),(0,u.jsx)(l.default,{style:h.bold,children:"Email: contact@verdictpath.io"}),(0,u.jsx)(l.default,{style:h.paragraph,children:"We will respond within 30 days."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsx)(l.default,{style:h.sectionTitle,children:"14. ACKNOWLEDGMENT"}),(0,u.jsx)(l.default,{style:h.bold,children:"BY DOWNLOADING, INSTALLING, OR USING THE SOFTWARE, YOU ACKNOWLEDGE THAT YOU HAVE READ AND UNDERSTOOD THIS EULA AND AGREE TO BE BOUND BY ITS TERMS."}),(0,u.jsx)(l.default,{style:h.paragraph,children:"If you do not agree, you must not download, install, or use the Software."}),(0,u.jsx)(t.default,{style:h.divider}),(0,u.jsxs)(l.default,{style:h.paragraph,children:[(0,u.jsx)(l.default,{style:h.bold,children:"Effective Date:"})," October 31, 2025"]}),(0,u.jsxs)(l.default,{style:h.paragraph,children:[(0,u.jsx)(l.default,{style:h.bold,children:"Version:"})," 1.0"]}),(0,u.jsx)(l.default,{style:h.copyright,children:"\xa9 2025 Verdict Path. All rights reserved."})]})})]})},452,[13,85,161,177,26,162,131,132,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return T}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6]));r(d[7]);var f=r(d[8]),h=r(d[9]),y=e(r(d[10])),p=r(d[11]);const b={free:{name:'Free',monthly:0,annual:0,features:['\u2693 Interactive Litigation Roadmap','\ud83d\udcf9 Basic Video Library Access','\ud83e\ude99 Gamification & Coin Rewards','\ud83c\udff4\u200d\u2620\ufe0f Pirate-Themed Experience','\ud83d\udcf1 Mobile & Web Access'],description:'Perfect for getting started'},basic:{name:'Basic',monthly:9.99,annual:99.99,features:['\u2705 Everything in Free','\ud83d\udcda Premium Educational Content','\ud83d\udcc5 Calendar Integration','\ud83d\udd14 Priority Notifications','\u2b50 Enhanced Support'],description:'For active case management',savings:'17% savings with annual'},premium:{name:'Premium',monthly:19.99,annual:199.99,features:['\u2705 Everything in Basic','\ud83c\udfe5 Medical Hub Access (HIPAA-Compliant)','\ud83d\udcca Advanced Analytics Dashboard','\ud83d\udcb0 Settlement Disbursement Receiving','\ud83c\udfc6 Premium Badge & Recognition'],description:'Complete case management suite',savings:'17% savings with annual'}},x=u.default.create({container:{flex:1,backgroundColor:'#f5f5f5'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'#f5f5f5'},loadingText:{marginTop:15,fontSize:16,color:'#666'},header:{backgroundColor:h.theme.colors.primary,padding:25,paddingTop:25},backButton:{marginBottom:15,alignSelf:'flex-start'},backButtonText:{fontSize:16,color:'#fff',fontWeight:'600'},headerTitle:{fontSize:28,fontWeight:'bold',color:'#fff',marginBottom:8},headerSubtitle:{fontSize:16,color:'#fff',opacity:.9},billingToggle:{flexDirection:'row',backgroundColor:'#fff',margin:20,borderRadius:12,padding:5,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},toggleButton:{flex:1,paddingVertical:12,alignItems:'center',borderRadius:8},activeToggle:{backgroundColor:h.theme.colors.primary},toggleText:{fontSize:16,fontWeight:'600',color:'#666'},activeToggleText:{color:'#fff'},tiersContainer:{paddingHorizontal:20,paddingBottom:20},tierCard:{backgroundColor:'#fff',borderRadius:16,padding:20,marginBottom:20,borderWidth:2,borderColor:'#e0e0e0',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},currentTierCard:{borderColor:h.theme.colors.primary,borderWidth:3},currentBadge:{position:'absolute',top:15,right:15,backgroundColor:h.theme.colors.primary,paddingHorizontal:12,paddingVertical:6,borderRadius:20},currentBadgeText:{color:'#fff',fontSize:12,fontWeight:'bold'},tierName:{fontSize:24,fontWeight:'bold',color:'#2c3e50',marginBottom:5},tierDescription:{fontSize:14,color:'#7f8c8d',marginBottom:15},priceSection:{marginBottom:20},tierPrice:{fontSize:32,fontWeight:'bold',color:h.theme.colors.primary,marginBottom:5},savingsText:{fontSize:14,color:'#27ae60',fontWeight:'600'},featuresSection:{marginBottom:20},featureText:{fontSize:15,color:'#34495e',marginBottom:10,lineHeight:22},selectButton:{backgroundColor:h.theme.colors.primary,paddingVertical:15,borderRadius:12,alignItems:'center'},currentButton:{backgroundColor:'#ecf0f1'},disabledButton:{opacity:.5},selectButtonText:{color:'#fff',fontSize:16,fontWeight:'bold'},currentButtonText:{color:'#7f8c8d'},footer:{padding:20,backgroundColor:'#fff',marginTop:10},footerNote:{fontSize:14,color:'#7f8c8d',marginBottom:10,lineHeight:20}});var T=({user:e,onNavigate:u,onSubscriptionChanged:T})=>{const[C,B]=(0,t.useState)(!0),[S,j]=(0,t.useState)(null),[P,v]=(0,t.useState)('monthly'),[w,I]=(0,t.useState)(!1),[A,N]=(0,t.useState)(null);(0,t.useEffect)(()=>{E(),k()},[]);const k=async()=>{try{if(!e?.token)return;const t=await(0,f.apiRequest)(f.API_ENDPOINTS.STRIPE_CONNECT.ACCOUNT_STATUS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});N(t)}catch(e){console.error('Error checking Stripe account status:',e)}},E=async()=>{try{if(!e?.token)return console.log('No auth token available, setting default free subscription'),j({tier:'free',price:0}),void B(!1);B(!0);const t=await(0,f.apiRequest)(f.API_ENDPOINTS.SUBSCRIPTION.INDIVIDUAL_CURRENT,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});t.subscription&&j(t.subscription)}catch(e){console.error('Error fetching subscription:',e),j({tier:'free',price:0})}finally{B(!1)}},z=async e=>{'free'!==e||'free'===S?.tier?R(e):(0,y.default)('Downgrade to Free?','Are you sure you want to downgrade to the Free plan? You\'ll lose access to premium features.',[{text:'Cancel',style:'cancel'},{text:'Downgrade',style:'destructive',onPress:()=>R(e)}])},R=async t=>{try{I(!0);const o=await(0,f.apiRequest)(f.API_ENDPOINTS.SUBSCRIPTION.INDIVIDUAL_UPDATE,{method:'PUT',headers:{Authorization:`Bearer ${e?.token}`,'Content-Type':'application/json'},body:JSON.stringify({subscriptionTier:t,billingCycle:P})});o.success?((0,y.default)('Success!',o.message),await E(),T&&await T()):(0,y.default)('Error',o.error||'Failed to update subscription')}catch(e){console.error('Error updating subscription:',e),(0,y.default)('Error','Failed to update subscription. Please try again.')}finally{I(!1)}},D=e=>{const t=b[e],s=(S?.tier?.toLowerCase()||'free')===e,c='annual'===P?t.annual:t.monthly,u=0===c?'Free':`$${c.toFixed(2)}/${'annual'===P?'year':'month'}`;return(0,p.jsxs)(o.default,{style:[x.tierCard,s&&x.currentTierCard],children:[s&&(0,p.jsx)(o.default,{style:x.currentBadge,children:(0,p.jsx)(n.default,{style:x.currentBadgeText,children:"Current Plan"})}),(0,p.jsx)(n.default,{style:x.tierName,children:t.name}),(0,p.jsx)(n.default,{style:x.tierDescription,children:t.description}),(0,p.jsxs)(o.default,{style:x.priceSection,children:[(0,p.jsx)(n.default,{style:x.tierPrice,children:u}),t.savings&&'annual'===P&&(0,p.jsx)(n.default,{style:x.savingsText,children:t.savings})]}),(0,p.jsx)(o.default,{style:x.featuresSection,children:t.features.map((e,t)=>(0,p.jsx)(n.default,{style:x.featureText,children:e},t))}),(0,p.jsx)(l.default,{style:[x.selectButton,s&&x.currentButton,w&&x.disabledButton],onPress:()=>z(e),disabled:s||w,children:(0,p.jsx)(n.default,{style:[x.selectButtonText,s&&x.currentButtonText],children:s?'Current Plan':'free'===e?'Downgrade':'Upgrade'})})]},e)};return C?(0,p.jsxs)(o.default,{style:x.loadingContainer,children:[(0,p.jsx)(c.default,{size:"large",color:h.theme.colors.primary}),(0,p.jsx)(n.default,{style:x.loadingText,children:"Loading subscription details..."})]}):(0,p.jsxs)(s.default,{style:x.container,children:[(0,p.jsxs)(o.default,{style:x.header,children:[u&&(0,p.jsx)(l.default,{style:x.backButton,onPress:()=>u('dashboard'),children:(0,p.jsx)(n.default,{style:x.backButtonText,children:"\u2190 Back"})}),(0,p.jsx)(n.default,{style:x.headerTitle,children:"Subscription Plans"}),(0,p.jsx)(n.default,{style:x.headerSubtitle,children:"Choose the plan that's right for your litigation journey"})]}),(0,p.jsxs)(o.default,{style:x.billingToggle,children:[(0,p.jsx)(l.default,{style:[x.toggleButton,'monthly'===P&&x.activeToggle],onPress:()=>v('monthly'),children:(0,p.jsx)(n.default,{style:[x.toggleText,'monthly'===P&&x.activeToggleText],children:"Monthly"})}),(0,p.jsx)(l.default,{style:[x.toggleButton,'annual'===P&&x.activeToggle],onPress:()=>v('annual'),children:(0,p.jsx)(n.default,{style:[x.toggleText,'annual'===P&&x.activeToggleText],children:"Annual"})})]}),(0,p.jsxs)(o.default,{style:x.tiersContainer,children:[D('free'),D('basic'),D('premium')]}),(0,p.jsxs)(o.default,{style:x.footer,children:[(0,p.jsx)(n.default,{style:x.footerNote,children:"\ud83d\udca1 Premium features include HIPAA-compliant medical document storage and the ability to receive settlement disbursements directly."}),(0,p.jsx)(n.default,{style:x.footerNote,children:"\ud83d\udcf1 All plans include mobile and web access."})]})]})}},453,[13,85,161,162,177,354,26,82,135,132,398,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return T}});var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=(e(r(d[7])),e(r(d[8]))),h=e(r(d[9]));r(d[10]),r(d[11]);var y=r(d[12]),p=r(d[13]),x=r(d[14]),b=r(d[15]);const j=(e,t,o=[{text:'OK'}])=>{if(o.length>1){const l=window.confirm(`${e}\n\n${t}`);l&&o[1]?.onPress?o[1].onPress():!l&&o[0]?.onPress&&o[0].onPress()}else window.alert(`${e}\n\n${t}`),o[0]?.onPress&&o[0].onPress()},S=n.default.create({container:{flex:1,backgroundColor:y.theme.colors.background},header:{flexDirection:'row',alignItems:'center',padding:20,backgroundColor:y.theme.colors.primary},backButton:{marginRight:15},backButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},title:{fontSize:24,fontWeight:'bold',color:'#fff'},content:{flex:1,padding:20},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},newNegotiationButton:{backgroundColor:y.theme.colors.primary,padding:15,borderRadius:10,alignItems:'center',marginBottom:20},newNegotiationButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},negotiationsList:{flex:1},negotiationCard:{backgroundColor:'#fff',borderRadius:10,padding:15,marginBottom:15,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},cardHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:10},clientName:{fontSize:18,fontWeight:'bold',color:y.theme.colors.text,flex:1},statusBadge:{paddingHorizontal:10,paddingVertical:5,borderRadius:5},statusText:{color:'#fff',fontSize:12,fontWeight:'600'},billDescription:{fontSize:14,color:y.theme.colors.textSecondary,marginBottom:10},amountRow:{flexDirection:'row',justifyContent:'space-between',marginBottom:10},amountCol:{flex:1},amountLabel:{fontSize:12,color:y.theme.colors.textSecondary,marginBottom:5},amountValue:{fontSize:16,fontWeight:'bold',color:y.theme.colors.text},yourTurnBadge:{backgroundColor:'#FFF3CD',padding:8,borderRadius:5,marginTop:5},yourTurnText:{color:'#856404',fontSize:12,fontWeight:'600',textAlign:'center'},dateText:{fontSize:12,color:y.theme.colors.textSecondary,marginTop:5},emptyState:{padding:40,alignItems:'center'},emptyStateText:{fontSize:16,color:y.theme.colors.textSecondary,textAlign:'center'},modalContainer:{flex:1,backgroundColor:y.theme.colors.background},modalHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',padding:20,backgroundColor:y.theme.colors.primary},modalTitle:{fontSize:20,fontWeight:'bold',color:'#fff'},closeButton:{fontSize:24,color:'#fff',fontWeight:'bold'},modalContent:{flex:1,padding:20},detailSection:{marginBottom:20},sectionTitle:{fontSize:16,fontWeight:'bold',color:y.theme.colors.text,marginBottom:10},detailText:{fontSize:14,color:y.theme.colors.textSecondary},amountSection:{flexDirection:'row',justifyContent:'space-around',backgroundColor:'#f8f9fa',padding:15,borderRadius:10,marginBottom:20},amountDetailCol:{alignItems:'center'},amountDetailLabel:{fontSize:14,color:y.theme.colors.textSecondary,marginBottom:5},amountDetailValue:{fontSize:20,fontWeight:'bold',color:y.theme.colors.text},statusBadgeLarge:{paddingHorizontal:15,paddingVertical:10,borderRadius:8,alignSelf:'flex-start'},statusTextLarge:{color:'#fff',fontSize:14,fontWeight:'600'},historyEntry:{backgroundColor:'#f8f9fa',padding:12,borderRadius:8,marginBottom:10,borderLeftWidth:3,borderLeftColor:y.theme.colors.primary},historyDate:{fontSize:12,color:y.theme.colors.textSecondary,marginBottom:5},historyAction:{fontSize:14,fontWeight:'600',color:y.theme.colors.text,marginBottom:3},historyAmount:{fontSize:14,color:y.theme.colors.text,marginBottom:3},historyNotes:{fontSize:12,color:y.theme.colors.textSecondary,fontStyle:'italic'},actionSection:{marginTop:20},callRequestSection:{backgroundColor:'#FFF3CD',padding:15,borderRadius:10,marginTop:20,borderWidth:1,borderColor:'#FFD93D'},callRequestDetails:{marginTop:10},callRequestLabel:{fontSize:14,fontWeight:'600',color:'#856404',marginTop:8},callRequestValue:{fontSize:16,color:'#333',marginTop:4},waitingSection:{backgroundColor:'#E3F2FD',padding:20,borderRadius:10,marginTop:20,alignItems:'center'},waitingText:{fontSize:16,color:'#1565C0',fontWeight:'500',textAlign:'center'},acceptButton:{backgroundColor:'#28a745',padding:15,borderRadius:10,alignItems:'center',marginBottom:10},acceptButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},counterButton:{backgroundColor:y.theme.colors.primary,padding:15,borderRadius:10,alignItems:'center',marginBottom:10},counterButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},callButton:{backgroundColor:'#6c757d',padding:15,borderRadius:10,alignItems:'center',marginBottom:10},callButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},downloadButton:{backgroundColor:'#17a2b8',padding:15,borderRadius:10,alignItems:'center',marginBottom:20},downloadButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},inputLabel:{fontSize:14,fontWeight:'600',color:y.theme.colors.text,marginBottom:8,marginTop:10},input:{backgroundColor:'#fff',borderWidth:1,borderColor:'#ddd',borderRadius:8,padding:12,fontSize:16,marginBottom:15},textArea:{backgroundColor:'#fff',borderWidth:1,borderColor:'#ddd',borderRadius:8,padding:12,fontSize:16,marginBottom:15,minHeight:100,textAlignVertical:'top'},pickerContainer:{marginBottom:15},clientOption:{backgroundColor:'#fff',borderWidth:1,borderColor:'#ddd',borderRadius:8,padding:15,marginBottom:10},clientOptionSelected:{backgroundColor:y.theme.colors.primary,borderColor:y.theme.colors.primary},clientOptionText:{fontSize:16,color:'#000000'},clientOptionTextSelected:{color:'#fff',fontWeight:'600'},submitButton:{backgroundColor:y.theme.colors.primary,padding:15,borderRadius:10,alignItems:'center',marginTop:20,marginBottom:30},submitButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},infoBox:{backgroundColor:'#e7f3ff',padding:15,borderRadius:8,marginBottom:20,flexDirection:'row',justifyContent:'space-between',alignItems:'center'},infoLabel:{fontSize:16,fontWeight:'600',color:y.theme.colors.text},infoValue:{fontSize:20,fontWeight:'bold',color:y.theme.colors.primary},infoText:{fontSize:14,color:y.theme.colors.textSecondary,marginBottom:20,lineHeight:20},warningBox:{backgroundColor:'#fff3cd',padding:15,borderRadius:8,marginBottom:20,borderLeftWidth:4,borderLeftColor:'#ffc107'},warningText:{fontSize:14,fontWeight:'600',color:'#856404',marginBottom:5},warningSubtext:{fontSize:12,color:'#856404'}});var T=({user:e,onBack:n,hideHeader:T=!1})=>{const[B,C]=(0,t.useState)(!0),[_,N]=(0,t.useState)([]),[R,I]=(0,t.useState)(null),[O,w]=(0,t.useState)(!1),[P,A]=(0,t.useState)(!1),[E,v]=(0,t.useState)(!1),[k,F]=(0,t.useState)([]),[D,q]=(0,t.useState)(null),[z,L]=(0,t.useState)([]),[W,$]=(0,t.useState)(null),[V,H]=(0,t.useState)(''),[G,M]=(0,t.useState)(''),[K,J]=(0,t.useState)(''),[U,Y]=(0,t.useState)(''),[Q,X]=(0,t.useState)(''),[Z,ee]=(0,t.useState)(''),[te,oe]=(0,t.useState)(''),[le,ne]=(0,t.useState)(''),ie=(0,t.useRef)(null),[re,ae]=(0,t.useState)(!1),se='LAW_FIRM'===e?.type||'lawfirm'===e?.userType,de='MEDICAL_PROVIDER'===e?.type||'medical_provider'===e?.userType,ce=(0,t.useCallback)(async()=>{if(e?.token)try{console.log('\ud83d\udd25 Setting up Firebase real-time listeners for negotiations...'),(0,x.initializeFirebase)();const t=await(0,x.authenticateWithBackend)(e.token);if(!t||!t.success)return void console.warn('\u26a0\ufe0f Firebase auth failed, falling back to polling');const o=se?'law_firm':'medical_provider',l=e.id,n=await(0,x.subscribeToNegotiations)(o,l,e=>{if(console.log('\ud83d\udd14 Firebase negotiations update received:',e?.length||0),e&&Array.isArray(e)&&(N(t=>{const o=new Map(t.map(e=>[e.id,e]));return e.forEach(e=>{if(e&&e.id){const t=Object.assign({},o.get(e.id),e,{billAmount:parseFloat(e.bill_amount||e.billAmount||0),currentOffer:parseFloat(e.current_offer||e.currentOffer||0),billDescription:e.bill_description||e.billDescription,clientId:e.client_id||e.clientId,clientName:e.client_name||e.clientName,lawFirmId:e.law_firm_id||e.lawFirmId,firmName:e.firm_name||e.firmName,lawFirmEmail:e.law_firm_email||e.lawFirmEmail,medicalProviderId:e.medical_provider_id||e.medicalProviderId,providerName:e.provider_name||e.providerName,medicalProviderEmail:e.medical_provider_email||e.medicalProviderEmail,initiatedBy:e.initiated_by||e.initiatedBy,lastRespondedBy:e.last_responded_by||e.lastRespondedBy,interactionCount:parseInt(e.interaction_count||e.interactionCount||0),createdAt:e.created_at||e.createdAt,updatedAt:e.updated_at||e.updatedAt,acceptedAt:e.accepted_at||e.acceptedAt,callRequestPhone:e.call_request_phone||e.callRequestPhone,callRequestNotes:e.call_request_notes||e.callRequestNotes});o.set(e.id,t)}}),Array.from(o.values())}),R)){const t=e.find(e=>e.id===R.id);t&&I(e=>Object.assign({},e,t,{billAmount:parseFloat(t.bill_amount||t.billAmount||0),currentOffer:parseFloat(t.current_offer||t.currentOffer||0),billDescription:t.bill_description||t.billDescription,clientId:t.client_id||t.clientId,clientName:t.client_name||t.clientName,lawFirmId:t.law_firm_id||t.lawFirmId,firmName:t.firm_name||t.firmName,medicalProviderId:t.medical_provider_id||t.medicalProviderId,providerName:t.provider_name||t.providerName,initiatedBy:t.initiated_by||t.initiatedBy,lastRespondedBy:t.last_responded_by||t.lastRespondedBy,interactionCount:parseInt(t.interaction_count||t.interactionCount||0),callRequestPhone:t.call_request_phone||t.callRequestPhone,callRequestNotes:t.call_request_notes||t.callRequestNotes}))}});ie.current=n,ae(!0),console.log('\u2705 Firebase negotiations listeners active')}catch(e){console.error('\u274c Firebase negotiations setup failed:',e),ae(!1)}},[e?.token,e?.id,se,R]);(0,t.useEffect)(()=>(ue(),se?fe():de&&me(),ce(),()=>{ie.current&&'function'==typeof ie.current&&(console.log('\ud83d\udd25 Cleaning up Firebase negotiations listeners'),ie.current(),ie.current=null)}),[]);const ue=async()=>{try{C(!0);const t=((await(0,p.apiRequest)(p.API_ENDPOINTS.NEGOTIATIONS.LIST,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}})).negotiations||[]).map(e=>Object.assign({},e,{billAmount:parseFloat(e.bill_amount||0),currentOffer:parseFloat(e.current_offer||0),billDescription:e.bill_description,clientId:e.client_id,lawFirmId:e.law_firm_id,medicalProviderId:e.medical_provider_id,initiatedBy:e.initiated_by,lastRespondedBy:e.last_responded_by,createdAt:e.created_at,updatedAt:e.updated_at,acceptedAt:e.accepted_at,clientName:e.client_name,firmName:e.firm_name,lawFirmEmail:e.law_firm_email,providerName:e.provider_name,medicalProviderEmail:e.medical_provider_email,interactionCount:parseInt(e.interaction_count||0),callRequestPhone:e.call_request_phone,callRequestNotes:e.call_request_notes}));N(t)}catch(e){console.error('Error loading negotiations:',e),j('Error','Failed to load negotiations')}finally{C(!1)}},fe=async()=>{try{const t=await(0,p.apiRequest)(p.API_ENDPOINTS.LAWFIRM.CLIENTS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});F(t.clients||[])}catch(e){console.error('Error loading clients:',e)}},me=async()=>{try{const t=await(0,p.apiRequest)(p.API_ENDPOINTS.MEDICALPROVIDER.PATIENTS,{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});F(t.patients||[])}catch(e){console.error('Error loading patients:',e)}},he=async t=>{if(t)try{const o=await(0,p.apiRequest)(p.API_ENDPOINTS.CLIENT_RELATIONSHIPS.GET_CLIENT_PROVIDERS(t),{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});L(o.providers||[]),o.providers&&1===o.providers.length?$(o.providers[0].id):$(null)}catch(e){console.error('Error loading medical providers:',e),L([])}else L([])},ye=async()=>{if(!(D&&V&&G&&K))return void j('Error','Please fill in all required fields');if(se&&!W)return void j('Error','Please select a medical provider');const t=parseFloat(G),o=parseFloat(K);if(isNaN(t)||isNaN(o))j('Error','Please enter valid amounts');else if(o>=t)j('Error','Initial offer must be less than the bill amount');else try{C(!0);const l={clientId:D,billDescription:V,billAmount:t,initialOffer:o,notes:U,initiatedBy:se?'law_firm':'medical_provider'};se&&(l.medicalProviderId=W),console.log('\ud83d\udce4 Sending negotiation request:',l);const n=await(0,p.apiRequest)(p.API_ENDPOINTS.NEGOTIATIONS.INITIATE,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify(l)});console.log('\ud83d\udce5 Negotiation response:',n),j('Success','Negotiation initiated! The other party has been notified.',[{text:'OK',onPress:()=>{w(!1),je(),ue()}}])}catch(e){console.error('Error initiating negotiation:',e),j('Error',e.message||'Failed to initiate negotiation')}finally{C(!1)}},ge=async()=>{if(!Q)return void j('Error','Please enter a counter offer amount');const t=parseFloat(Q);if(isNaN(t))return void j('Error','Please enter a valid amount');const o=R.currentOffer,l=R.billAmount;if(se){if(t<=0)return void j('Error','Counter offer must be greater than zero');if(t>=o)return void j('Error','Counter offer should be less than the current offer of $'+(o||0).toFixed(2))}else{if(t<=o)return void j('Error','Counter offer must be greater than the current offer of $'+(o||0).toFixed(2));if(t>l)return void j('Error','Counter offer cannot exceed the bill amount of $'+(l||0).toFixed(2))}try{C(!0);await(0,p.apiRequest)(p.API_ENDPOINTS.NEGOTIATIONS.COUNTER_OFFER,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify({negotiationId:R.id,counterOffer:t,notes:Z})});j('Success','Counter offer sent! The other party has been notified.',[{text:'OK',onPress:()=>{A(!1),X(''),ee(''),ue(),I(null)}}])}catch(e){console.error('Error sending counter offer:',e),j('Error',e.message||'Failed to send counter offer')}finally{C(!1)}},pe=async t=>{j('Accept Offer','Are you sure you want to accept this offer? This will finalize the negotiation.',[{text:'Cancel',style:'cancel'},{text:'Accept',onPress:async()=>{try{C(!0);await(0,p.apiRequest)(p.API_ENDPOINTS.NEGOTIATIONS.ACCEPT,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify({negotiationId:t})});j('Success','Offer accepted! Both parties will receive a full negotiation log.',[{text:'OK',onPress:()=>{ue(),I(null)}}])}catch(e){console.error('Error accepting offer:',e),j('Error',e.message||'Failed to accept offer')}finally{C(!1)}}}])},xe=async()=>{if(console.log('\ud83d\udcde handleRequestCall called',{phoneNumber:te,callNotes:le,selectedNegotiation:R?.id}),!te)return void j('Error','Please enter a phone number');if(/^\+?[\d\s\-\(\)]+$/.test(te))try{C(!0);await(0,p.apiRequest)(p.API_ENDPOINTS.NEGOTIATIONS.REQUEST_CALL,{method:'POST',headers:{Authorization:`Bearer ${e.token}`},body:JSON.stringify({negotiationId:R.id,phoneNumber:te,notes:le})});j('Success','Call request sent! The other party has been notified with your contact information.',[{text:'OK',onPress:()=>{v(!1),oe(''),ne(''),ue()}}])}catch(e){console.error('Error requesting call:',e),j('Error',e.message||'Failed to send call request')}finally{C(!1)}else j('Error','Please enter a valid phone number')},be=async t=>{try{const o=await(0,p.apiRequest)(p.API_ENDPOINTS.NEGOTIATIONS.LOG(t),{method:'GET',headers:{Authorization:`Bearer ${e.token}`}});j('Negotiation Log',JSON.stringify(o.log,null,2),[{text:'OK'}])}catch(e){console.error('Error downloading log:',e),j('Error','Failed to download negotiation log')}},je=()=>{q(null),$(null),L([]),H(''),M(''),J(''),Y('')},Se=e=>{switch(e){case'pending':return'#FFA500';case'counter_offered':return'#1E90FF';case'accepted':return'#28a745';case'stalled':return'#dc3545';default:return'#6c757d'}},Te=e=>{switch(e){case'pending':return'Pending Response';case'counter_offered':return'Counter Offer Made';case'accepted':return'Accepted';case'stalled':return'Stalled - Call Requested';default:return e}};return B&&0===_.length?(0,b.jsxs)(o.default,{style:S.container,children:[!T&&(0,b.jsxs)(o.default,{style:S.header,children:[(0,b.jsx)(c.default,{onPress:n,style:S.backButton,children:(0,b.jsx)(l.default,{style:S.backButtonText,children:"\u2190 Back"})}),(0,b.jsx)(l.default,{style:S.title,children:"Bill Negotiations"})]}),(0,b.jsx)(o.default,{style:S.loadingContainer,children:(0,b.jsx)(f.default,{size:"large",color:y.theme.colors.primary})})]}):(0,b.jsxs)(o.default,{style:S.container,children:[!T&&(0,b.jsxs)(o.default,{style:S.header,children:[(0,b.jsx)(c.default,{onPress:n,style:S.backButton,children:(0,b.jsx)(l.default,{style:S.backButtonText,children:"\u2190 Back"})}),(0,b.jsx)(l.default,{style:S.title,children:"Bill Negotiations"})]}),(0,b.jsxs)(o.default,{style:S.content,children:[(0,b.jsx)(c.default,{style:S.newNegotiationButton,onPress:()=>w(!0),children:(0,b.jsx)(l.default,{style:S.newNegotiationButtonText,children:"+ Start New Negotiation"})}),(0,b.jsx)(s.default,{style:S.negotiationsList,children:0===_.length?(0,b.jsx)(o.default,{style:S.emptyState,children:(0,b.jsx)(l.default,{style:S.emptyStateText,children:"No negotiations yet. Start one to begin negotiating medical bills!"})}):_.map(e=>{let t=!1;return t=null===e.lastRespondedBy?se&&'medical_provider'===e.initiatedBy||de&&'law_firm'===e.initiatedBy:se&&'medical_provider'===e.lastRespondedBy||de&&'law_firm'===e.lastRespondedBy,(0,b.jsxs)(c.default,{style:S.negotiationCard,onPress:()=>I(e),children:[(0,b.jsxs)(o.default,{style:S.cardHeader,children:[(0,b.jsx)(l.default,{style:S.clientName,children:e.clientName||`Client ID: ${e.clientId}`}),(0,b.jsx)(o.default,{style:[S.statusBadge,{backgroundColor:Se(e.status)}],children:(0,b.jsx)(l.default,{style:S.statusText,children:Te(e.status)})})]}),(0,b.jsx)(l.default,{style:S.billDescription,children:e.billDescription}),(0,b.jsxs)(o.default,{style:S.amountRow,children:[(0,b.jsxs)(o.default,{style:S.amountCol,children:[(0,b.jsx)(l.default,{style:S.amountLabel,children:"Bill Amount"}),(0,b.jsxs)(l.default,{style:S.amountValue,children:["$",(e.billAmount||0).toFixed(2)]})]}),(0,b.jsxs)(o.default,{style:S.amountCol,children:[(0,b.jsx)(l.default,{style:S.amountLabel,children:"Current Offer"}),(0,b.jsxs)(l.default,{style:S.amountValue,children:["$",(e.currentOffer||0).toFixed(2)]})]})]}),t&&'accepted'!==e.status&&(0,b.jsx)(o.default,{style:S.yourTurnBadge,children:(0,b.jsx)(l.default,{style:S.yourTurnText,children:"\ud83d\udd14 Your Turn"})}),(0,b.jsxs)(l.default,{style:S.dateText,children:["Initiated: ",new Date(e.createdAt).toLocaleDateString()]})]},e.id)})})]}),R&&(()=>{if(!R)return null;let e=!1;e=null===R.lastRespondedBy?se&&'medical_provider'===R.initiatedBy||de&&'law_firm'===R.initiatedBy:se&&'medical_provider'===R.lastRespondedBy||de&&'law_firm'===R.lastRespondedBy;const t=e&&('counter_offered'===R.status||'pending'===R.status)&&'accepted'!==R.status,n=e&&'accepted'!==R.status;return(0,b.jsx)(h.default,{visible:!0,animationType:"slide",onRequestClose:()=>I(null),children:(0,b.jsxs)(o.default,{style:S.modalContainer,children:[(0,b.jsxs)(o.default,{style:S.modalHeader,children:[(0,b.jsx)(l.default,{style:S.modalTitle,children:"Negotiation Details"}),(0,b.jsx)(c.default,{onPress:()=>I(null),children:(0,b.jsx)(l.default,{style:S.closeButton,children:"\u2715"})})]}),(0,b.jsxs)(s.default,{style:S.modalContent,children:[(0,b.jsxs)(o.default,{style:S.detailSection,children:[(0,b.jsx)(l.default,{style:S.sectionTitle,children:"Client Information"}),(0,b.jsx)(l.default,{style:S.detailText,children:R.clientName||`Client ID: ${R.clientId}`})]}),(0,b.jsxs)(o.default,{style:S.detailSection,children:[(0,b.jsx)(l.default,{style:S.sectionTitle,children:"Bill Description"}),(0,b.jsx)(l.default,{style:S.detailText,children:R.billDescription})]}),(0,b.jsxs)(o.default,{style:S.amountSection,children:[(0,b.jsxs)(o.default,{style:S.amountDetailCol,children:[(0,b.jsx)(l.default,{style:S.amountDetailLabel,children:"Original Bill"}),(0,b.jsxs)(l.default,{style:S.amountDetailValue,children:["$",(R.billAmount||0).toFixed(2)]})]}),(0,b.jsxs)(o.default,{style:S.amountDetailCol,children:[(0,b.jsx)(l.default,{style:S.amountDetailLabel,children:"Current Offer"}),(0,b.jsxs)(l.default,{style:[S.amountDetailValue,{color:y.theme.colors.primary}],children:["$",(R.currentOffer||0).toFixed(2)]})]})]}),(0,b.jsxs)(o.default,{style:S.detailSection,children:[(0,b.jsx)(l.default,{style:S.sectionTitle,children:"Status"}),(0,b.jsx)(o.default,{style:[S.statusBadgeLarge,{backgroundColor:Se(R.status)}],children:(0,b.jsx)(l.default,{style:S.statusTextLarge,children:Te(R.status)})})]}),R.history&&R.history.length>0&&(0,b.jsxs)(o.default,{style:S.detailSection,children:[(0,b.jsx)(l.default,{style:S.sectionTitle,children:"Negotiation History"}),R.history.map((e,t)=>(0,b.jsxs)(o.default,{style:S.historyEntry,children:[(0,b.jsx)(l.default,{style:S.historyDate,children:new Date(e.timestamp).toLocaleString()}),(0,b.jsx)(l.default,{style:S.historyAction,children:e.action}),(0,b.jsxs)(l.default,{style:S.historyAmount,children:["Amount: $",(e.amount||0).toFixed(2)]}),e.notes&&(0,b.jsxs)(l.default,{style:S.historyNotes,children:["Notes: ",e.notes]})]},t))]}),'accepted'===R.status&&(0,b.jsx)(c.default,{style:S.downloadButton,onPress:()=>be(R.id),children:(0,b.jsx)(l.default,{style:S.downloadButtonText,children:"\ud83d\udcc4 Download Full Log"})}),'stalled'===R.status&&R.callRequestPhone&&(0,b.jsxs)(o.default,{style:S.callRequestSection,children:[(0,b.jsx)(l.default,{style:S.sectionTitle,children:"\ud83d\udcde Call Requested"}),(0,b.jsxs)(o.default,{style:S.callRequestDetails,children:[(0,b.jsx)(l.default,{style:S.callRequestLabel,children:"Phone Number:"}),(0,b.jsx)(l.default,{style:S.callRequestValue,children:R.callRequestPhone}),R.callRequestNotes&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.default,{style:S.callRequestLabel,children:"Message:"}),(0,b.jsx)(l.default,{style:S.callRequestValue,children:R.callRequestNotes})]})]})]}),'accepted'!==R.status&&e&&(0,b.jsxs)(o.default,{style:S.actionSection,children:[t&&(0,b.jsx)(c.default,{style:S.acceptButton,onPress:()=>pe(R.id),children:(0,b.jsx)(l.default,{style:S.acceptButtonText,children:"\u2713 Accept Offer"})}),n&&(0,b.jsx)(c.default,{style:S.counterButton,onPress:()=>A(!0),children:(0,b.jsx)(l.default,{style:S.counterButtonText,children:"\u2194 Send Counter Offer"})}),(0,b.jsx)(c.default,{style:S.callButton,onPress:()=>{console.log('\ud83d\udcde Request Call button pressed'),v(!0)},children:(0,b.jsx)(l.default,{style:S.callButtonText,children:"\ud83d\udcde Request Call"})})]}),'accepted'!==R.status&&!e&&(0,b.jsx)(o.default,{style:S.waitingSection,children:(0,b.jsx)(l.default,{style:S.waitingText,children:"\u23f3 Waiting for the other party to respond..."})})]})]})})})(),O&&(0,b.jsx)(h.default,{visible:O,animationType:"slide",onRequestClose:()=>w(!1),children:(0,b.jsxs)(o.default,{style:S.modalContainer,children:[(0,b.jsxs)(o.default,{style:S.modalHeader,children:[(0,b.jsx)(l.default,{style:S.modalTitle,children:"New Negotiation"}),(0,b.jsx)(c.default,{onPress:()=>w(!1),children:(0,b.jsx)(l.default,{style:S.closeButton,children:"\u2715"})})]}),(0,b.jsxs)(s.default,{style:S.modalContent,children:[(0,b.jsxs)(l.default,{style:S.inputLabel,children:["Select ",se?'Client':'Patient'," *"]}),(0,b.jsx)(o.default,{style:S.pickerContainer,children:k.map(e=>(0,b.jsx)(c.default,{style:[S.clientOption,D===e.id&&S.clientOptionSelected],onPress:()=>{q(e.id),se&&he(e.id)},children:(0,b.jsxs)(l.default,{style:[S.clientOptionText,D===e.id&&S.clientOptionTextSelected],children:[e.first_name||e.firstName," ",e.last_name||e.lastName]})},e.id))}),se&&D&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.default,{style:S.inputLabel,children:"Select Medical Provider *"}),0===z.length?(0,b.jsxs)(o.default,{style:S.warningBox,children:[(0,b.jsx)(l.default,{style:S.warningText,children:"\u26a0\ufe0f No medical providers linked to this client."}),(0,b.jsx)(l.default,{style:S.warningSubtext,children:"Please link a medical provider to this client first."})]}):(0,b.jsx)(o.default,{style:S.pickerContainer,children:z.map(e=>(0,b.jsx)(c.default,{style:[S.clientOption,W===e.id&&S.clientOptionSelected],onPress:()=>$(e.id),children:(0,b.jsxs)(l.default,{style:[S.clientOptionText,W===e.id&&S.clientOptionTextSelected],children:[e.name,e.is_primary&&' (Primary)']})},e.id))})]}),(0,b.jsx)(l.default,{style:S.inputLabel,children:"Bill Description *"}),(0,b.jsx)(u.default,{style:S.textArea,value:V,onChangeText:H,placeholder:"e.g., Emergency Room Visit - 01/15/2025",multiline:!0,numberOfLines:3}),(0,b.jsx)(l.default,{style:S.inputLabel,children:"Bill Amount ($) *"}),(0,b.jsx)(u.default,{style:S.input,value:G,onChangeText:M,placeholder:"0.00",keyboardType:"decimal-pad"}),(0,b.jsx)(l.default,{style:S.inputLabel,children:se?'Initial Offer ($) *':'Minimum Acceptable Amount ($) *'}),(0,b.jsx)(u.default,{style:S.input,value:K,onChangeText:J,placeholder:"0.00",keyboardType:"decimal-pad"}),(0,b.jsx)(l.default,{style:S.inputLabel,children:"Notes (Optional)"}),(0,b.jsx)(u.default,{style:S.textArea,value:U,onChangeText:Y,placeholder:"Add any additional context...",multiline:!0,numberOfLines:4}),(0,b.jsx)(c.default,{style:S.submitButton,onPress:ye,disabled:B,children:B?(0,b.jsx)(f.default,{color:"#fff"}):(0,b.jsx)(l.default,{style:S.submitButtonText,children:"Initiate Negotiation"})})]})]})}),P&&(0,b.jsx)(h.default,{visible:P,animationType:"slide",onRequestClose:()=>A(!1),children:(0,b.jsxs)(o.default,{style:S.modalContainer,children:[(0,b.jsxs)(o.default,{style:S.modalHeader,children:[(0,b.jsx)(l.default,{style:S.modalTitle,children:"Counter Offer"}),(0,b.jsx)(c.default,{onPress:()=>A(!1),children:(0,b.jsx)(l.default,{style:S.closeButton,children:"\u2715"})})]}),(0,b.jsxs)(s.default,{style:S.modalContent,children:[(0,b.jsxs)(o.default,{style:S.infoBox,children:[(0,b.jsx)(l.default,{style:S.infoLabel,children:"Current Offer:"}),(0,b.jsxs)(l.default,{style:S.infoValue,children:["$",(R?.currentOffer||0).toFixed(2)]})]}),(0,b.jsx)(l.default,{style:S.inputLabel,children:"Counter Offer Amount ($) *"}),(0,b.jsx)(u.default,{style:S.input,value:Q,onChangeText:X,placeholder:"0.00",keyboardType:"decimal-pad"}),(0,b.jsx)(l.default,{style:S.inputLabel,children:"Notes (Optional)"}),(0,b.jsx)(u.default,{style:S.textArea,value:Z,onChangeText:ee,placeholder:"Explain your counter offer...",multiline:!0,numberOfLines:4}),(0,b.jsx)(c.default,{style:S.submitButton,onPress:ge,disabled:B,children:B?(0,b.jsx)(f.default,{color:"#fff"}):(0,b.jsx)(l.default,{style:S.submitButtonText,children:"Send Counter Offer"})})]})]})}),E&&(0,b.jsx)(h.default,{visible:E,animationType:"slide",onRequestClose:()=>v(!1),children:(0,b.jsxs)(o.default,{style:S.modalContainer,children:[(0,b.jsxs)(o.default,{style:S.modalHeader,children:[(0,b.jsx)(l.default,{style:S.modalTitle,children:"Request Call"}),(0,b.jsx)(c.default,{onPress:()=>v(!1),children:(0,b.jsx)(l.default,{style:S.closeButton,children:"\u2715"})})]}),(0,b.jsxs)(s.default,{style:S.modalContent,children:[(0,b.jsx)(l.default,{style:S.infoText,children:"Request a phone call to discuss this negotiation directly. The other party will receive your contact information."}),(0,b.jsx)(l.default,{style:S.inputLabel,children:"Your Phone Number *"}),(0,b.jsx)(u.default,{style:S.input,value:te,onChangeText:oe,placeholder:"+1 (555) 123-4567",keyboardType:"phone-pad"}),(0,b.jsx)(l.default,{style:S.inputLabel,children:"Message (Optional)"}),(0,b.jsx)(u.default,{style:S.textArea,value:le,onChangeText:ne,placeholder:"Let them know when you're available...",multiline:!0,numberOfLines:4}),(0,b.jsx)(c.default,{style:S.submitButton,onPress:xe,disabled:B,children:B?(0,b.jsx)(f.default,{color:"#fff"}):(0,b.jsx)(l.default,{style:S.submitButtonText,children:"Send Call Request"})})]})]})})]})}},454,[13,85,161,26,177,162,340,116,354,156,421,82,132,135,138,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return v}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),h=e(r(d[6])),u=e(r(d[7])),f=e(r(d[8]));r(d[9]);var b=e(r(d[10])),p=r(d[11]),y=r(d[12]),F=r(d[13]),C=r(d[14]);const x=c.default.create({safeArea:{flex:1,backgroundColor:'#0A1128'},container:{flex:1,backgroundColor:'#0A1128'},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',padding:20,backgroundColor:'rgba(0, 0, 0, 0.5)'},backButtonContainer:{padding:5},backButton:{color:'#FFFFFF',fontWeight:'600'},title:{fontWeight:'bold',color:'#FFFFFF',textAlign:'center',flex:1},scrollContent:{paddingTop:20},gridContainer:{flexDirection:'row',flexWrap:'wrap',justifyContent:'center'},singleColumnGrid:{flexDirection:'column',alignItems:'center'},avatarCard:{backgroundColor:'rgba(255, 255, 255, 0.08)',borderRadius:20,marginBottom:20,borderWidth:3,borderColor:'transparent',overflow:'hidden',shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:6,elevation:8},selectedCard:{borderColor:'#FFD700',shadowColor:'#FFD700',shadowOpacity:.5},videoPreview:{width:'100%',backgroundColor:'#000',position:'relative'},previewVideo:{width:'100%',height:'100%'},thumbnailImage:{width:'100%',height:'100%',backgroundColor:'#000'},placeholderImage:{width:'100%',height:'100%',justifyContent:'center',alignItems:'center'},placeholderText:{fontWeight:'bold',color:'#FFFFFF'},selectedOverlay:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.3)',justifyContent:'center',alignItems:'center'},checkCircle:{width:60,height:60,borderRadius:30,justifyContent:'center',alignItems:'center',borderWidth:3,borderColor:'#FFFFFF'},checkMark:{color:'#FFFFFF',fontSize:30,fontWeight:'bold'},avatarInfo:{},avatarName:{fontWeight:'bold',color:'#FFFFFF',marginBottom:8},avatarDescription:{color:'#D0D0D0',lineHeight:22},selectedBadge:{alignSelf:'flex-start',paddingHorizontal:15,paddingVertical:8,borderRadius:20,marginTop:15},selectedBadgeText:{color:'#FFFFFF',fontWeight:'bold'},hint:{backgroundColor:'rgba(255, 215, 0, 0.1)',borderRadius:12,borderWidth:1,borderColor:'#FFD700',marginTop:10},hintText:{color:'#FFD700',textAlign:'center',fontWeight:'600'}});var v=({user:e,onBack:c,onAvatarSelected:v})=>{const{width:j,height:k}=(0,h.default)(),[w,S]=(0,t.useState)(e?.avatarType||'captain'),[A,T]=(0,t.useState)(null),[z,B]=(0,t.useState)(!1),I=j<375,O=j>=768&&j<1024,P=j>=1024&&j<1280,D=j>=1280,R=j>=1440,V=k/j,W=V>1.8,M=V<1.5,_=async t=>{if(t!==e?.avatarType)try{B(!0);(await(0,F.apiRequest)(F.API_ENDPOINTS.AVATAR.SELECT,{method:'POST',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify({avatarType:t})})).success&&(S(t),v&&v(t),f.default.alert('Avatar Changed! \u2693',`You are now "${y.AVATARS[t.toUpperCase()].name}"`,[{text:'Awesome!',onPress:c}]))}catch(e){console.error('[AvatarSelection] Save error:',e),f.default.alert('Error','Failed to save avatar. Please try again.')}finally{B(!1)}else c()},E=Object.values(y.AVATARS),N=()=>D||P||O?2:1,H=R?{title:32,name:32,desc:20,back:22,badge:18,hint:18}:D?{title:28,name:30,desc:18,back:20,badge:16,hint:16}:P?{title:26,name:28,desc:17,back:19,badge:15,hint:15}:O?{title:24,name:26,desc:16,back:18,badge:14,hint:14}:I?{title:20,name:22,desc:14,back:16,badge:12,hint:13}:{title:22,name:26,desc:16,back:18,badge:14,hint:14};return(0,C.jsx)(b.default,{style:x.safeArea,children:(0,C.jsxs)(o.default,{style:x.container,children:[(0,C.jsxs)(o.default,{style:[x.header,{paddingTop:D||P?40:O?50:55}],children:[(0,C.jsx)(s.default,{onPress:c,style:x.backButtonContainer,children:(0,C.jsx)(n.default,{style:[x.backButton,{fontSize:H.back}],children:"\u2190 Back"})}),(0,C.jsx)(n.default,{style:[x.title,{fontSize:H.title}],children:"Choose Your Avatar"}),(0,C.jsx)(o.default,{style:{width:60}})]}),(0,C.jsxs)(l.default,{contentContainerStyle:[x.scrollContent,{paddingHorizontal:D?30:O?20:I?15:20,paddingBottom:100}],showsVerticalScrollIndicator:!1,children:[(0,C.jsx)(o.default,{style:[x.gridContainer,1===N()&&x.singleColumnGrid],children:E.map(e=>{const t=w===e.id,l=A===e.id;return(0,C.jsxs)(s.default,{style:[x.avatarCard,t&&x.selectedCard,{width:N()>1?R?Math.min((j-120)/2,550):D?(j-100)/2:P?(j-80)/2:O?(j-60)/2:I?j-30:j-40:'100%',marginHorizontal:N()>1?10:0}],onPress:()=>_(e.id),onLongPress:()=>T(e.id),onPressOut:()=>T(null),disabled:z,activeOpacity:.85,children:[(0,C.jsxs)(o.default,{style:[x.videoPreview,{height:R?420:D?400:P?380:O?350:W?380:M?280:I?300:320}],children:[l&&e.calmVideo?(0,C.jsx)(p.Video,{source:e.calmVideo,rate:1,volume:0,isMuted:!0,isLooping:!0,shouldPlay:!0,resizeMode:p.ResizeMode.COVER,style:x.previewVideo}):e.thumbnail?(0,C.jsx)(u.default,{source:e.thumbnail,style:x.thumbnailImage,resizeMode:'captain'===e.id||'navigator'===e.id?'contain':'cover'}):(0,C.jsx)(o.default,{style:[x.placeholderImage,{backgroundColor:e.primaryColor}],children:(0,C.jsx)(n.default,{style:[x.placeholderText,{fontSize:D?120:O?100:80}],children:e.name[0]})}),t&&(0,C.jsx)(o.default,{style:x.selectedOverlay,children:(0,C.jsx)(o.default,{style:[x.checkCircle,{backgroundColor:e.primaryColor}],children:(0,C.jsx)(n.default,{style:x.checkMark,children:"\u2713"})})})]}),(0,C.jsxs)(o.default,{style:[x.avatarInfo,{backgroundColor:e.primaryColor+'20',padding:D?25:O?22:I?16:20}],children:[(0,C.jsx)(n.default,{style:[x.avatarName,{fontSize:H.name}],children:e.name}),(0,C.jsx)(n.default,{style:[x.avatarDescription,{fontSize:H.desc}],children:e.description}),t&&(0,C.jsx)(o.default,{style:[x.selectedBadge,{backgroundColor:e.primaryColor}],children:(0,C.jsx)(n.default,{style:[x.selectedBadgeText,{fontSize:H.badge}],children:"\u2713 CURRENT"})})]})]},e.id)})}),(0,C.jsx)(o.default,{style:[x.hint,{marginHorizontal:N()>1?10:0,padding:I?12:15}],children:(0,C.jsx)(n.default,{style:[x.hintText,{fontSize:H.hint}],children:"\ud83d\udca1 Long press any avatar to preview their calm video"})})]})]})})}},455,[13,85,161,177,162,26,165,222,116,82,84,252,318,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}});var t=r(d[0]),s=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),l=e(r(d[4])),u=e(r(d[5])),c=e(r(d[6])),f=e(r(d[7])),h=r(d[8]),y=r(d[9]),p=e(r(d[10])),w=r(d[11]);const x=u.default.create({videoWrapper:{position:'absolute',top:0,left:0,bottom:0,right:0,zIndex:-1},backgroundVideo:{width:'100%',height:'100%'},videoOverlay:Object.assign({},u.default.absoluteFillObject,{backgroundColor:'rgba(0, 0, 0, 0.5)'}),scrollContainer:{flex:1},scrollContent:{flexGrow:1,justifyContent:'center',padding:20},formContainer:{backgroundColor:'rgba(255, 255, 255, 0.95)',padding:30,borderRadius:15,shadowColor:'#000',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},formTitle:{fontSize:28,fontWeight:'bold',color:'#2c3e50',marginBottom:10,textAlign:'center'},subtitle:{fontSize:14,color:'#555',marginBottom:20,textAlign:'center',lineHeight:20},requirementsBox:{backgroundColor:'#f0f8ff',borderLeftWidth:4,borderLeftColor:'#4a90e2',padding:15,marginBottom:20,borderRadius:8},requirementsTitle:{fontSize:14,fontWeight:'bold',color:'#2c3e50',marginBottom:8},requirementItem:{fontSize:12,color:'#555',marginBottom:4},emailText:{fontSize:12,color:'#777',marginTop:15,textAlign:'center'},buttonDisabled:{opacity:.6}});var b=({route:e,navigation:u})=>{const[b,j]=(0,t.useState)(''),[P,C]=(0,t.useState)(''),[S,v]=(0,t.useState)(!1),T=(0,t.useRef)(null),{changePasswordToken:O,email:z,firstName:A,lastName:k}=e.params||{};(0,t.useEffect)(()=>{T.current&&T.current.playAsync()},[]);return(0,w.jsxs)(s.default,{style:y.commonStyles.container,children:[(0,w.jsxs)(s.default,{style:x.videoWrapper,pointerEvents:"none",children:[(0,w.jsx)(h.Video,{ref:T,source:r(d[12]),style:x.backgroundVideo,resizeMode:h.ResizeMode.CONTAIN,isLooping:!0,isMuted:!0,shouldPlay:!0}),(0,w.jsx)(s.default,{style:x.videoOverlay})]}),(0,w.jsx)(c.default,{style:x.scrollContainer,contentContainerStyle:x.scrollContent,children:(0,w.jsxs)(s.default,{style:x.formContainer,children:[(0,w.jsx)(o.default,{style:x.formTitle,children:"Change Your Password"}),(0,w.jsxs)(o.default,{style:x.subtitle,children:["Welcome, ",A," ",k,"! For security, you must change your temporary password."]}),(0,w.jsxs)(s.default,{style:x.requirementsBox,children:[(0,w.jsx)(o.default,{style:x.requirementsTitle,children:"Password Requirements:"}),(0,w.jsx)(o.default,{style:x.requirementItem,children:"\u2022 At least 8 characters long"}),(0,w.jsx)(o.default,{style:x.requirementItem,children:"\u2022 At least one uppercase letter (A-Z)"}),(0,w.jsx)(o.default,{style:x.requirementItem,children:"\u2022 At least one lowercase letter (a-z)"}),(0,w.jsx)(o.default,{style:x.requirementItem,children:"\u2022 At least one number (0-9)"}),(0,w.jsx)(o.default,{style:x.requirementItem,children:"\u2022 At least one special character (!@#$%^&*)"})]}),(0,w.jsx)(n.default,{style:y.commonStyles.input,placeholder:"New Password",value:b,onChangeText:j,secureTextEntry:!0,autoCapitalize:"none"}),(0,w.jsx)(n.default,{style:y.commonStyles.input,placeholder:"Confirm New Password",value:P,onChangeText:C,secureTextEntry:!0,autoCapitalize:"none"}),(0,w.jsx)(l.default,{style:[y.commonStyles.primaryButton,S&&x.buttonDisabled],onPress:async()=>{if(!b||!P)return void f.default.alert('Error','Please fill in all fields');const e=(t=b).length<8?'Password must be at least 8 characters long':/[A-Z]/.test(t)?/[a-z]/.test(t)?/[0-9]/.test(t)?/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)?null:'Password must contain at least one special character':'Password must contain at least one number':'Password must contain at least one lowercase letter':'Password must contain at least one uppercase letter';var t;if(e)f.default.alert('Invalid Password',e);else if(b===P){v(!0);try{const e=await fetch("undefined/auth/change-password/first-login",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({changePasswordToken:O,newPassword:b})}),t=await e.json();e.ok&&t.success?(await p.default.setItem('token',t.token),await p.default.setItem('user',JSON.stringify(t.user)),f.default.alert('Success','Your password has been changed successfully. You can now access your account.',[{text:'OK',onPress:()=>{u.reset({index:0,routes:[{name:'Login'}]})}}])):f.default.alert('Error',t.message||'Failed to change password')}catch(e){console.error('Error changing password:',e),f.default.alert('Error','Network error. Please try again.')}finally{v(!1)}}else f.default.alert('Error','Passwords do not match')},disabled:S,children:(0,w.jsx)(o.default,{style:y.commonStyles.buttonText,children:S?'Changing Password...':'Change Password'})}),(0,w.jsxs)(o.default,{style:x.emailText,children:["Logged in as: ",z]})]})})]})}},456,[13,85,161,340,162,26,177,116,252,131,125,153,341]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return N}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),s=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5])),f=e(r(d[6]));r(d[7]);var u=e(r(d[8])),h=e(r(d[9])),b=e(r(d[10])),y=e(r(d[11])),p=r(d[12]),x=r(d[13]),j=r(d[14]);const k=s.default.create({container:{flex:1,backgroundColor:'#f5f5f5'},header:Object.assign({backgroundColor:p.theme.colors.primary,paddingTop:20,paddingBottom:15,paddingHorizontal:15,flexDirection:'row',alignItems:'center'},void 0),backButton:{paddingVertical:5,paddingRight:15},backButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#fff',flex:1},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},content:{flex:1},section:{backgroundColor:'#fff',marginTop:20,paddingHorizontal:15,paddingVertical:15,borderTopWidth:1,borderBottomWidth:1,borderColor:'#e0e0e0'},sectionTitle:{fontSize:16,fontWeight:'bold',color:'#333',marginBottom:15},settingRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingVertical:12,borderBottomWidth:1,borderBottomColor:'#f0f0f0'},settingInfo:{flex:1,marginRight:15},settingLabel:{fontSize:15,fontWeight:'600',color:'#333',marginBottom:4},settingDescription:{fontSize:13,color:'#666',lineHeight:18},quietHoursConfig:{marginTop:15,paddingTop:15,borderTopWidth:1,borderTopColor:'#e0e0e0'},timeSelector:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',backgroundColor:'#f9f9f9',padding:15,borderRadius:8,marginBottom:10,borderWidth:1,borderColor:'#e0e0e0'},timeSelectorLabel:{fontSize:15,fontWeight:'600',color:'#333'},timeSelectorValue:{fontSize:18,fontWeight:'bold',color:p.theme.colors.primary},quietHoursNote:{fontSize:12,color:'#e67e22',marginTop:10,lineHeight:16,fontStyle:'italic'},footer:{padding:20,marginBottom:20},footerText:{fontSize:13,color:'#666',textAlign:'center',lineHeight:20},savingOverlay:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'center',alignItems:'center'},savingText:{color:'#fff',fontSize:16,marginTop:10,fontWeight:'600'},modalOverlay:{flex:1,backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'center',alignItems:'center'},timePickerModal:Object.assign({backgroundColor:'#fff',borderRadius:12,padding:20,width:'85%',maxWidth:400},void 0),timePickerTitle:{fontSize:18,fontWeight:'bold',color:'#333',marginBottom:8,textAlign:'center'},timePickerSubtitle:{fontSize:14,color:'#666',marginBottom:20,textAlign:'center'},timeInput:{backgroundColor:'#f9f9f9',borderWidth:1,borderColor:'#ddd',borderRadius:8,padding:15,fontSize:24,fontWeight:'bold',textAlign:'center',color:'#333',marginBottom:20},timePickerButtons:{flexDirection:'row',justifyContent:'space-between',gap:10},timePickerButton:{flex:1,padding:15,borderRadius:8,alignItems:'center'},cancelButton:{backgroundColor:'#f0f0f0',borderWidth:1,borderColor:'#ddd'},confirmButton:{backgroundColor:p.theme.colors.primary},cancelButtonText:{fontSize:16,fontWeight:'600',color:'#666'},confirmButtonText:{fontSize:16,fontWeight:'600',color:'#fff'}});var N=({user:e,onBack:s})=>{const[N,C]=(0,t.useState)(!0),[S,E]=(0,t.useState)(!1),[_,T]=(0,t.useState)(null),[H,B]=(0,t.useState)(''),[q,v]=(0,t.useState)({pushNotificationsEnabled:!0,emailNotificationsEnabled:!0,smsNotificationsEnabled:!1,quietHoursEnabled:!1,quietHoursStart:'22:00:00',quietHoursEnd:'08:00:00',timezone:'America/New_York',urgentNotifications:!0,taskNotifications:!0,systemNotifications:!0,marketingNotifications:!1});(0,t.useEffect)(()=>{w()},[]);const w=async()=>{try{C(!0);const t=await fetch(`${x.API_BASE_URL}/api/notifications/preferences`,{headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'}}),o=await t.json();t.ok?v({pushNotificationsEnabled:o.push_notifications_enabled??!0,emailNotificationsEnabled:o.email_notifications_enabled??!0,smsNotificationsEnabled:o.sms_notifications_enabled??!1,quietHoursEnabled:o.quiet_hours_enabled??!1,quietHoursStart:o.quiet_hours_start??'22:00:00',quietHoursEnd:o.quiet_hours_end??'08:00:00',timezone:o.timezone??'America/New_York',urgentNotifications:o.urgent_notifications??!0,taskNotifications:o.task_notifications??!0,systemNotifications:o.system_notifications??!0,marketingNotifications:o.marketing_notifications??!1}):u.default.alert('Error',o.error||'Failed to load notification preferences')}catch(e){console.error('Error fetching preferences:',e),u.default.alert('Error','Failed to load notification preferences')}finally{C(!1)}},z=async t=>{try{E(!0);const o={};Object.keys(t).forEach(e=>{const n=e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`);o[n]=t[e]});const n=await fetch(`${x.API_BASE_URL}/api/notifications/preferences`,{method:'PUT',headers:{Authorization:`Bearer ${e.token}`,'Content-Type':'application/json'},body:JSON.stringify(o)}),s=await n.json();n.ok?(s.preferences&&v({pushNotificationsEnabled:s.preferences.push_notifications_enabled??q.pushNotificationsEnabled,emailNotificationsEnabled:s.preferences.email_notifications_enabled??q.emailNotificationsEnabled,smsNotificationsEnabled:s.preferences.sms_notifications_enabled??q.smsNotificationsEnabled,quietHoursEnabled:s.preferences.quiet_hours_enabled??q.quietHoursEnabled,quietHoursStart:s.preferences.quiet_hours_start??q.quietHoursStart,quietHoursEnd:s.preferences.quiet_hours_end??q.quietHoursEnd,timezone:s.preferences.timezone??q.timezone,urgentNotifications:s.preferences.urgent_notifications??q.urgentNotifications,taskNotifications:s.preferences.task_notifications??q.taskNotifications,systemNotifications:s.preferences.system_notifications??q.systemNotifications,marketingNotifications:s.preferences.marketing_notifications??q.marketingNotifications}),u.default.alert('Success','Notification preferences updated')):u.default.alert('Error',s.error||'Failed to update preferences')}catch(e){console.error('Error updating preferences:',e),u.default.alert('Error','Failed to update preferences')}finally{E(!1)}},P=(e,t)=>{const o=Object.assign({},q,{[e]:t});v(o),z({[e]:t})},I=e=>{const t=q['start'===e?'quietHoursStart':'quietHoursEnd'].substring(0,5);B(t),T(e)},R=()=>{T(null),B('')};return N?(0,j.jsxs)(o.default,{style:k.container,children:[(0,j.jsxs)(o.default,{style:k.header,children:[(0,j.jsx)(c.default,{onPress:s,style:k.backButton,children:(0,j.jsx)(n.default,{style:k.backButtonText,children:"\u2190 Back"})}),(0,j.jsx)(n.default,{style:k.headerTitle,children:"Notification Settings"})]}),(0,j.jsx)(o.default,{style:k.loadingContainer,children:(0,j.jsx)(h.default,{size:"large",color:p.theme.colors.primary})})]}):(0,j.jsxs)(o.default,{style:k.container,children:[(0,j.jsxs)(o.default,{style:k.header,children:[(0,j.jsx)(c.default,{onPress:s,style:k.backButton,children:(0,j.jsx)(n.default,{style:k.backButtonText,children:"\u2190 Back"})}),(0,j.jsx)(n.default,{style:k.headerTitle,children:"Notification Settings"})]}),(0,j.jsxs)(l.default,{style:k.content,children:[(0,j.jsxs)(o.default,{style:k.section,children:[(0,j.jsx)(n.default,{style:k.sectionTitle,children:"\ud83d\udd14 Global Settings"}),(0,j.jsxs)(o.default,{style:k.settingRow,children:[(0,j.jsxs)(o.default,{style:k.settingInfo,children:[(0,j.jsx)(n.default,{style:k.settingLabel,children:"Push Notifications"}),(0,j.jsx)(n.default,{style:k.settingDescription,children:"Receive push notifications on this device"})]}),(0,j.jsx)(f.default,{value:q.pushNotificationsEnabled,onValueChange:e=>P('pushNotificationsEnabled',e),trackColor:{false:'#ccc',true:p.theme.colors.primary},thumbColor:q.pushNotificationsEnabled?'#fff':'#f4f3f4',disabled:S})]}),(0,j.jsxs)(o.default,{style:k.settingRow,children:[(0,j.jsxs)(o.default,{style:k.settingInfo,children:[(0,j.jsx)(n.default,{style:k.settingLabel,children:"Email Notifications"}),(0,j.jsx)(n.default,{style:k.settingDescription,children:"Receive email summaries and updates"})]}),(0,j.jsx)(f.default,{value:q.emailNotificationsEnabled,onValueChange:e=>P('emailNotificationsEnabled',e),trackColor:{false:'#ccc',true:p.theme.colors.primary},thumbColor:q.emailNotificationsEnabled?'#fff':'#f4f3f4',disabled:S})]}),(0,j.jsxs)(o.default,{style:k.settingRow,children:[(0,j.jsxs)(o.default,{style:k.settingInfo,children:[(0,j.jsx)(n.default,{style:k.settingLabel,children:"SMS Notifications"}),(0,j.jsx)(n.default,{style:k.settingDescription,children:"Receive text messages for important updates and task reminders"})]}),(0,j.jsx)(f.default,{value:q.smsNotificationsEnabled,onValueChange:e=>P('smsNotificationsEnabled',e),trackColor:{false:'#ccc',true:p.theme.colors.primary},thumbColor:q.smsNotificationsEnabled?'#fff':'#f4f3f4',disabled:S})]})]}),(0,j.jsxs)(o.default,{style:k.section,children:[(0,j.jsx)(n.default,{style:k.sectionTitle,children:"\ud83c\udf19 Quiet Hours"}),(0,j.jsxs)(o.default,{style:k.settingRow,children:[(0,j.jsxs)(o.default,{style:k.settingInfo,children:[(0,j.jsx)(n.default,{style:k.settingLabel,children:"Enable Quiet Hours"}),(0,j.jsx)(n.default,{style:k.settingDescription,children:"Pause non-urgent notifications during specified hours"})]}),(0,j.jsx)(f.default,{value:q.quietHoursEnabled,onValueChange:e=>P('quietHoursEnabled',e),trackColor:{false:'#ccc',true:p.theme.colors.primary},thumbColor:q.quietHoursEnabled?'#fff':'#f4f3f4',disabled:S})]}),q.quietHoursEnabled&&(0,j.jsxs)(o.default,{style:k.quietHoursConfig,children:[(0,j.jsxs)(c.default,{style:k.timeSelector,onPress:()=>I('start'),disabled:S,children:[(0,j.jsx)(n.default,{style:k.timeSelectorLabel,children:"Start Time"}),(0,j.jsx)(n.default,{style:k.timeSelectorValue,children:q.quietHoursStart.substring(0,5)})]}),(0,j.jsxs)(c.default,{style:k.timeSelector,onPress:()=>I('end'),disabled:S,children:[(0,j.jsx)(n.default,{style:k.timeSelectorLabel,children:"End Time"}),(0,j.jsx)(n.default,{style:k.timeSelectorValue,children:q.quietHoursEnd.substring(0,5)})]}),(0,j.jsx)(n.default,{style:k.quietHoursNote,children:"\u26a0\ufe0f Urgent notifications will still come through during quiet hours"})]})]}),(0,j.jsxs)(o.default,{style:k.section,children:[(0,j.jsx)(n.default,{style:k.sectionTitle,children:"\ud83d\udcec Notification Types"}),(0,j.jsxs)(o.default,{style:k.settingRow,children:[(0,j.jsxs)(o.default,{style:k.settingInfo,children:[(0,j.jsx)(n.default,{style:k.settingLabel,children:"Urgent Notifications"}),(0,j.jsx)(n.default,{style:k.settingDescription,children:"Important alerts from your attorney"})]}),(0,j.jsx)(f.default,{value:q.urgentNotifications,onValueChange:e=>P('urgentNotifications',e),trackColor:{false:'#ccc',true:p.theme.colors.primary},thumbColor:q.urgentNotifications?'#fff':'#f4f3f4',disabled:S})]}),(0,j.jsxs)(o.default,{style:k.settingRow,children:[(0,j.jsxs)(o.default,{style:k.settingInfo,children:[(0,j.jsx)(n.default,{style:k.settingLabel,children:"Task Notifications"}),(0,j.jsx)(n.default,{style:k.settingDescription,children:"Updates about assigned tasks and deadlines"})]}),(0,j.jsx)(f.default,{value:q.taskNotifications,onValueChange:e=>P('taskNotifications',e),trackColor:{false:'#ccc',true:p.theme.colors.primary},thumbColor:q.taskNotifications?'#fff':'#f4f3f4',disabled:S})]}),(0,j.jsxs)(o.default,{style:k.settingRow,children:[(0,j.jsxs)(o.default,{style:k.settingInfo,children:[(0,j.jsx)(n.default,{style:k.settingLabel,children:"System Notifications"}),(0,j.jsx)(n.default,{style:k.settingDescription,children:"Daily streaks, coin rewards, and milestones"})]}),(0,j.jsx)(f.default,{value:q.systemNotifications,onValueChange:e=>P('systemNotifications',e),trackColor:{false:'#ccc',true:p.theme.colors.primary},thumbColor:q.systemNotifications?'#fff':'#f4f3f4',disabled:S})]}),(0,j.jsxs)(o.default,{style:k.settingRow,children:[(0,j.jsxs)(o.default,{style:k.settingInfo,children:[(0,j.jsx)(n.default,{style:k.settingLabel,children:"Marketing Notifications"}),(0,j.jsx)(n.default,{style:k.settingDescription,children:"Product updates and promotional content"})]}),(0,j.jsx)(f.default,{value:q.marketingNotifications,onValueChange:e=>P('marketingNotifications',e),trackColor:{false:'#ccc',true:p.theme.colors.primary},thumbColor:q.marketingNotifications?'#fff':'#f4f3f4',disabled:S})]})]}),(0,j.jsx)(o.default,{style:k.footer,children:(0,j.jsx)(n.default,{style:k.footerText,children:"\ud83c\udff4\u200d\u2620\ufe0f Ahoy! These settings help you control when and how you receive notifications on your journey to justice."})})]}),S&&(0,j.jsxs)(o.default,{style:k.savingOverlay,children:[(0,j.jsx)(h.default,{size:"large",color:"#fff"}),(0,j.jsx)(n.default,{style:k.savingText,children:"Saving..."})]}),(0,j.jsx)(b.default,{visible:null!==_,transparent:!0,animationType:"fade",onRequestClose:R,children:(0,j.jsx)(c.default,{style:k.modalOverlay,activeOpacity:1,onPress:R,children:(0,j.jsxs)(o.default,{style:k.timePickerModal,children:[(0,j.jsx)(n.default,{style:k.timePickerTitle,children:'start'===_?'Quiet Hours Start Time':'Quiet Hours End Time'}),(0,j.jsx)(n.default,{style:k.timePickerSubtitle,children:"Enter time in 24-hour format (HH:MM)"}),(0,j.jsx)(y.default,{style:k.timeInput,value:H,onChangeText:B,placeholder:"22:00",placeholderTextColor:"#999",keyboardType:"numbers-and-punctuation",maxLength:5,autoFocus:!0}),(0,j.jsxs)(o.default,{style:k.timePickerButtons,children:[(0,j.jsx)(c.default,{style:[k.timePickerButton,k.cancelButton],onPress:R,children:(0,j.jsx)(n.default,{style:k.cancelButtonText,children:"Cancel"})}),(0,j.jsx)(c.default,{style:[k.timePickerButton,k.confirmButton],onPress:()=>{if(/^([01]\d|2[0-3]):([0-5]\d)$/.test(H)){const e='start'===_?'quietHoursStart':'quietHoursEnd',t=H+':00';v(Object.assign({},q,{[e]:t})),z({[e]:t}),T(null),B('')}else u.default.alert('Invalid Format','Please use HH:MM format (e.g., 22:00)')},children:(0,j.jsx)(n.default,{style:k.confirmButtonText,children:"Confirm"})})]})]})})})]})}},457,[13,85,161,26,177,162,408,82,116,354,156,340,132,135,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return C}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),s=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=e(r(d[8]));r(d[9]);var y=r(d[10]),b=r(d[11]),p=r(d[12]),x=r(d[13]),v=r(d[14]);const j=s.default.create({container:{flex:1,backgroundColor:'#f5f5dc'},header:{backgroundColor:'#2c3e50',paddingVertical:15,paddingHorizontal:20,borderBottomWidth:2,borderBottomColor:'#d4a574',flexDirection:'row',alignItems:'center',justifyContent:'space-between'},headerTitle:{fontSize:24,fontWeight:'bold',color:'#d4a574',flex:1,textAlign:'center'},newMessageButton:{width:40,height:40,borderRadius:20,backgroundColor:'#d4a574',justifyContent:'center',alignItems:'center'},newMessageIcon:{fontSize:20},startChatButton:{backgroundColor:'#2c3e50',paddingHorizontal:30,paddingVertical:12,borderRadius:8,borderWidth:2,borderColor:'#d4a574',marginTop:20},startChatButtonText:{color:'#d4a574',fontSize:16,fontWeight:'bold'},centered:{flex:1,justifyContent:'center',alignItems:'center',paddingHorizontal:30},errorText:{fontSize:60,marginBottom:10},errorMessage:{fontSize:16,color:'#e74c3c',textAlign:'center',marginBottom:20},retryButton:{backgroundColor:'#2c3e50',paddingHorizontal:30,paddingVertical:12,borderRadius:8,borderWidth:2,borderColor:'#d4a574'},retryButtonText:{color:'#d4a574',fontSize:16,fontWeight:'bold'},emptyState:{flex:1,justifyContent:'center',alignItems:'center',paddingHorizontal:40},emptyIcon:{fontSize:80,marginBottom:20},emptyTitle:{fontSize:20,fontWeight:'bold',color:'#2c3e50',marginBottom:10},emptySubtitle:{fontSize:14,color:'#7f8c8d',textAlign:'center'},listContent:{paddingBottom:20},conversationItem:{flexDirection:'row',padding:15,backgroundColor:'#fff',borderBottomWidth:1,borderBottomColor:'#e1e1e1'},avatarContainer:{marginRight:15,position:'relative'},avatar:{width:50,height:50,borderRadius:25,backgroundColor:'#d4a574',justifyContent:'center',alignItems:'center'},avatarText:{fontSize:24},unreadBadge:{position:'absolute',top:-5,right:-5,backgroundColor:'#e74c3c',borderRadius:12,minWidth:24,height:24,justifyContent:'center',alignItems:'center',paddingHorizontal:6,borderWidth:2,borderColor:'#fff'},unreadBadgeText:{color:'#fff',fontSize:11,fontWeight:'bold'},conversationContent:{flex:1,justifyContent:'center'},conversationHeader:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginBottom:5},conversationTitle:{fontSize:16,fontWeight:'600',color:'#2c3e50',flex:1},unreadTitle:{fontWeight:'bold'},timestamp:{fontSize:12,color:'#95a5a6',marginLeft:10},lastMessage:{fontSize:14,color:'#95a5a6'},unreadMessage:{color:'#2c3e50',fontWeight:'600'}});var C=({onNavigateToConversation:e,onNavigateToNewChat:s,user:C})=>{const[S,w]=(0,t.useState)([]),[T,B]=(0,t.useState)(!0),[z,F]=(0,t.useState)(!1),[k,M]=(0,t.useState)(null),[R,W]=(0,t.useState)(!1),_=(0,t.useRef)(null);(0,t.useEffect)(()=>{I()},[]),(0,t.useEffect)(()=>((async()=>{try{const e=(0,b.getFirebaseDatabase)();if(!e)return void console.warn('\u26a0\ufe0f Firebase not available for chat list, falling back to manual refresh');if(!C.token)return console.warn('\u26a0\ufe0f No user token available, skipping Firebase authentication'),void W(!1);{console.log('\ud83d\udd10 Authenticating with Firebase for chat list...');const e=await(0,b.authenticateWithBackend)(C.token);if(!e||!e.success){const t=e?.error||'Unknown authentication error';return console.error('\u274c Firebase authentication failed for chat list:',t),M('Real-time updates unavailable. Please refresh manually.'),void W(!1)}console.log('\u2705 Firebase authentication successful for chat list'),console.log('\u23f3 Waiting for Firebase auth state to be ready...');const t=await(0,b.waitForAuthReady)(5e3);if(!t||!t.success){const e=t?.error||'Auth state not ready';return console.error('\u274c Firebase auth state not ready for chat list:',e),M('Real-time updates unavailable. Please refresh manually.'),void W(!1)}console.log('\u2705 Firebase auth state confirmed, proceeding with listener setup')}let t;const n=C.userType||C.user_type;if('user'===n||'individual'===n?t='users':'law_firm'===n||'lawfirm'===n?t='lawfirms':'medical_provider'!==n&&'medicalprovider'!==n||(t='providers'),!t)return void console.error('\u274c Unknown user type for Firebase listener:',n);const o=`chat/${t}/${C.id}/unread_counts`,s=(0,p.ref)(e,o);console.log(`\ud83d\udcac Setting up Firebase listener for unread counts: ${o}`),_.current=(0,p.onValue)(s,e=>{const t=e.val();console.log('\ud83d\udcac Firebase unread counts update detected:',t?Object.keys(t).length:0,'conversations'),!t||T||z||(console.log('\ud83d\udd04 Refreshing conversation list due to Firebase update...'),I())},e=>{console.error('\u274c Firebase unread counts listener error:',e),console.error('Error details:',e.code,e.message),M('Real-time updates failed. Please refresh manually.'),W(!1)}),W(!0),console.log('\u2705 Firebase listener connected for chat list')}catch(e){console.error('\u274c Error setting up Firebase listener:',e),M('Failed to setup real-time updates. Please refresh manually.'),W(!1)}})(),()=>{if(_.current){const e=(0,b.getFirebaseDatabase)();if(e){const t=C.userType||C.user_type;const n=`chat/${'user'===t||'individual'===t?'users':'law_firm'===t||'lawfirm'===t?'lawfirms':'providers'}/${C.id}/unread_counts`,o=(0,p.ref)(e,n);(0,p.off)(o),console.log('\ud83d\udd15 Cleaned up Firebase listener for chat list')}}}),[C.id,C.userType]);const I=async()=>{try{M(null);const e=await(0,y.apiRequest)(`${y.API_BASE_URL}/api/chat/conversations`,{method:'GET'});w(e.conversations||[])}catch(e){console.error('Error fetching conversations:',e),M(e.message||'Failed to load conversations')}finally{B(!1),F(!1)}},P=e=>{if(!e)return'';const t=new Date(e),n=new Date-t;return n<864e5?t.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:!0}):n<6048e5?t.toLocaleDateString('en-US',{weekday:'short'}):t.toLocaleDateString('en-US',{month:'short',day:'numeric'})};return T?(0,v.jsxs)(h.default,{style:j.container,children:[(0,v.jsx)(n.default,{style:j.header,children:(0,v.jsx)(o.default,{style:j.headerTitle,children:"Messages"})}),(0,v.jsx)(n.default,{style:j.centered,children:(0,v.jsx)(f.default,{size:"large",color:x.theme.colors.primary})})]}):k?(0,v.jsxs)(h.default,{style:j.container,children:[(0,v.jsx)(n.default,{style:j.header,children:(0,v.jsx)(o.default,{style:j.headerTitle,children:"Messages"})}),(0,v.jsxs)(n.default,{style:j.centered,children:[(0,v.jsx)(o.default,{style:j.errorText,children:"\u26a0\ufe0f"}),(0,v.jsx)(o.default,{style:j.errorMessage,children:k}),(0,v.jsx)(c.default,{style:j.retryButton,onPress:I,children:(0,v.jsx)(o.default,{style:j.retryButtonText,children:"Retry"})})]})]}):(0,v.jsxs)(h.default,{style:j.container,children:[(0,v.jsxs)(n.default,{style:j.header,children:[(0,v.jsx)(o.default,{style:j.headerTitle,children:"Messages"}),(0,v.jsx)(c.default,{style:j.newMessageButton,onPress:s,activeOpacity:.7,children:(0,v.jsx)(o.default,{style:j.newMessageIcon,children:"\u270f\ufe0f"})})]}),0===S.length?(0,v.jsxs)(n.default,{style:j.emptyState,children:[(0,v.jsx)(o.default,{style:j.emptyIcon,children:"\ud83d\udcac"}),(0,v.jsx)(o.default,{style:j.emptyTitle,children:"No Messages Yet"}),(0,v.jsx)(o.default,{style:j.emptySubtitle,children:"Your conversations will appear here"}),(0,v.jsx)(c.default,{style:j.startChatButton,onPress:s,children:(0,v.jsx)(o.default,{style:j.startChatButtonText,children:"Start a Conversation"})})]}):(0,v.jsx)(l.default,{data:S,renderItem:({item:t})=>{const s=t.lastMessage,l=t.unreadCount>0;return(0,v.jsxs)(c.default,{style:j.conversationItem,onPress:()=>e(t.id),activeOpacity:.7,children:[(0,v.jsxs)(n.default,{style:j.avatarContainer,children:[(0,v.jsx)(n.default,{style:j.avatar,children:(0,v.jsx)(o.default,{style:j.avatarText,children:"\ud83d\udcac"})}),l&&(0,v.jsx)(n.default,{style:j.unreadBadge,children:(0,v.jsx)(o.default,{style:j.unreadBadgeText,children:t.unreadCount>99?'99+':t.unreadCount})})]}),(0,v.jsxs)(n.default,{style:j.conversationContent,children:[(0,v.jsxs)(n.default,{style:j.conversationHeader,children:[(0,v.jsx)(o.default,{style:[j.conversationTitle,l&&j.unreadTitle],children:s?.sender_name||"Conversation"}),(0,v.jsx)(o.default,{style:j.timestamp,children:P(t.lastMessageAt)})]}),s&&(0,v.jsx)(o.default,{style:[j.lastMessage,l&&j.unreadMessage],numberOfLines:2,children:"Message"})]})]})},keyExtractor:(e,t)=>e?.id?.toString()||`conversation-${t}`,refreshControl:(0,v.jsx)(u.default,{refreshing:z,onRefresh:()=>{F(!0),I()},tintColor:x.theme.colors.primary}),contentContainerStyle:j.listContent})]})}},458,[13,85,161,26,169,162,176,354,84,82,135,138,147,132,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),s=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7]));r(d[8]);var h=e(r(d[9])),y=e(r(d[10])),b=r(d[11]),p=r(d[12]),x=r(d[13]),T=r(d[14]);const C=o.default.create({container:{flex:1,backgroundColor:'#f5f5dc'},header:{backgroundColor:'#2c3e50',paddingVertical:15,paddingHorizontal:10,borderBottomWidth:2,borderBottomColor:'#d4a574',flexDirection:'row',alignItems:'center',justifyContent:'space-between'},backButton:{width:80},backButtonText:{color:'#d4a574',fontSize:16,fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#d4a574',flex:1,textAlign:'center'},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},messageList:{paddingHorizontal:15,paddingVertical:10},messageContainer:{marginVertical:5,alignItems:'flex-start'},myMessageContainer:{alignItems:'flex-end'},messageBubble:{maxWidth:'75%',backgroundColor:'#fff',borderRadius:15,padding:12,borderWidth:1,borderColor:'#e1e1e1'},myMessageBubble:{backgroundColor:'#d4a574',borderColor:'#d4a574'},senderName:{fontSize:12,fontWeight:'bold',color:'#2c3e50',marginBottom:4},messageText:{fontSize:15,color:'#2c3e50'},myMessageText:{color:'#fff'},messageTime:{fontSize:11,color:'#95a5a6',marginTop:4,textAlign:'right'},myMessageTime:{color:'rgba(255,255,255,0.7)'},inputContainer:{flexDirection:'row',padding:10,backgroundColor:'#fff',borderTopWidth:1,borderTopColor:'#e1e1e1'},input:{flex:1,backgroundColor:'#f5f5dc',borderRadius:20,paddingHorizontal:15,paddingVertical:10,fontSize:15,maxHeight:100,borderWidth:1,borderColor:'#d4a574'},sendButton:{width:44,height:44,borderRadius:22,backgroundColor:'#d4a574',justifyContent:'center',alignItems:'center',marginLeft:8},sendButtonDisabled:{backgroundColor:'#95a5a6'},sendButtonText:{fontSize:20,color:'#fff',fontWeight:'bold'}});var j=({conversationId:e,onBack:o,user:j})=>{const[B,_]=(0,t.useState)([]),[S,k]=(0,t.useState)(''),[v,w]=(0,t.useState)(!0),[E,I]=(0,t.useState)(!1),[P,R]=(0,t.useState)(!1),z=(0,t.useRef)(null);(0,t.useEffect)(()=>{A()},[e]),(0,t.useEffect)(()=>{let t=null;return(async()=>{try{console.log('\ud83d\udcac Setting up Firebase listener for conversation:',e),t=await(0,p.subscribeToChatMessages)(e,M,j.token),t?(R(!0),console.log('\u2705 Firebase listener connected for conversation:',e)):console.warn('\u26a0\ufe0f Firebase listener failed to connect, falling back to polling')}catch(e){console.error('\u274c Error setting up Firebase listener:',e)}})(),()=>{t&&(console.log('\ud83d\udd15 Cleaning up Firebase listener for conversation:',e),t())}},[e,j.token]);const A=async()=>{try{const t=await(0,b.apiRequest)(`${b.API_BASE_URL}/api/chat/conversations/${e}/messages`,{method:'GET'});if(_(t.messages||[]),w(!1),t.messages&&t.messages.length>0){const e=t.messages[t.messages.length-1];await F(e.id)}}catch(e){console.error('Error fetching messages:',e),w(!1)}},M=async t=>{try{console.log('\ud83d\udcac Firebase real-time update detected:',t.length,'messages'),console.log('\ud83d\udd04 Fetching decrypted messages from API...');const s=await(0,b.apiRequest)(`${b.API_BASE_URL}/api/chat/conversations/${e}/messages`,{method:'GET'});if(s&&s.messages){console.log('\u2705 Received',s.messages.length,'decrypted messages from API'),_(s.messages),w(!1),setTimeout(()=>{z.current?.scrollToEnd({animated:!0})},100);const e=s.messages[s.messages.length-1];e&&await F(e.id)}}catch(e){console.error('Error handling Firebase messages:',e)}},F=async t=>{try{await(0,b.apiRequest)(`${b.API_BASE_URL}/api/chat/conversations/${e}/read-receipts`,{method:'POST',body:JSON.stringify({lastReadMessageId:t})})}catch(e){console.error('Error marking as read:',e)}},L=e=>{if(!e)return'';return new Date(e).toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:!0})};return v?(0,T.jsxs)(y.default,{style:C.container,children:[(0,T.jsxs)(s.default,{style:C.header,children:[(0,T.jsx)(u.default,{onPress:o,style:C.backButton,children:(0,T.jsx)(n.default,{style:C.backButtonText,children:"\u2190 Back"})}),(0,T.jsx)(n.default,{style:C.headerTitle,children:"Chat"}),(0,T.jsx)(s.default,{style:C.backButton})]}),(0,T.jsx)(s.default,{style:C.loadingContainer,children:(0,T.jsx)(h.default,{size:"large",color:x.theme.colors.primary})})]}):(0,T.jsx)(y.default,{style:C.container,edges:['top'],children:(0,T.jsxs)(f.default,{style:C.container,behavior:void 0,keyboardVerticalOffset:0,children:[(0,T.jsxs)(s.default,{style:C.header,children:[(0,T.jsx)(u.default,{onPress:o,style:C.backButton,children:(0,T.jsx)(n.default,{style:C.backButtonText,children:"\u2190 Back"})}),(0,T.jsx)(n.default,{style:C.headerTitle,children:"Chat"}),(0,T.jsx)(s.default,{style:C.backButton})]}),(0,T.jsx)(l.default,{ref:z,data:B,renderItem:({item:e})=>{const t='lawfirm'===j.userType?'law_firm':'medicalprovider'===j.userType?'medical_provider':j.userType,o='user'===t&&'user'===e.sender_type&&e.sender_id===j.id||'law_firm'===t&&'law_firm'===e.sender_type&&e.sender_id===j.id||'medical_provider'===t&&'medical_provider'===e.sender_type&&e.sender_id===j.id;return(0,T.jsx)(s.default,{style:[C.messageContainer,o&&C.myMessageContainer],children:(0,T.jsxs)(s.default,{style:[C.messageBubble,o&&C.myMessageBubble],children:[!o&&(0,T.jsx)(n.default,{style:C.senderName,children:e.sender_name}),(0,T.jsx)(n.default,{style:[C.messageText,o&&C.myMessageText],children:e.body}),(0,T.jsx)(n.default,{style:[C.messageTime,o&&C.myMessageTime],children:L(e.sent_at)})]})})},keyExtractor:(e,t)=>e?.id?.toString()||`message-${t}`,contentContainerStyle:C.messageList,onContentSizeChange:()=>z.current?.scrollToEnd({animated:!1})}),(0,T.jsxs)(s.default,{style:C.inputContainer,children:[(0,T.jsx)(c.default,{style:C.input,value:S,onChangeText:k,placeholder:"Type a message...",placeholderTextColor:"#95a5a6",multiline:!0,maxLength:1e3}),(0,T.jsx)(u.default,{style:[C.sendButton,(!S.trim()||E)&&C.sendButtonDisabled],onPress:async()=>{if(!S.trim()||E)return;const t=S.trim();k(''),I(!0);try{const s=await(0,b.apiRequest)(`${b.API_BASE_URL}/api/chat/conversations/${e}/messages`,{method:'POST',body:JSON.stringify({body:t,metadata:{}})});if(!s?.message||!s.message.id)throw console.error('Invalid message response:',s),new Error('Invalid message response from server');_(e=>[...e,s.message]),setTimeout(()=>{z.current?.scrollToEnd({animated:!0})},100)}catch(e){console.error('Error sending message:',e),k(t),alert('Failed to send message. Please try again.')}finally{I(!1)}},disabled:!S.trim()||E,children:(0,T.jsx)(n.default,{style:C.sendButtonText,children:E?'...':'\u27a4'})})]})]})})}},459,[13,85,161,26,169,340,162,460,82,354,84,135,138,132,153]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var t=e(r(_d[0])),n=e(r(_d[1])),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),u=e(r(_d[3])),f=["behavior","contentContainerStyle","keyboardVerticalOffset"];class s extends o.Component{constructor(){super(...arguments),this.frame=null,this.onLayout=e=>{this.frame=e.nativeEvent.layout}}relativeKeyboardHeight(e){var t=this.frame;if(!t||!e)return 0;var n=e.screenY-(this.props.keyboardVerticalOffset||0);return Math.max(t.y+t.height-n,0)}onKeyboardChange(e){}render(){var e=this.props,s=(e.behavior,e.contentContainerStyle,e.keyboardVerticalOffset,(0,n.default)(e,f));return o.createElement(u.default,(0,t.default)({onLayout:this.onLayout},s))}}var c=s},460,[18,27,13,85]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),f=e(r(d[6])),u=e(r(d[7])),h=r(d[8]),y=r(d[9]),x=r(d[10]);const j=l.default.create({container:{flex:1,backgroundColor:'#f5f1e8'},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',padding:16,backgroundColor:'#8B7355',borderBottomWidth:1,borderBottomColor:'#6B5845'},backButton:{padding:4},backButtonText:{fontSize:18,color:'#fff',fontWeight:'600'},headerTitle:{fontSize:20,fontWeight:'bold',color:'#fff',flex:1,textAlign:'center'},placeholder:{width:50},subtitle:{padding:16,fontSize:14,color:'#666',fontWeight:'500'},list:{flex:1},connectionItem:{flexDirection:'row',alignItems:'center',padding:16,backgroundColor:'#fff',borderBottomWidth:1,borderBottomColor:'#e0d5c7'},iconContainer:{width:50,height:50,borderRadius:25,backgroundColor:'#f5f1e8',justifyContent:'center',alignItems:'center',marginRight:12},icon:{fontSize:24},connectionContent:{flex:1},connectionName:{fontSize:16,fontWeight:'600',color:'#333',marginBottom:4},connectionType:{fontSize:14,color:'#666'},arrow:{fontSize:24,color:'#999',marginLeft:8},centered:{flex:1,justifyContent:'center',alignItems:'center',padding:20},errorText:{fontSize:48,marginBottom:16},errorMessage:{fontSize:16,color:'#666',textAlign:'center',marginBottom:24},retryButton:{backgroundColor:'#8B7355',paddingHorizontal:24,paddingVertical:12,borderRadius:8},retryButtonText:{color:'#fff',fontSize:16,fontWeight:'600'},emptyState:{flex:1,justifyContent:'center',alignItems:'center',padding:40},emptyIcon:{fontSize:64,marginBottom:16},emptyTitle:{fontSize:20,fontWeight:'bold',color:'#333',marginBottom:8},emptySubtitle:{fontSize:16,color:'#666',textAlign:'center',lineHeight:24},loadingOverlay:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',justifyContent:'center',alignItems:'center'},loadingText:{color:'#fff',fontSize:16,marginTop:12,fontWeight:'600'}});var p=({onBack:e,onChatStarted:l,user:p})=>{const[b,B]=(0,t.useState)([]),[S,T]=(0,t.useState)(!0),[k,C]=(0,t.useState)(null),[z,v]=(0,t.useState)(!1);(0,t.useEffect)(()=>{w()},[]);const w=async()=>{try{C(null),console.log('\ud83d\udce1 Fetching available connections for user:',p.userType);const e=await(0,h.apiRequest)(`${h.API_BASE_URL}/api/chat/available-connections`,{method:'GET',headers:{Authorization:`Bearer ${p.token}`}});console.log('\ud83d\udce5 Received connections:',e.connections),B(e.connections||[])}catch(e){console.error('\u274c Error fetching connections:',e),C(e.message||'Failed to load connections')}finally{T(!1)}},I=async e=>{try{v(!0);const t=await(0,h.apiRequest)(`${h.API_BASE_URL}/api/chat/conversations`,{method:'POST',headers:{Authorization:`Bearer ${p.token}`},body:JSON.stringify({participantType:e.type,participantId:e.id})});l(t.conversation.id)}catch(e){console.error('Error creating conversation:',e),alert(e.message||'Failed to start conversation')}finally{v(!1)}},_=e=>{switch(e){case'law_firm':return'\u2696\ufe0f';case'medical_provider':return'\ud83c\udfe5';case'client':return'\ud83d\udc64';default:return'\ud83d\udcac'}},P=e=>{switch(e){case'law_firm':return'Law Firm';case'medical_provider':return'Medical Provider';case'client':return'Client';default:return'Connection'}};return S?(0,x.jsxs)(u.default,{style:j.container,children:[(0,x.jsxs)(n.default,{style:j.header,children:[(0,x.jsx)(c.default,{onPress:e,style:j.backButton,children:(0,x.jsx)(o.default,{style:j.backButtonText,children:"\u2039 Back"})}),(0,x.jsx)(o.default,{style:j.headerTitle,children:"New Message"}),(0,x.jsx)(n.default,{style:j.placeholder})]}),(0,x.jsx)(n.default,{style:j.centered,children:(0,x.jsx)(f.default,{size:"large",color:y.theme.colors.primary})})]}):k?(0,x.jsxs)(u.default,{style:j.container,children:[(0,x.jsxs)(n.default,{style:j.header,children:[(0,x.jsx)(c.default,{onPress:e,style:j.backButton,children:(0,x.jsx)(o.default,{style:j.backButtonText,children:"\u2039 Back"})}),(0,x.jsx)(o.default,{style:j.headerTitle,children:"New Message"}),(0,x.jsx)(n.default,{style:j.placeholder})]}),(0,x.jsxs)(n.default,{style:j.centered,children:[(0,x.jsx)(o.default,{style:j.errorText,children:"\u26a0\ufe0f"}),(0,x.jsx)(o.default,{style:j.errorMessage,children:k}),(0,x.jsx)(c.default,{style:j.retryButton,onPress:w,children:(0,x.jsx)(o.default,{style:j.retryButtonText,children:"Retry"})})]})]}):(0,x.jsxs)(u.default,{style:j.container,children:[(0,x.jsxs)(n.default,{style:j.header,children:[(0,x.jsx)(c.default,{onPress:e,style:j.backButton,children:(0,x.jsx)(o.default,{style:j.backButtonText,children:"\u2039 Back"})}),(0,x.jsx)(o.default,{style:j.headerTitle,children:"New Message"}),(0,x.jsx)(n.default,{style:j.placeholder})]}),0===b.length?(0,x.jsxs)(n.default,{style:j.emptyState,children:[(0,x.jsx)(o.default,{style:j.emptyIcon,children:"\ud83d\udc65"}),(0,x.jsx)(o.default,{style:j.emptyTitle,children:"No Connections"}),(0,x.jsx)(o.default,{style:j.emptySubtitle,children:"You don't have any connections to message yet"})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.default,{style:j.subtitle,children:"Select a connection to message:"}),(0,x.jsx)(s.default,{data:b,renderItem:({item:e})=>(0,x.jsxs)(c.default,{style:j.connectionItem,onPress:()=>I(e),disabled:z,activeOpacity:.7,children:[(0,x.jsx)(n.default,{style:j.iconContainer,children:(0,x.jsx)(o.default,{style:j.icon,children:_(e.type)})}),(0,x.jsxs)(n.default,{style:j.connectionContent,children:[(0,x.jsx)(o.default,{style:j.connectionName,children:e.name}),(0,x.jsx)(o.default,{style:j.connectionType,children:P(e.type)})]}),(0,x.jsx)(o.default,{style:j.arrow,children:"\u203a"})]}),keyExtractor:(e,t)=>e?.id?`${e.type}-${e.id}`:`connection-${t}`,style:j.list})]}),z&&(0,x.jsxs)(n.default,{style:j.loadingOverlay,children:[(0,x.jsx)(f.default,{size:"large",color:y.theme.colors.primary}),(0,x.jsx)(o.default,{style:j.loadingText,children:"Starting conversation..."})]})]})}},461,[13,85,161,26,169,162,354,84,135,132,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),h=e(r(d[8]));r(d[9]);var x=r(d[10]),y=r(d[11]),b=r(d[12]);const p=s.default.create({container:{flex:1},backgroundImage:{flex:1},overlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.6)'},scrollView:{flex:1},scrollContent:{padding:20,paddingBottom:100},contentContainer:{maxWidth:700},backButton:{marginBottom:16,paddingVertical:8},backButtonText:{color:'#FFD700',fontSize:16,fontWeight:'600'},taskCard:{backgroundColor:'rgba(26, 26, 26, 0.92)',borderRadius:16,borderWidth:1,borderColor:'rgba(255, 215, 0, 0.4)',marginBottom:20},statusRow:{flexDirection:'row',alignItems:'center',marginBottom:16,gap:12},statusIcon:{marginRight:4},statusLabel:{color:'#CCCCCC',fontWeight:'500',flex:1},priorityBadge:{paddingHorizontal:12,paddingVertical:6,borderRadius:16},priorityBadgeText:{color:'#FFFFFF',fontWeight:'600'},taskTitle:{color:'#FFD700',fontWeight:'bold',marginBottom:16,lineHeight:32},descriptionContainer:{marginBottom:20,paddingTop:16,borderTopWidth:1,borderTopColor:'rgba(255, 215, 0, 0.2)'},sectionLabel:{color:'#999999',fontWeight:'600',marginBottom:8,textTransform:'uppercase',letterSpacing:1},taskDescription:{color:'#DDDDDD',lineHeight:24},detailsContainer:{paddingTop:16,borderTopWidth:1,borderTopColor:'rgba(255, 215, 0, 0.2)',gap:16},detailRow:{flexDirection:'row',alignItems:'center',gap:12,paddingVertical:8,paddingHorizontal:12,backgroundColor:'rgba(255, 255, 255, 0.05)',borderRadius:8},overdueRow:{backgroundColor:'rgba(231, 76, 60, 0.15)',borderWidth:1,borderColor:'rgba(231, 76, 60, 0.4)'},detailIcon:{fontSize:24},detailLabel:{color:'#999999',marginBottom:2},detailValue:{color:'#FFFFFF',fontWeight:'500'},overdueText:{color:'#e74c3c'},coinsValue:{color:'#FFD700'},notesContainer:{marginTop:16,paddingTop:16,borderTopWidth:1,borderTopColor:'rgba(255, 215, 0, 0.2)'},notesText:{color:'#CCCCCC',fontStyle:'italic',lineHeight:22},loadingContainer:{alignItems:'center',padding:40},loadingText:{color:'#FFD700',marginTop:16,fontSize:16},actionsContainer:{gap:16},actionButton:{flexDirection:'row',alignItems:'center',padding:20,borderRadius:16,borderWidth:2,gap:16},completeButton:{backgroundColor:'rgba(39, 174, 96, 0.2)',borderColor:'#27ae60'},workingButton:{backgroundColor:'rgba(52, 152, 219, 0.2)',borderColor:'#3498db'},activeStatusButton:{backgroundColor:'rgba(52, 152, 219, 0.4)',borderColor:'#2980b9',opacity:.8},currentStatusBadge:{backgroundColor:'#3498db',color:'#FFFFFF',paddingHorizontal:12,paddingVertical:4,borderRadius:12,fontSize:12,fontWeight:'600',overflow:'hidden'},actionButtonIcon:{fontSize:32},actionButtonContent:{flex:1},actionButtonText:{color:'#FFFFFF',fontWeight:'bold',marginBottom:4},actionButtonSubtext:{color:'#AAAAAA'},completedInfoBox:{backgroundColor:'rgba(39, 174, 96, 0.15)',borderRadius:16,borderWidth:1,borderColor:'rgba(39, 174, 96, 0.4)',padding:24,alignItems:'center'},completedInfoIcon:{fontSize:48,marginBottom:12},completedInfoText:{color:'#FFFFFF',textAlign:'center',marginBottom:16},revertButton:{paddingVertical:12,paddingHorizontal:20,backgroundColor:'rgba(255, 255, 255, 0.1)',borderRadius:8,marginBottom:12},revertButtonText:{color:'#CCCCCC'},coinsNote:{color:'#999999',textAlign:'center',fontStyle:'italic'},celebrationContainer:{flex:1,justifyContent:'center',alignItems:'center',padding:20},celebrationCard:{backgroundColor:'rgba(26, 26, 26, 0.95)',borderRadius:24,borderWidth:2,borderColor:'#FFD700',alignItems:'center',maxWidth:500},celebrationEmoji:{fontSize:72,marginBottom:16},celebrationTitle:{color:'#FFD700',fontWeight:'bold',marginBottom:8,textAlign:'center'},celebrationSubtitle:{color:'#CCCCCC',marginBottom:8,textAlign:'center'},celebrationTaskName:{color:'#FFFFFF',fontWeight:'600',marginBottom:24,textAlign:'center'},coinsEarnedContainer:{flexDirection:'row',alignItems:'center',backgroundColor:'rgba(255, 215, 0, 0.2)',paddingHorizontal:24,paddingVertical:16,borderRadius:16,marginBottom:16,gap:12},coinsEarnedEmoji:{fontSize:32},coinsEarnedText:{color:'#FFD700',fontWeight:'bold'},coinsAlreadyEarnedText:{color:'#999999',marginBottom:16,fontStyle:'italic'},notificationSentText:{color:'#AAAAAA',textAlign:'center',marginBottom:24},backToTasksButton:{backgroundColor:'#27ae60',paddingHorizontal:32,paddingVertical:16,borderRadius:12},backToTasksButtonText:{color:'#FFFFFF',fontWeight:'bold'}});var j=({user:e,task:s,onNavigate:j,onTaskUpdated:C})=>{const{width:S,height:T}=(0,h.default)(),[k,B]=(0,t.useState)(!1),[F,z]=(0,t.useState)(!1),[w,A]=(0,t.useState)(null),D=S>=768&&S<1024,I=S>=1024,v='completed'!==s.status&&s.dueDate&&new Date(s.dueDate)<new Date,R=async t=>{B(!0);try{const o=await(0,x.apiRequest)(x.API_ENDPOINTS.TASKS.UPDATE_STATUS(s.id),{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e.token}`},body:JSON.stringify({status:t})});'completed'===t?(A(o),z(!0),C&&C()):'in_progress'===t&&((0,y.alert)('Success','Your attorney has been notified that you\'re working on this task.'),C&&C(),j('actions'))}catch(e){console.error('Error updating task:',e),(0,y.alert)('Error','Failed to update task status. Please try again.')}finally{B(!1)}},W=e=>{if(!e)return null;return new Date(e).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})},E=I?Math.min(700,.6*S):D?Math.min(600,.8*S):'100%';return F?(0,b.jsx)(o.default,{style:p.container,children:(0,b.jsx)(f.default,{source:r(d[13]),style:[p.backgroundImage,{width:S,height:T}],resizeMode:"cover",children:(0,b.jsx)(o.default,{style:p.overlay,children:(0,b.jsx)(o.default,{style:p.celebrationContainer,children:(0,b.jsxs)(o.default,{style:[p.celebrationCard,{width:E,padding:I?40:28}],children:[(0,b.jsx)(n.default,{style:p.celebrationEmoji,children:"\ud83c\udf89"}),(0,b.jsx)(n.default,{style:[p.celebrationTitle,{fontSize:I?32:26}],children:"Congratulations!"}),(0,b.jsx)(n.default,{style:[p.celebrationSubtitle,{fontSize:I?20:17}],children:"You completed the task"}),(0,b.jsxs)(n.default,{style:[p.celebrationTaskName,{fontSize:I?22:18}],children:["\"",s.title,"\""]}),w?.coinsAwarded>0&&!w?.coinsAlreadyEarnedBefore&&(0,b.jsxs)(o.default,{style:p.coinsEarnedContainer,children:[(0,b.jsx)(n.default,{style:p.coinsEarnedEmoji,children:"\ud83e\ude99"}),(0,b.jsxs)(n.default,{style:[p.coinsEarnedText,{fontSize:I?24:20}],children:["+",w.coinsAwarded," coins earned!"]})]}),w?.coinsAlreadyEarnedBefore&&(0,b.jsx)(n.default,{style:[p.coinsAlreadyEarnedText,{fontSize:I?14:12}],children:"(Coins were already earned previously)"}),(0,b.jsx)(n.default,{style:[p.notificationSentText,{fontSize:I?16:14}],children:"Your attorney has been notified of your progress."}),(0,b.jsx)(c.default,{style:p.backToTasksButton,onPress:()=>j('actions'),children:(0,b.jsx)(n.default,{style:[p.backToTasksButtonText,{fontSize:I?18:16}],children:"Back to Tasks"})})]})})})})}):(0,b.jsx)(o.default,{style:p.container,children:(0,b.jsx)(f.default,{source:r(d[13]),style:[p.backgroundImage,{width:S,height:T}],resizeMode:"cover",children:(0,b.jsx)(o.default,{style:p.overlay,children:(0,b.jsx)(l.default,{style:p.scrollView,contentContainerStyle:[p.scrollContent,{alignItems:I||D?'center':'stretch'}],children:(0,b.jsxs)(o.default,{style:[p.contentContainer,{width:E}],children:[(0,b.jsx)(c.default,{style:p.backButton,onPress:()=>j('actions'),children:(0,b.jsx)(n.default,{style:p.backButtonText,children:"\u2190 Back to Tasks"})}),(0,b.jsxs)(o.default,{style:[p.taskCard,{padding:I?28:20}],children:[(0,b.jsxs)(o.default,{style:p.statusRow,children:[(0,b.jsx)(n.default,{style:[p.statusIcon,{fontSize:I?32:28}],children:(e=>{switch(e){case'pending':return'\u23f3';case'in_progress':return'\u25b6\ufe0f';case'completed':return'\u2705';case'cancelled':return'\u274c';default:return'\ud83d\udccb'}})(s.status)}),(0,b.jsx)(n.default,{style:[p.statusLabel,{fontSize:I?18:16}],children:(e=>{switch(e){case'pending':return'Not Started';case'in_progress':return'Working On It';case'completed':return'Completed';case'cancelled':return'Cancelled';default:return e}})(s.status)}),(0,b.jsx)(o.default,{style:[p.priorityBadge,{backgroundColor:(e=>{switch(e){case'urgent':return'#e74c3c';case'high':return'#e67e22';case'medium':return'#3498db';case'low':return'#95a5a6';default:return'#999'}})(s.priority)}],children:(0,b.jsx)(n.default,{style:[p.priorityBadgeText,{fontSize:I?14:12}],children:(e=>{switch(e){case'urgent':return'\ud83d\udd25 Urgent';case'high':return'\u26a0\ufe0f High';case'medium':return'\ud83d\udccc Medium';case'low':return'\ud83d\udca1 Low';default:return e}})(s.priority)})})]}),(0,b.jsx)(n.default,{style:[p.taskTitle,{fontSize:I?26:22}],children:s.title}),s.description&&(0,b.jsxs)(o.default,{style:p.descriptionContainer,children:[(0,b.jsx)(n.default,{style:[p.sectionLabel,{fontSize:I?14:12}],children:"Description"}),(0,b.jsx)(n.default,{style:[p.taskDescription,{fontSize:I?17:15}],children:s.description})]}),(0,b.jsxs)(o.default,{style:p.detailsContainer,children:[(0,b.jsxs)(o.default,{style:p.detailRow,children:[(0,b.jsx)(n.default,{style:p.detailIcon,children:"\u2696\ufe0f"}),(0,b.jsxs)(o.default,{children:[(0,b.jsx)(n.default,{style:[p.detailLabel,{fontSize:I?13:11}],children:"Assigned By"}),(0,b.jsx)(n.default,{style:[p.detailValue,{fontSize:I?16:14}],children:s.lawFirmName})]})]}),s.dueDate&&(0,b.jsxs)(o.default,{style:[p.detailRow,v&&p.overdueRow],children:[(0,b.jsx)(n.default,{style:p.detailIcon,children:v?'\u26a0\ufe0f':'\ud83d\udcc5'}),(0,b.jsxs)(o.default,{children:[(0,b.jsx)(n.default,{style:[p.detailLabel,{fontSize:I?13:11}],children:v?'Overdue!':'Due Date'}),(0,b.jsx)(n.default,{style:[p.detailValue,v&&p.overdueText,{fontSize:I?16:14}],children:W(s.dueDate)})]})]}),s.coinsReward>0&&(0,b.jsxs)(o.default,{style:p.detailRow,children:[(0,b.jsx)(n.default,{style:p.detailIcon,children:"\ud83e\ude99"}),(0,b.jsxs)(o.default,{children:[(0,b.jsx)(n.default,{style:[p.detailLabel,{fontSize:I?13:11}],children:"Coin Reward"}),(0,b.jsxs)(n.default,{style:[p.detailValue,p.coinsValue,{fontSize:I?16:14}],children:[s.coinsReward," coins"]})]})]}),s.completedAt&&(0,b.jsxs)(o.default,{style:p.detailRow,children:[(0,b.jsx)(n.default,{style:p.detailIcon,children:"\u2705"}),(0,b.jsxs)(o.default,{children:[(0,b.jsx)(n.default,{style:[p.detailLabel,{fontSize:I?13:11}],children:"Completed On"}),(0,b.jsx)(n.default,{style:[p.detailValue,{fontSize:I?16:14}],children:W(s.completedAt)})]})]})]}),s.completionNotes&&(0,b.jsxs)(o.default,{style:p.notesContainer,children:[(0,b.jsx)(n.default,{style:[p.sectionLabel,{fontSize:I?14:12}],children:"Completion Notes"}),(0,b.jsx)(n.default,{style:[p.notesText,{fontSize:I?15:13}],children:s.completionNotes})]})]}),k?(0,b.jsxs)(o.default,{style:p.loadingContainer,children:[(0,b.jsx)(u.default,{size:"large",color:"#FFD700"}),(0,b.jsx)(n.default,{style:p.loadingText,children:"Updating task..."})]}):(0,b.jsxs)(o.default,{style:p.actionsContainer,children:['completed'!==s.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(c.default,{style:[p.actionButton,p.completeButton],onPress:()=>R('completed'),children:[(0,b.jsx)(n.default,{style:p.actionButtonIcon,children:"\u2705"}),(0,b.jsxs)(o.default,{style:p.actionButtonContent,children:[(0,b.jsx)(n.default,{style:[p.actionButtonText,{fontSize:I?20:18}],children:"Complete"}),(0,b.jsx)(n.default,{style:[p.actionButtonSubtext,{fontSize:I?14:12}],children:"Mark this task as done"})]})]}),(0,b.jsxs)(c.default,{style:[p.actionButton,p.workingButton,'in_progress'===s.status&&p.activeStatusButton],onPress:()=>R('in_progress'),disabled:'in_progress'===s.status,children:[(0,b.jsx)(n.default,{style:p.actionButtonIcon,children:"\ud83d\udd04"}),(0,b.jsxs)(o.default,{style:p.actionButtonContent,children:[(0,b.jsx)(n.default,{style:[p.actionButtonText,{fontSize:I?20:18}],children:"Working on it"}),(0,b.jsx)(n.default,{style:[p.actionButtonSubtext,{fontSize:I?14:12}],children:'in_progress'===s.status?'Your attorney knows you\'re working on this':'Notify your attorney you\'re in progress'})]}),'in_progress'===s.status&&(0,b.jsx)(n.default,{style:p.currentStatusBadge,children:"Current"})]})]}),'completed'===s.status&&(0,b.jsxs)(o.default,{style:p.completedInfoBox,children:[(0,b.jsx)(n.default,{style:p.completedInfoIcon,children:"\ud83c\udf89"}),(0,b.jsx)(n.default,{style:[p.completedInfoText,{fontSize:I?16:14}],children:"Great job! This task is complete."}),(0,b.jsx)(c.default,{style:p.revertButton,onPress:async()=>{B(!0);try{await(0,x.apiRequest)(x.API_ENDPOINTS.TASKS.UPDATE_STATUS(s.id),{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${e.token}`},body:JSON.stringify({status:'pending'})}),(0,y.alert)('Task Reverted','Task has been marked as not started. Your attorney has been notified.'),C&&C(),j('actions')}catch(e){console.error('Error reverting task:',e),(0,y.alert)('Error','Failed to revert task. Please try again.')}finally{B(!1)}},children:(0,b.jsx)(n.default,{style:[p.revertButtonText,{fontSize:I?14:12}],children:"\u21a9\ufe0f Made a mistake? Revert to incomplete"})}),s.coinsReward>0&&(0,b.jsxs)(n.default,{style:[p.coinsNote,{fontSize:I?12:11}],children:["Note: Previously earned coins (",s.coinsReward,") are preserved and cannot be earned again."]})]})]})]})})})})})}},462,[13,85,161,177,26,162,354,369,165,132,135,398,153,367]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}}),r(d[0]);var o=e(r(d[1])),t=e(r(d[2])),n=e(r(d[3])),c=e(r(d[4]));r(d[5]);var s=e(r(d[6])),l=r(d[7]),u=r(d[8]);const b=c.default.create({container:{position:'absolute',bottom:0,left:0,right:0,flexDirection:'row',backgroundColor:'#2c3e50',borderTopWidth:2,borderTopColor:'#d4a574',paddingBottom:10,paddingTop:10,shadowColor:'#000',shadowOffset:{width:0,height:-2},shadowOpacity:.1,shadowRadius:4,elevation:10},tab:{flex:1,alignItems:'center',justifyContent:'center',position:'relative'},iconContainer:{width:40,height:40,borderRadius:20,alignItems:'center',justifyContent:'center',marginBottom:2},activeIconContainer:{backgroundColor:'#d4a574'},icon:{fontSize:22},iconImage:{width:24,height:24},label:{fontSize:9,color:'#95a5a6',marginTop:2},activeLabel:{color:'#d4a574',fontWeight:'bold'},activeIndicator:{position:'absolute',top:0,width:30,height:3,backgroundColor:'#d4a574',borderRadius:2},badge:{position:'absolute',top:-4,right:-4,backgroundColor:'#e74c3c',borderRadius:10,minWidth:20,height:20,alignItems:'center',justifyContent:'center',paddingHorizontal:4,borderWidth:2,borderColor:'#2c3e50'},hiddenBadge:{opacity:0},badgeText:{color:'#fff',fontSize:10,fontWeight:'bold'}});var f=({currentScreen:e,onNavigate:c,chatUnreadCount:f=0})=>{const{unreadCount:h}=(0,l.useNotifications)(),p=[{name:'Dashboard',icon:'\ud83c\udfe0',screen:'dashboard'},{name:'Roadmap',imageSource:r(d[9]),screen:'roadmap'},{name:'Medical Hub',icon:'\u2695\ufe0f',screen:'medical',iconColor:'#e74c3c'},{name:'Notifications',icon:'\ud83d\udd14',screen:'notifications',badge:h},{name:'Messages',icon:'\ud83d\udcac',screen:'chat-list',badge:f},{name:'Tasks',icon:'\u2693',screen:'actions'},{name:'Profile',icon:'\ud83d\udc64',screen:'profile'}];return(0,u.jsx)(o.default,{style:b.container,children:p.map(l=>{const f=e===l.screen,h=l.badge&&l.badge>0;return(0,u.jsxs)(t.default,{style:b.tab,onPress:()=>c(l.screen),activeOpacity:.7,children:[(0,u.jsxs)(o.default,{style:[b.iconContainer,f&&b.activeIconContainer],children:[l.imageSource?(0,u.jsx)(s.default,{source:l.imageSource,style:b.iconImage,resizeMode:"contain"}):(0,u.jsx)(n.default,{style:[b.icon,l.iconColor&&{color:l.iconColor}],children:l.icon}),void 0!==l.badge&&(0,u.jsx)(o.default,{style:[b.badge,!h&&b.hiddenBadge],children:(0,u.jsx)(n.default,{style:b.badgeText,children:l.badge>99?'99+':l.badge})})]}),(0,u.jsx)(n.default,{style:[b.label,f&&b.activeLabel],children:l.name}),f&&(0,u.jsx)(o.default,{style:b.activeIndicator})]},l.screen)})})}},463,[13,85,162,161,26,82,222,136,153,334]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}}),r(d[0]);var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4]));r(d[5]);var c=r(d[6]);const l=s.default.create({container:{position:'absolute',bottom:0,left:0,right:0,flexDirection:'row',backgroundColor:'#1e3a5f',borderTopWidth:2,borderTopColor:'#d4af37',paddingBottom:10,paddingTop:10,shadowColor:'#000',shadowOffset:{width:0,height:-2},shadowOpacity:.3,shadowRadius:4,elevation:10,zIndex:1e3},tab:{flex:1,alignItems:'center',justifyContent:'center',position:'relative'},iconContainer:{width:40,height:40,borderRadius:20,alignItems:'center',justifyContent:'center',marginBottom:2},activeIconContainer:{backgroundColor:'#d4af37'},icon:{fontSize:22},label:{fontSize:10,color:'#a0aec0',marginTop:2},activeLabel:{color:'#d4af37',fontWeight:'bold'},activeIndicator:{position:'absolute',top:0,width:30,height:3,backgroundColor:'#d4af37',borderRadius:2},badge:{position:'absolute',top:-4,right:-4,backgroundColor:'#e74c3c',borderRadius:10,minWidth:20,height:20,alignItems:'center',justifyContent:'center'},hiddenBadge:{opacity:0},badgeText:{color:'#fff',fontSize:10,fontWeight:'bold'}});var f=({currentScreen:e,onNavigate:s,notificationCount:f=0})=>{console.log('[LawFirmBottomNavigation] Rendering for screen:',e);const u=[{name:'Dashboard',icon:'\ud83c\udfe0',screen:'lawfirm-dashboard'},{name:'Notifications',icon:'\ud83d\udd14',screen:'lawfirm-send-notification',badge:f},{name:'Users',icon:'\ud83d\udc65',screen:'lawfirm-user-management'},{name:'Messages',icon:'\ud83d\udcac',screen:'lawfirm-messages'},{name:'Activity',icon:'\ud83d\udcca',screen:'lawfirm-activity-dashboard'},{name:'Disbursements',icon:'\ud83d\udcb0',screen:'lawfirm-disbursements'},{name:'Negotiations',icon:'\ud83e\udd1d',screen:'lawfirm-negotiations'}];return(0,c.jsx)(t.default,{style:l.container,children:u.map(f=>{const u=e===f.screen,b=f.badge&&f.badge>0;return(0,c.jsxs)(n.default,{style:l.tab,onPress:()=>s(f.screen),activeOpacity:.7,children:[(0,c.jsxs)(t.default,{style:[l.iconContainer,u&&l.activeIconContainer],children:[(0,c.jsx)(o.default,{style:l.icon,children:f.icon}),void 0!==f.badge&&(0,c.jsx)(t.default,{style:[l.badge,!b&&l.hiddenBadge],children:(0,c.jsx)(o.default,{style:l.badgeText,children:f.badge>99?'99+':f.badge})})]}),(0,c.jsx)(o.default,{style:[l.label,u&&l.activeLabel],children:f.name}),u&&(0,c.jsx)(t.default,{style:l.activeIndicator})]},f.screen)})})}},464,[13,85,162,161,26,82,153]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}}),r(d[0]);var t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),c=e(r(d[4]));r(d[5]);var s=r(d[6]);const l=c.default.create({container:{position:'absolute',bottom:0,left:0,right:0,flexDirection:'row',backgroundColor:'#0d4d4d',borderTopWidth:2,borderTopColor:'#d4af37',paddingBottom:10,paddingTop:10,shadowColor:'#000',shadowOffset:{width:0,height:-2},shadowOpacity:.3,shadowRadius:4,elevation:10,zIndex:1e3},tab:{flex:1,alignItems:'center',justifyContent:'center',position:'relative'},iconContainer:{width:40,height:40,borderRadius:20,alignItems:'center',justifyContent:'center',marginBottom:2},activeIconContainer:{backgroundColor:'#d4af37'},icon:{fontSize:22},label:{fontSize:10,color:'#a0aec0',marginTop:2},activeLabel:{color:'#d4af37',fontWeight:'bold'},activeIndicator:{position:'absolute',top:0,width:30,height:3,backgroundColor:'#d4af37',borderRadius:2},badge:{position:'absolute',top:-4,right:-4,backgroundColor:'#e74c3c',borderRadius:10,minWidth:20,height:20,alignItems:'center',justifyContent:'center'},hiddenBadge:{opacity:0},badgeText:{color:'#fff',fontSize:10,fontWeight:'bold'}});var u=({currentScreen:e,onNavigate:c,notificationCount:u=0})=>{console.log('[MedicalProviderBottomNavigation] Rendering for screen:',e);const b=[{name:'Dashboard',icon:'\ud83c\udfe0',screen:'medicalprovider-dashboard'},{name:'Notifications',icon:'\ud83d\udd14',screen:'medicalprovider-send-notification',badge:u},{name:'Users',icon:'\ud83d\udc65',screen:'medicalprovider-user-management'},{name:'Messages',icon:'\ud83d\udcac',screen:'medicalprovider-messages'},{name:'HIPAA',icon:'\ud83d\udd12',screen:'medicalprovider-hipaa-dashboard'},{name:'Activity',icon:'\ud83d\udcca',screen:'medicalprovider-activity-dashboard'},{name:'Disbursements',icon:'\ud83d\udcb0',screen:'medicalprovider-disbursements'}];return(0,s.jsx)(t.default,{style:l.container,children:b.map(u=>{const b=e===u.screen,f=u.badge&&u.badge>0;return(0,s.jsxs)(o.default,{style:l.tab,onPress:()=>c(u.screen),activeOpacity:.7,children:[(0,s.jsxs)(t.default,{style:[l.iconContainer,b&&l.activeIconContainer],children:[(0,s.jsx)(n.default,{style:l.icon,children:u.icon}),void 0!==u.badge&&(0,s.jsx)(t.default,{style:[l.badge,!f&&l.hiddenBadge],children:(0,s.jsx)(n.default,{style:l.badgeText,children:u.badge>99?'99+':u.badge})})]}),(0,s.jsx)(n.default,{style:[l.label,b&&l.activeLabel],children:u.name}),b&&(0,s.jsx)(t.default,{style:l.activeIndicator})]},u.screen)})})}},465,[13,85,162,161,26,82,153]);
__r(0);