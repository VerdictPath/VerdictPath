# âš“ Verdict Path Medical Calendar System
## Pirate-Themed Appointment Scheduling for Personal Injury Litigation

---

## ğŸ´â€â˜ ï¸ Overview

A complete medical appointment calendar system designed specifically for Verdict Path's three-sided marketplace connecting:
- **Patients** (Individual clients)
- **Medical Providers** (Healthcare professionals)
- **Law Firms** (Legal representation)

Built with your signature pirate theme and glass morphism aesthetic, this system enables seamless appointment scheduling, calendar management, and real-time synchronization across all three portals.

---

## âœ¨ Key Features

### ğŸ¥ Medical Provider Portal
- **Visual Calendar** - Month, week, and day views with pirate-themed UI
- **Availability Management** - Set recurring hours and one-time availability
- **Block Time** - Mark vacations, conferences, or personal time off
- **Calendar Import** - Upload .ics files from Google/Outlook/Apple Calendar
- **Appointment Management** - View, confirm, and cancel appointments
- **Smart Scheduling** - Automatic slot generation with buffer times
- **Notifications** - Email and SMS confirmations to all parties

### ğŸ¦œ Patient Portal
- **Provider Discovery** - Browse medical providers and their availability
- **Visual Booking** - Interactive calendar showing available time slots
- **Appointment Types** - Select from consultation, follow-up, treatment, etc.
- **My Appointments** - View upcoming and past appointments
- **Easy Cancellation** - Cancel appointments with automatic notifications
- **Multi-Channel Confirmations** - Receive email and SMS confirmations

### âš–ï¸ Law Firm Portal
- **Client Tracking** - Monitor all client medical appointments
- **Multi-Client View** - Switch between clients with chip selector
- **Calendar & List Views** - Flexible visualization options
- **Case Integration** - Appointments linked to client cases
- **Status Monitoring** - Track pending, confirmed, and completed appointments
- **Timeline Integration** - Medical appointments appear in case roadmap

---

## ğŸ¨ Design Philosophy

### Pirate Theme Elements
- Gold (#FFD700) accents throughout
- Nautical icons (anchors, ships, compasses)
- "Ahoy," "Chart Your Course," and pirate-themed messaging
- Treasure chest aesthetics in card designs

### Glass Morphism
- Translucent backgrounds with blur effects
- Layered transparency (`rgba(255, 255, 255, 0.05)`)
- Subtle borders with gold/white accents
- Depth through shadows and overlays

### Color Palette
```
Primary Navy:   #1a5490
Dark Navy:      #0d2f54
Pirate Gold:    #FFD700
Success Green:  #10b981
Warning Orange: #f59e0b
Error Red:      #ef4444
Background:     #0a1628
```

---

## ğŸ“ File Structure

```
verdict-path-medical-calendar/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ medical-calendar-schema.sql      # PostgreSQL database schema
â”‚   â””â”€â”€ medical-calendar-api.js          # Express API endpoints
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ MedicalProviderCalendar.jsx      # Provider calendar component
â”‚   â”œâ”€â”€ PatientAppointmentBooking.jsx   # Patient booking component
â”‚   â””â”€â”€ LawFirmClientAppointments.jsx   # Law firm view component
â”‚
â”œâ”€â”€ package.json                         # NPM dependencies
â”œâ”€â”€ IMPLEMENTATION_GUIDE.md             # Detailed setup instructions
â””â”€â”€ README.md                           # This file
```

---

## ğŸš€ Quick Start

### 1. Install Dependencies

```bash
npm install
```

### 2. Set Up Database

```bash
# Run the schema migration
psql -U your_username -d verdict_path -f medical-calendar-schema.sql
```

### 3. Configure Environment

Create `.env` file:
```env
DATABASE_URL=postgresql://user:password@host:port/verdict_path
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
TWILIO_ACCOUNT_SID=your_sid
TWILIO_AUTH_TOKEN=your_token
TWILIO_PHONE_NUMBER=+1234567890
API_URL=https://your-api.com
```

### 4. Start Backend

```bash
npm start
```

### 5. Integrate Frontend Components

Add to your React Native navigation:

```javascript
import MedicalProviderCalendar from './MedicalProviderCalendar';
import PatientAppointmentBooking from './PatientAppointmentBooking';
import LawFirmClientAppointments from './LawFirmClientAppointments';
```

---

## ğŸ—„ï¸ Database Schema

### Core Tables

**provider_availability** - Recurring and one-time availability patterns
**provider_blocked_times** - Vacations, conferences, unavailable periods
**medical_appointments** - All appointment records with full tracking
**calendar_sync_settings** - Provider preferences and notification settings
**calendar_import_history** - Track calendar import operations
**appointment_reschedule_history** - Audit trail for changes

### Key Features
- Automatic timestamp tracking
- Status management (pending â†’ confirmed â†’ completed)
- Multi-party synchronization
- Comprehensive indexing for performance

---

## ğŸ”” Notification System

### Email Templates
Professional, pirate-themed HTML emails for:
- Appointment created
- Appointment confirmed
- Appointment cancelled
- Appointment rescheduled

### SMS Messages
Concise text notifications via Twilio:
- Confirmation requests
- Status updates
- Reminders (24hr and 1hr before)

### Recipients
- **Patients** - Email + SMS
- **Providers** - Email + SMS
- **Law Firms** - Email (informational)

---

## ğŸ“… Calendar Import

Supports importing existing calendars from:
- **Google Calendar** (.ics export)
- **Outlook/Microsoft Calendar** (.ics export)
- **Apple Calendar** (.ics export)

The system automatically:
1. Parses recurring events â†’ availability patterns
2. Identifies blocked time (vacations, etc.)
3. Creates one-time availability for special dates
4. Logs import success/failures

---

## ğŸ”„ Synchronization Flow

### Appointment Creation
1. Patient selects date/time from available slots
2. System creates appointment with "pending" status
3. Emails sent to patient, provider, law firm
4. SMS sent to patient and provider
5. All three portals show pending appointment

### Appointment Confirmation
1. Patient or provider confirms
2. Status updates when both parties confirm
3. Confirmation emails sent to all parties
4. SMS confirmation to patient and provider
5. Law firm sees confirmed status

### Real-Time Updates
- Database triggers for timestamp management
- Webhook-ready architecture for instant sync
- Optimistic updates in frontend with rollback

---

## ğŸ¯ User Workflows

### Medical Provider Workflow
1. Set availability hours (recurring or one-time)
2. Import existing calendar (optional)
3. Block time for vacations
4. Receive appointment requests
5. Confirm or reschedule appointments
6. View calendar in month/week/day view

### Patient Workflow
1. Browse provider availability
2. Select desired date and time
3. Choose appointment type
4. Add notes for provider
5. Submit booking request
6. Receive confirmation
7. View/cancel upcoming appointments

### Law Firm Workflow
1. Select client from portfolio
2. View all medical appointments
3. Monitor appointment statuses
4. Track medical progress timeline
5. Receive email updates
6. Export data for case documentation

---

## ğŸ”§ Technical Stack

### Backend
- **Node.js** + Express
- **PostgreSQL** database
- **Nodemailer** for email
- **Twilio** for SMS
- **ical** for calendar parsing
- **moment** for date/time handling

### Frontend
- **React Native**
- **react-native-calendars**
- **react-native-vector-icons**
- **moment** for dates
- **Custom pirate-themed components**

### Infrastructure
- Railway (deployment)
- Neon (PostgreSQL hosting)
- Environment-based configuration

---

## ğŸ“Š API Endpoints

### Provider Availability
```
GET    /api/providers/:id/availability
POST   /api/providers/:id/availability
DELETE /api/providers/:id/availability/:availabilityId
POST   /api/providers/:id/block-time
GET    /api/providers/:id/available-slots?date=YYYY-MM-DD
```

### Appointments
```
POST   /api/appointments
PATCH  /api/appointments/:id/confirm
PATCH  /api/appointments/:id/cancel
PATCH  /api/appointments/:id/reschedule
GET    /api/patients/:id/appointments
GET    /api/providers/:id/appointments
GET    /api/law-firms/:id/client-appointments
```

### Calendar Management
```
POST   /api/providers/:id/import-calendar
GET    /api/providers/:id/calendar-settings
PATCH  /api/providers/:id/calendar-settings
```

---

## ğŸ§ª Testing Checklist

- [ ] Provider can set recurring availability
- [ ] Provider can block time periods
- [ ] Provider can import .ics calendar
- [ ] Patient sees accurate available slots
- [ ] Patient can book appointments
- [ ] Email notifications sent correctly
- [ ] SMS notifications sent correctly
- [ ] Law firm sees client appointments
- [ ] Appointment confirmation workflow
- [ ] Appointment cancellation workflow
- [ ] Multi-portal synchronization
- [ ] Time zone handling
- [ ] Calendar views render correctly
- [ ] Glass morphism effects display properly

---

## ğŸ¨ Customization Guide

### Changing Colors
Search and replace hex codes in component files:
- `#1a5490` â†’ Your primary color
- `#FFD700` â†’ Your accent color
- `#0a1628` â†’ Your background color

### Adjusting Glass Effect
Modify transparency values:
```javascript
backgroundColor: 'rgba(255, 255, 255, 0.05)',  // Increase for more opacity
borderColor: 'rgba(255, 215, 0, 0.2)'          // Adjust border visibility
```

### Email Templates
Customize HTML in API file:
- `generatePatientEmail()`
- `generateProviderEmail()`
- `generateLawFirmEmail()`

---

## ğŸ› Known Issues & Solutions

### Issue: Calendar not rendering
**Solution:** Ensure `react-native-calendars` is properly linked and fonts are configured

### Issue: Times showing in wrong timezone
**Solution:** Set provider timezone in `calendar_sync_settings` table

### Issue: Notifications not sending
**Solution:** Verify email/SMS credentials and phone number format (+1234567890)

### Issue: Glass effect not visible
**Solution:** Check that parent views have transparent backgrounds

---

## ğŸ“ˆ Future Enhancements

- [ ] Automated appointment reminders (24hr, 1hr)
- [ ] Video appointment integration
- [ ] Patient self-service rescheduling
- [ ] Provider group calendaring
- [ ] Recurring appointments
- [ ] Waitlist functionality
- [ ] Analytics dashboard
- [ ] Calendar export (.ics)
- [ ] Multiple location support
- [ ] Insurance verification integration

---

## ğŸ¤ Integration with Verdict Path

This calendar system integrates seamlessly with:
- **Case Roadmap** - Appointments appear as milestones
- **Medical Records** - Link appointments to documentation
- **Coin System** - Reward patients for attending appointments
- **Achievement System** - Badges for consistent medical care
- **Polly AI** - Assistant can reference appointment schedule
- **Settlement Calculator** - Medical treatment tracking

---

## ğŸ“ Support

For technical questions:
1. Check the IMPLEMENTATION_GUIDE.md
2. Review API endpoint documentation
3. Test database connections
4. Verify environment variables

---

## ğŸ“„ License

MIT License - Verdict Path

---

## ğŸ‰ Ready to Launch!

Your medical calendar system is production-ready with:
âœ… Complete database schema
âœ… RESTful API endpoints
âœ… Three fully-functional portals
âœ… Email and SMS notifications
âœ… Calendar import capability
âœ… Real-time synchronization
âœ… Pirate-themed UI/UX
âœ… Glass morphism design
âœ… Comprehensive documentation

**Set sail for your 60-day revenue deadline! âš“ğŸ´â€â˜ ï¸**

---

*Built with care for Verdict Path - Where legal journeys become treasure maps*